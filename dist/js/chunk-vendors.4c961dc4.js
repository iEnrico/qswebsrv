(self["webpackChunkrelivr_web"]=self["webpackChunkrelivr_web"]||[]).push([[998],{9662:function(e,t,n){var r=n(614),i=n(6330),a=TypeError;e.exports=function(e){if(r(e))return e;throw a(i(e)+" is not a function")}},6077:function(e,t,n){var r=n(614),i=String,a=TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw a("Can't set "+i(e)+" as a prototype")}},1223:function(e,t,n){var r=n(5112),i=n(30),a=n(3070).f,o=r("unscopables"),s=Array.prototype;void 0==s[o]&&a(s,o,{configurable:!0,value:i(null)}),e.exports=function(e){s[o][e]=!0}},5787:function(e,t,n){var r=n(7976),i=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw i("Incorrect invocation")}},9670:function(e,t,n){var r=n(111),i=String,a=TypeError;e.exports=function(e){if(r(e))return e;throw a(i(e)+" is not an object")}},3013:function(e){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},260:function(e,t,n){"use strict";var r,i,a,o=n(3013),s=n(9781),l=n(7854),c=n(614),u=n(111),d=n(2597),h=n(648),f=n(6330),p=n(8880),m=n(8052),v=n(3070).f,g=n(7976),_=n(9518),y=n(7674),b=n(5112),x=n(9711),w=n(9909),S=w.enforce,M=w.get,E=l.Int8Array,T=E&&E.prototype,A=l.Uint8ClampedArray,C=A&&A.prototype,k=E&&_(E),R=T&&_(T),L=Object.prototype,I=l.TypeError,P=b("toStringTag"),D=x("TYPED_ARRAY_TAG"),O="TypedArrayConstructor",N=o&&!!y&&"Opera"!==h(l.opera),F=!1,B={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},V={BigInt64Array:8,BigUint64Array:8},U=function(e){if(!u(e))return!1;var t=h(e);return"DataView"===t||d(B,t)||d(V,t)},z=function(e){var t=_(e);if(u(t)){var n=M(t);return n&&d(n,O)?n[O]:z(t)}},H=function(e){if(!u(e))return!1;var t=h(e);return d(B,t)||d(V,t)},W=function(e){if(H(e))return e;throw I("Target is not a typed array")},j=function(e){if(c(e)&&(!y||g(k,e)))return e;throw I(f(e)+" is not a typed array constructor")},G=function(e,t,n,r){if(s){if(n)for(var i in B){var a=l[i];if(a&&d(a.prototype,e))try{delete a.prototype[e]}catch(o){try{a.prototype[e]=t}catch(c){}}}R[e]&&!n||m(R,e,n?t:N&&T[e]||t,r)}},Y=function(e,t,n){var r,i;if(s){if(y){if(n)for(r in B)if(i=l[r],i&&d(i,e))try{delete i[e]}catch(a){}if(k[e]&&!n)return;try{return m(k,e,n?t:N&&k[e]||t)}catch(a){}}for(r in B)i=l[r],!i||i[e]&&!n||m(i,e,t)}};for(r in B)i=l[r],a=i&&i.prototype,a?S(a)[O]=i:N=!1;for(r in V)i=l[r],a=i&&i.prototype,a&&(S(a)[O]=i);if((!N||!c(k)||k===Function.prototype)&&(k=function(){throw I("Incorrect invocation")},N))for(r in B)l[r]&&y(l[r],k);if((!N||!R||R===L)&&(R=k.prototype,N))for(r in B)l[r]&&y(l[r].prototype,R);if(N&&_(C)!==R&&y(C,R),s&&!d(R,P))for(r in F=!0,v(R,P,{get:function(){return u(this)?this[D]:void 0}}),B)l[r]&&p(l[r],D,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:N,TYPED_ARRAY_TAG:F&&D,aTypedArray:W,aTypedArrayConstructor:j,exportTypedArrayMethod:G,exportTypedArrayStaticMethod:Y,getTypedArrayConstructor:z,isView:U,isTypedArray:H,TypedArray:k,TypedArrayPrototype:R}},1318:function(e,t,n){var r=n(5656),i=n(1400),a=n(6244),o=function(e){return function(t,n,o){var s,l=r(t),c=a(l),u=i(o,c);if(e&&n!=n){while(c>u)if(s=l[u++],s!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},9671:function(e,t,n){var r=n(9974),i=n(8361),a=n(7908),o=n(6244),s=function(e){var t=1==e;return function(n,s,l){var c,u,d=a(n),h=i(d),f=r(s,l),p=o(h);while(p-- >0)if(c=h[p],u=f(c,p,d),u)switch(e){case 0:return c;case 1:return p}return t?-1:void 0}};e.exports={findLast:s(0),findLastIndex:s(1)}},3658:function(e,t,n){"use strict";var r=n(9781),i=n(3157),a=TypeError,o=Object.getOwnPropertyDescriptor,s=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(i(e)&&!o(e,"length").writable)throw a("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},4326:function(e,t,n){var r=n(1702),i=r({}.toString),a=r("".slice);e.exports=function(e){return a(i(e),8,-1)}},648:function(e,t,n){var r=n(1694),i=n(614),a=n(4326),o=n(5112),s=o("toStringTag"),l=Object,c="Arguments"==a(function(){return arguments}()),u=function(e,t){try{return e[t]}catch(n){}};e.exports=r?a:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=u(t=l(e),s))?n:c?a(t):"Object"==(r=a(t))&&i(t.callee)?"Arguments":r}},9920:function(e,t,n){var r=n(2597),i=n(3887),a=n(1236),o=n(3070);e.exports=function(e,t,n){for(var s=i(t),l=o.f,c=a.f,u=0;u<s.length;u++){var d=s[u];r(e,d)||n&&r(n,d)||l(e,d,c(t,d))}}},8544:function(e,t,n){var r=n(7293);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},8880:function(e,t,n){var r=n(9781),i=n(3070),a=n(9114);e.exports=r?function(e,t,n){return i.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},9114:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},7045:function(e,t,n){var r=n(6339),i=n(3070);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),i.f(e,t,n)}},8052:function(e,t,n){var r=n(614),i=n(3070),a=n(6339),o=n(3072);e.exports=function(e,t,n,s){s||(s={});var l=s.enumerable,c=void 0!==s.name?s.name:t;if(r(n)&&a(n,c,s),s.global)l?e[t]=n:o(t,n);else{try{s.unsafe?e[t]&&(l=!0):delete e[t]}catch(u){}l?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},3072:function(e,t,n){var r=n(7854),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},5117:function(e,t,n){"use strict";var r=n(6330),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw i("Cannot delete property "+r(t)+" of "+r(e))}},9781:function(e,t,n){var r=n(7293);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:function(e){var t="object"==typeof document&&document.all,n="undefined"==typeof t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:n}},317:function(e,t,n){var r=n(7854),i=n(111),a=r.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},7207:function(e){var t=TypeError,n=9007199254740991;e.exports=function(e){if(e>n)throw t("Maximum allowed index exceeded");return e}},3678:function(e){e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},8113:function(e,t,n){var r=n(5005);e.exports=r("navigator","userAgent")||""},7392:function(e,t,n){var r,i,a=n(7854),o=n(8113),s=a.process,l=a.Deno,c=s&&s.versions||l&&l.version,u=c&&c.v8;u&&(r=u.split("."),i=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&o&&(r=o.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/),r&&(i=+r[1]))),e.exports=i},748:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1060:function(e,t,n){var r=n(1702),i=Error,a=r("".replace),o=function(e){return String(i(e).stack)}("zxcasd"),s=/\n\s*at [^:]*:[^\n]*/,l=s.test(o);e.exports=function(e,t){if(l&&"string"==typeof e&&!i.prepareStackTrace)while(t--)e=a(e,s,"");return e}},2914:function(e,t,n){var r=n(7293),i=n(9114);e.exports=!r((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},2109:function(e,t,n){var r=n(7854),i=n(1236).f,a=n(8880),o=n(8052),s=n(3072),l=n(9920),c=n(4705);e.exports=function(e,t){var n,u,d,h,f,p,m=e.target,v=e.global,g=e.stat;if(u=v?r:g?r[m]||s(m,{}):(r[m]||{}).prototype,u)for(d in t){if(f=t[d],e.dontCallGetSet?(p=i(u,d),h=p&&p.value):h=u[d],n=c(v?d:m+(g?".":"#")+d,e.forced),!n&&void 0!==h){if(typeof f==typeof h)continue;l(f,h)}(e.sham||h&&h.sham)&&a(f,"sham",!0),o(u,d,f,e)}}},7293:function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},2104:function(e,t,n){var r=n(4374),i=Function.prototype,a=i.apply,o=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?o.bind(a):function(){return o.apply(a,arguments)})},9974:function(e,t,n){var r=n(1702),i=n(9662),a=n(4374),o=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:a?o(e,t):function(){return e.apply(t,arguments)}}},4374:function(e,t,n){var r=n(7293);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},6916:function(e,t,n){var r=n(4374),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},6530:function(e,t,n){var r=n(9781),i=n(2597),a=Function.prototype,o=r&&Object.getOwnPropertyDescriptor,s=i(a,"name"),l=s&&"something"===function(){}.name,c=s&&(!r||r&&o(a,"name").configurable);e.exports={EXISTS:s,PROPER:l,CONFIGURABLE:c}},1702:function(e,t,n){var r=n(4374),i=Function.prototype,a=i.bind,o=i.call,s=r&&a.bind(o,o);e.exports=r?function(e){return e&&s(e)}:function(e){return e&&function(){return o.apply(e,arguments)}}},5005:function(e,t,n){var r=n(7854),i=n(614),a=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e]):r[e]&&r[e][t]}},8173:function(e,t,n){var r=n(9662),i=n(8554);e.exports=function(e,t){var n=e[t];return i(n)?void 0:r(n)}},7854:function(e,t,n){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:function(e,t,n){var r=n(1702),i=n(7908),a=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(i(e),t)}},3501:function(e){e.exports={}},490:function(e,t,n){var r=n(5005);e.exports=r("document","documentElement")},4664:function(e,t,n){var r=n(9781),i=n(7293),a=n(317);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},8361:function(e,t,n){var r=n(1702),i=n(7293),a=n(4326),o=Object,s=r("".split);e.exports=i((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?s(e,""):o(e)}:o},9587:function(e,t,n){var r=n(614),i=n(111),a=n(7674);e.exports=function(e,t,n){var o,s;return a&&r(o=t.constructor)&&o!==n&&i(s=o.prototype)&&s!==n.prototype&&a(e,s),e}},2788:function(e,t,n){var r=n(1702),i=n(614),a=n(5465),o=r(Function.toString);i(a.inspectSource)||(a.inspectSource=function(e){return o(e)}),e.exports=a.inspectSource},8340:function(e,t,n){var r=n(111),i=n(8880);e.exports=function(e,t){r(t)&&"cause"in t&&i(e,"cause",t.cause)}},9909:function(e,t,n){var r,i,a,o=n(4811),s=n(7854),l=n(1702),c=n(111),u=n(8880),d=n(2597),h=n(5465),f=n(6200),p=n(3501),m="Object already initialized",v=s.TypeError,g=s.WeakMap,_=function(e){return a(e)?i(e):r(e,{})},y=function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw v("Incompatible receiver, "+e+" required");return n}};if(o||h.state){var b=h.state||(h.state=new g),x=l(b.get),w=l(b.has),S=l(b.set);r=function(e,t){if(w(b,e))throw v(m);return t.facade=e,S(b,e,t),t},i=function(e){return x(b,e)||{}},a=function(e){return w(b,e)}}else{var M=f("state");p[M]=!0,r=function(e,t){if(d(e,M))throw v(m);return t.facade=e,u(e,M,t),t},i=function(e){return d(e,M)?e[M]:{}},a=function(e){return d(e,M)}}e.exports={set:r,get:i,has:a,enforce:_,getterFor:y}},3157:function(e,t,n){var r=n(4326);e.exports=Array.isArray||function(e){return"Array"==r(e)}},614:function(e,t,n){var r=n(4154),i=r.all;e.exports=r.IS_HTMLDDA?function(e){return"function"==typeof e||e===i}:function(e){return"function"==typeof e}},4705:function(e,t,n){var r=n(7293),i=n(614),a=/#|\.prototype\./,o=function(e,t){var n=l[s(e)];return n==u||n!=c&&(i(t)?r(t):!!t)},s=o.normalize=function(e){return String(e).replace(a,".").toLowerCase()},l=o.data={},c=o.NATIVE="N",u=o.POLYFILL="P";e.exports=o},8554:function(e){e.exports=function(e){return null===e||void 0===e}},111:function(e,t,n){var r=n(614),i=n(4154),a=i.all;e.exports=i.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:r(e)||e===a}:function(e){return"object"==typeof e?null!==e:r(e)}},1913:function(e){e.exports=!1},2190:function(e,t,n){var r=n(5005),i=n(614),a=n(7976),o=n(3307),s=Object;e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&a(t.prototype,s(e))}},6244:function(e,t,n){var r=n(7466);e.exports=function(e){return r(e.length)}},6339:function(e,t,n){var r=n(7293),i=n(614),a=n(2597),o=n(9781),s=n(6530).CONFIGURABLE,l=n(2788),c=n(9909),u=c.enforce,d=c.get,h=Object.defineProperty,f=o&&!r((function(){return 8!==h((function(){}),"length",{value:8}).length})),p=String(String).split("String"),m=e.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!a(e,"name")||s&&e.name!==t)&&(o?h(e,"name",{value:t,configurable:!0}):e.name=t),f&&n&&a(n,"arity")&&e.length!==n.arity&&h(e,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?o&&h(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(i){}var r=u(e);return a(r,"source")||(r.source=p.join("string"==typeof t?t:"")),e};Function.prototype.toString=m((function(){return i(this)&&d(this).source||l(this)}),"toString")},4758:function(e){var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},6277:function(e,t,n){var r=n(1340);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},30:function(e,t,n){var r,i=n(9670),a=n(6048),o=n(748),s=n(3501),l=n(490),c=n(317),u=n(6200),d=">",h="<",f="prototype",p="script",m=u("IE_PROTO"),v=function(){},g=function(e){return h+p+d+e+h+"/"+p+d},_=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},y=function(){var e,t=c("iframe"),n="java"+p+":";return t.style.display="none",l.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(g("document.F=Object")),e.close(),e.F},b=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}b="undefined"!=typeof document?document.domain&&r?_(r):y():_(r);var e=o.length;while(e--)delete b[f][o[e]];return b()};s[m]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(v[f]=i(e),n=new v,v[f]=null,n[m]=e):n=b(),void 0===t?n:a.f(n,t)}},6048:function(e,t,n){var r=n(9781),i=n(3353),a=n(3070),o=n(9670),s=n(5656),l=n(1956);t.f=r&&!i?Object.defineProperties:function(e,t){o(e);var n,r=s(t),i=l(t),c=i.length,u=0;while(c>u)a.f(e,n=i[u++],r[n]);return e}},3070:function(e,t,n){var r=n(9781),i=n(4664),a=n(3353),o=n(9670),s=n(4948),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d="enumerable",h="configurable",f="writable";t.f=r?a?function(e,t,n){if(o(e),t=s(t),o(n),"function"===typeof e&&"prototype"===t&&"value"in n&&f in n&&!n[f]){var r=u(e,t);r&&r[f]&&(e[t]=n.value,n={configurable:h in n?n[h]:r[h],enumerable:d in n?n[d]:r[d],writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(o(e),t=s(t),o(n),i)try{return c(e,t,n)}catch(r){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},1236:function(e,t,n){var r=n(9781),i=n(6916),a=n(5296),o=n(9114),s=n(5656),l=n(4948),c=n(2597),u=n(4664),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=s(e),t=l(t),u)try{return d(e,t)}catch(n){}if(c(e,t))return o(!i(a.f,e,t),e[t])}},8006:function(e,t,n){var r=n(6324),i=n(748),a=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,a)}},5181:function(e,t){t.f=Object.getOwnPropertySymbols},9518:function(e,t,n){var r=n(2597),i=n(614),a=n(7908),o=n(6200),s=n(8544),l=o("IE_PROTO"),c=Object,u=c.prototype;e.exports=s?c.getPrototypeOf:function(e){var t=a(e);if(r(t,l))return t[l];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof c?u:null}},7976:function(e,t,n){var r=n(1702);e.exports=r({}.isPrototypeOf)},6324:function(e,t,n){var r=n(1702),i=n(2597),a=n(5656),o=n(1318).indexOf,s=n(3501),l=r([].push);e.exports=function(e,t){var n,r=a(e),c=0,u=[];for(n in r)!i(s,n)&&i(r,n)&&l(u,n);while(t.length>c)i(r,n=t[c++])&&(~o(u,n)||l(u,n));return u}},1956:function(e,t,n){var r=n(6324),i=n(748);e.exports=Object.keys||function(e){return r(e,i)}},5296:function(e,t){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},7674:function(e,t,n){var r=n(1702),i=n(9670),a=n(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),e(n,[]),t=n instanceof Array}catch(o){}return function(n,r){return i(n),a(r),t?e(n,r):n.__proto__=r,n}}():void 0)},2140:function(e,t,n){var r=n(6916),i=n(614),a=n(111),o=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&i(n=e.toString)&&!a(s=r(n,e)))return s;if(i(n=e.valueOf)&&!a(s=r(n,e)))return s;if("string"!==t&&i(n=e.toString)&&!a(s=r(n,e)))return s;throw o("Can't convert object to primitive value")}},3887:function(e,t,n){var r=n(5005),i=n(1702),a=n(8006),o=n(5181),s=n(9670),l=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=a.f(s(e)),n=o.f;return n?l(t,n(e)):t}},2626:function(e,t,n){var r=n(3070).f;e.exports=function(e,t,n){n in e||r(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},7066:function(e,t,n){"use strict";var r=n(9670);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},4488:function(e,t,n){var r=n(8554),i=TypeError;e.exports=function(e){if(r(e))throw i("Can't call method on "+e);return e}},6200:function(e,t,n){var r=n(2309),i=n(9711),a=r("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},5465:function(e,t,n){var r=n(7854),i=n(3072),a="__core-js_shared__",o=r[a]||i(a,{});e.exports=o},2309:function(e,t,n){var r=n(1913),i=n(5465);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.25.2",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.2/LICENSE",source:"https://github.com/zloirock/core-js"})},6293:function(e,t,n){var r=n(7392),i=n(7293);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},1400:function(e,t,n){var r=n(9303),i=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):a(n,t)}},5656:function(e,t,n){var r=n(8361),i=n(4488);e.exports=function(e){return r(i(e))}},9303:function(e,t,n){var r=n(4758);e.exports=function(e){var t=+e;return t!==t||0===t?0:r(t)}},7466:function(e,t,n){var r=n(9303),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},7908:function(e,t,n){var r=n(4488),i=Object;e.exports=function(e){return i(r(e))}},7593:function(e,t,n){var r=n(6916),i=n(111),a=n(2190),o=n(8173),s=n(2140),l=n(5112),c=TypeError,u=l("toPrimitive");e.exports=function(e,t){if(!i(e)||a(e))return e;var n,l=o(e,u);if(l){if(void 0===t&&(t="default"),n=r(l,e,t),!i(n)||a(n))return n;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},4948:function(e,t,n){var r=n(7593),i=n(2190);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},1694:function(e,t,n){var r=n(5112),i=r("toStringTag"),a={};a[i]="z",e.exports="[object z]"===String(a)},1340:function(e,t,n){var r=n(648),i=String;e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},6330:function(e){var t=String;e.exports=function(e){try{return t(e)}catch(n){return"Object"}}},9711:function(e,t,n){var r=n(1702),i=0,a=Math.random(),o=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++i+a,36)}},3307:function(e,t,n){var r=n(6293);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(e,t,n){var r=n(9781),i=n(7293);e.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},4811:function(e,t,n){var r=n(7854),i=n(614),a=r.WeakMap;e.exports=i(a)&&/native code/.test(String(a))},5112:function(e,t,n){var r=n(7854),i=n(2309),a=n(2597),o=n(9711),s=n(6293),l=n(3307),c=i("wks"),u=r.Symbol,d=u&&u["for"],h=l?u:u&&u.withoutSetter||o;e.exports=function(e){if(!a(c,e)||!s&&"string"!=typeof c[e]){var t="Symbol."+e;s&&a(u,e)?c[e]=u[e]:c[e]=l&&d?d(t):h(t)}return c[e]}},9191:function(e,t,n){"use strict";var r=n(5005),i=n(2597),a=n(8880),o=n(7976),s=n(7674),l=n(9920),c=n(2626),u=n(9587),d=n(6277),h=n(8340),f=n(1060),p=n(2914),m=n(9781),v=n(1913);e.exports=function(e,t,n,g){var _="stackTraceLimit",y=g?2:1,b=e.split("."),x=b[b.length-1],w=r.apply(null,b);if(w){var S=w.prototype;if(!v&&i(S,"cause")&&delete S.cause,!n)return w;var M=r("Error"),E=t((function(e,t){var n=d(g?t:e,void 0),r=g?new w(e):new w;return void 0!==n&&a(r,"message",n),p&&a(r,"stack",f(r.stack,2)),this&&o(S,this)&&u(r,this,E),arguments.length>y&&h(r,arguments[y]),r}));if(E.prototype=S,"Error"!==x?s?s(E,M):l(E,M,{name:!0}):m&&_ in w&&(c(E,w,_),c(E,w,"prepareStackTrace")),l(E,w),!v)try{S.name!==x&&a(S,"name",x),S.constructor=E}catch(T){}return E}}},2262:function(e,t,n){"use strict";var r=n(2109),i=n(7908),a=n(6244),o=n(9303),s=n(1223);r({target:"Array",proto:!0},{at:function(e){var t=i(this),n=a(t),r=o(e),s=r>=0?r:n+r;return s<0||s>=n?void 0:t[s]}}),s("at")},7658:function(e,t,n){"use strict";var r=n(2109),i=n(7908),a=n(6244),o=n(3658),s=n(7207),l=n(7293),c=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),u=!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}();r({target:"Array",proto:!0,arity:1,forced:c||u},{push:function(e){var t=i(this),n=a(t),r=arguments.length;s(n+r);for(var l=0;l<r;l++)t[n]=arguments[l],n++;return o(t,n),n}})},541:function(e,t,n){"use strict";var r=n(2109),i=n(7908),a=n(6244),o=n(3658),s=n(5117),l=n(7207),c=1!==[].unshift(0),u=!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}();r({target:"Array",proto:!0,arity:1,forced:c||u},{unshift:function(e){var t=i(this),n=a(t),r=arguments.length;if(r){l(n+r);var c=n;while(c--){var u=c+r;c in t?t[u]=t[c]:s(t,u)}for(var d=0;d<r;d++)t[d]=arguments[d]}return o(t,n+r)}})},1703:function(e,t,n){var r=n(2109),i=n(7854),a=n(2104),o=n(9191),s="WebAssembly",l=i[s],c=7!==Error("e",{cause:7}).cause,u=function(e,t){var n={};n[e]=o(e,t,c),r({global:!0,constructor:!0,arity:1,forced:c},n)},d=function(e,t){if(l&&l[e]){var n={};n[e]=o(s+"."+e,t,c),r({target:s,stat:!0,constructor:!0,arity:1,forced:c},n)}};u("Error",(function(e){return function(t){return a(e,this,arguments)}})),u("EvalError",(function(e){return function(t){return a(e,this,arguments)}})),u("RangeError",(function(e){return function(t){return a(e,this,arguments)}})),u("ReferenceError",(function(e){return function(t){return a(e,this,arguments)}})),u("SyntaxError",(function(e){return function(t){return a(e,this,arguments)}})),u("TypeError",(function(e){return function(t){return a(e,this,arguments)}})),u("URIError",(function(e){return function(t){return a(e,this,arguments)}})),d("CompileError",(function(e){return function(t){return a(e,this,arguments)}})),d("LinkError",(function(e){return function(t){return a(e,this,arguments)}})),d("RuntimeError",(function(e){return function(t){return a(e,this,arguments)}}))},2087:function(e,t,n){var r=n(7854),i=n(9781),a=n(7045),o=n(7066),s=n(7293),l=r.RegExp,c=l.prototype,u=i&&s((function(){var e=!0;try{l(".","d")}catch(u){e=!1}var t={},n="",r=e?"dgimsy":"gimsy",i=function(e,r){Object.defineProperty(t,e,{get:function(){return n+=r,!0}})},a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var o in e&&(a.hasIndices="d"),a)i(o,a[o]);var s=Object.getOwnPropertyDescriptor(c,"flags").get.call(t);return s!==r||n!==r}));u&&a(c,"flags",{configurable:!0,get:o})},4506:function(e,t,n){"use strict";var r=n(2109),i=n(1702),a=n(4488),o=n(9303),s=n(1340),l=n(7293),c=i("".charAt),u=l((function(){return"\ud842"!=="𠮷".at(-2)}));r({target:"String",proto:!0,forced:u},{at:function(e){var t=s(a(this)),n=t.length,r=o(e),i=r>=0?r:n+r;return i<0||i>=n?void 0:c(t,i)}})},8675:function(e,t,n){"use strict";var r=n(260),i=n(6244),a=n(9303),o=r.aTypedArray,s=r.exportTypedArrayMethod;s("at",(function(e){var t=o(this),n=i(t),r=a(e),s=r>=0?r:n+r;return s<0||s>=n?void 0:t[s]}))},4590:function(e,t,n){"use strict";var r=n(260),i=n(9671).findLastIndex,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("findLastIndex",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},3408:function(e,t,n){"use strict";var r=n(260),i=n(9671).findLast,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("findLast",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},2801:function(e,t,n){"use strict";var r=n(2109),i=n(7854),a=n(5005),o=n(9114),s=n(3070).f,l=n(2597),c=n(5787),u=n(9587),d=n(6277),h=n(3678),f=n(1060),p=n(9781),m=n(1913),v="DOMException",g=a("Error"),_=a(v),y=function(){c(this,b);var e=arguments.length,t=d(e<1?void 0:arguments[0]),n=d(e<2?void 0:arguments[1],"Error"),r=new _(t,n),i=g(t);return i.name=v,s(r,"stack",o(1,f(i.stack,1))),u(r,this,y),r},b=y.prototype=_.prototype,x="stack"in g(v),w="stack"in new _(1,2),S=_&&p&&Object.getOwnPropertyDescriptor(i,v),M=!!S&&!(S.writable&&S.configurable),E=x&&!M&&!w;r({global:!0,constructor:!0,forced:m||E},{DOMException:E?y:_});var T=a(v),A=T.prototype;if(A.constructor!==T)for(var C in m||s(A,"constructor",o(1,T)),h)if(l(h,C)){var k=h[C],R=k.s;l(T,R)||s(T,R,o(6,k.c))}},9773:function(){},4870:function(e,t,n){"use strict";n.d(t,{B:function(){return o},BK:function(){return Ge},Bj:function(){return a},EB:function(){return c},Fl:function(){return Ze},IU:function(){return Le},Jd:function(){return T},OT:function(){return Ee},PG:function(){return Ae},SU:function(){return He},Um:function(){return Me},Vh:function(){return $e},WL:function(){return je},X$:function(){return R},X3:function(){return Re},XI:function(){return Ve},Xl:function(){return Ie},dq:function(){return Fe},iH:function(){return Be},j:function(){return C},lk:function(){return A},nZ:function(){return l},qj:function(){return Se},qq:function(){return w},yT:function(){return ke}});n(7658);var r=n(7139);let i;class a{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&i&&(this.parent=i,this.index=(i.scopes||(i.scopes=[])).push(this)-1)}run(e){if(this.active){const t=i;try{return i=this,e()}finally{i=t}}else 0}on(){i=this}off(){i=this.parent}stop(e){if(this.active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.active=!1}}}function o(e){return new a(e)}function s(e,t=i){t&&t.active&&t.effects.push(e)}function l(){return i}function c(e){i&&i.cleanups.push(e)}const u=e=>{const t=new Set(e);return t.w=0,t.n=0,t},d=e=>(e.w&g)>0,h=e=>(e.n&g)>0,f=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=g},p=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const i=t[r];d(i)&&!h(i)?i.delete(e):t[n++]=i,i.w&=~g,i.n&=~g}t.length=n}},m=new WeakMap;let v=0,g=1;const _=30;let y;const b=Symbol(""),x=Symbol("");class w{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,s(this,n)}run(){if(!this.active)return this.fn();let e=y,t=M;while(e){if(e===this)return;e=e.parent}try{return this.parent=y,y=this,M=!0,g=1<<++v,v<=_?f(this):S(this),this.fn()}finally{v<=_&&p(this),g=1<<--v,y=this.parent,M=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){y===this?this.deferStop=!0:this.active&&(S(this),this.onStop&&this.onStop(),this.active=!1)}}function S(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let M=!0;const E=[];function T(){E.push(M),M=!1}function A(){const e=E.pop();M=void 0===e||e}function C(e,t,n){if(M&&y){let t=m.get(e);t||m.set(e,t=new Map);let r=t.get(n);r||t.set(n,r=u());const i=void 0;k(r,i)}}function k(e,t){let n=!1;v<=_?h(e)||(e.n|=g,n=!d(e)):n=!e.has(y),n&&(e.add(y),y.deps.push(e))}function R(e,t,n,i,a,o){const s=m.get(e);if(!s)return;let l=[];if("clear"===t)l=[...s.values()];else if("length"===n&&(0,r.kJ)(e))s.forEach(((e,t)=>{("length"===t||t>=i)&&l.push(e)}));else switch(void 0!==n&&l.push(s.get(n)),t){case"add":(0,r.kJ)(e)?(0,r.S0)(n)&&l.push(s.get("length")):(l.push(s.get(b)),(0,r._N)(e)&&l.push(s.get(x)));break;case"delete":(0,r.kJ)(e)||(l.push(s.get(b)),(0,r._N)(e)&&l.push(s.get(x)));break;case"set":(0,r._N)(e)&&l.push(s.get(b));break}if(1===l.length)l[0]&&L(l[0]);else{const e=[];for(const t of l)t&&e.push(...t);L(u(e))}}function L(e,t){const n=(0,r.kJ)(e)?e:[...e];for(const r of n)r.computed&&I(r,t);for(const r of n)r.computed||I(r,t)}function I(e,t){(e!==y||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const P=(0,r.fY)("__proto__,__v_isRef,__isVue"),D=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(r.yk)),O=U(),N=U(!1,!0),F=U(!0),B=V();function V(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=Le(this);for(let t=0,i=this.length;t<i;t++)C(n,"get",t+"");const r=n[t](...e);return-1===r||!1===r?n[t](...e.map(Le)):r}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){T();const n=Le(this)[t].apply(this,e);return A(),n}})),e}function U(e=!1,t=!1){return function(n,i,a){if("__v_isReactive"===i)return!e;if("__v_isReadonly"===i)return e;if("__v_isShallow"===i)return t;if("__v_raw"===i&&a===(e?t?be:ye:t?_e:ge).get(n))return n;const o=(0,r.kJ)(n);if(!e&&o&&(0,r.RI)(B,i))return Reflect.get(B,i,a);const s=Reflect.get(n,i,a);return((0,r.yk)(i)?D.has(i):P(i))?s:(e||C(n,"get",i),t?s:Fe(s)?o&&(0,r.S0)(i)?s:s.value:(0,r.Kn)(s)?e?Ee(s):Se(s):s)}}const z=W(),H=W(!0);function W(e=!1){return function(t,n,i,a){let o=t[n];if(Ce(o)&&Fe(o)&&!Fe(i))return!1;if(!e&&(ke(i)||Ce(i)||(o=Le(o),i=Le(i)),!(0,r.kJ)(t)&&Fe(o)&&!Fe(i)))return o.value=i,!0;const s=(0,r.kJ)(t)&&(0,r.S0)(n)?Number(n)<t.length:(0,r.RI)(t,n),l=Reflect.set(t,n,i,a);return t===Le(a)&&(s?(0,r.aU)(i,o)&&R(t,"set",n,i,o):R(t,"add",n,i)),l}}function j(e,t){const n=(0,r.RI)(e,t),i=e[t],a=Reflect.deleteProperty(e,t);return a&&n&&R(e,"delete",t,void 0,i),a}function G(e,t){const n=Reflect.has(e,t);return(0,r.yk)(t)&&D.has(t)||C(e,"has",t),n}function Y(e){return C(e,"iterate",(0,r.kJ)(e)?"length":b),Reflect.ownKeys(e)}const $={get:O,set:z,deleteProperty:j,has:G,ownKeys:Y},q={get:F,set(e,t){return!0},deleteProperty(e,t){return!0}},X=(0,r.l7)({},$,{get:N,set:H}),Z=e=>e,K=e=>Reflect.getPrototypeOf(e);function J(e,t,n=!1,r=!1){e=e["__v_raw"];const i=Le(e),a=Le(t);n||(t!==a&&C(i,"get",t),C(i,"get",a));const{has:o}=K(i),s=r?Z:n?De:Pe;return o.call(i,t)?s(e.get(t)):o.call(i,a)?s(e.get(a)):void(e!==i&&e.get(t))}function Q(e,t=!1){const n=this["__v_raw"],r=Le(n),i=Le(e);return t||(e!==i&&C(r,"has",e),C(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function ee(e,t=!1){return e=e["__v_raw"],!t&&C(Le(e),"iterate",b),Reflect.get(e,"size",e)}function te(e){e=Le(e);const t=Le(this),n=K(t),r=n.has.call(t,e);return r||(t.add(e),R(t,"add",e,e)),this}function ne(e,t){t=Le(t);const n=Le(this),{has:i,get:a}=K(n);let o=i.call(n,e);o||(e=Le(e),o=i.call(n,e));const s=a.call(n,e);return n.set(e,t),o?(0,r.aU)(t,s)&&R(n,"set",e,t,s):R(n,"add",e,t),this}function re(e){const t=Le(this),{has:n,get:r}=K(t);let i=n.call(t,e);i||(e=Le(e),i=n.call(t,e));const a=r?r.call(t,e):void 0,o=t.delete(e);return i&&R(t,"delete",e,void 0,a),o}function ie(){const e=Le(this),t=0!==e.size,n=void 0,r=e.clear();return t&&R(e,"clear",void 0,void 0,n),r}function ae(e,t){return function(n,r){const i=this,a=i["__v_raw"],o=Le(a),s=t?Z:e?De:Pe;return!e&&C(o,"iterate",b),a.forEach(((e,t)=>n.call(r,s(e),s(t),i)))}}function oe(e,t,n){return function(...i){const a=this["__v_raw"],o=Le(a),s=(0,r._N)(o),l="entries"===e||e===Symbol.iterator&&s,c="keys"===e&&s,u=a[e](...i),d=n?Z:t?De:Pe;return!t&&C(o,"iterate",c?x:b),{next(){const{value:e,done:t}=u.next();return t?{value:e,done:t}:{value:l?[d(e[0]),d(e[1])]:d(e),done:t}},[Symbol.iterator](){return this}}}}function se(e){return function(...t){return"delete"!==e&&this}}function le(){const e={get(e){return J(this,e)},get size(){return ee(this)},has:Q,add:te,set:ne,delete:re,clear:ie,forEach:ae(!1,!1)},t={get(e){return J(this,e,!1,!0)},get size(){return ee(this)},has:Q,add:te,set:ne,delete:re,clear:ie,forEach:ae(!1,!0)},n={get(e){return J(this,e,!0)},get size(){return ee(this,!0)},has(e){return Q.call(this,e,!0)},add:se("add"),set:se("set"),delete:se("delete"),clear:se("clear"),forEach:ae(!0,!1)},r={get(e){return J(this,e,!0,!0)},get size(){return ee(this,!0)},has(e){return Q.call(this,e,!0)},add:se("add"),set:se("set"),delete:se("delete"),clear:se("clear"),forEach:ae(!0,!0)},i=["keys","values","entries",Symbol.iterator];return i.forEach((i=>{e[i]=oe(i,!1,!1),n[i]=oe(i,!0,!1),t[i]=oe(i,!1,!0),r[i]=oe(i,!0,!0)})),[e,n,t,r]}const[ce,ue,de,he]=le();function fe(e,t){const n=t?e?he:de:e?ue:ce;return(t,i,a)=>"__v_isReactive"===i?!e:"__v_isReadonly"===i?e:"__v_raw"===i?t:Reflect.get((0,r.RI)(n,i)&&i in t?n:t,i,a)}const pe={get:fe(!1,!1)},me={get:fe(!1,!0)},ve={get:fe(!0,!1)};const ge=new WeakMap,_e=new WeakMap,ye=new WeakMap,be=new WeakMap;function xe(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function we(e){return e["__v_skip"]||!Object.isExtensible(e)?0:xe((0,r.W7)(e))}function Se(e){return Ce(e)?e:Te(e,!1,$,pe,ge)}function Me(e){return Te(e,!1,X,me,_e)}function Ee(e){return Te(e,!0,q,ve,ye)}function Te(e,t,n,i,a){if(!(0,r.Kn)(e))return e;if(e["__v_raw"]&&(!t||!e["__v_isReactive"]))return e;const o=a.get(e);if(o)return o;const s=we(e);if(0===s)return e;const l=new Proxy(e,2===s?i:n);return a.set(e,l),l}function Ae(e){return Ce(e)?Ae(e["__v_raw"]):!(!e||!e["__v_isReactive"])}function Ce(e){return!(!e||!e["__v_isReadonly"])}function ke(e){return!(!e||!e["__v_isShallow"])}function Re(e){return Ae(e)||Ce(e)}function Le(e){const t=e&&e["__v_raw"];return t?Le(t):e}function Ie(e){return(0,r.Nj)(e,"__v_skip",!0),e}const Pe=e=>(0,r.Kn)(e)?Se(e):e,De=e=>(0,r.Kn)(e)?Ee(e):e;function Oe(e){M&&y&&(e=Le(e),k(e.dep||(e.dep=u())))}function Ne(e,t){e=Le(e),e.dep&&L(e.dep)}function Fe(e){return!(!e||!0!==e.__v_isRef)}function Be(e){return Ue(e,!1)}function Ve(e){return Ue(e,!0)}function Ue(e,t){return Fe(e)?e:new ze(e,t)}class ze{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:Le(e),this._value=t?e:Pe(e)}get value(){return Oe(this),this._value}set value(e){const t=this.__v_isShallow||ke(e)||Ce(e);e=t?e:Le(e),(0,r.aU)(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:Pe(e),Ne(this,e))}}function He(e){return Fe(e)?e.value:e}const We={get:(e,t,n)=>He(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return Fe(i)&&!Fe(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function je(e){return Ae(e)?e:new Proxy(e,We)}function Ge(e){const t=(0,r.kJ)(e)?new Array(e.length):{};for(const n in e)t[n]=$e(e,n);return t}class Ye{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return void 0===e?this._defaultValue:e}set value(e){this._object[this._key]=e}}function $e(e,t,n){const r=e[t];return Fe(r)?r:new Ye(e,t,n)}var qe;class Xe{constructor(e,t,n,r){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this[qe]=!1,this._dirty=!0,this.effect=new w(e,(()=>{this._dirty||(this._dirty=!0,Ne(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!r,this["__v_isReadonly"]=n}get value(){const e=Le(this);return Oe(e),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Ze(e,t,n=!1){let i,a;const o=(0,r.mf)(e);o?(i=e,a=r.dG):(i=e.get,a=e.set);const s=new Xe(i,a,o||!a,n);return s}qe="__v_isReadonly"},3396:function(e,t,n){"use strict";n.d(t,{$d:function(){return f},Ah:function(){return Pe},F4:function(){return _n},FN:function(){return Ln},Fl:function(){return Zn},HY:function(){return Zt},Ho:function(){return yn},JJ:function(){return K},Jd:function(){return Ie},Ko:function(){return qe},LL:function(){return je},P$:function(){return ce},Q2:function(){return Ge},Q6:function(){return me},U2:function(){return de},Uk:function(){return bn},Us:function(){return Ft},WI:function(){return Xe},Wm:function(){return vn},Xn:function(){return Re},Y3:function(){return E},Y8:function(){return oe},YP:function(){return te},ZK:function(){return o},_:function(){return mn},aZ:function(){return ve},bv:function(){return ke},dG:function(){return En},dl:function(){return be},f3:function(){return J},h:function(){return Kn},iD:function(){return ln},ic:function(){return Le},j4:function(){return cn},kq:function(){return xn},lR:function(){return Xt},m0:function(){return Q},mx:function(){return Ke},nK:function(){return pe},se:function(){return xe},up:function(){return He},w5:function(){return H},wF:function(){return Ce},wg:function(){return nn},wy:function(){return Be},xv:function(){return Kt}});n(7658),n(1703),n(541);var r=n(4870),i=n(7139);const a=[];function o(e,...t){(0,r.Jd)();const n=a.length?a[a.length-1].component:null,i=n&&n.appContext.config.warnHandler,o=s();if(i)h(i,n,11,[e+t.join(""),n&&n.proxy,o.map((({vnode:e})=>`at <${qn(n,e.type)}>`)).join("\n"),o]);else{const n=[`[Vue warn]: ${e}`,...t];o.length&&n.push("\n",...l(o)),console.warn(...n)}(0,r.lk)()}function s(){let e=a[a.length-1];if(!e)return[];const t=[];while(e){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const r=e.component&&e.component.parent;e=r&&r.vnode}return t}function l(e){const t=[];return e.forEach(((e,n)=>{t.push(...0===n?[]:["\n"],...c(e))})),t}function c({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",r=!!e.component&&null==e.component.parent,i=` at <${qn(e.component,e.type,r)}`,a=">"+n;return e.props?[i,...u(e.props),a]:[i+a]}function u(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach((n=>{t.push(...d(n,e[n]))})),n.length>3&&t.push(" ..."),t}function d(e,t,n){return(0,i.HD)(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):"number"===typeof t||"boolean"===typeof t||null==t?n?t:[`${e}=${t}`]:(0,r.dq)(t)?(t=d(e,(0,r.IU)(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):(0,i.mf)(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=(0,r.IU)(t),n?t:[`${e}=`,t])}function h(e,t,n,r){let i;try{i=r?e(...r):e()}catch(a){p(a,t,n)}return i}function f(e,t,n,r){if((0,i.mf)(e)){const a=h(e,t,n,r);return a&&(0,i.tI)(a)&&a.catch((e=>{p(e,t,n)})),a}const a=[];for(let i=0;i<e.length;i++)a.push(f(e[i],t,n,r));return a}function p(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let r=t.parent;const i=t.proxy,a=n;while(r){const t=r.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,i,a))return;r=r.parent}const o=t.appContext.config.errorHandler;if(o)return void h(o,null,10,[e,i,a])}m(e,n,i,r)}function m(e,t,n,r=!0){console.error(e)}let v=!1,g=!1;const _=[];let y=0;const b=[];let x=null,w=0;const S=Promise.resolve();let M=null;function E(e){const t=M||S;return e?t.then(this?e.bind(this):e):t}function T(e){let t=y+1,n=_.length;while(t<n){const r=t+n>>>1,i=P(_[r]);i<e?t=r+1:n=r}return t}function A(e){_.length&&_.includes(e,v&&e.allowRecurse?y+1:y)||(null==e.id?_.push(e):_.splice(T(e.id),0,e),C())}function C(){v||g||(g=!0,M=S.then(O))}function k(e){const t=_.indexOf(e);t>y&&_.splice(t,1)}function R(e){(0,i.kJ)(e)?b.push(...e):x&&x.includes(e,e.allowRecurse?w+1:w)||b.push(e),C()}function L(e,t=(v?y+1:0)){for(0;t<_.length;t++){const e=_[t];e&&e.pre&&(_.splice(t,1),t--,e())}}function I(e){if(b.length){const e=[...new Set(b)];if(b.length=0,x)return void x.push(...e);for(x=e,x.sort(((e,t)=>P(e)-P(t))),w=0;w<x.length;w++)x[w]();x=null,w=0}}const P=e=>null==e.id?1/0:e.id,D=(e,t)=>{const n=P(e)-P(t);if(0===n){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function O(e){g=!1,v=!0,_.sort(D);i.dG;try{for(y=0;y<_.length;y++){const e=_[y];e&&!1!==e.active&&h(e,null,14)}}finally{y=0,_.length=0,I(e),v=!1,M=null,(_.length||b.length)&&O(e)}}new Set;new Map;function N(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||i.kT;let a=n;const o=t.startsWith("update:"),s=o&&t.slice(7);if(s&&s in r){const e=`${"modelValue"===s?"model":s}Modifiers`,{number:t,trim:o}=r[e]||i.kT;o&&(a=n.map((e=>e.trim()))),t&&(a=n.map(i.He))}let l;let c=r[l=(0,i.hR)(t)]||r[l=(0,i.hR)((0,i._A)(t))];!c&&o&&(c=r[l=(0,i.hR)((0,i.rs)(t))]),c&&f(c,e,6,a);const u=r[l+"Once"];if(u){if(e.emitted){if(e.emitted[l])return}else e.emitted={};e.emitted[l]=!0,f(u,e,6,a)}}function F(e,t,n=!1){const r=t.emitsCache,a=r.get(e);if(void 0!==a)return a;const o=e.emits;let s={},l=!1;if(!(0,i.mf)(e)){const r=e=>{const n=F(e,t,!0);n&&(l=!0,(0,i.l7)(s,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return o||l?((0,i.kJ)(o)?o.forEach((e=>s[e]=null)):(0,i.l7)(s,o),(0,i.Kn)(e)&&r.set(e,s),s):((0,i.Kn)(e)&&r.set(e,null),null)}function B(e,t){return!(!e||!(0,i.F7)(t))&&(t=t.slice(2).replace(/Once$/,""),(0,i.RI)(e,t[0].toLowerCase()+t.slice(1))||(0,i.RI)(e,(0,i.rs)(t))||(0,i.RI)(e,t))}let V=null,U=null;function z(e){const t=V;return V=e,U=e&&e.type.__scopeId||null,t}function H(e,t=V,n){if(!t)return e;if(e._n)return e;const r=(...n)=>{r._d&&on(-1);const i=z(t),a=e(...n);return z(i),r._d&&on(1),a};return r._n=!0,r._c=!0,r._d=!0,r}function W(e){const{type:t,vnode:n,proxy:r,withProxy:a,props:o,propsOptions:[s],slots:l,attrs:c,emit:u,render:d,renderCache:h,data:f,setupState:m,ctx:v,inheritAttrs:g}=e;let _,y;const b=z(e);try{if(4&n.shapeFlag){const e=a||r;_=wn(d.call(e,e,h,o,m,f,v)),y=c}else{const e=t;0,_=wn(e.length>1?e(o,{attrs:c,slots:l,emit:u}):e(o,null)),y=t.props?c:j(c)}}catch(w){en.length=0,p(w,e,1),_=vn(Jt)}let x=_;if(y&&!1!==g){const e=Object.keys(y),{shapeFlag:t}=x;e.length&&7&t&&(s&&e.some(i.tR)&&(y=G(y,s)),x=yn(x,y))}return n.dirs&&(x=yn(x),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&(x.transition=n.transition),_=x,z(b),_}const j=e=>{let t;for(const n in e)("class"===n||"style"===n||(0,i.F7)(n))&&((t||(t={}))[n]=e[n]);return t},G=(e,t)=>{const n={};for(const r in e)(0,i.tR)(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function Y(e,t,n){const{props:r,children:i,component:a}=e,{props:o,children:s,patchFlag:l}=t,c=a.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!i&&!s||s&&s.$stable)||r!==o&&(r?!o||$(r,o,c):!!o);if(1024&l)return!0;if(16&l)return r?$(r,o,c):!!o;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(o[n]!==r[n]&&!B(c,n))return!0}}return!1}function $(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const a=r[i];if(t[a]!==e[a]&&!B(n,a))return!0}return!1}function q({vnode:e,parent:t},n){while(t&&t.subTree===e)(e=t.vnode).el=n,t=t.parent}const X=e=>e.__isSuspense;function Z(e,t){t&&t.pendingBranch?(0,i.kJ)(e)?t.effects.push(...e):t.effects.push(e):R(e)}function K(e,t){if(Rn){let n=Rn.provides;const r=Rn.parent&&Rn.parent.provides;r===n&&(n=Rn.provides=Object.create(r)),n[e]=t}else 0}function J(e,t,n=!1){const r=Rn||V;if(r){const a=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(a&&e in a)return a[e];if(arguments.length>1)return n&&(0,i.mf)(t)?t.call(r.proxy):t}else 0}function Q(e,t){return ne(e,null,t)}const ee={};function te(e,t,n){return ne(e,t,n)}function ne(e,t,{immediate:n,deep:a,flush:o,onTrack:s,onTrigger:l}=i.kT){const c=Rn;let u,d,p=!1,m=!1;if((0,r.dq)(e)?(u=()=>e.value,p=(0,r.yT)(e)):(0,r.PG)(e)?(u=()=>e,a=!0):(0,i.kJ)(e)?(m=!0,p=e.some((e=>(0,r.PG)(e)||(0,r.yT)(e))),u=()=>e.map((e=>(0,r.dq)(e)?e.value:(0,r.PG)(e)?ae(e):(0,i.mf)(e)?h(e,c,2):void 0))):u=(0,i.mf)(e)?t?()=>h(e,c,2):()=>{if(!c||!c.isUnmounted)return d&&d(),f(e,c,3,[v])}:i.dG,t&&a){const e=u;u=()=>ae(e())}let v=e=>{d=b.onStop=()=>{h(e,c,4)}};if(Fn)return v=i.dG,t?n&&f(t,c,3,[u(),m?[]:void 0,v]):u(),i.dG;let g=m?[]:ee;const _=()=>{if(b.active)if(t){const e=b.run();(a||p||(m?e.some(((e,t)=>(0,i.aU)(e,g[t]))):(0,i.aU)(e,g)))&&(d&&d(),f(t,c,3,[e,g===ee?void 0:g,v]),g=e)}else b.run()};let y;_.allowRecurse=!!t,"sync"===o?y=_:"post"===o?y=()=>Nt(_,c&&c.suspense):(_.pre=!0,c&&(_.id=c.uid),y=()=>A(_));const b=new r.qq(u,y);return t?n?_():g=b.run():"post"===o?Nt(b.run.bind(b),c&&c.suspense):b.run(),()=>{b.stop(),c&&c.scope&&(0,i.Od)(c.scope.effects,b)}}function re(e,t,n){const r=this.proxy,a=(0,i.HD)(e)?e.includes(".")?ie(r,e):()=>r[e]:e.bind(r,r);let o;(0,i.mf)(t)?o=t:(o=t.handler,n=t);const s=Rn;In(this);const l=ne(a,o.bind(r),n);return s?In(s):Pn(),l}function ie(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function ae(e,t){if(!(0,i.Kn)(e)||e["__v_skip"])return e;if(t=t||new Set,t.has(e))return e;if(t.add(e),(0,r.dq)(e))ae(e.value,t);else if((0,i.kJ)(e))for(let n=0;n<e.length;n++)ae(e[n],t);else if((0,i.DM)(e)||(0,i._N)(e))e.forEach((e=>{ae(e,t)}));else if((0,i.PO)(e))for(const n in e)ae(e[n],t);return e}function oe(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ke((()=>{e.isMounted=!0})),Ie((()=>{e.isUnmounting=!0})),e}const se=[Function,Array],le={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:se,onEnter:se,onAfterEnter:se,onEnterCancelled:se,onBeforeLeave:se,onLeave:se,onAfterLeave:se,onLeaveCancelled:se,onBeforeAppear:se,onAppear:se,onAfterAppear:se,onAppearCancelled:se},setup(e,{slots:t}){const n=Ln(),i=oe();let a;return()=>{const o=t.default&&me(t.default(),!0);if(!o||!o.length)return;let s=o[0];if(o.length>1){let e=!1;for(const t of o)if(t.type!==Jt){0,s=t,e=!0;break}}const l=(0,r.IU)(e),{mode:c}=l;if(i.isLeaving)return he(s);const u=fe(s);if(!u)return he(s);const d=de(u,l,i,n);pe(u,d);const h=n.subTree,f=h&&fe(h);let p=!1;const{getTransitionKey:m}=u.type;if(m){const e=m();void 0===a?a=e:e!==a&&(a=e,p=!0)}if(f&&f.type!==Jt&&(!dn(u,f)||p)){const e=de(f,l,i,n);if(pe(f,e),"out-in"===c)return i.isLeaving=!0,e.afterLeave=()=>{i.isLeaving=!1,n.update()},he(s);"in-out"===c&&u.type!==Jt&&(e.delayLeave=(e,t,n)=>{const r=ue(i,f);r[String(f.key)]=f,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=n})}return s}}},ce=le;function ue(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function de(e,t,n,r){const{appear:a,mode:o,persisted:s=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:h,onLeave:p,onAfterLeave:m,onLeaveCancelled:v,onBeforeAppear:g,onAppear:_,onAfterAppear:y,onAppearCancelled:b}=t,x=String(e.key),w=ue(n,e),S=(e,t)=>{e&&f(e,r,9,t)},M=(e,t)=>{const n=t[1];S(e,t),(0,i.kJ)(e)?e.every((e=>e.length<=1))&&n():e.length<=1&&n()},E={mode:o,persisted:s,beforeEnter(t){let r=l;if(!n.isMounted){if(!a)return;r=g||l}t._leaveCb&&t._leaveCb(!0);const i=w[x];i&&dn(e,i)&&i.el._leaveCb&&i.el._leaveCb(),S(r,[t])},enter(e){let t=c,r=u,i=d;if(!n.isMounted){if(!a)return;t=_||c,r=y||u,i=b||d}let o=!1;const s=e._enterCb=t=>{o||(o=!0,S(t?i:r,[e]),E.delayedLeave&&E.delayedLeave(),e._enterCb=void 0)};t?M(t,[e,s]):s()},leave(t,r){const i=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return r();S(h,[t]);let a=!1;const o=t._leaveCb=n=>{a||(a=!0,r(),S(n?v:m,[t]),t._leaveCb=void 0,w[i]===e&&delete w[i])};w[i]=e,p?M(p,[t,o]):o()},clone(e){return de(e,t,n,r)}};return E}function he(e){if(_e(e))return e=yn(e),e.children=null,e}function fe(e){return _e(e)?e.children?e.children[0]:void 0:e}function pe(e,t){6&e.shapeFlag&&e.component?pe(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function me(e,t=!1,n){let r=[],i=0;for(let a=0;a<e.length;a++){let o=e[a];const s=null==n?o.key:String(n)+String(null!=o.key?o.key:a);o.type===Zt?(128&o.patchFlag&&i++,r=r.concat(me(o.children,t,s))):(t||o.type!==Jt)&&r.push(null!=s?yn(o,{key:s}):o)}if(i>1)for(let a=0;a<r.length;a++)r[a].patchFlag=-2;return r}function ve(e){return(0,i.mf)(e)?{setup:e,name:e.name}:e}const ge=e=>!!e.type.__asyncLoader;const _e=e=>e.type.__isKeepAlive;RegExp,RegExp;function ye(e,t){return(0,i.kJ)(e)?e.some((e=>ye(e,t))):(0,i.HD)(e)?e.split(",").includes(t):!!e.test&&e.test(t)}function be(e,t){we(e,"a",t)}function xe(e,t){we(e,"da",t)}function we(e,t,n=Rn){const r=e.__wdc||(e.__wdc=()=>{let t=n;while(t){if(t.isDeactivated)return;t=t.parent}return e()});if(Te(t,r,n),n){let e=n.parent;while(e&&e.parent)_e(e.parent.vnode)&&Se(r,t,n,e),e=e.parent}}function Se(e,t,n,r){const a=Te(t,e,r,!0);Pe((()=>{(0,i.Od)(r[t],a)}),n)}function Me(e){let t=e.shapeFlag;256&t&&(t-=256),512&t&&(t-=512),e.shapeFlag=t}function Ee(e){return 128&e.shapeFlag?e.ssContent:e}function Te(e,t,n=Rn,i=!1){if(n){const a=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;(0,r.Jd)(),In(n);const a=f(t,n,e,i);return Pn(),(0,r.lk)(),a});return i?a.unshift(o):a.push(o),o}}const Ae=e=>(t,n=Rn)=>(!Fn||"sp"===e)&&Te(e,t,n),Ce=Ae("bm"),ke=Ae("m"),Re=Ae("bu"),Le=Ae("u"),Ie=Ae("bum"),Pe=Ae("um"),De=Ae("sp"),Oe=Ae("rtg"),Ne=Ae("rtc");function Fe(e,t=Rn){Te("ec",e,t)}function Be(e,t){const n=V;if(null===n)return e;const r=jn(n)||n.proxy,a=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[e,n,s,l=i.kT]=t[o];(0,i.mf)(e)&&(e={mounted:e,updated:e}),e.deep&&ae(n),a.push({dir:e,instance:r,value:n,oldValue:void 0,arg:s,modifiers:l})}return e}function Ve(e,t,n,i){const a=e.dirs,o=t&&t.dirs;for(let s=0;s<a.length;s++){const l=a[s];o&&(l.oldValue=o[s].value);let c=l.dir[i];c&&((0,r.Jd)(),f(c,n,8,[e.el,l,e,t]),(0,r.lk)())}}const Ue="components",ze="directives";function He(e,t){return Ye(Ue,e,!0,t)||e}const We=Symbol();function je(e){return(0,i.HD)(e)?Ye(Ue,e,!1)||e:e||We}function Ge(e){return Ye(ze,e)}function Ye(e,t,n=!0,r=!1){const a=V||Rn;if(a){const n=a.type;if(e===Ue){const e=$n(n,!1);if(e&&(e===t||e===(0,i._A)(t)||e===(0,i.kC)((0,i._A)(t))))return n}const o=$e(a[e]||n[e],t)||$e(a.appContext[e],t);return!o&&r?n:o}}function $e(e,t){return e&&(e[t]||e[(0,i._A)(t)]||e[(0,i.kC)((0,i._A)(t))])}function qe(e,t,n,r){let a;const o=n&&n[r];if((0,i.kJ)(e)||(0,i.HD)(e)){a=new Array(e.length);for(let n=0,r=e.length;n<r;n++)a[n]=t(e[n],n,void 0,o&&o[n])}else if("number"===typeof e){0,a=new Array(e);for(let n=0;n<e;n++)a[n]=t(n+1,n,void 0,o&&o[n])}else if((0,i.Kn)(e))if(e[Symbol.iterator])a=Array.from(e,((e,n)=>t(e,n,void 0,o&&o[n])));else{const n=Object.keys(e);a=new Array(n.length);for(let r=0,i=n.length;r<i;r++){const i=n[r];a[r]=t(e[i],i,r,o&&o[r])}}else a=[];return n&&(n[r]=a),a}function Xe(e,t,n={},r,i){if(V.isCE||V.parent&&ge(V.parent)&&V.parent.isCE)return vn("slot","default"===t?null:{name:t},r&&r());let a=e[t];a&&a._c&&(a._d=!1),nn();const o=a&&Ze(a(n)),s=cn(Zt,{key:n.key||o&&o.key||`_${t}`},o||(r?r():[]),o&&1===e._?64:-2);return!i&&s.scopeId&&(s.slotScopeIds=[s.scopeId+"-s"]),a&&a._c&&(a._d=!0),s}function Ze(e){return e.some((e=>!un(e)||e.type!==Jt&&!(e.type===Zt&&!Ze(e.children))))?e:null}function Ke(e,t){const n={};for(const r in e)n[t&&/[A-Z]/.test(r)?`on:${r}`:(0,i.hR)(r)]=e[r];return n}const Je=e=>e?Dn(e)?jn(e)||e.proxy:Je(e.parent):null,Qe=(0,i.l7)(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Je(e.parent),$root:e=>Je(e.root),$emit:e=>e.emit,$options:e=>ot(e),$forceUpdate:e=>e.f||(e.f=()=>A(e.update)),$nextTick:e=>e.n||(e.n=E.bind(e.proxy)),$watch:e=>re.bind(e)}),et={get({_:e},t){const{ctx:n,setupState:a,data:o,props:s,accessCache:l,type:c,appContext:u}=e;let d;if("$"!==t[0]){const r=l[t];if(void 0!==r)switch(r){case 1:return a[t];case 2:return o[t];case 4:return n[t];case 3:return s[t]}else{if(a!==i.kT&&(0,i.RI)(a,t))return l[t]=1,a[t];if(o!==i.kT&&(0,i.RI)(o,t))return l[t]=2,o[t];if((d=e.propsOptions[0])&&(0,i.RI)(d,t))return l[t]=3,s[t];if(n!==i.kT&&(0,i.RI)(n,t))return l[t]=4,n[t];tt&&(l[t]=0)}}const h=Qe[t];let f,p;return h?("$attrs"===t&&(0,r.j)(e,"get",t),h(e)):(f=c.__cssModules)&&(f=f[t])?f:n!==i.kT&&(0,i.RI)(n,t)?(l[t]=4,n[t]):(p=u.config.globalProperties,(0,i.RI)(p,t)?p[t]:void 0)},set({_:e},t,n){const{data:r,setupState:a,ctx:o}=e;return a!==i.kT&&(0,i.RI)(a,t)?(a[t]=n,!0):r!==i.kT&&(0,i.RI)(r,t)?(r[t]=n,!0):!(0,i.RI)(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(o[t]=n,!0))},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:a,propsOptions:o}},s){let l;return!!n[s]||e!==i.kT&&(0,i.RI)(e,s)||t!==i.kT&&(0,i.RI)(t,s)||(l=o[0])&&(0,i.RI)(l,s)||(0,i.RI)(r,s)||(0,i.RI)(Qe,s)||(0,i.RI)(a.config.globalProperties,s)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:(0,i.RI)(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let tt=!0;function nt(e){const t=ot(e),n=e.proxy,a=e.ctx;tt=!1,t.beforeCreate&&it(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:l,watch:c,provide:u,inject:d,created:h,beforeMount:f,mounted:p,beforeUpdate:m,updated:v,activated:g,deactivated:_,beforeDestroy:y,beforeUnmount:b,destroyed:x,unmounted:w,render:S,renderTracked:M,renderTriggered:E,errorCaptured:T,serverPrefetch:A,expose:C,inheritAttrs:k,components:R,directives:L,filters:I}=t,P=null;if(d&&rt(d,a,P,e.appContext.config.unwrapInjectedRef),l)for(const r in l){const e=l[r];(0,i.mf)(e)&&(a[r]=e.bind(n))}if(o){0;const t=o.call(n,n);0,(0,i.Kn)(t)&&(e.data=(0,r.qj)(t))}if(tt=!0,s)for(const r in s){const e=s[r],t=(0,i.mf)(e)?e.bind(n,n):(0,i.mf)(e.get)?e.get.bind(n,n):i.dG;0;const o=!(0,i.mf)(e)&&(0,i.mf)(e.set)?e.set.bind(n):i.dG,l=Zn({get:t,set:o});Object.defineProperty(a,r,{enumerable:!0,configurable:!0,get:()=>l.value,set:e=>l.value=e})}if(c)for(const r in c)at(c[r],a,n,r);if(u){const e=(0,i.mf)(u)?u.call(n):u;Reflect.ownKeys(e).forEach((t=>{K(t,e[t])}))}function D(e,t){(0,i.kJ)(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(h&&it(h,e,"c"),D(Ce,f),D(ke,p),D(Re,m),D(Le,v),D(be,g),D(xe,_),D(Fe,T),D(Ne,M),D(Oe,E),D(Ie,b),D(Pe,w),D(De,A),(0,i.kJ)(C))if(C.length){const t=e.exposed||(e.exposed={});C.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});S&&e.render===i.dG&&(e.render=S),null!=k&&(e.inheritAttrs=k),R&&(e.components=R),L&&(e.directives=L)}function rt(e,t,n=i.dG,a=!1){(0,i.kJ)(e)&&(e=dt(e));for(const o in e){const n=e[o];let s;s=(0,i.Kn)(n)?"default"in n?J(n.from||o,n.default,!0):J(n.from||o):J(n),(0,r.dq)(s)&&a?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>s.value,set:e=>s.value=e}):t[o]=s}}function it(e,t,n){f((0,i.kJ)(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function at(e,t,n,r){const a=r.includes(".")?ie(n,r):()=>n[r];if((0,i.HD)(e)){const n=t[e];(0,i.mf)(n)&&te(a,n)}else if((0,i.mf)(e))te(a,e.bind(n));else if((0,i.Kn)(e))if((0,i.kJ)(e))e.forEach((e=>at(e,t,n,r)));else{const r=(0,i.mf)(e.handler)?e.handler.bind(n):t[e.handler];(0,i.mf)(r)&&te(a,r,e)}else 0}function ot(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:a,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,l=o.get(t);let c;return l?c=l:a.length||n||r?(c={},a.length&&a.forEach((e=>st(c,e,s,!0))),st(c,t,s)):c=t,(0,i.Kn)(t)&&o.set(t,c),c}function st(e,t,n,r=!1){const{mixins:i,extends:a}=t;a&&st(e,a,n,!0),i&&i.forEach((t=>st(e,t,n,!0)));for(const o in t)if(r&&"expose"===o);else{const r=lt[o]||n&&n[o];e[o]=r?r(e[o],t[o]):t[o]}return e}const lt={data:ct,props:ft,emits:ft,methods:ft,computed:ft,beforeCreate:ht,created:ht,beforeMount:ht,mounted:ht,beforeUpdate:ht,updated:ht,beforeDestroy:ht,beforeUnmount:ht,destroyed:ht,unmounted:ht,activated:ht,deactivated:ht,errorCaptured:ht,serverPrefetch:ht,components:ft,directives:ft,watch:pt,provide:ct,inject:ut};function ct(e,t){return t?e?function(){return(0,i.l7)((0,i.mf)(e)?e.call(this,this):e,(0,i.mf)(t)?t.call(this,this):t)}:t:e}function ut(e,t){return ft(dt(e),dt(t))}function dt(e){if((0,i.kJ)(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ht(e,t){return e?[...new Set([].concat(e,t))]:t}function ft(e,t){return e?(0,i.l7)((0,i.l7)(Object.create(null),e),t):t}function pt(e,t){if(!e)return t;if(!t)return e;const n=(0,i.l7)(Object.create(null),e);for(const r in t)n[r]=ht(e[r],t[r]);return n}function mt(e,t,n,a=!1){const o={},s={};(0,i.Nj)(s,hn,1),e.propsDefaults=Object.create(null),gt(e,t,o,s);for(const r in e.propsOptions[0])r in o||(o[r]=void 0);n?e.props=a?o:(0,r.Um)(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function vt(e,t,n,a){const{props:o,attrs:s,vnode:{patchFlag:l}}=e,c=(0,r.IU)(o),[u]=e.propsOptions;let d=!1;if(!(a||l>0)||16&l){let r;gt(e,t,o,s)&&(d=!0);for(const a in c)t&&((0,i.RI)(t,a)||(r=(0,i.rs)(a))!==a&&(0,i.RI)(t,r))||(u?!n||void 0===n[a]&&void 0===n[r]||(o[a]=_t(u,c,a,void 0,e,!0)):delete o[a]);if(s!==c)for(const e in s)t&&(0,i.RI)(t,e)||(delete s[e],d=!0)}else if(8&l){const n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){let a=n[r];if(B(e.emitsOptions,a))continue;const l=t[a];if(u)if((0,i.RI)(s,a))l!==s[a]&&(s[a]=l,d=!0);else{const t=(0,i._A)(a);o[t]=_t(u,c,t,l,e,!1)}else l!==s[a]&&(s[a]=l,d=!0)}}d&&(0,r.X$)(e,"set","$attrs")}function gt(e,t,n,a){const[o,s]=e.propsOptions;let l,c=!1;if(t)for(let r in t){if((0,i.Gg)(r))continue;const u=t[r];let d;o&&(0,i.RI)(o,d=(0,i._A)(r))?s&&s.includes(d)?(l||(l={}))[d]=u:n[d]=u:B(e.emitsOptions,r)||r in a&&u===a[r]||(a[r]=u,c=!0)}if(s){const t=(0,r.IU)(n),a=l||i.kT;for(let r=0;r<s.length;r++){const l=s[r];n[l]=_t(o,t,l,a[l],e,!(0,i.RI)(a,l))}}return c}function _t(e,t,n,r,a,o){const s=e[n];if(null!=s){const e=(0,i.RI)(s,"default");if(e&&void 0===r){const e=s.default;if(s.type!==Function&&(0,i.mf)(e)){const{propsDefaults:i}=a;n in i?r=i[n]:(In(a),r=i[n]=e.call(null,t),Pn())}else r=e}s[0]&&(o&&!e?r=!1:!s[1]||""!==r&&r!==(0,i.rs)(n)||(r=!0))}return r}function yt(e,t,n=!1){const r=t.propsCache,a=r.get(e);if(a)return a;const o=e.props,s={},l=[];let c=!1;if(!(0,i.mf)(e)){const r=e=>{c=!0;const[n,r]=yt(e,t,!0);(0,i.l7)(s,n),r&&l.push(...r)};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}if(!o&&!c)return(0,i.Kn)(e)&&r.set(e,i.Z6),i.Z6;if((0,i.kJ)(o))for(let d=0;d<o.length;d++){0;const e=(0,i._A)(o[d]);bt(e)&&(s[e]=i.kT)}else if(o){0;for(const e in o){const t=(0,i._A)(e);if(bt(t)){const n=o[e],r=s[t]=(0,i.kJ)(n)||(0,i.mf)(n)?{type:n}:n;if(r){const e=St(Boolean,r.type),n=St(String,r.type);r[0]=e>-1,r[1]=n<0||e<n,(e>-1||(0,i.RI)(r,"default"))&&l.push(t)}}}}const u=[s,l];return(0,i.Kn)(e)&&r.set(e,u),u}function bt(e){return"$"!==e[0]}function xt(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:null===e?"null":""}function wt(e,t){return xt(e)===xt(t)}function St(e,t){return(0,i.kJ)(t)?t.findIndex((t=>wt(t,e))):(0,i.mf)(t)&&wt(t,e)?0:-1}const Mt=e=>"_"===e[0]||"$stable"===e,Et=e=>(0,i.kJ)(e)?e.map(wn):[wn(e)],Tt=(e,t,n)=>{if(t._n)return t;const r=H(((...e)=>Et(t(...e))),n);return r._c=!1,r},At=(e,t,n)=>{const r=e._ctx;for(const a in e){if(Mt(a))continue;const n=e[a];if((0,i.mf)(n))t[a]=Tt(a,n,r);else if(null!=n){0;const e=Et(n);t[a]=()=>e}}},Ct=(e,t)=>{const n=Et(t);e.slots.default=()=>n},kt=(e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=(0,r.IU)(t),(0,i.Nj)(t,"_",n)):At(t,e.slots={})}else e.slots={},t&&Ct(e,t);(0,i.Nj)(e.slots,hn,1)},Rt=(e,t,n)=>{const{vnode:r,slots:a}=e;let o=!0,s=i.kT;if(32&r.shapeFlag){const e=t._;e?n&&1===e?o=!1:((0,i.l7)(a,t),n||1!==e||delete a._):(o=!t.$stable,At(t,a)),s=t}else t&&(Ct(e,t),s={default:1});if(o)for(const i in a)Mt(i)||i in s||delete a[i]};function Lt(){return{app:null,config:{isNativeTag:i.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let It=0;function Pt(e,t){return function(n,r=null){(0,i.mf)(n)||(n=Object.assign({},n)),null==r||(0,i.Kn)(r)||(r=null);const a=Lt(),o=new Set;let s=!1;const l=a.app={_uid:It++,_component:n,_props:r,_container:null,_context:a,_instance:null,version:Jn,get config(){return a.config},set config(e){0},use(e,...t){return o.has(e)||(e&&(0,i.mf)(e.install)?(o.add(e),e.install(l,...t)):(0,i.mf)(e)&&(o.add(e),e(l,...t))),l},mixin(e){return a.mixins.includes(e)||a.mixins.push(e),l},component(e,t){return t?(a.components[e]=t,l):a.components[e]},directive(e,t){return t?(a.directives[e]=t,l):a.directives[e]},mount(i,o,c){if(!s){0;const u=vn(n,r);return u.appContext=a,o&&t?t(u,i):e(u,i,c),s=!0,l._container=i,i.__vue_app__=l,jn(u.component)||u.component.proxy}},unmount(){s&&(e(null,l._container),delete l._container.__vue_app__)},provide(e,t){return a.provides[e]=t,l}};return l}}function Dt(e,t,n,a,o=!1){if((0,i.kJ)(e))return void e.forEach(((e,r)=>Dt(e,t&&((0,i.kJ)(t)?t[r]:t),n,a,o)));if(ge(a)&&!o)return;const s=4&a.shapeFlag?jn(a.component)||a.component.proxy:a.el,l=o?null:s,{i:c,r:u}=e;const d=t&&t.r,f=c.refs===i.kT?c.refs={}:c.refs,p=c.setupState;if(null!=d&&d!==u&&((0,i.HD)(d)?(f[d]=null,(0,i.RI)(p,d)&&(p[d]=null)):(0,r.dq)(d)&&(d.value=null)),(0,i.mf)(u))h(u,c,12,[l,f]);else{const t=(0,i.HD)(u),a=(0,r.dq)(u);if(t||a){const r=()=>{if(e.f){const n=t?f[u]:u.value;o?(0,i.kJ)(n)&&(0,i.Od)(n,s):(0,i.kJ)(n)?n.includes(s)||n.push(s):t?(f[u]=[s],(0,i.RI)(p,u)&&(p[u]=f[u])):(u.value=[s],e.k&&(f[e.k]=u.value))}else t?(f[u]=l,(0,i.RI)(p,u)&&(p[u]=l)):a&&(u.value=l,e.k&&(f[e.k]=l))};l?(r.id=-1,Nt(r,n)):r()}else 0}}function Ot(){}const Nt=Z;function Ft(e){return Bt(e)}function Bt(e,t){Ot();const n=(0,i.E9)();n.__VUE__=!0;const{insert:a,remove:o,patchProp:s,createElement:l,createText:c,createComment:u,setText:d,setElementText:h,parentNode:f,nextSibling:p,setScopeId:m=i.dG,cloneNode:v,insertStaticContent:g}=e,_=(e,t,n,r=null,i=null,a=null,o=!1,s=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!dn(e,t)&&(r=Q(e),$(e,i,a,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:d}=t;switch(c){case Kt:y(e,t,n,r);break;case Jt:b(e,t,n,r);break;case Qt:null==e&&x(t,n,r,o);break;case Zt:O(e,t,n,r,i,a,o,s,l);break;default:1&d?M(e,t,n,r,i,a,o,s,l):6&d?N(e,t,n,r,i,a,o,s,l):(64&d||128&d)&&c.process(e,t,n,r,i,a,o,s,l,te)}null!=u&&i&&Dt(u,e&&e.ref,a,t||e,!t)},y=(e,t,n,r)=>{if(null==e)a(t.el=c(t.children),n,r);else{const n=t.el=e.el;t.children!==e.children&&d(n,t.children)}},b=(e,t,n,r)=>{null==e?a(t.el=u(t.children||""),n,r):t.el=e.el},x=(e,t,n,r)=>{[e.el,e.anchor]=g(e.children,t,n,r,e.el,e.anchor)},w=({el:e,anchor:t},n,r)=>{let i;while(e&&e!==t)i=p(e),a(e,n,r),e=i;a(t,n,r)},S=({el:e,anchor:t})=>{let n;while(e&&e!==t)n=p(e),o(e),e=n;o(t)},M=(e,t,n,r,i,a,o,s,l)=>{o=o||"svg"===t.type,null==e?E(t,n,r,i,a,o,s,l):R(e,t,i,a,o,s,l)},E=(e,t,n,r,o,c,u,d)=>{let f,p;const{type:m,props:g,shapeFlag:_,transition:y,patchFlag:b,dirs:x}=e;if(e.el&&void 0!==v&&-1===b)f=e.el=v(e.el);else{if(f=e.el=l(e.type,c,g&&g.is,g),8&_?h(f,e.children):16&_&&C(e.children,f,null,r,o,c&&"foreignObject"!==m,u,d),x&&Ve(e,null,r,"created"),g){for(const t in g)"value"===t||(0,i.Gg)(t)||s(f,t,null,g[t],c,e.children,r,o,J);"value"in g&&s(f,"value",null,g.value),(p=g.onVnodeBeforeMount)&&Tn(p,r,e)}T(f,e,e.scopeId,u,r)}x&&Ve(e,null,r,"beforeMount");const w=(!o||o&&!o.pendingBranch)&&y&&!y.persisted;w&&y.beforeEnter(f),a(f,t,n),((p=g&&g.onVnodeMounted)||w||x)&&Nt((()=>{p&&Tn(p,r,e),w&&y.enter(f),x&&Ve(e,null,r,"mounted")}),o)},T=(e,t,n,r,i)=>{if(n&&m(e,n),r)for(let a=0;a<r.length;a++)m(e,r[a]);if(i){let n=i.subTree;if(t===n){const t=i.vnode;T(e,t,t.scopeId,t.slotScopeIds,i.parent)}}},C=(e,t,n,r,i,a,o,s,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=s?Sn(e[c]):wn(e[c]);_(null,l,t,n,r,i,a,o,s)}},R=(e,t,n,r,a,o,l)=>{const c=t.el=e.el;let{patchFlag:u,dynamicChildren:d,dirs:f}=t;u|=16&e.patchFlag;const p=e.props||i.kT,m=t.props||i.kT;let v;n&&Vt(n,!1),(v=m.onVnodeBeforeUpdate)&&Tn(v,n,t,e),f&&Ve(t,e,n,"beforeUpdate"),n&&Vt(n,!0);const g=a&&"foreignObject"!==t.type;if(d?P(e.dynamicChildren,d,c,n,r,g,o):l||z(e,t,c,null,n,r,g,o,!1),u>0){if(16&u)D(c,t,p,m,n,r,a);else if(2&u&&p.class!==m.class&&s(c,"class",null,m.class,a),4&u&&s(c,"style",p.style,m.style,a),8&u){const i=t.dynamicProps;for(let t=0;t<i.length;t++){const o=i[t],l=p[o],u=m[o];u===l&&"value"!==o||s(c,o,l,u,a,e.children,n,r,J)}}1&u&&e.children!==t.children&&h(c,t.children)}else l||null!=d||D(c,t,p,m,n,r,a);((v=m.onVnodeUpdated)||f)&&Nt((()=>{v&&Tn(v,n,t,e),f&&Ve(t,e,n,"updated")}),r)},P=(e,t,n,r,i,a,o)=>{for(let s=0;s<t.length;s++){const l=e[s],c=t[s],u=l.el&&(l.type===Zt||!dn(l,c)||70&l.shapeFlag)?f(l.el):n;_(l,c,u,null,r,i,a,o,!0)}},D=(e,t,n,r,a,o,l)=>{if(n!==r){for(const c in r){if((0,i.Gg)(c))continue;const u=r[c],d=n[c];u!==d&&"value"!==c&&s(e,c,d,u,l,t.children,a,o,J)}if(n!==i.kT)for(const c in n)(0,i.Gg)(c)||c in r||s(e,c,n[c],null,l,t.children,a,o,J);"value"in r&&s(e,"value",n.value,r.value)}},O=(e,t,n,r,i,o,s,l,u)=>{const d=t.el=e?e.el:c(""),h=t.anchor=e?e.anchor:c("");let{patchFlag:f,dynamicChildren:p,slotScopeIds:m}=t;m&&(l=l?l.concat(m):m),null==e?(a(d,n,r),a(h,n,r),C(t.children,n,h,i,o,s,l,u)):f>0&&64&f&&p&&e.dynamicChildren?(P(e.dynamicChildren,p,n,i,o,s,l),(null!=t.key||i&&t===i.subTree)&&Ut(e,t,!0)):z(e,t,n,h,i,o,s,l,u)},N=(e,t,n,r,i,a,o,s,l)=>{t.slotScopeIds=s,null==e?512&t.shapeFlag?i.ctx.activate(t,n,r,o,l):F(t,n,r,i,a,o,l):B(e,t,l)},F=(e,t,n,r,i,a,o)=>{const s=e.component=kn(e,r,i);if(_e(e)&&(s.ctx.renderer=te),Bn(s),s.asyncDep){if(i&&i.registerDep(s,V),!e.el){const e=s.subTree=vn(Jt);b(null,e,t,n)}}else V(s,e,t,n,i,a,o)},B=(e,t,n)=>{const r=t.component=e.component;if(Y(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void U(r,t,n);r.next=t,k(r.update),r.update()}else t.el=e.el,r.vnode=t},V=(e,t,n,a,o,s,l)=>{const c=()=>{if(e.isMounted){let t,{next:n,bu:r,u:a,parent:c,vnode:u}=e,d=n;0,Vt(e,!1),n?(n.el=u.el,U(e,n,l)):n=u,r&&(0,i.ir)(r),(t=n.props&&n.props.onVnodeBeforeUpdate)&&Tn(t,c,n,u),Vt(e,!0);const h=W(e);0;const p=e.subTree;e.subTree=h,_(p,h,f(p.el),Q(p),e,o,s),n.el=h.el,null===d&&q(e,h.el),a&&Nt(a,o),(t=n.props&&n.props.onVnodeUpdated)&&Nt((()=>Tn(t,c,n,u)),o)}else{let r;const{el:l,props:c}=t,{bm:u,m:d,parent:h}=e,f=ge(t);if(Vt(e,!1),u&&(0,i.ir)(u),!f&&(r=c&&c.onVnodeBeforeMount)&&Tn(r,h,t),Vt(e,!0),l&&re){const n=()=>{e.subTree=W(e),re(l,e.subTree,e,o,null)};f?t.type.__asyncLoader().then((()=>!e.isUnmounted&&n())):n()}else{0;const r=e.subTree=W(e);0,_(null,r,n,a,e,o,s),t.el=r.el}if(d&&Nt(d,o),!f&&(r=c&&c.onVnodeMounted)){const e=t;Nt((()=>Tn(r,h,e)),o)}(256&t.shapeFlag||h&&ge(h.vnode)&&256&h.vnode.shapeFlag)&&e.a&&Nt(e.a,o),e.isMounted=!0,t=n=a=null}},u=e.effect=new r.qq(c,(()=>A(d)),e.scope),d=e.update=()=>u.run();d.id=e.uid,Vt(e,!0),d()},U=(e,t,n)=>{t.component=e;const i=e.vnode.props;e.vnode=t,e.next=null,vt(e,t.props,i,n),Rt(e,t.children,n),(0,r.Jd)(),L(),(0,r.lk)()},z=(e,t,n,r,i,a,o,s,l=!1)=>{const c=e&&e.children,u=e?e.shapeFlag:0,d=t.children,{patchFlag:f,shapeFlag:p}=t;if(f>0){if(128&f)return void j(c,d,n,r,i,a,o,s,l);if(256&f)return void H(c,d,n,r,i,a,o,s,l)}8&p?(16&u&&J(c,i,a),d!==c&&h(n,d)):16&u?16&p?j(c,d,n,r,i,a,o,s,l):J(c,i,a,!0):(8&u&&h(n,""),16&p&&C(d,n,r,i,a,o,s,l))},H=(e,t,n,r,a,o,s,l,c)=>{e=e||i.Z6,t=t||i.Z6;const u=e.length,d=t.length,h=Math.min(u,d);let f;for(f=0;f<h;f++){const r=t[f]=c?Sn(t[f]):wn(t[f]);_(e[f],r,n,null,a,o,s,l,c)}u>d?J(e,a,o,!0,!1,h):C(t,n,r,a,o,s,l,c,h)},j=(e,t,n,r,a,o,s,l,c)=>{let u=0;const d=t.length;let h=e.length-1,f=d-1;while(u<=h&&u<=f){const r=e[u],i=t[u]=c?Sn(t[u]):wn(t[u]);if(!dn(r,i))break;_(r,i,n,null,a,o,s,l,c),u++}while(u<=h&&u<=f){const r=e[h],i=t[f]=c?Sn(t[f]):wn(t[f]);if(!dn(r,i))break;_(r,i,n,null,a,o,s,l,c),h--,f--}if(u>h){if(u<=f){const e=f+1,i=e<d?t[e].el:r;while(u<=f)_(null,t[u]=c?Sn(t[u]):wn(t[u]),n,i,a,o,s,l,c),u++}}else if(u>f)while(u<=h)$(e[u],a,o,!0),u++;else{const p=u,m=u,v=new Map;for(u=m;u<=f;u++){const e=t[u]=c?Sn(t[u]):wn(t[u]);null!=e.key&&v.set(e.key,u)}let g,y=0;const b=f-m+1;let x=!1,w=0;const S=new Array(b);for(u=0;u<b;u++)S[u]=0;for(u=p;u<=h;u++){const r=e[u];if(y>=b){$(r,a,o,!0);continue}let i;if(null!=r.key)i=v.get(r.key);else for(g=m;g<=f;g++)if(0===S[g-m]&&dn(r,t[g])){i=g;break}void 0===i?$(r,a,o,!0):(S[i-m]=u+1,i>=w?w=i:x=!0,_(r,t[i],n,null,a,o,s,l,c),y++)}const M=x?zt(S):i.Z6;for(g=M.length-1,u=b-1;u>=0;u--){const e=m+u,i=t[e],h=e+1<d?t[e+1].el:r;0===S[u]?_(null,i,n,h,a,o,s,l,c):x&&(g<0||u!==M[g]?G(i,n,h,2):g--)}}},G=(e,t,n,r,i=null)=>{const{el:o,type:s,transition:l,children:c,shapeFlag:u}=e;if(6&u)return void G(e.component.subTree,t,n,r);if(128&u)return void e.suspense.move(t,n,r);if(64&u)return void s.move(e,t,n,te);if(s===Zt){a(o,t,n);for(let e=0;e<c.length;e++)G(c[e],t,n,r);return void a(e.anchor,t,n)}if(s===Qt)return void w(e,t,n);const d=2!==r&&1&u&&l;if(d)if(0===r)l.beforeEnter(o),a(o,t,n),Nt((()=>l.enter(o)),i);else{const{leave:e,delayLeave:r,afterLeave:i}=l,s=()=>a(o,t,n),c=()=>{e(o,(()=>{s(),i&&i()}))};r?r(o,s,c):c()}else a(o,t,n)},$=(e,t,n,r=!1,i=!1)=>{const{type:a,props:o,ref:s,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:d,dirs:h}=e;if(null!=s&&Dt(s,null,n,e,!0),256&u)return void t.ctx.deactivate(e);const f=1&u&&h,p=!ge(e);let m;if(p&&(m=o&&o.onVnodeBeforeUnmount)&&Tn(m,t,e),6&u)K(e.component,n,r);else{if(128&u)return void e.suspense.unmount(n,r);f&&Ve(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,n,i,te,r):c&&(a!==Zt||d>0&&64&d)?J(c,t,n,!1,!0):(a===Zt&&384&d||!i&&16&u)&&J(l,t,n),r&&X(e)}(p&&(m=o&&o.onVnodeUnmounted)||f)&&Nt((()=>{m&&Tn(m,t,e),f&&Ve(e,null,t,"unmounted")}),n)},X=e=>{const{type:t,el:n,anchor:r,transition:i}=e;if(t===Zt)return void Z(n,r);if(t===Qt)return void S(e);const a=()=>{o(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&e.shapeFlag&&i&&!i.persisted){const{leave:t,delayLeave:r}=i,o=()=>t(n,a);r?r(e.el,a,o):o()}else a()},Z=(e,t)=>{let n;while(e!==t)n=p(e),o(e),e=n;o(t)},K=(e,t,n)=>{const{bum:r,scope:a,update:o,subTree:s,um:l}=e;r&&(0,i.ir)(r),a.stop(),o&&(o.active=!1,$(s,e,t,n)),l&&Nt(l,t),Nt((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},J=(e,t,n,r=!1,i=!1,a=0)=>{for(let o=a;o<e.length;o++)$(e[o],t,n,r,i)},Q=e=>6&e.shapeFlag?Q(e.component.subTree):128&e.shapeFlag?e.suspense.next():p(e.anchor||e.el),ee=(e,t,n)=>{null==e?t._vnode&&$(t._vnode,null,null,!0):_(t._vnode||null,e,t,null,null,null,n),L(),I(),t._vnode=e},te={p:_,um:$,m:G,r:X,mt:F,mc:C,pc:z,pbc:P,n:Q,o:e};let ne,re;return t&&([ne,re]=t(te)),{render:ee,hydrate:ne,createApp:Pt(ee,ne)}}function Vt({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Ut(e,t,n=!1){const r=e.children,a=t.children;if((0,i.kJ)(r)&&(0,i.kJ)(a))for(let i=0;i<r.length;i++){const e=r[i];let t=a[i];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=a[i]=Sn(a[i]),t.el=e.el),n||Ut(e,t))}}function zt(e){const t=e.slice(),n=[0];let r,i,a,o,s;const l=e.length;for(r=0;r<l;r++){const l=e[r];if(0!==l){if(i=n[n.length-1],e[i]<l){t[r]=i,n.push(r);continue}a=0,o=n.length-1;while(a<o)s=a+o>>1,e[n[s]]<l?a=s+1:o=s;l<e[n[a]]&&(a>0&&(t[r]=n[a-1]),n[a]=r)}}a=n.length,o=n[a-1];while(a-- >0)n[a]=o,o=t[o];return n}const Ht=e=>e.__isTeleport,Wt=e=>e&&(e.disabled||""===e.disabled),jt=e=>"undefined"!==typeof SVGElement&&e instanceof SVGElement,Gt=(e,t)=>{const n=e&&e.to;if((0,i.HD)(n)){if(t){const e=t(n);return e}return null}return n},Yt={__isTeleport:!0,process(e,t,n,r,i,a,o,s,l,c){const{mc:u,pc:d,pbc:h,o:{insert:f,querySelector:p,createText:m,createComment:v}}=c,g=Wt(t.props);let{shapeFlag:_,children:y,dynamicChildren:b}=t;if(null==e){const e=t.el=m(""),c=t.anchor=m("");f(e,n,r),f(c,n,r);const d=t.target=Gt(t.props,p),h=t.targetAnchor=m("");d&&(f(h,d),o=o||jt(d));const v=(e,t)=>{16&_&&u(y,e,t,i,a,o,s,l)};g?v(n,c):d&&v(d,h)}else{t.el=e.el;const r=t.anchor=e.anchor,u=t.target=e.target,f=t.targetAnchor=e.targetAnchor,m=Wt(e.props),v=m?n:u,_=m?r:f;if(o=o||jt(u),b?(h(e.dynamicChildren,b,v,i,a,o,s),Ut(e,t,!0)):l||d(e,t,v,_,i,a,o,s,!1),g)m||$t(t,n,r,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=Gt(t.props,p);e&&$t(t,e,null,c,0)}else m&&$t(t,u,f,c,1)}},remove(e,t,n,r,{um:i,o:{remove:a}},o){const{shapeFlag:s,children:l,anchor:c,targetAnchor:u,target:d,props:h}=e;if(d&&a(u),(o||!Wt(h))&&(a(c),16&s))for(let f=0;f<l.length;f++){const e=l[f];i(e,t,n,!0,!!e.dynamicChildren)}},move:$t,hydrate:qt};function $t(e,t,n,{o:{insert:r},m:i},a=2){0===a&&r(e.targetAnchor,t,n);const{el:o,anchor:s,shapeFlag:l,children:c,props:u}=e,d=2===a;if(d&&r(o,t,n),(!d||Wt(u))&&16&l)for(let h=0;h<c.length;h++)i(c[h],t,n,2);d&&r(s,t,n)}function qt(e,t,n,r,i,a,{o:{nextSibling:o,parentNode:s,querySelector:l}},c){const u=t.target=Gt(t.props,l);if(u){const l=u._lpa||u.firstChild;if(16&t.shapeFlag)if(Wt(t.props))t.anchor=c(o(e),t,s(e),n,r,i,a),t.targetAnchor=l;else{t.anchor=o(e);let s=l;while(s)if(s=o(s),s&&8===s.nodeType&&"teleport anchor"===s.data){t.targetAnchor=s,u._lpa=t.targetAnchor&&o(t.targetAnchor);break}c(l,t,u,n,r,i,a)}}return t.anchor&&o(t.anchor)}const Xt=Yt,Zt=Symbol(void 0),Kt=Symbol(void 0),Jt=Symbol(void 0),Qt=Symbol(void 0),en=[];let tn=null;function nn(e=!1){en.push(tn=e?null:[])}function rn(){en.pop(),tn=en[en.length-1]||null}let an=1;function on(e){an+=e}function sn(e){return e.dynamicChildren=an>0?tn||i.Z6:null,rn(),an>0&&tn&&tn.push(e),e}function ln(e,t,n,r,i,a){return sn(mn(e,t,n,r,i,a,!0))}function cn(e,t,n,r,i){return sn(vn(e,t,n,r,i,!0))}function un(e){return!!e&&!0===e.__v_isVNode}function dn(e,t){return e.type===t.type&&e.key===t.key}const hn="__vInternal",fn=({key:e})=>null!=e?e:null,pn=({ref:e,ref_key:t,ref_for:n})=>null!=e?(0,i.HD)(e)||(0,r.dq)(e)||(0,i.mf)(e)?{i:V,r:e,k:t,f:!!n}:e:null;function mn(e,t=null,n=null,r=0,a=null,o=(e===Zt?0:1),s=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&fn(t),ref:t&&pn(t),scopeId:U,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:a,dynamicChildren:null,appContext:null};return l?(Mn(c,n),128&o&&e.normalize(c)):n&&(c.shapeFlag|=(0,i.HD)(n)?8:16),an>0&&!s&&tn&&(c.patchFlag>0||6&o)&&32!==c.patchFlag&&tn.push(c),c}const vn=gn;function gn(e,t=null,n=null,a=0,o=null,s=!1){if(e&&e!==We||(e=Jt),un(e)){const r=yn(e,t,!0);return n&&Mn(r,n),an>0&&!s&&tn&&(6&r.shapeFlag?tn[tn.indexOf(e)]=r:tn.push(r)),r.patchFlag|=-2,r}if(Xn(e)&&(e=e.__vccOpts),t){t=_n(t);let{class:e,style:n}=t;e&&!(0,i.HD)(e)&&(t.class=(0,i.C_)(e)),(0,i.Kn)(n)&&((0,r.X3)(n)&&!(0,i.kJ)(n)&&(n=(0,i.l7)({},n)),t.style=(0,i.j5)(n))}const l=(0,i.HD)(e)?1:X(e)?128:Ht(e)?64:(0,i.Kn)(e)?4:(0,i.mf)(e)?2:0;return mn(e,t,n,a,o,l,s,!0)}function _n(e){return e?(0,r.X3)(e)||hn in e?(0,i.l7)({},e):e:null}function yn(e,t,n=!1){const{props:r,ref:a,patchFlag:o,children:s}=e,l=t?En(r||{},t):r,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&fn(l),ref:t&&t.ref?n&&a?(0,i.kJ)(a)?a.concat(pn(t)):[a,pn(t)]:pn(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Zt?-1===o?16:16|o:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&yn(e.ssContent),ssFallback:e.ssFallback&&yn(e.ssFallback),el:e.el,anchor:e.anchor};return c}function bn(e=" ",t=0){return vn(Kt,null,e,t)}function xn(e="",t=!1){return t?(nn(),cn(Jt,null,e)):vn(Jt,null,e)}function wn(e){return null==e||"boolean"===typeof e?vn(Jt):(0,i.kJ)(e)?vn(Zt,null,e.slice()):"object"===typeof e?Sn(e):vn(Kt,null,String(e))}function Sn(e){return null===e.el||e.memo?e:yn(e)}function Mn(e,t){let n=0;const{shapeFlag:r}=e;if(null==t)t=null;else if((0,i.kJ)(t))n=16;else if("object"===typeof t){if(65&r){const n=t.default;return void(n&&(n._c&&(n._d=!1),Mn(e,n()),n._c&&(n._d=!0)))}{n=32;const r=t._;r||hn in t?3===r&&V&&(1===V.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=V}}else(0,i.mf)(t)?(t={default:t,_ctx:V},n=32):(t=String(t),64&r?(n=16,t=[bn(t)]):n=8);e.children=t,e.shapeFlag|=n}function En(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const e in r)if("class"===e)t.class!==r.class&&(t.class=(0,i.C_)([t.class,r.class]));else if("style"===e)t.style=(0,i.j5)([t.style,r.style]);else if((0,i.F7)(e)){const n=t[e],a=r[e];!a||n===a||(0,i.kJ)(n)&&n.includes(a)||(t[e]=n?[].concat(n,a):a)}else""!==e&&(t[e]=r[e])}return t}function Tn(e,t,n,r=null){f(e,t,7,[n,r])}const An=Lt();let Cn=0;function kn(e,t,n){const a=e.type,o=(t?t.appContext:e.appContext)||An,s={uid:Cn++,vnode:e,type:a,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new r.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:yt(a,o),emitsOptions:F(a,o),emit:null,emitted:null,propsDefaults:i.kT,inheritAttrs:a.inheritAttrs,ctx:i.kT,data:i.kT,props:i.kT,attrs:i.kT,slots:i.kT,refs:i.kT,setupState:i.kT,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=N.bind(null,s),e.ce&&e.ce(s),s}let Rn=null;const Ln=()=>Rn||V,In=e=>{Rn=e,e.scope.on()},Pn=()=>{Rn&&Rn.scope.off(),Rn=null};function Dn(e){return 4&e.vnode.shapeFlag}let On,Nn,Fn=!1;function Bn(e,t=!1){Fn=t;const{props:n,children:r}=e.vnode,i=Dn(e);mt(e,n,i,t),kt(e,r);const a=i?Vn(e,t):void 0;return Fn=!1,a}function Vn(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=(0,r.Xl)(new Proxy(e.ctx,et));const{setup:a}=n;if(a){const n=e.setupContext=a.length>1?Wn(e):null;In(e),(0,r.Jd)();const o=h(a,e,0,[e.props,n]);if((0,r.lk)(),Pn(),(0,i.tI)(o)){if(o.then(Pn,Pn),t)return o.then((n=>{Un(e,n,t)})).catch((t=>{p(t,e,0)}));e.asyncDep=o}else Un(e,o,t)}else zn(e,t)}function Un(e,t,n){(0,i.mf)(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:(0,i.Kn)(t)&&(e.setupState=(0,r.WL)(t)),zn(e,n)}function zn(e,t,n){const a=e.type;if(!e.render){if(!t&&On&&!a.render){const t=a.template||ot(e).template;if(t){0;const{isCustomElement:n,compilerOptions:r}=e.appContext.config,{delimiters:o,compilerOptions:s}=a,l=(0,i.l7)((0,i.l7)({isCustomElement:n,delimiters:o},r),s);a.render=On(t,l)}}e.render=a.render||i.dG,Nn&&Nn(e)}In(e),(0,r.Jd)(),nt(e),(0,r.lk)(),Pn()}function Hn(e){return new Proxy(e.attrs,{get(t,n){return(0,r.j)(e,"get","$attrs"),t[n]}})}function Wn(e){const t=t=>{e.exposed=t||{}};let n;return{get attrs(){return n||(n=Hn(e))},slots:e.slots,emit:e.emit,expose:t}}function jn(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy((0,r.WL)((0,r.Xl)(e.exposed)),{get(t,n){return n in t?t[n]:n in Qe?Qe[n](e):void 0}}))}const Gn=/(?:^|[-_])(\w)/g,Yn=e=>e.replace(Gn,(e=>e.toUpperCase())).replace(/[-_]/g,"");function $n(e,t=!0){return(0,i.mf)(e)?e.displayName||e.name:e.name||t&&e.__name}function qn(e,t,n=!1){let r=$n(t);if(!r&&t.__file){const e=t.__file.match(/([^/\\]+)\.\w+$/);e&&(r=e[1])}if(!r&&e&&e.parent){const n=e=>{for(const n in e)if(e[n]===t)return n};r=n(e.components||e.parent.type.components)||n(e.appContext.components)}return r?Yn(r):n?"App":"Anonymous"}function Xn(e){return(0,i.mf)(e)&&"__vccOpts"in e}const Zn=(e,t)=>(0,r.Fl)(e,t,Fn);function Kn(e,t,n){const r=arguments.length;return 2===r?(0,i.Kn)(t)&&!(0,i.kJ)(t)?un(t)?vn(e,null,[t]):vn(e,t):vn(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&un(n)&&(n=[n]),vn(e,t,n))}Symbol("");const Jn="3.2.39"},9242:function(e,t,n){"use strict";n.d(t,{D2:function(){return ge},F8:function(){return _e},W3:function(){return ie},iM:function(){return me},nr:function(){return he},ri:function(){return Se},uT:function(){return B}});n(7658);var r=n(7139),i=n(3396),a=n(4870);const o="http://www.w3.org/2000/svg",s="undefined"!==typeof document?document:null,l=s&&s.createElement("template"),c={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t?s.createElementNS(o,e):s.createElement(e,n?{is:n}:void 0);return"select"===e&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:e=>s.createTextNode(e),createComment:e=>s.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>s.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,r,i,a){const o=n?n.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling)){while(1)if(t.insertBefore(i.cloneNode(!0),n),i===a||!(i=i.nextSibling))break}else{l.innerHTML=r?`<svg>${e}</svg>`:e;const i=l.content;if(r){const e=i.firstChild;while(e.firstChild)i.appendChild(e.firstChild);i.removeChild(e)}t.insertBefore(i,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function u(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function d(e,t,n){const i=e.style,a=(0,r.HD)(n);if(n&&!a){for(const e in n)f(i,e,n[e]);if(t&&!(0,r.HD)(t))for(const e in t)null==n[e]&&f(i,e,"")}else{const r=i.display;a?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=r)}}const h=/\s*!important$/;function f(e,t,n){if((0,r.kJ)(n))n.forEach((n=>f(e,t,n)));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=v(e,t);h.test(n)?e.setProperty((0,r.rs)(i),n.replace(h,""),"important"):e[i]=n}}const p=["Webkit","Moz","ms"],m={};function v(e,t){const n=m[t];if(n)return n;let i=(0,r._A)(t);if("filter"!==i&&i in e)return m[t]=i;i=(0,r.kC)(i);for(let r=0;r<p.length;r++){const n=p[r]+i;if(n in e)return m[t]=n}return t}const g="http://www.w3.org/1999/xlink";function _(e,t,n,i,a){if(i&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(g,t.slice(6,t.length)):e.setAttributeNS(g,t,n);else{const i=(0,r.Pq)(t);null==n||i&&!(0,r.yA)(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function y(e,t,n,i,a,o,s){if("innerHTML"===t||"textContent"===t)return i&&s(i,a,o),void(e[t]=null==n?"":n);if("value"===t&&"PROGRESS"!==e.tagName&&!e.tagName.includes("-")){e._value=n;const r=null==n?"":n;return e.value===r&&"OPTION"!==e.tagName||(e.value=r),void(null==n&&e.removeAttribute(t))}let l=!1;if(""===n||null==n){const i=typeof e[t];"boolean"===i?n=(0,r.yA)(n):null==n&&"string"===i?(n="",l=!0):"number"===i&&(n=0,l=!0)}try{e[t]=n}catch(c){0}l&&e.removeAttribute(t)}const[b,x]=(()=>{let e=Date.now,t=!1;if("undefined"!==typeof window){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(n&&Number(n[1])<=53)}return[e,t]})();let w=0;const S=Promise.resolve(),M=()=>{w=0},E=()=>w||(S.then(M),w=b());function T(e,t,n,r){e.addEventListener(t,n,r)}function A(e,t,n,r){e.removeEventListener(t,n,r)}function C(e,t,n,r,i=null){const a=e._vei||(e._vei={}),o=a[t];if(r&&o)o.value=r;else{const[n,s]=R(t);if(r){const o=a[t]=L(r,i);T(e,n,o,s)}else o&&(A(e,n,o,s),a[t]=void 0)}}const k=/(?:Once|Passive|Capture)$/;function R(e){let t;if(k.test(e)){let n;t={};while(n=e.match(k))e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}const n=":"===e[2]?e.slice(3):(0,r.rs)(e.slice(2));return[n,t]}function L(e,t){const n=e=>{const r=e.timeStamp||b();(x||r>=n.attached-1)&&(0,i.$d)(I(e,n.value),t,5,[e])};return n.value=e,n.attached=E(),n}function I(e,t){if((0,r.kJ)(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}const P=/^on[a-z]/,D=(e,t,n,i,a=!1,o,s,l,c)=>{"class"===t?u(e,i,a):"style"===t?d(e,n,i):(0,r.F7)(t)?(0,r.tR)(t)||C(e,t,n,i,s):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):O(e,t,i,a))?y(e,t,i,o,s,l,c):("true-value"===t?e._trueValue=i:"false-value"===t&&(e._falseValue=i),_(e,t,i,a))};function O(e,t,n,i){return i?"innerHTML"===t||"textContent"===t||!!(t in e&&P.test(t)&&(0,r.mf)(n)):"spellcheck"!==t&&"draggable"!==t&&"translate"!==t&&("form"!==t&&(("list"!==t||"INPUT"!==e.tagName)&&(("type"!==t||"TEXTAREA"!==e.tagName)&&((!P.test(t)||!(0,r.HD)(n))&&t in e))))}"undefined"!==typeof HTMLElement&&HTMLElement;const N="transition",F="animation",B=(e,{slots:t})=>(0,i.h)(i.P$,W(e),t);B.displayName="Transition";const V={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},U=B.props=(0,r.l7)({},i.P$.props,V),z=(e,t=[])=>{(0,r.kJ)(e)?e.forEach((e=>e(...t))):e&&e(...t)},H=e=>!!e&&((0,r.kJ)(e)?e.some((e=>e.length>1)):e.length>1);function W(e){const t={};for(const r in e)r in V||(t[r]=e[r]);if(!1===e.css)return t;const{name:n="v",type:i,duration:a,enterFromClass:o=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=o,appearActiveClass:u=s,appearToClass:d=l,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=e,m=j(a),v=m&&m[0],g=m&&m[1],{onBeforeEnter:_,onEnter:y,onEnterCancelled:b,onLeave:x,onLeaveCancelled:w,onBeforeAppear:S=_,onAppear:M=y,onAppearCancelled:E=b}=t,T=(e,t,n)=>{$(e,t?d:l),$(e,t?u:s),n&&n()},A=(e,t)=>{e._isLeaving=!1,$(e,h),$(e,p),$(e,f),t&&t()},C=e=>(t,n)=>{const r=e?M:y,a=()=>T(t,e,n);z(r,[t,a]),q((()=>{$(t,e?c:o),Y(t,e?d:l),H(r)||Z(t,i,v,a)}))};return(0,r.l7)(t,{onBeforeEnter(e){z(_,[e]),Y(e,o),Y(e,s)},onBeforeAppear(e){z(S,[e]),Y(e,c),Y(e,u)},onEnter:C(!1),onAppear:C(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>A(e,t);Y(e,h),ee(),Y(e,f),q((()=>{e._isLeaving&&($(e,h),Y(e,p),H(x)||Z(e,i,g,n))})),z(x,[e,n])},onEnterCancelled(e){T(e,!1),z(b,[e])},onAppearCancelled(e){T(e,!0),z(E,[e])},onLeaveCancelled(e){A(e),z(w,[e])}})}function j(e){if(null==e)return null;if((0,r.Kn)(e))return[G(e.enter),G(e.leave)];{const t=G(e);return[t,t]}}function G(e){const t=(0,r.He)(e);return t}function Y(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e._vtc||(e._vtc=new Set)).add(t)}function $(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function q(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let X=0;function Z(e,t,n,r){const i=e._endId=++X,a=()=>{i===e._endId&&r()};if(n)return setTimeout(a,n);const{type:o,timeout:s,propCount:l}=K(e,t);if(!o)return r();const c=o+"end";let u=0;const d=()=>{e.removeEventListener(c,h),a()},h=t=>{t.target===e&&++u>=l&&d()};setTimeout((()=>{u<l&&d()}),s+1),e.addEventListener(c,h)}function K(e,t){const n=window.getComputedStyle(e),r=e=>(n[e]||"").split(", "),i=r(N+"Delay"),a=r(N+"Duration"),o=J(i,a),s=r(F+"Delay"),l=r(F+"Duration"),c=J(s,l);let u=null,d=0,h=0;t===N?o>0&&(u=N,d=o,h=a.length):t===F?c>0&&(u=F,d=c,h=l.length):(d=Math.max(o,c),u=d>0?o>c?N:F:null,h=u?u===N?a.length:l.length:0);const f=u===N&&/\b(transform|all)(,|$)/.test(n[N+"Property"]);return{type:u,timeout:d,propCount:h,hasTransform:f}}function J(e,t){while(e.length<t.length)e=e.concat(e);return Math.max(...t.map(((t,n)=>Q(t)+Q(e[n]))))}function Q(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function ee(){return document.body.offsetHeight}const te=new WeakMap,ne=new WeakMap,re={name:"TransitionGroup",props:(0,r.l7)({},U,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=(0,i.FN)(),r=(0,i.Y8)();let o,s;return(0,i.ic)((()=>{if(!o.length)return;const t=e.moveClass||`${e.name||"v"}-move`;if(!le(o[0].el,n.vnode.el,t))return;o.forEach(ae),o.forEach(oe);const r=o.filter(se);ee(),r.forEach((e=>{const n=e.el,r=n.style;Y(n,t),r.transform=r.webkitTransform=r.transitionDuration="";const i=n._moveCb=e=>{e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener("transitionend",i),n._moveCb=null,$(n,t))};n.addEventListener("transitionend",i)}))})),()=>{const l=(0,a.IU)(e),c=W(l);let u=l.tag||i.HY;o=s,s=t.default?(0,i.Q6)(t.default()):[];for(let e=0;e<s.length;e++){const t=s[e];null!=t.key&&(0,i.nK)(t,(0,i.U2)(t,c,r,n))}if(o)for(let e=0;e<o.length;e++){const t=o[e];(0,i.nK)(t,(0,i.U2)(t,c,r,n)),te.set(t,t.el.getBoundingClientRect())}return(0,i.Wm)(u,null,s)}}},ie=re;function ae(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function oe(e){ne.set(e,e.el.getBoundingClientRect())}function se(e){const t=te.get(e),n=ne.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${r}px,${i}px)`,t.transitionDuration="0s",e}}function le(e,t,n){const r=e.cloneNode();e._vtc&&e._vtc.forEach((e=>{e.split(/\s+/).forEach((e=>e&&r.classList.remove(e)))})),n.split(/\s+/).forEach((e=>e&&r.classList.add(e))),r.style.display="none";const i=1===t.nodeType?t:t.parentNode;i.appendChild(r);const{hasTransform:a}=K(r);return i.removeChild(r),a}const ce=e=>{const t=e.props["onUpdate:modelValue"]||!1;return(0,r.kJ)(t)?e=>(0,r.ir)(t,e):t};function ue(e){e.target.composing=!0}function de(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const he={created(e,{modifiers:{lazy:t,trim:n,number:i}},a){e._assign=ce(a);const o=i||a.props&&"number"===a.props.type;T(e,t?"change":"input",(t=>{if(t.target.composing)return;let i=e.value;n&&(i=i.trim()),o&&(i=(0,r.He)(i)),e._assign(i)})),n&&T(e,"change",(()=>{e.value=e.value.trim()})),t||(T(e,"compositionstart",ue),T(e,"compositionend",de),T(e,"change",de))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:i,number:a}},o){if(e._assign=ce(o),e.composing)return;if(document.activeElement===e&&"range"!==e.type){if(n)return;if(i&&e.value.trim()===t)return;if((a||"number"===e.type)&&(0,r.He)(e.value)===t)return}const s=null==t?"":t;e.value!==s&&(e.value=s)}};const fe=["ctrl","shift","alt","meta"],pe={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>fe.some((n=>e[`${n}Key`]&&!t.includes(n)))},me=(e,t)=>(n,...r)=>{for(let e=0;e<t.length;e++){const r=pe[t[e]];if(r&&r(n,t))return}return e(n,...r)},ve={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ge=(e,t)=>n=>{if(!("key"in n))return;const i=(0,r.rs)(n.key);return t.some((e=>e===i||ve[e]===i))?e(n):void 0},_e={beforeMount(e,{value:t},{transition:n}){e._vod="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):ye(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!==!n&&(r?t?(r.beforeEnter(e),ye(e,!0),r.enter(e)):r.leave(e,(()=>{ye(e,!1)})):ye(e,t))},beforeUnmount(e,{value:t}){ye(e,t)}};function ye(e,t){e.style.display=t?e._vod:"none"}const be=(0,r.l7)({patchProp:D},c);let xe;function we(){return xe||(xe=(0,i.Us)(be))}const Se=(...e)=>{const t=we().createApp(...e);const{mount:n}=t;return t.mount=e=>{const i=Me(e);if(!i)return;const a=t._component;(0,r.mf)(a)||a.render||a.template||(a.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t};function Me(e){if((0,r.HD)(e)){const t=document.querySelector(e);return t}return e}},7139:function(e,t,n){"use strict";n.d(t,{C_:function(){return f},DM:function(){return P},E9:function(){return ie},F7:function(){return E},Gg:function(){return G},HD:function(){return N},He:function(){return ne},Kn:function(){return B},NO:function(){return S},Nj:function(){return te},Od:function(){return C},PO:function(){return W},Pq:function(){return s},RI:function(){return R},S0:function(){return j},W7:function(){return H},WV:function(){return v},Z6:function(){return x},_A:function(){return q},_N:function(){return I},aU:function(){return Q},dG:function(){return w},e1:function(){return a},fY:function(){return r},hR:function(){return J},hq:function(){return g},ir:function(){return ee},j5:function(){return c},kC:function(){return K},kJ:function(){return L},kT:function(){return b},l7:function(){return A},mf:function(){return O},rs:function(){return Z},tI:function(){return V},tR:function(){return T},vs:function(){return p},yA:function(){return l},yk:function(){return F},zw:function(){return _}});n(7658);function r(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}const i="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",a=r(i);const o="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",s=r(o);function l(e){return!!e||""===e}function c(e){if(L(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=N(r)?h(r):c(r);if(i)for(const e in i)t[e]=i[e]}return t}return N(e)||B(e)?e:void 0}const u=/;(?![^(]*\))/g,d=/:(.+)/;function h(e){const t={};return e.split(u).forEach((e=>{if(e){const n=e.split(d);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function f(e){let t="";if(N(e))t=e;else if(L(e))for(let n=0;n<e.length;n++){const r=f(e[n]);r&&(t+=r+" ")}else if(B(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function p(e){if(!e)return null;let{class:t,style:n}=e;return t&&!N(t)&&(e.class=f(t)),n&&(e.style=c(n)),e}function m(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=v(e[r],t[r]);return n}function v(e,t){if(e===t)return!0;let n=D(e),r=D(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=F(e),r=F(t),n||r)return e===t;if(n=L(e),r=L(t),n||r)return!(!n||!r)&&m(e,t);if(n=B(e),r=B(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,a=Object.keys(t).length;if(i!==a)return!1;for(const n in e){const r=e.hasOwnProperty(n),i=t.hasOwnProperty(n);if(r&&!i||!r&&i||!v(e[n],t[n]))return!1}}return String(e)===String(t)}function g(e,t){return e.findIndex((e=>v(e,t)))}const _=e=>N(e)?e:null==e?"":L(e)||B(e)&&(e.toString===U||!O(e.toString))?JSON.stringify(e,y,2):String(e),y=(e,t)=>t&&t.__v_isRef?y(e,t.value):I(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n])=>(e[`${t} =>`]=n,e)),{})}:P(t)?{[`Set(${t.size})`]:[...t.values()]}:!B(t)||L(t)||W(t)?t:String(t),b={},x=[],w=()=>{},S=()=>!1,M=/^on[^a-z]/,E=e=>M.test(e),T=e=>e.startsWith("onUpdate:"),A=Object.assign,C=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},k=Object.prototype.hasOwnProperty,R=(e,t)=>k.call(e,t),L=Array.isArray,I=e=>"[object Map]"===z(e),P=e=>"[object Set]"===z(e),D=e=>"[object Date]"===z(e),O=e=>"function"===typeof e,N=e=>"string"===typeof e,F=e=>"symbol"===typeof e,B=e=>null!==e&&"object"===typeof e,V=e=>B(e)&&O(e.then)&&O(e.catch),U=Object.prototype.toString,z=e=>U.call(e),H=e=>z(e).slice(8,-1),W=e=>"[object Object]"===z(e),j=e=>N(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,G=r(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Y=e=>{const t=Object.create(null);return n=>{const r=t[n];return r||(t[n]=e(n))}},$=/-(\w)/g,q=Y((e=>e.replace($,((e,t)=>t?t.toUpperCase():"")))),X=/\B([A-Z])/g,Z=Y((e=>e.replace(X,"-$1").toLowerCase())),K=Y((e=>e.charAt(0).toUpperCase()+e.slice(1))),J=Y((e=>e?`on${K(e)}`:"")),Q=(e,t)=>!Object.is(e,t),ee=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},te=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},ne=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let re;const ie=()=>re||(re="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{})},6237:function(e){e.exports="object"==typeof self?self.FormData:window.FormData},1598:function(e,t,n){"use strict";n(1703),n(2801);function r(e){this.message=e}r.prototype=new Error,r.prototype.name="InvalidCharacterError";var i="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new r("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,i,a=0,o=0,s="";i=t.charAt(o++);~i&&(n=a%4?64*n+i:i,a++%4)?s+=String.fromCharCode(255&n>>(-2*a&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return s};function a(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(i(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return i(t)}}function o(e){this.message=e}function s(e,t){if("string"!=typeof e)throw new o("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(a(e.split(".")[n]))}catch(e){throw new o("Invalid token specified: "+e.message)}}o.prototype=new Error,o.prototype.name="InvalidTokenError",t["Z"]=s},8754:function(e,t,n){var r=n(4624),i=(r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float),a=(r.new_float_n,r.new_int,r.new_int_n,r.assert,n(7131));function o(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=i(a.SBMAX_l),this.s=i(a.SBMAX_s),this.psfb21=i(a.PSFB21),this.psfb12=i(a.PSFB12),this.cb_l=i(a.CBANDS),this.cb_s=i(a.CBANDS),this.eql_w=i(a.BLKSIZE/2)}e.exports=o},6598:function(e,t,n){var r=n(4624),i=r.System,a=(r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays),o=(r.new_array_n,r.new_byte),s=(r.new_double,r.new_float,r.new_float_n),l=r.new_int,c=(r.new_int_n,r.assert),u=n(6034),d=n(366),h=n(7131),f=n(4314);function p(){var e=n(9341),t=this,r=32773,p=32,m=null,v=null,g=null,_=null;this.setModules=function(e,t,n,r){m=e,v=t,g=n,_=r};var y=null,b=0,x=0,w=0;function S(e){i.arraycopy(e.header[e.w_ptr].buf,0,y,x,e.sideinfo_len),x+=e.sideinfo_len,b+=8*e.sideinfo_len,e.w_ptr=e.w_ptr+1&f.MAX_HEADER_BUF-1}function M(t,n,r){c(r<p-2);while(r>0){var i;0==w&&(w=8,x++,c(x<e.LAME_MAXMP3BUFFER),c(t.header[t.w_ptr].write_timing>=b),t.header[t.w_ptr].write_timing==b&&S(t),y[x]=0),i=Math.min(r,w),r-=i,w-=i,c(r<p),c(w<p),y[x]|=n>>r<<w,b+=i}}function E(t,n,r){c(r<p-2);while(r>0){var i;0==w&&(w=8,x++,c(x<e.LAME_MAXMP3BUFFER),y[x]=0),i=Math.min(r,w),r-=i,w-=i,c(r<p),c(w<p),y[x]|=n>>r<<w,b+=i}}function T(e,t){var n,r=e.internal_flags;if(c(t>=0),t>=8&&(M(r,76,8),t-=8),t>=8&&(M(r,65,8),t-=8),t>=8&&(M(r,77,8),t-=8),t>=8&&(M(r,69,8),t-=8),t>=32){var i=g.getLameShortVersion();if(t>=32)for(n=0;n<i.length&&t>=8;++n)t-=8,M(r,i.charAt(n),8)}for(;t>=1;t-=1)M(r,r.ancillary_flag,1),r.ancillary_flag^=e.disable_reservoir?0:1;c(0==t)}function A(e,t,n){var r=e.header[e.h_ptr].ptr;while(n>0){var i=Math.min(n,8-(7&r));n-=i,c(n<p),e.header[e.h_ptr].buf[r>>3]|=t>>n<<8-(7&r)-i,r+=i}e.header[e.h_ptr].ptr=r}function C(e,t){e<<=8;for(var n=0;n<8;n++)e<<=1,t<<=1,0!=(65536&(t^e))&&(t^=r);return t}function k(e,t){var n,r,o,s=e.internal_flags;if(n=s.l3_side,s.header[s.h_ptr].ptr=0,a.fill(s.header[s.h_ptr].buf,0,s.sideinfo_len,0),e.out_samplerate<16e3?A(s,4094,12):A(s,4095,12),A(s,e.version,1),A(s,1,2),A(s,e.error_protection?0:1,1),A(s,s.bitrate_index,4),A(s,s.samplerate_index,2),A(s,s.padding,1),A(s,e.extension,1),A(s,e.mode.ordinal(),2),A(s,s.mode_ext,2),A(s,e.copyright,1),A(s,e.original,1),A(s,e.emphasis,2),e.error_protection&&A(s,0,16),1==e.version){for(c(n.main_data_begin>=0),A(s,n.main_data_begin,9),2==s.channels_out?A(s,n.private_bits,3):A(s,n.private_bits,5),o=0;o<s.channels_out;o++){var l;for(l=0;l<4;l++)A(s,n.scfsi[o][l],1)}for(r=0;r<2;r++)for(o=0;o<s.channels_out;o++){var u=n.tt[r][o];A(s,u.part2_3_length+u.part2_length,12),A(s,u.big_values/2,9),A(s,u.global_gain,8),A(s,u.scalefac_compress,4),u.block_type!=h.NORM_TYPE?(A(s,1,1),A(s,u.block_type,2),A(s,u.mixed_block_flag,1),14==u.table_select[0]&&(u.table_select[0]=16),A(s,u.table_select[0],5),14==u.table_select[1]&&(u.table_select[1]=16),A(s,u.table_select[1],5),A(s,u.subblock_gain[0],3),A(s,u.subblock_gain[1],3),A(s,u.subblock_gain[2],3)):(A(s,0,1),14==u.table_select[0]&&(u.table_select[0]=16),A(s,u.table_select[0],5),14==u.table_select[1]&&(u.table_select[1]=16),A(s,u.table_select[1],5),14==u.table_select[2]&&(u.table_select[2]=16),A(s,u.table_select[2],5),c(0<=u.region0_count&&u.region0_count<16),c(0<=u.region1_count&&u.region1_count<8),A(s,u.region0_count,4),A(s,u.region1_count,3)),A(s,u.preflag,1),A(s,u.scalefac_scale,1),A(s,u.count1table_select,1)}}else for(c(n.main_data_begin>=0),A(s,n.main_data_begin,8),A(s,n.private_bits,s.channels_out),r=0,o=0;o<s.channels_out;o++){u=n.tt[r][o];A(s,u.part2_3_length+u.part2_length,12),A(s,u.big_values/2,9),A(s,u.global_gain,8),A(s,u.scalefac_compress,9),u.block_type!=h.NORM_TYPE?(A(s,1,1),A(s,u.block_type,2),A(s,u.mixed_block_flag,1),14==u.table_select[0]&&(u.table_select[0]=16),A(s,u.table_select[0],5),14==u.table_select[1]&&(u.table_select[1]=16),A(s,u.table_select[1],5),A(s,u.subblock_gain[0],3),A(s,u.subblock_gain[1],3),A(s,u.subblock_gain[2],3)):(A(s,0,1),14==u.table_select[0]&&(u.table_select[0]=16),A(s,u.table_select[0],5),14==u.table_select[1]&&(u.table_select[1]=16),A(s,u.table_select[1],5),14==u.table_select[2]&&(u.table_select[2]=16),A(s,u.table_select[2],5),c(0<=u.region0_count&&u.region0_count<16),c(0<=u.region1_count&&u.region1_count<8),A(s,u.region0_count,4),A(s,u.region1_count,3)),A(s,u.scalefac_scale,1),A(s,u.count1table_select,1)}e.error_protection&&CRC_writeheader(s,s.header[s.h_ptr].buf);var d=s.h_ptr;c(s.header[d].ptr==8*s.sideinfo_len),s.h_ptr=d+1&f.MAX_HEADER_BUF-1,s.header[s.h_ptr].write_timing=s.header[d].write_timing+t,s.h_ptr==s.w_ptr&&i.err.println("Error: MAX_HEADER_BUF too small in bitstream.c \n")}function R(e,t){var n,r=d.ht[t.count1table_select+32],i=0,a=t.big_values,o=t.big_values;for(c(t.count1table_select<2),n=(t.count1-t.big_values)/4;n>0;--n){var s,l=0,u=0;s=t.l3_enc[a+0],0!=s&&(u+=8,t.xr[o+0]<0&&l++,c(s<=1)),s=t.l3_enc[a+1],0!=s&&(u+=4,l*=2,t.xr[o+1]<0&&l++,c(s<=1)),s=t.l3_enc[a+2],0!=s&&(u+=2,l*=2,t.xr[o+2]<0&&l++,c(s<=1)),s=t.l3_enc[a+3],0!=s&&(u++,l*=2,t.xr[o+3]<0&&l++,c(s<=1)),a+=4,o+=4,M(e,l+r.table[u],r.hlen[u]),i+=r.hlen[u]}return i}function L(e,t,n,r,i){var a=d.ht[t],o=0;if(c(t<32),0==t)return o;for(var s=n;s<r;s+=2){var l=0,u=0,h=a.xlen,f=a.xlen,m=0,v=i.l3_enc[s],g=i.l3_enc[s+1];if(0!=v&&(i.xr[s]<0&&m++,l--),t>15){if(v>14){var _=v-15;c(_<=a.linmax),m|=_<<1,u=h,v=15}if(g>14){var y=g-15;c(y<=a.linmax),m<<=h,m|=y,u+=h,g=15}f=16}0!=g&&(m<<=1,i.xr[s+1]<0&&m++,l--),c((v|g)<16),v=v*f+g,u-=l,l+=a.hlen[v],c(l<=p),c(u<=p),M(e,a.table[v],l),M(e,m,u),o+=l+u}return o}function I(e,t){var n=3*e.scalefac_band.s[3];n>t.big_values&&(n=t.big_values);var r=L(e,t.table_select[0],0,n,t);return r+=L(e,t.table_select[1],n,t.big_values,t),r}function P(e,t){var n,r,i,a;n=t.big_values,c(0<=n&&n<=576);var o=t.region0_count+1;return c(0<=o),c(o<e.scalefac_band.l.length),i=e.scalefac_band.l[o],o+=t.region1_count+1,c(0<=o),c(o<e.scalefac_band.l.length),a=e.scalefac_band.l[o],i>n&&(i=n),a>n&&(a=n),r=L(e,t.table_select[0],0,i,t),r+=L(e,t.table_select[1],i,a,t),r+=L(e,t.table_select[2],a,n,t),r}function D(e){var t,n,r,i,a=0,o=e.internal_flags,s=o.l3_side;if(1==e.version)for(t=0;t<2;t++)for(n=0;n<o.channels_out;n++){var l=s.tt[t][n],d=u.slen1_tab[l.scalefac_compress],f=u.slen2_tab[l.scalefac_compress];for(i=0,r=0;r<l.sfbdivide;r++)-1!=l.scalefac[r]&&(M(o,l.scalefac[r],d),i+=d);for(;r<l.sfbmax;r++)-1!=l.scalefac[r]&&(M(o,l.scalefac[r],f),i+=f);c(i==l.part2_length),l.block_type==h.SHORT_TYPE?i+=I(o,l):i+=P(o,l),i+=R(o,l),c(i==l.part2_3_length+l.part2_length),a+=i}else for(t=0,n=0;n<o.channels_out;n++){l=s.tt[t][n];var p,m,v=0;if(c(null!=l.sfb_partition_table),i=0,r=0,m=0,l.block_type==h.SHORT_TYPE){for(;m<4;m++){var g=l.sfb_partition_table[m]/3,_=l.slen[m];for(p=0;p<g;p++,r++)M(o,Math.max(l.scalefac[3*r+0],0),_),M(o,Math.max(l.scalefac[3*r+1],0),_),M(o,Math.max(l.scalefac[3*r+2],0),_),v+=3*_}i+=I(o,l)}else{for(;m<4;m++){g=l.sfb_partition_table[m],_=l.slen[m];for(p=0;p<g;p++,r++)M(o,Math.max(l.scalefac[r],0),_),v+=_}i+=P(o,l)}i+=R(o,l),c(i==l.part2_3_length),c(v==l.part2_length),a+=v+i}return a}function O(){this.total=0}function N(e,n){var r,a,o,s,l,c=e.internal_flags;return l=c.w_ptr,s=c.h_ptr-1,-1==s&&(s=f.MAX_HEADER_BUF-1),r=c.header[s].write_timing-b,n.total=r,r>=0&&(a=1+s-l,s<l&&(a=1+s-l+f.MAX_HEADER_BUF),r-=8*a*c.sideinfo_len),o=t.getframebits(e),r+=o,n.total+=o,n.total%8!=0?n.total=1+n.total/8:n.total=n.total/8,n.total+=x+1,r<0&&i.err.println("strange error flushing buffer ... \n"),r}this.getframebits=function(e){var t,n=e.internal_flags;t=0!=n.bitrate_index?d.bitrate_table[e.version][n.bitrate_index]:e.brate,c(8<=t&&t<=640);var r=0|72e3*(e.version+1)*t/e.out_samplerate+n.padding;return 8*r},this.CRC_writeheader=function(e,t){var n=65535;n=C(255&t[2],n),n=C(255&t[3],n);for(var r=6;r<e.sideinfo_len;r++)n=C(255&t[r],n);t[4]=byte(n>>8),t[5]=byte(255&n)},this.flush_bitstream=function(e){var t,n,r=e.internal_flags,i=r.h_ptr-1;if(-1==i&&(i=f.MAX_HEADER_BUF-1),t=r.l3_side,!((n=N(e,new O))<0)){if(T(e,n),c(r.header[i].write_timing+this.getframebits(e)==b),r.ResvSize=0,t.main_data_begin=0,r.findReplayGain){var a=m.GetTitleGain(r.rgdata);c(NEQ(a,GainAnalysis.GAIN_NOT_ENOUGH_SAMPLES)),r.RadioGain=0|Math.floor(10*a+.5)}r.findPeakSample&&(r.noclipGainChange=0|Math.ceil(20*Math.log10(r.PeakSample/32767)*10),r.noclipGainChange>0&&(EQ(e.scale,1)||EQ(e.scale,0))?r.noclipScale=Math.floor(32767/r.PeakSample*100)/100:r.noclipScale=-1)}},this.add_dummy_byte=function(e,t,n){var r,i=e.internal_flags;while(n-- >0)for(E(i,t,8),r=0;r<f.MAX_HEADER_BUF;++r)i.header[r].write_timing+=8},this.format_bitstream=function(e){var t,n=e.internal_flags;t=n.l3_side;var r=this.getframebits(e);T(e,t.resvDrain_pre),k(e,r);var a=8*n.sideinfo_len;if(a+=D(e),T(e,t.resvDrain_post),a+=t.resvDrain_post,t.main_data_begin+=(r-a)/8,N(e,new O)!=n.ResvSize&&i.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),8*t.main_data_begin!=n.ResvSize&&(i.err.printf("bit reservoir error: \nl3_side.main_data_begin: %d \nResvoir size:             %d \nresv drain (post)         %d \nresv drain (pre)          %d \nheader and sideinfo:      %d \ndata bits:                %d \ntotal bits:               %d (remainder: %d) \nbitsperframe:             %d \n",8*t.main_data_begin,n.ResvSize,t.resvDrain_post,t.resvDrain_pre,8*n.sideinfo_len,a-t.resvDrain_post-8*n.sideinfo_len,a,a%8,r),i.err.println("This is a fatal error.  It has several possible causes:"),i.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),i.err.println(" 9%%  Your system is overclocked"),i.err.println(" 1%%  bug in LAME encoding library"),n.ResvSize=8*t.main_data_begin),c(b%8==0),b>1e9){var o;for(o=0;o<f.MAX_HEADER_BUF;++o)n.header[o].write_timing-=b;b=0}return 0},this.copy_buffer=function(e,t,n,r,a){var o=x+1;if(o<=0)return 0;if(0!=r&&o>r)return-1;if(i.arraycopy(y,0,t,n,o),x=-1,w=0,0!=a){var u=l(1);if(u[0]=e.nMusicCRC,_.updateMusicCRC(u,t,n,o),e.nMusicCRC=u[0],o>0&&(e.VBR_seek_table.nBytesWritten+=o),e.decode_on_the_fly){var d,h=s([2,1152]),f=o,p=-1;while(0!=p)if(p=v.hip_decode1_unclipped(e.hip,t,n,f,h[0],h[1]),f=0,-1==p&&(p=0),p>0){if(c(p<=1152),e.findPeakSample){for(d=0;d<p;d++)h[0][d]>e.PeakSample?e.PeakSample=h[0][d]:-h[0][d]>e.PeakSample&&(e.PeakSample=-h[0][d]);if(e.channels_out>1)for(d=0;d<p;d++)h[1][d]>e.PeakSample?e.PeakSample=h[1][d]:-h[1][d]>e.PeakSample&&(e.PeakSample=-h[1][d])}if(e.findReplayGain&&m.AnalyzeSamples(e.rgdata,h[0],0,h[1],0,p,e.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6}}}return o},this.init_bit_stream_w=function(t){y=o(e.LAME_MAXMP3BUFFER),t.h_ptr=t.w_ptr=0,t.header[t.h_ptr].write_timing=0,x=-1,w=0,b=0}}p.EQ=function(e,t){return Math.abs(e)>Math.abs(t)?Math.abs(e-t)<=1e-6*Math.abs(e):Math.abs(e-t)<=1e-6*Math.abs(t)},p.NEQ=function(e,t){return!p.EQ(e,t)},e.exports=p},8800:function(e,t,n){var r=n(4624),i=(r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float),a=(r.new_float_n,r.new_int),o=(r.new_int_n,r.assert),s=n(1795),l=n(7131),c=n(5391),u=n(4314);function d(e){var t=e;this.quantize=t,this.iteration_loop=function(e,t,n,r){var d,h=e.internal_flags,f=i(c.SFBMAX),p=i(576),m=a(2),v=0,g=h.l3_side,_=new s(v);this.quantize.rv.ResvFrameBegin(e,_),v=_.bits;for(var y=0;y<h.mode_gr;y++){d=this.quantize.qupvt.on_pe(e,t,m,v,y,y),h.mode_ext==l.MPG_MD_MS_LR&&(this.quantize.ms_convert(h.l3_side,y),this.quantize.qupvt.reduce_side(m,n[y],v,d));for(var b=0;b<h.channels_out;b++){var x,w,S=g.tt[y][b];S.block_type!=l.SHORT_TYPE?(x=0,w=h.PSY.mask_adjust-x):(x=0,w=h.PSY.mask_adjust_short-x),h.masking_lower=Math.pow(10,.1*w),this.quantize.init_outer_loop(h,S),this.quantize.init_xrpow(h,S,p)&&(this.quantize.qupvt.calc_xmin(e,r[y][b],S,f),this.quantize.outer_loop(e,S,f,p,b,m[b])),this.quantize.iteration_finish_one(h,y,b),o(S.part2_3_length<=u.MAX_BITS_PER_CHANNEL),o(S.part2_3_length<=m[b])}}this.quantize.rv.ResvFrameEnd(h,v)}}e.exports=d},5306:function(e,t,n){var r=n(4624),i=r.new_float,a=r.new_int;r.assert;function o(){this.global_gain=0,this.sfb_count1=0,this.step=a(39),this.noise=i(39),this.noise_log=i(39)}e.exports=o},7758:function(e){function t(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}e.exports=t},7131:function(e,t,n){var r=n(4624),i=r.System,a=r.VbrMode,o=(r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n),s=(r.new_byte,r.new_double,r.new_float),l=r.new_float_n,c=r.new_int,u=(r.new_int_n,r.assert);function d(){var e=n(8185),t=n(3668),r=n(5523),h=d.FFTOFFSET,f=d.MPG_MD_MS_LR,p=null;this.psy=null;var m=null,v=null,g=null;this.setModules=function(e,t,n,r){p=e,this.psy=t,m=t,v=r,g=n};var _=new e;function y(e){var t,n;if(0!=e.ATH.useAdjust)if(n=e.loudness_sq[0][0],t=e.loudness_sq[1][0],2==e.channels_out?(n+=e.loudness_sq[0][1],t+=e.loudness_sq[1][1]):(n+=n,t+=t),2==e.mode_gr&&(n=Math.max(n,t)),n*=.5,n*=e.ATH.aaSensitivityP,n>.03125)e.ATH.adjust>=1?e.ATH.adjust=1:e.ATH.adjust<e.ATH.adjustLimit&&(e.ATH.adjust=e.ATH.adjustLimit),e.ATH.adjustLimit=1;else{var r=31.98*n+625e-6;e.ATH.adjust>=r?(e.ATH.adjust*=.075*r+.925,e.ATH.adjust<r&&(e.ATH.adjust=r)):e.ATH.adjustLimit>=r?e.ATH.adjust=r:e.ATH.adjust<e.ATH.adjustLimit&&(e.ATH.adjust=e.ATH.adjustLimit),e.ATH.adjustLimit=r}else e.ATH.adjust=1}function b(e){var t,n;for(u(0<=e.bitrate_index&&e.bitrate_index<16),u(0<=e.mode_ext&&e.mode_ext<4),e.bitrate_stereoMode_Hist[e.bitrate_index][4]++,e.bitrate_stereoMode_Hist[15][4]++,2==e.channels_out&&(e.bitrate_stereoMode_Hist[e.bitrate_index][e.mode_ext]++,e.bitrate_stereoMode_Hist[15][e.mode_ext]++),t=0;t<e.mode_gr;++t)for(n=0;n<e.channels_out;++n){var r=0|e.l3_side.tt[t][n].block_type;0!=e.l3_side.tt[t][n].mixed_block_flag&&(r=4),e.bitrate_blockType_Hist[e.bitrate_index][r]++,e.bitrate_blockType_Hist[e.bitrate_index][5]++,e.bitrate_blockType_Hist[15][r]++,e.bitrate_blockType_Hist[15][5]++}}function x(e,t){var n,r,i=e.internal_flags;if(0==i.lame_encode_frame_init){var a,o,l=s(2014),c=s(2014);for(i.lame_encode_frame_init=1,a=0,o=0;a<286+576*(1+i.mode_gr);++a)a<576*i.mode_gr?(l[a]=0,2==i.channels_out&&(c[a]=0)):(l[a]=t[0][o],2==i.channels_out&&(c[a]=t[1][o]),++o);for(r=0;r<i.mode_gr;r++)for(n=0;n<i.channels_out;n++)i.l3_side.tt[r][n].block_type=d.SHORT_TYPE;_.mdct_sub48(i,l,c),u(576>=d.FFTOFFSET),u(i.mf_size>=d.BLKSIZE+e.framesize-d.FFTOFFSET),u(i.mf_size>=512+e.framesize-32)}}this.lame_encode_mp3_frame=function(e,n,s,u,w,S){var M,E=o([2,2]);E[0][0]=new t,E[0][1]=new t,E[1][0]=new t,E[1][1]=new t;var T,A=o([2,2]);A[0][0]=new t,A[0][1]=new t,A[1][0]=new t,A[1][1]=new t;var C,k,R,L=[null,null],I=e.internal_flags,P=l([2,4]),D=[.5,.5],O=[[0,0],[0,0]],N=[[0,0],[0,0]];if(L[0]=n,L[1]=s,0==I.lame_encode_frame_init&&x(e,L),I.padding=0,(I.slot_lag-=I.frac_SpF)<0&&(I.slot_lag+=e.out_samplerate,I.padding=1),0!=I.psymodel){var F,B=[null,null],V=0,U=c(2);for(R=0;R<I.mode_gr;R++){for(k=0;k<I.channels_out;k++)B[k]=L[k],V=576+576*R-d.FFTOFFSET;if(F=e.VBR==a.vbr_mtrh||e.VBR==a.vbr_mt?m.L3psycho_anal_vbr(e,B,V,R,E,A,O[R],N[R],P[R],U):m.L3psycho_anal_ns(e,B,V,R,E,A,O[R],N[R],P[R],U),0!=F)return-4;for(e.mode==r.JOINT_STEREO&&(D[R]=P[R][2]+P[R][3],D[R]>0&&(D[R]=P[R][3]/D[R])),k=0;k<I.channels_out;k++){var z=I.l3_side.tt[R][k];z.block_type=U[k],z.mixed_block_flag=0}}}else for(R=0;R<I.mode_gr;R++)for(k=0;k<I.channels_out;k++)I.l3_side.tt[R][k].block_type=d.NORM_TYPE,I.l3_side.tt[R][k].mixed_block_flag=0,N[R][k]=O[R][k]=700;if(y(I),_.mdct_sub48(I,L[0],L[1]),I.mode_ext=d.MPG_MD_LR_LR,e.force_ms)I.mode_ext=d.MPG_MD_MS_LR;else if(e.mode==r.JOINT_STEREO){var H=0,W=0;for(R=0;R<I.mode_gr;R++)for(k=0;k<I.channels_out;k++)H+=N[R][k],W+=O[R][k];if(H<=1*W){var j=I.l3_side.tt[0],G=I.l3_side.tt[I.mode_gr-1];j[0].block_type==j[1].block_type&&G[0].block_type==G[1].block_type&&(I.mode_ext=d.MPG_MD_MS_LR)}}if(I.mode_ext==f?(T=A,C=N):(T=E,C=O),e.analysis&&null!=I.pinfo)for(R=0;R<I.mode_gr;R++)for(k=0;k<I.channels_out;k++)I.pinfo.ms_ratio[R]=I.ms_ratio[R],I.pinfo.ms_ener_ratio[R]=D[R],I.pinfo.blocktype[R][k]=I.l3_side.tt[R][k].block_type,I.pinfo.pe[R][k]=C[R][k],i.arraycopy(I.l3_side.tt[R][k].xr,0,I.pinfo.xr[R][k],0,576),I.mode_ext==f&&(I.pinfo.ers[R][k]=I.pinfo.ers[R][k+2],i.arraycopy(I.pinfo.energy[R][k+2],0,I.pinfo.energy[R][k],0,I.pinfo.energy[R][k].length));if(e.VBR==a.vbr_off||e.VBR==a.vbr_abr){var Y,$;for(Y=0;Y<18;Y++)I.nsPsy.pefirbuf[Y]=I.nsPsy.pefirbuf[Y+1];for($=0,R=0;R<I.mode_gr;R++)for(k=0;k<I.channels_out;k++)$+=C[R][k];for(I.nsPsy.pefirbuf[18]=$,$=I.nsPsy.pefirbuf[9],Y=0;Y<9;Y++)$+=(I.nsPsy.pefirbuf[Y]+I.nsPsy.pefirbuf[18-Y])*d.fircoef[Y];for($=3350*I.mode_gr*I.channels_out/$,R=0;R<I.mode_gr;R++)for(k=0;k<I.channels_out;k++)C[R][k]*=$}if(I.iteration_loop.iteration_loop(e,C,D,T),p.format_bitstream(e),M=p.copy_buffer(I,u,w,S,1),e.bWriteVbrTag&&v.addVbrFrame(e),e.analysis&&null!=I.pinfo){for(k=0;k<I.channels_out;k++){var q;for(q=0;q<h;q++)I.pinfo.pcmdata[k][q]=I.pinfo.pcmdata[k][q+e.framesize];for(q=h;q<1600;q++)I.pinfo.pcmdata[k][q]=L[k][q-h]}g.set_frame_pinfo(e,T)}return b(I),M}}d.ENCDELAY=576,d.POSTDELAY=1152,d.MDCTDELAY=48,d.FFTOFFSET=224+d.MDCTDELAY,d.DECDELAY=528,d.SBLIMIT=32,d.CBANDS=64,d.SBPSY_l=21,d.SBPSY_s=12,d.SBMAX_l=22,d.SBMAX_s=13,d.PSFB21=6,d.PSFB12=6,d.BLKSIZE=1024,d.HBLKSIZE=d.BLKSIZE/2+1,d.BLKSIZE_s=256,d.HBLKSIZE_s=d.BLKSIZE_s/2+1,d.NORM_TYPE=0,d.START_TYPE=1,d.SHORT_TYPE=2,d.STOP_TYPE=3,d.MPG_MD_LR_LR=0,d.MPG_MD_LR_I=1,d.MPG_MD_MS_LR=2,d.MPG_MD_MS_I=3,d.fircoef=[-.1039435,-.1892065,5*-.0432472,-.155915,3898045e-23,.0467745*5,.50455,.756825,.187098*5],e.exports=d},8694:function(e,t,n){var r=n(4624),i=(r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util),a=(r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float),o=(r.new_float_n,r.new_int,r.new_int_n,r.assert,n(7131));function s(){var e=a(o.BLKSIZE),t=a(o.BLKSIZE_s/2),n=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function r(e,t,r){var a,o,s,l=0;r<<=1;var c=t+r;a=4;do{var u,d,h,f,p,m,v;v=a>>1,f=a,p=a<<1,m=p+f,a=p<<1,o=t,s=o+v;do{S=e[o+0]-e[o+f],w=e[o+0]+e[o+f],A=e[o+p]-e[o+m],E=e[o+p]+e[o+m],e[o+p]=w-E,e[o+0]=w+E,e[o+m]=S-A,e[o+f]=S+A,S=e[s+0]-e[s+f],w=e[s+0]+e[s+f],A=i.SQRT2*e[s+m],E=i.SQRT2*e[s+p],e[s+p]=w-E,e[s+0]=w+E,e[s+m]=S-A,e[s+f]=S+A,s+=a,o+=a}while(o<c);for(d=n[l+0],u=n[l+1],h=1;h<v;h++){var g,_;g=1-2*u*u,_=2*u*d,o=t+h,s=t+f-h;do{var y,b,x,w,S,M,E,T,A,C;b=_*e[o+f]-g*e[s+f],y=g*e[o+f]+_*e[s+f],S=e[o+0]-y,w=e[o+0]+y,M=e[s+0]-b,x=e[s+0]+b,b=_*e[o+m]-g*e[s+m],y=g*e[o+m]+_*e[s+m],A=e[o+p]-y,E=e[o+p]+y,C=e[s+p]-b,T=e[s+p]+b,b=u*E-d*C,y=d*E+u*C,e[o+p]=w-y,e[o+0]=w+y,e[s+m]=M-b,e[s+f]=M+b,b=d*T-u*A,y=u*T+d*A,e[s+p]=x-y,e[s+0]=x+y,e[o+m]=S-b,e[o+f]=S+b,s+=a,o+=a}while(o<c);g=d,d=g*n[l+0]-u*n[l+1],u=g*n[l+1]+u*n[l+0]}l+=2}while(a<r)}var s=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(e,n,i,a,l){for(var c=0;c<3;c++){var u=o.BLKSIZE_s/2,d=65535&192*(c+1),h=o.BLKSIZE_s/8-1;do{var f,p,m,v,g,_=255&s[h<<2];f=t[_]*a[i][l+_+d],g=t[127-_]*a[i][l+_+d+128],p=f-g,f+=g,m=t[_+64]*a[i][l+_+d+64],g=t[63-_]*a[i][l+_+d+192],v=m-g,m+=g,u-=4,n[c][u+0]=f+m,n[c][u+2]=f-m,n[c][u+1]=p+v,n[c][u+3]=p-v,f=t[_+1]*a[i][l+_+d+1],g=t[126-_]*a[i][l+_+d+129],p=f-g,f+=g,m=t[_+65]*a[i][l+_+d+65],g=t[62-_]*a[i][l+_+d+193],v=m-g,m+=g,n[c][u+o.BLKSIZE_s/2+0]=f+m,n[c][u+o.BLKSIZE_s/2+2]=f-m,n[c][u+o.BLKSIZE_s/2+1]=p+v,n[c][u+o.BLKSIZE_s/2+3]=p-v}while(--h>=0);r(n[c],u,o.BLKSIZE_s/2)}},this.fft_long=function(t,n,i,a,l){var c=o.BLKSIZE/8-1,u=o.BLKSIZE/2;do{var d,h,f,p,m,v=255&s[c];d=e[v]*a[i][l+v],m=e[v+512]*a[i][l+v+512],h=d-m,d+=m,f=e[v+256]*a[i][l+v+256],m=e[v+768]*a[i][l+v+768],p=f-m,f+=m,u-=4,n[u+0]=d+f,n[u+2]=d-f,n[u+1]=h+p,n[u+3]=h-p,d=e[v+1]*a[i][l+v+1],m=e[v+513]*a[i][l+v+513],h=d-m,d+=m,f=e[v+257]*a[i][l+v+257],m=e[v+769]*a[i][l+v+769],p=f-m,f+=m,n[u+o.BLKSIZE/2+0]=d+f,n[u+o.BLKSIZE/2+2]=d-f,n[u+o.BLKSIZE/2+1]=h+p,n[u+o.BLKSIZE/2+3]=h-p}while(--c>=0);r(n,u,o.BLKSIZE/2)},this.init_fft=function(n){for(var r=0;r<o.BLKSIZE;r++)e[r]=.42-.5*Math.cos(2*Math.PI*(r+.5)/o.BLKSIZE)+.08*Math.cos(4*Math.PI*(r+.5)/o.BLKSIZE);for(r=0;r<o.BLKSIZE_s/2;r++)t[r]=.5*(1-Math.cos(2*Math.PI*(r+.5)/o.BLKSIZE_s))}}e.exports=s},5105:function(e,t,n){var r=n(4624),i=r.System,a=(r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays);r.new_array_n,r.new_byte,r.new_double,r.new_float,r.new_float_n,r.new_int,r.new_int_n,r.assert;function o(){var e=64.82,t=(o.YULE_ORDER,.95),n=(o.MAX_SAMP_FREQ,o.RMS_WINDOW_TIME_NUMERATOR),r=o.RMS_WINDOW_TIME_DENOMINATOR,s=(o.MAX_SAMPLES_PER_WINDOW,[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]]),l=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function c(e,t,n,r,i,a){while(0!=i--)n[r]=1e-10+e[t+0]*a[0]-n[r-1]*a[1]+e[t-1]*a[2]-n[r-2]*a[3]+e[t-2]*a[4]-n[r-3]*a[5]+e[t-3]*a[6]-n[r-4]*a[7]+e[t-4]*a[8]-n[r-5]*a[9]+e[t-5]*a[10]-n[r-6]*a[11]+e[t-6]*a[12]-n[r-7]*a[13]+e[t-7]*a[14]-n[r-8]*a[15]+e[t-8]*a[16]-n[r-9]*a[17]+e[t-9]*a[18]-n[r-10]*a[19]+e[t-10]*a[20],++r,++t}function u(e,t,n,r,i,a){while(0!=i--)n[r]=e[t+0]*a[0]-n[r-1]*a[1]+e[t-1]*a[2]-n[r-2]*a[3]+e[t-2]*a[4],++r,++t}function d(e,t){for(var i=0;i<MAX_ORDER;i++)e.linprebuf[i]=e.lstepbuf[i]=e.loutbuf[i]=e.rinprebuf[i]=e.rstepbuf[i]=e.routbuf[i]=0;switch(0|t){case 48e3:e.reqindex=0;break;case 44100:e.reqindex=1;break;case 32e3:e.reqindex=2;break;case 24e3:e.reqindex=3;break;case 22050:e.reqindex=4;break;case 16e3:e.reqindex=5;break;case 12e3:e.reqindex=6;break;case 11025:e.reqindex=7;break;case 8e3:e.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return e.sampleWindow=0|(t*n+r-1)/r,e.lsum=0,e.rsum=0,e.totsamp=0,a.ill(e.A,0),INIT_GAIN_ANALYSIS_OK}function h(e){return e*e}function f(n,r){var i,a=0;for(i=0;i<r;i++)a+=n[i];if(0==a)return GAIN_NOT_ENOUGH_SAMPLES;var s=0|Math.ceil(a*(1-t));for(i=r;i-- >0;)if((s-=n[i])<=0)break;return e-i/o.STEPS_per_dB}this.InitGainAnalysis=function(e,t){return d(e,t)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(e.linpre=MAX_ORDER,e.rinpre=MAX_ORDER,e.lstep=MAX_ORDER,e.rstep=MAX_ORDER,e.lout=MAX_ORDER,e.rout=MAX_ORDER,a.fill(e.B,0),INIT_GAIN_ANALYSIS_OK)},this.AnalyzeSamples=function(e,t,n,r,a,d,f){var p,m,v,g,_,y,b;if(0==d)return GAIN_ANALYSIS_OK;switch(b=0,_=d,f){case 1:r=t,a=n;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}d<MAX_ORDER?(i.arraycopy(t,n,e.linprebuf,MAX_ORDER,d),i.arraycopy(r,a,e.rinprebuf,MAX_ORDER,d)):(i.arraycopy(t,n,e.linprebuf,MAX_ORDER,MAX_ORDER),i.arraycopy(r,a,e.rinprebuf,MAX_ORDER,MAX_ORDER));while(_>0){y=_>e.sampleWindow-e.totsamp?e.sampleWindow-e.totsamp:_,b<MAX_ORDER?(p=e.linpre+b,m=e.linprebuf,v=e.rinpre+b,g=e.rinprebuf,y>MAX_ORDER-b&&(y=MAX_ORDER-b)):(p=n+b,m=t,v=a+b,g=r),c(m,p,e.lstepbuf,e.lstep+e.totsamp,y,s[e.reqindex]),c(g,v,e.rstepbuf,e.rstep+e.totsamp,y,s[e.reqindex]),u(e.lstepbuf,e.lstep+e.totsamp,e.loutbuf,e.lout+e.totsamp,y,l[e.reqindex]),u(e.rstepbuf,e.rstep+e.totsamp,e.routbuf,e.rout+e.totsamp,y,l[e.reqindex]),p=e.lout+e.totsamp,m=e.loutbuf,v=e.rout+e.totsamp,g=e.routbuf;var x=y%8;while(0!=x--)e.lsum+=h(m[p++]),e.rsum+=h(g[v++]);x=y/8;while(0!=x--)e.lsum+=h(m[p+0])+h(m[p+1])+h(m[p+2])+h(m[p+3])+h(m[p+4])+h(m[p+5])+h(m[p+6])+h(m[p+7]),p+=8,e.rsum+=h(g[v+0])+h(g[v+1])+h(g[v+2])+h(g[v+3])+h(g[v+4])+h(g[v+5])+h(g[v+6])+h(g[v+7]),v+=8;if(_-=y,b+=y,e.totsamp+=y,e.totsamp==e.sampleWindow){var w=10*o.STEPS_per_dB*Math.log10((e.lsum+e.rsum)/e.totsamp*.5+1e-37),S=w<=0?0:0|w;S>=e.A.length&&(S=e.A.length-1),e.A[S]++,e.lsum=e.rsum=0,i.arraycopy(e.loutbuf,e.totsamp,e.loutbuf,0,MAX_ORDER),i.arraycopy(e.routbuf,e.totsamp,e.routbuf,0,MAX_ORDER),i.arraycopy(e.lstepbuf,e.totsamp,e.lstepbuf,0,MAX_ORDER),i.arraycopy(e.rstepbuf,e.totsamp,e.rstepbuf,0,MAX_ORDER),e.totsamp=0}if(e.totsamp>e.sampleWindow)return GAIN_ANALYSIS_ERROR}return d<MAX_ORDER?(i.arraycopy(e.linprebuf,d,e.linprebuf,0,MAX_ORDER-d),i.arraycopy(e.rinprebuf,d,e.rinprebuf,0,MAX_ORDER-d),i.arraycopy(t,n,e.linprebuf,MAX_ORDER-d,d),i.arraycopy(r,a,e.rinprebuf,MAX_ORDER-d,d)):(i.arraycopy(t,n+d-MAX_ORDER,e.linprebuf,0,MAX_ORDER),i.arraycopy(r,a+d-MAX_ORDER,e.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK},this.GetTitleGain=function(e){for(var t=f(e.A,e.A.length),n=0;n<e.A.length;n++)e.B[n]+=e.A[n],e.A[n]=0;for(n=0;n<MAX_ORDER;n++)e.linprebuf[n]=e.lstepbuf[n]=e.loutbuf[n]=e.rinprebuf[n]=e.rstepbuf[n]=e.routbuf[n]=0;return e.totsamp=0,e.lsum=e.rsum=0,t}}o.STEPS_per_dB=100,o.MAX_dB=120,o.GAIN_NOT_ENOUGH_SAMPLES=-24601,o.GAIN_ANALYSIS_ERROR=0,o.GAIN_ANALYSIS_OK=1,o.INIT_GAIN_ANALYSIS_ERROR=0,o.INIT_GAIN_ANALYSIS_OK=1,o.YULE_ORDER=10,o.MAX_ORDER=o.YULE_ORDER,o.MAX_SAMP_FREQ=48e3,o.RMS_WINDOW_TIME_NUMERATOR=1,o.RMS_WINDOW_TIME_DENOMINATOR=20,o.MAX_SAMPLES_PER_WINDOW=o.MAX_SAMP_FREQ*o.RMS_WINDOW_TIME_NUMERATOR/o.RMS_WINDOW_TIME_DENOMINATOR+1,e.exports=o},4779:function(e,t,n){n(8675),n(3408),n(4590);var r=n(4624),i=(r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float),a=(r.new_float_n,r.new_int),o=(r.new_int_n,r.assert,n(5391));function s(){this.xr=i(576),this.l3_enc=a(576),this.scalefac=a(o.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=a(3),this.subblock_gain=a(4),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=a(o.SFBMAX),this.window=a(o.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=a(4),this.max_nonzero_coeff=0;var e=this;function t(e){return new Int32Array(e)}function n(e){return new Float32Array(e)}this.assign=function(r){e.xr=n(r.xr),e.l3_enc=t(r.l3_enc),e.scalefac=t(r.scalefac),e.xrpow_max=r.xrpow_max,e.part2_3_length=r.part2_3_length,e.big_values=r.big_values,e.count1=r.count1,e.global_gain=r.global_gain,e.scalefac_compress=r.scalefac_compress,e.block_type=r.block_type,e.mixed_block_flag=r.mixed_block_flag,e.table_select=t(r.table_select),e.subblock_gain=t(r.subblock_gain),e.region0_count=r.region0_count,e.region1_count=r.region1_count,e.preflag=r.preflag,e.scalefac_scale=r.scalefac_scale,e.count1table_select=r.count1table_select,e.part2_length=r.part2_length,e.sfb_lmax=r.sfb_lmax,e.sfb_smin=r.sfb_smin,e.psy_lmax=r.psy_lmax,e.sfbmax=r.sfbmax,e.psymax=r.psymax,e.sfbdivide=r.sfbdivide,e.width=t(r.width),e.window=t(r.window),e.count1bits=r.count1bits,e.sfb_partition_table=r.sfb_partition_table.slice(0),e.slen=t(r.slen),e.max_nonzero_coeff=r.max_nonzero_coeff}}e.exports=s},241:function(e,t,n){var r=n(4624),i=(r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float,r.new_float_n,r.new_int),a=(r.new_int_n,r.assert,n(4779));function o(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[i(4),i(4)];for(var e=0;e<2;e++)for(var t=0;t<2;t++)this.tt[e][t]=new a}e.exports=o},3668:function(e,t,n){var r=n(5996);function i(){this.thm=new r,this.en=new r}e.exports=i},5996:function(e,t,n){var r=n(7131),i=n(4624),a=i.System,o=(i.VbrMode,i.Float,i.ShortBlock,i.Util,i.Arrays,i.new_array_n,i.new_byte,i.new_double,i.new_float),s=i.new_float_n;i.new_int,i.new_int_n,i.assert;function l(){this.l=o(r.SBMAX_l),this.s=s([r.SBMAX_s,3]);var e=this;this.assign=function(t){a.arraycopy(t.l,0,e.l,0,r.SBMAX_l);for(var n=0;n<r.SBMAX_s;n++)for(var i=0;i<3;i++)e.s[n][i]=t.s[n][i]}}e.exports=l},5391:function(e,t,n){var r=n(7131),i={};i.SFBMAX=3*r.SBMAX_s,e.exports=i},9341:function(e,t,n){var r=n(4624),i=r.System,a=r.VbrMode,o=(r.Float,r.ShortBlock),s=(r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float),l=(r.new_float_n,r.new_int,r.new_int_n),c=r.new_short_n,u=r.assert,d=n(9813),h=n(3835),f=n(4314),p=n(8754),m=n(4612),v=n(8800),g=n(6598),_=n(366),y=n(7131);function b(){var e=n(5523),t=this,r=131072;b.V9=410,b.V8=420,b.V7=430,b.V6=440,b.V5=450,b.V4=460,b.V3=470,b.V2=480,b.V1=490,b.V0=500,b.R3MIX=1e3,b.STANDARD=1001,b.EXTREME=1002,b.INSANE=1003,b.STANDARD_FAST=1004,b.EXTREME_FAST=1005,b.MEDIUM=1006,b.MEDIUM_FAST=1007;var x,w,S,M,E,T=16384+r;b.LAME_MAXMP3BUFFER=T;var A,C,k,R=new d;function L(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=s(y.SBMAX_l),this.bo_s_weight=s(y.SBMAX_s)}function I(){this.lowerlimit=0}function P(e,t){this.lowpass=t}this.enc=new y,this.setModules=function(e,t,n,r,i,a,o,s,l){x=e,w=t,S=n,M=r,E=i,A=a,o,C=s,k=l,this.enc.setModules(w,R,M,A)};var D=4294479419;function O(t){var n;return t.class_id=D,n=t.internal_flags=new f,t.mode=e.NOT_SET,t.original=1,t.in_samplerate=44100,t.num_channels=2,t.num_samples=-1,t.bWriteVbrTag=!0,t.quality=-1,t.short_blocks=null,n.subblock_gain=-1,t.lowpassfreq=0,t.highpassfreq=0,t.lowpasswidth=-1,t.highpasswidth=-1,t.VBR=a.vbr_off,t.VBR_q=4,t.ATHcurve=-1,t.VBR_mean_bitrate_kbps=128,t.VBR_min_bitrate_kbps=0,t.VBR_max_bitrate_kbps=0,t.VBR_hard_min=0,n.VBR_min_bitrate=1,n.VBR_max_bitrate=13,t.quant_comp=-1,t.quant_comp_short=-1,t.msfix=-1,n.resample_ratio=1,n.OldValue[0]=180,n.OldValue[1]=180,n.CurrentStep[0]=4,n.CurrentStep[1]=4,n.masking_lower=1,n.nsPsy.attackthre=-1,n.nsPsy.attackthre_s=-1,t.scale=-1,t.athaa_type=-1,t.ATHtype=-1,t.athaa_loudapprox=-1,t.athaa_sensitivity=0,t.useTemporal=null,t.interChRatio=-1,n.mf_samples_to_encode=y.ENCDELAY+y.POSTDELAY,t.encoder_padding=0,n.mf_size=y.ENCDELAY-y.MDCTDELAY,t.findReplayGain=!1,t.decode_on_the_fly=!1,n.decode_on_the_fly=!1,n.findReplayGain=!1,n.findPeakSample=!1,n.RadioGain=0,n.AudiophileGain=0,n.noclipGainChange=0,n.noclipScale=-1,t.preset=0,t.write_id3tag_automatic=!0,0}function N(e){return e>1?0:e<=0?1:Math.cos(Math.PI/2*e)}function F(e,t){var n=44100;return t>=48e3?n=48e3:t>=44100?n=44100:t>=32e3?n=32e3:t>=24e3?n=24e3:t>=22050?n=22050:t>=16e3?n=16e3:t>=12e3?n=12e3:t>=11025?n=11025:t>=8e3&&(n=8e3),-1==e?n:(e<=15960&&(n=44100),e<=15250&&(n=32e3),e<=11220&&(n=24e3),e<=9970&&(n=22050),e<=7230&&(n=16e3),e<=5420&&(n=12e3),e<=4510&&(n=11025),e<=3970&&(n=8e3),t<n?t>44100?48e3:t>32e3?44100:t>24e3?32e3:t>22050?24e3:t>16e3?22050:t>12e3?16e3:t>11025?12e3:t>8e3?11025:8e3:n)}function B(e,t){switch(e){case 44100:return t.version=1,0;case 48e3:return t.version=1,1;case 32e3:return t.version=1,2;case 22050:return t.version=0,0;case 24e3:return t.version=0,1;case 16e3:return t.version=0,2;case 11025:return t.version=0,0;case 12e3:return t.version=0,1;case 8e3:return t.version=0,2;default:return t.version=0,-1}}function V(e,t,n){n<16e3&&(t=2);for(var r=_.bitrate_table[t][1],i=2;i<=14;i++)_.bitrate_table[t][i]>0&&Math.abs(_.bitrate_table[t][i]-e)<Math.abs(r-e)&&(r=_.bitrate_table[t][i]);return r}function U(e,t,n){n<16e3&&(t=2);for(var r=0;r<=14;r++)if(_.bitrate_table[t][r]>0&&_.bitrate_table[t][r]==e)return r;return-1}function z(e,n){var r=[new P(8,2e3),new P(16,3700),new P(24,3900),new P(32,5500),new P(40,7e3),new P(48,7500),new P(56,1e4),new P(64,11e3),new P(80,13500),new P(96,15100),new P(112,15600),new P(128,17e3),new P(160,17500),new P(192,18600),new P(224,19400),new P(256,19700),new P(320,20500)],i=t.nearestBitrateFullIndex(n);e.lowerlimit=r[i].lowpass}function H(e){var t=e.internal_flags,n=32,r=-1;if(t.lowpass1>0){for(var a=999,o=0;o<=31;o++){var s=o/31;s>=t.lowpass2&&(n=Math.min(n,o)),t.lowpass1<s&&s<t.lowpass2&&(a=Math.min(a,o))}t.lowpass1=999==a?(n-.75)/31:(a-.75)/31,t.lowpass2=n/31}if(t.highpass2>0&&t.highpass2<.75/31*.9&&(t.highpass1=0,t.highpass2=0,i.err.println("Warning: highpass filter disabled.  highpass frequency too small\n")),t.highpass2>0){var l=-1;for(o=0;o<=31;o++){s=o/31;s<=t.highpass1&&(r=Math.max(r,o)),t.highpass1<s&&s<t.highpass2&&(l=Math.max(l,o))}t.highpass1=r/31,t.highpass2=-1==l?(r+.75)/31:(l+.75)/31}for(o=0;o<32;o++){var c,u;s=o/31;c=t.highpass2>t.highpass1?N((t.highpass2-s)/(t.highpass2-t.highpass1+1e-20)):1,u=t.lowpass2>t.lowpass1?N((s-t.lowpass1)/(t.lowpass2-t.lowpass1+1e-20)):1,t.amp_filter[o]=c*u}}function W(e){var t=e.internal_flags;switch(e.quality){default:case 9:t.psymodel=0,t.noise_shaping=0,t.noise_shaping_amp=0,t.noise_shaping_stop=0,t.use_best_huffman=0,t.full_outer_loop=0;break;case 8:e.quality=7;case 7:t.psymodel=1,t.noise_shaping=0,t.noise_shaping_amp=0,t.noise_shaping_stop=0,t.use_best_huffman=0,t.full_outer_loop=0;break;case 6:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),t.noise_shaping_amp=0,t.noise_shaping_stop=0,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=0,t.full_outer_loop=0;break;case 5:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),t.noise_shaping_amp=0,t.noise_shaping_stop=0,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=0,t.full_outer_loop=0;break;case 4:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),t.noise_shaping_amp=0,t.noise_shaping_stop=0,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=1,t.full_outer_loop=0;break;case 3:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),t.noise_shaping_amp=1,t.noise_shaping_stop=1,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=1,t.full_outer_loop=0;break;case 2:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),0==t.substep_shaping&&(t.substep_shaping=2),t.noise_shaping_amp=1,t.noise_shaping_stop=1,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=1,t.full_outer_loop=0;break;case 1:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),0==t.substep_shaping&&(t.substep_shaping=2),t.noise_shaping_amp=2,t.noise_shaping_stop=1,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=1,t.full_outer_loop=0;break;case 0:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),0==t.substep_shaping&&(t.substep_shaping=2),t.noise_shaping_amp=2,t.noise_shaping_stop=1,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=1,t.full_outer_loop=0;break}}function j(e){var t=e.internal_flags;e.frameNum=0,e.write_id3tag_automatic&&C.id3tag_write_v2(e),t.bitrate_stereoMode_Hist=l([16,5]),t.bitrate_blockType_Hist=l([16,6]),t.PeakSample=0,e.bWriteVbrTag&&A.InitVbrTag(e)}function G(e,t){(null==e.in_buffer_0||e.in_buffer_nsamples<t)&&(e.in_buffer_0=s(t),e.in_buffer_1=s(t),e.in_buffer_nsamples=t)}function Y(e){var t=y.BLKSIZE+e.framesize-y.FFTOFFSET;return t=Math.max(t,512+e.framesize-32),u(f.MFSIZE>=t),t}function $(e,t,n,r,i,a,o){var s,l,c,d,h,p=e.internal_flags,m=0,v=[null,null],_=[null,null];if(p.Class_ID!=D)return-3;if(0==r)return 0;if(h=w.copy_buffer(p,i,a,o,0),h<0)return h;if(a+=h,m+=h,_[0]=t,_[1]=n,g.NEQ(e.scale,0)&&g.NEQ(e.scale,1))for(l=0;l<r;++l)_[0][l]*=e.scale,2==p.channels_out&&(_[1][l]*=e.scale);if(g.NEQ(e.scale_left,0)&&g.NEQ(e.scale_left,1))for(l=0;l<r;++l)_[0][l]*=e.scale_left;if(g.NEQ(e.scale_right,0)&&g.NEQ(e.scale_right,1))for(l=0;l<r;++l)_[1][l]*=e.scale_right;if(2==e.num_channels&&1==p.channels_out)for(l=0;l<r;++l)_[0][l]=.5*(_[0][l]+_[1][l]),_[1][l]=0;d=Y(e),v[0]=p.mfbuf[0],v[1]=p.mfbuf[1];var b=0;while(r>0){var S=[null,null],M=0,E=0;S[0]=_[0],S[1]=_[1];var T=new X;if(ee(e,v,S,b,r,T),M=T.n_in,E=T.n_out,p.findReplayGain&&!p.decode_on_the_fly&&x.AnalyzeSamples(p.rgdata,v[0],p.mf_size,v[1],p.mf_size,E,p.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6;if(r-=M,b+=M,p.channels_out,p.mf_size+=E,u(p.mf_size<=f.MFSIZE),p.mf_samples_to_encode<1&&(p.mf_samples_to_encode=y.ENCDELAY+y.POSTDELAY),p.mf_samples_to_encode+=E,p.mf_size>=d){var A=o-m;if(0==o&&(A=0),s=q(e,v[0],v[1],i,a,A),s<0)return s;for(a+=s,m+=s,p.mf_size-=e.framesize,p.mf_samples_to_encode-=e.framesize,c=0;c<p.channels_out;c++)for(l=0;l<p.mf_size;l++)v[c][l]=v[c][l+e.framesize]}}return u(0==r),m}function q(e,n,r,i,a,o){var s=t.enc.lame_encode_mp3_frame(e,n,r,i,a,o);return e.frameNum++,s}function X(){this.n_in=0,this.n_out=0}function Z(){this.num_used=0}function K(e,t){return 0!=t?K(t,e%t):e}function J(e,t,n){var r=Math.PI*t;e/=n,e<0&&(e=0),e>1&&(e=1);var i=e-.5,a=.42-.5*Math.cos(2*e*Math.PI)+.08*Math.cos(4*e*Math.PI);return Math.abs(i)<1e-9?r/Math.PI:a*Math.sin(n*r*i)/(Math.PI*n*i)}function Q(e,t,n,r,i,a,o,l,c){var d,h,p=e.internal_flags,m=0,v=e.out_samplerate/K(e.out_samplerate,e.in_samplerate);v>f.BPC&&(v=f.BPC);var g=Math.abs(p.resample_ratio-Math.floor(.5+p.resample_ratio))<1e-4?1:0,_=1/p.resample_ratio;_>1&&(_=1);var y=31;0==y%2&&--y,y+=g;var b=y+1;if(0==p.fill_buffer_resample_init){for(p.inbuf_old[0]=s(b),p.inbuf_old[1]=s(b),d=0;d<=2*v;++d)p.blackfilt[d]=s(b);for(p.itime[0]=0,p.itime[1]=0,m=0;m<=2*v;m++){var x=0,w=(m-v)/(2*v);for(d=0;d<=y;d++)x+=p.blackfilt[m][d]=J(d-w,_,y);for(d=0;d<=y;d++)p.blackfilt[m][d]/=x}p.fill_buffer_resample_init=1}var S=p.inbuf_old[c];for(h=0;h<r;h++){var M,E;if(M=h*p.resample_ratio,m=0|Math.floor(M-p.itime[c]),y+m-y/2>=o)break;w=M-p.itime[c]-(m+y%2*.5);u(Math.abs(w)<=.501),E=0|Math.floor(2*w*v+v+.5);var T=0;for(d=0;d<=y;++d){var A,C=0|d+m-y/2;u(C<o),u(C+b>=0),A=C<0?S[b+C]:i[a+C],T+=A*p.blackfilt[E][d]}t[n+h]=T}if(l.num_used=Math.min(o,y+m-y/2),p.itime[c]+=l.num_used-h*p.resample_ratio,l.num_used>=b)for(d=0;d<b;d++)S[d]=i[a+l.num_used+d-b];else{var k=b-l.num_used;for(d=0;d<k;++d)S[d]=S[d+l.num_used];for(m=0;d<b;++d,++m)S[d]=i[a+m];u(m==l.num_used)}return h}function ee(e,t,n,r,i,a){var o=e.internal_flags;if(o.resample_ratio<.9999||o.resample_ratio>1.0001)for(var s=0;s<o.channels_out;s++){var l=new Z;a.n_out=Q(e,t[s],o.mf_size,e.framesize,n[s],r,i,l,s),a.n_in=l.num_used}else{a.n_out=Math.min(e.framesize,i),a.n_in=a.n_out;for(var c=0;c<a.n_out;++c)t[0][o.mf_size+c]=n[0][r+c],2==o.channels_out&&(t[1][o.mf_size+c]=n[1][r+c])}}this.lame_init=function(){var e=new h,t=O(e);return 0!=t?null:(e.lame_allocated_gfp=1,e)},this.nearestBitrateFullIndex=function(e){var t=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],n=0,r=0,i=0,a=0;a=t[16],i=16,r=t[16],n=16;for(var o=0;o<16;o++)if(Math.max(e,t[o+1])!=e){a=t[o+1],i=o+1,r=t[o],n=o;break}return a-e>e-r?n:i},this.lame_init_params=function(t){var n=t.internal_flags;if(n.Class_ID=0,null==n.ATH&&(n.ATH=new p),null==n.PSY&&(n.PSY=new L),null==n.rgdata&&(n.rgdata=new m),n.channels_in=t.num_channels,1==n.channels_in&&(t.mode=e.MONO),n.channels_out=t.mode==e.MONO?1:2,n.mode_ext=y.MPG_MD_MS_LR,t.mode==e.MONO&&(t.force_ms=!1),t.VBR==a.vbr_off&&128!=t.VBR_mean_bitrate_kbps&&0==t.brate&&(t.brate=t.VBR_mean_bitrate_kbps),t.VBR==a.vbr_off||t.VBR==a.vbr_mtrh||t.VBR==a.vbr_mt||(t.free_format=!1),t.VBR==a.vbr_off&&0==t.brate&&g.EQ(t.compression_ratio,0)&&(t.compression_ratio=11.025),t.VBR==a.vbr_off&&t.compression_ratio>0&&(0==t.out_samplerate&&(t.out_samplerate=map2MP3Frequency(int(.97*t.in_samplerate))),t.brate=0|16*t.out_samplerate*n.channels_out/(1e3*t.compression_ratio),n.samplerate_index=B(t.out_samplerate,t),t.free_format||(t.brate=V(t.brate,t.version,t.out_samplerate))),0!=t.out_samplerate&&(t.out_samplerate<16e3?(t.VBR_mean_bitrate_kbps=Math.max(t.VBR_mean_bitrate_kbps,8),t.VBR_mean_bitrate_kbps=Math.min(t.VBR_mean_bitrate_kbps,64)):t.out_samplerate<32e3?(t.VBR_mean_bitrate_kbps=Math.max(t.VBR_mean_bitrate_kbps,8),t.VBR_mean_bitrate_kbps=Math.min(t.VBR_mean_bitrate_kbps,160)):(t.VBR_mean_bitrate_kbps=Math.max(t.VBR_mean_bitrate_kbps,32),t.VBR_mean_bitrate_kbps=Math.min(t.VBR_mean_bitrate_kbps,320))),0==t.lowpassfreq){var r=16e3;switch(t.VBR){case a.vbr_off:var i=new I;z(i,t.brate),r=i.lowerlimit;break;case a.vbr_abr:i=new I;z(i,t.VBR_mean_bitrate_kbps),r=i.lowerlimit;break;case a.vbr_rh:var s=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=t.VBR_q&&t.VBR_q<=9){var l=s[t.VBR_q],c=s[t.VBR_q+1],h=t.VBR_q_frac;r=linear_int(l,c,h)}else r=19500;break;default:s=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];if(0<=t.VBR_q&&t.VBR_q<=9){l=s[t.VBR_q],c=s[t.VBR_q+1],h=t.VBR_q_frac;r=linear_int(l,c,h)}else r=19500}t.mode!=e.MONO||t.VBR!=a.vbr_off&&t.VBR!=a.vbr_abr||(r*=1.5),t.lowpassfreq=0|r}if(0==t.out_samplerate&&(2*t.lowpassfreq>t.in_samplerate&&(t.lowpassfreq=t.in_samplerate/2),t.out_samplerate=F(0|t.lowpassfreq,t.in_samplerate)),t.lowpassfreq=Math.min(20500,t.lowpassfreq),t.lowpassfreq=Math.min(t.out_samplerate/2,t.lowpassfreq),t.VBR==a.vbr_off&&(t.compression_ratio=16*t.out_samplerate*n.channels_out/(1e3*t.brate)),t.VBR==a.vbr_abr&&(t.compression_ratio=16*t.out_samplerate*n.channels_out/(1e3*t.VBR_mean_bitrate_kbps)),t.bWriteVbrTag||(t.findReplayGain=!1,t.decode_on_the_fly=!1,n.findPeakSample=!1),n.findReplayGain=t.findReplayGain,n.decode_on_the_fly=t.decode_on_the_fly,n.decode_on_the_fly&&(n.findPeakSample=!0),n.findReplayGain&&x.InitGainAnalysis(n.rgdata,t.out_samplerate)==GainAnalysis.INIT_GAIN_ANALYSIS_ERROR)return t.internal_flags=null,-6;switch(n.decode_on_the_fly&&!t.decode_only&&(null!=n.hip&&k.hip_decode_exit(n.hip),n.hip=k.hip_decode_init()),n.mode_gr=t.out_samplerate<=24e3?1:2,t.framesize=576*n.mode_gr,t.encoder_delay=y.ENCDELAY,n.resample_ratio=t.in_samplerate/t.out_samplerate,t.VBR){case a.vbr_mt:case a.vbr_rh:case a.vbr_mtrh:var f=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5];t.compression_ratio=f[t.VBR_q];break;case a.vbr_abr:t.compression_ratio=16*t.out_samplerate*n.channels_out/(1e3*t.VBR_mean_bitrate_kbps);break;default:t.compression_ratio=16*t.out_samplerate*n.channels_out/(1e3*t.brate);break}if(t.mode==e.NOT_SET&&(t.mode=e.JOINT_STEREO),t.highpassfreq>0?(n.highpass1=2*t.highpassfreq,t.highpasswidth>=0?n.highpass2=2*(t.highpassfreq+t.highpasswidth):n.highpass2=2*t.highpassfreq,n.highpass1/=t.out_samplerate,n.highpass2/=t.out_samplerate):(n.highpass1=0,n.highpass2=0),t.lowpassfreq>0?(n.lowpass2=2*t.lowpassfreq,t.lowpasswidth>=0?(n.lowpass1=2*(t.lowpassfreq-t.lowpasswidth),n.lowpass1<0&&(n.lowpass1=0)):n.lowpass1=2*t.lowpassfreq,n.lowpass1/=t.out_samplerate,n.lowpass2/=t.out_samplerate):(n.lowpass1=0,n.lowpass2=0),H(t),n.samplerate_index=B(t.out_samplerate,t),n.samplerate_index<0)return t.internal_flags=null,-1;if(t.VBR==a.vbr_off){if(t.free_format)n.bitrate_index=0;else if(t.brate=V(t.brate,t.version,t.out_samplerate),n.bitrate_index=U(t.brate,t.version,t.out_samplerate),n.bitrate_index<=0)return t.internal_flags=null,-1}else n.bitrate_index=1;t.analysis&&(t.bWriteVbrTag=!1),null!=n.pinfo&&(t.bWriteVbrTag=!1),w.init_bit_stream_w(n);for(var b,T=n.samplerate_index+3*t.version+6*(t.out_samplerate<16e3?1:0),A=0;A<y.SBMAX_l+1;A++)n.scalefac_band.l[A]=M.sfBandIndex[T].l[A];for(A=0;A<y.PSFB21+1;A++){var C=(n.scalefac_band.l[22]-n.scalefac_band.l[21])/y.PSFB21,P=n.scalefac_band.l[21]+A*C;n.scalefac_band.psfb21[A]=P}n.scalefac_band.psfb21[y.PSFB21]=576;for(A=0;A<y.SBMAX_s+1;A++)n.scalefac_band.s[A]=M.sfBandIndex[T].s[A];for(A=0;A<y.PSFB12+1;A++){C=(n.scalefac_band.s[13]-n.scalefac_band.s[12])/y.PSFB12,P=n.scalefac_band.s[12]+A*C;n.scalefac_band.psfb12[A]=P}for(n.scalefac_band.psfb12[y.PSFB12]=192,1==t.version?n.sideinfo_len=1==n.channels_out?21:36:n.sideinfo_len=1==n.channels_out?13:21,t.error_protection&&(n.sideinfo_len+=2),j(t),n.Class_ID=D,b=0;b<19;b++)n.nsPsy.pefirbuf[b]=700*n.mode_gr*n.channels_out;switch(-1==t.ATHtype&&(t.ATHtype=4),u(t.VBR_q<=9),u(t.VBR_q>=0),t.VBR){case a.vbr_mt:t.VBR=a.vbr_mtrh;case a.vbr_mtrh:null==t.useTemporal&&(t.useTemporal=!1),S.apply_preset(t,500-10*t.VBR_q,0),t.quality<0&&(t.quality=LAME_DEFAULT_QUALITY),t.quality<5&&(t.quality=0),t.quality>5&&(t.quality=5),n.PSY.mask_adjust=t.maskingadjust,n.PSY.mask_adjust_short=t.maskingadjust_short,t.experimentalY?n.sfb21_extra=!1:n.sfb21_extra=t.out_samplerate>44e3,n.iteration_loop=new VBRNewIterationLoop(E);break;case a.vbr_rh:S.apply_preset(t,500-10*t.VBR_q,0),n.PSY.mask_adjust=t.maskingadjust,n.PSY.mask_adjust_short=t.maskingadjust_short,t.experimentalY?n.sfb21_extra=!1:n.sfb21_extra=t.out_samplerate>44e3,t.quality>6&&(t.quality=6),t.quality<0&&(t.quality=LAME_DEFAULT_QUALITY),n.iteration_loop=new VBROldIterationLoop(E);break;default:var O;n.sfb21_extra=!1,t.quality<0&&(t.quality=LAME_DEFAULT_QUALITY),O=t.VBR,O==a.vbr_off&&(t.VBR_mean_bitrate_kbps=t.brate),S.apply_preset(t,t.VBR_mean_bitrate_kbps,0),t.VBR=O,n.PSY.mask_adjust=t.maskingadjust,n.PSY.mask_adjust_short=t.maskingadjust_short,O==a.vbr_off?n.iteration_loop=new v(E):n.iteration_loop=new ABRIterationLoop(E);break}if(u(t.scale>=0),t.VBR!=a.vbr_off){if(n.VBR_min_bitrate=1,n.VBR_max_bitrate=14,t.out_samplerate<16e3&&(n.VBR_max_bitrate=8),0!=t.VBR_min_bitrate_kbps&&(t.VBR_min_bitrate_kbps=V(t.VBR_min_bitrate_kbps,t.version,t.out_samplerate),n.VBR_min_bitrate=U(t.VBR_min_bitrate_kbps,t.version,t.out_samplerate),n.VBR_min_bitrate<0))return-1;if(0!=t.VBR_max_bitrate_kbps&&(t.VBR_max_bitrate_kbps=V(t.VBR_max_bitrate_kbps,t.version,t.out_samplerate),n.VBR_max_bitrate=U(t.VBR_max_bitrate_kbps,t.version,t.out_samplerate),n.VBR_max_bitrate<0))return-1;t.VBR_min_bitrate_kbps=_.bitrate_table[t.version][n.VBR_min_bitrate],t.VBR_max_bitrate_kbps=_.bitrate_table[t.version][n.VBR_max_bitrate],t.VBR_mean_bitrate_kbps=Math.min(_.bitrate_table[t.version][n.VBR_max_bitrate],t.VBR_mean_bitrate_kbps),t.VBR_mean_bitrate_kbps=Math.max(_.bitrate_table[t.version][n.VBR_min_bitrate],t.VBR_mean_bitrate_kbps)}return t.tune&&(n.PSY.mask_adjust+=t.tune_value_a,n.PSY.mask_adjust_short+=t.tune_value_a),W(t),u(t.scale>=0),t.athaa_type<0?n.ATH.useAdjust=3:n.ATH.useAdjust=t.athaa_type,n.ATH.aaSensitivityP=Math.pow(10,t.athaa_sensitivity/-10),null==t.short_blocks&&(t.short_blocks=o.short_block_allowed),t.short_blocks!=o.short_block_allowed||t.mode!=e.JOINT_STEREO&&t.mode!=e.STEREO||(t.short_blocks=o.short_block_coupled),t.quant_comp<0&&(t.quant_comp=1),t.quant_comp_short<0&&(t.quant_comp_short=0),t.msfix<0&&(t.msfix=0),t.exp_nspsytune=1|t.exp_nspsytune,t.internal_flags.nsPsy.attackthre<0&&(t.internal_flags.nsPsy.attackthre=d.NSATTACKTHRE),t.internal_flags.nsPsy.attackthre_s<0&&(t.internal_flags.nsPsy.attackthre_s=d.NSATTACKTHRE_S),u(t.scale>=0),t.scale<0&&(t.scale=1),t.ATHtype<0&&(t.ATHtype=4),t.ATHcurve<0&&(t.ATHcurve=4),t.athaa_loudapprox<0&&(t.athaa_loudapprox=2),t.interChRatio<0&&(t.interChRatio=0),null==t.useTemporal&&(t.useTemporal=!0),n.slot_lag=n.frac_SpF=0,t.VBR==a.vbr_off&&(n.slot_lag=n.frac_SpF=72e3*(t.version+1)*t.brate%t.out_samplerate|0),M.iteration_init(t),R.psymodel_init(t),u(t.scale>=0),0},this.lame_encode_flush=function(e,t,n,r){var i,a,o,s,l=e.internal_flags,u=c([2,1152]),d=0,h=l.mf_samples_to_encode-y.POSTDELAY,f=Y(e);if(l.mf_samples_to_encode<1)return 0;i=0,e.in_samplerate!=e.out_samplerate&&(h+=16*e.out_samplerate/e.in_samplerate),o=e.framesize-h%e.framesize,o<576&&(o+=e.framesize),e.encoder_padding=o,s=(h+o)/e.framesize;while(s>0&&d>=0){var p=f-l.mf_size,m=e.frameNum;p*=e.in_samplerate,p/=e.out_samplerate,p>1152&&(p=1152),p<1&&(p=1),a=r-i,0==r&&(a=0),d=this.lame_encode_buffer(e,u[0],u[1],p,t,n,a),n+=d,i+=d,s-=m!=e.frameNum?1:0}if(l.mf_samples_to_encode=0,d<0)return d;if(a=r-i,0==r&&(a=0),w.flush_bitstream(e),d=w.copy_buffer(l,t,n,a,1),d<0)return d;if(n+=d,i+=d,a=r-i,0==r&&(a=0),e.write_id3tag_automatic){if(C.id3tag_write_v1(e),d=w.copy_buffer(l,t,n,a,0),d<0)return d;i+=d}return i},this.lame_encode_buffer=function(e,t,n,r,i,a,o){var s=e.internal_flags,l=[null,null];if(s.Class_ID!=D)return-3;if(0==r)return 0;G(s,r),l[0]=s.in_buffer_0,l[1]=s.in_buffer_1;for(var c=0;c<r;c++)l[0][c]=t[c],s.channels_in>1&&(l[1][c]=n[c]);return $(e,l[0],l[1],r,i,a,o)}}e.exports=b},3835:function(e,t,n){var r=n(5523);function i(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=r.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}e.exports=i},4314:function(e,t,n){var r=n(4624),i=(r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte),a=r.new_double,o=r.new_float,s=r.new_float_n,l=r.new_int,c=r.new_int_n,u=(r.assert,n(241)),d=n(5714),h=n(5218),f=n(4e3),p=n(5996),m=n(7131),v=n(5391);function g(){var e=40;function t(){this.write_timing=0,this.ptr=0,this.buf=i(e)}this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=s([2,g.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new u,this.ms_ratio=o(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=l(2),this.CurrentStep=l(2),this.masking_lower=0,this.bv_scf=l(576),this.pseudohalf=l(v.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*g.BPC+1),this.itime=a(2),this.sideinfo_len=0,this.sb_sample=s([2,2,18,m.SBLIMIT]),this.amp_filter=o(32),this.header=new Array(g.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new d,this.minval_l=o(m.CBANDS),this.minval_s=o(m.CBANDS),this.nb_1=s([4,m.CBANDS]),this.nb_2=s([4,m.CBANDS]),this.nb_s1=s([4,m.CBANDS]),this.nb_s2=s([4,m.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=o(4),this.loudness_sq=s([2,2]),this.loudness_sq_save=o(2),this.mld_l=o(m.SBMAX_l),this.mld_s=o(m.SBMAX_s),this.bm_l=l(m.SBMAX_l),this.bo_l=l(m.SBMAX_l),this.bm_s=l(m.SBMAX_s),this.bo_s=l(m.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=c([m.CBANDS,2]),this.s3ind_s=c([m.CBANDS,2]),this.numlines_s=l(m.CBANDS),this.numlines_l=l(m.CBANDS),this.rnumlines_l=o(m.CBANDS),this.mld_cb_l=o(m.CBANDS),this.mld_cb_s=o(m.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=o(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=l(2),this.nsPsy=new h,this.VBR_seek_table=new f,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=c([16,5]),this.bitrate_blockType_Hist=c([16,6]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var n=0;n<this.en.length;n++)this.en[n]=new p;for(n=0;n<this.thm.length;n++)this.thm[n]=new p;for(n=0;n<this.header.length;n++)this.header[n]=new t}g.MFSIZE=3456+m.ENCDELAY-m.MDCTDELAY,g.MAX_HEADER_BUF=256,g.MAX_BITS_PER_CHANNEL=4095,g.MAX_BITS_PER_GRANULE=7680,g.BPC=320,e.exports=g},5523:function(e){function t(e){var t=e;this.ordinal=function(){return t}}t.STEREO=new t(0),t.JOINT_STEREO=new t(1),t.DUAL_CHANNEL=new t(2),t.MONO=new t(3),t.NOT_SET=new t(4),e.exports=t},1795:function(e){function t(e){this.bits=e}e.exports=t},8185:function(e,t,n){var r=n(4624),i=r.System,a=(r.VbrMode,r.Float,r.ShortBlock,r.Util),o=r.Arrays,s=(r.new_array_n,r.new_byte,r.new_double,r.new_float),l=(r.new_float_n,r.new_int,r.new_int_n,r.assert,n(7131));function c(){var e=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*a.SQRT2*.5/2384e-9,.017876148*a.SQRT2*.5/2384e-9,.003134727*a.SQRT2*.5/2384e-9,.002457142*a.SQRT2*.5/2384e-9,971317e-9*a.SQRT2*.5/2384e-9,218868e-9*a.SQRT2*.5/2384e-9,101566e-9*a.SQRT2*.5/2384e-9,13828e-9*a.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],t=12,n=36,r=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],c=r[l.SHORT_TYPE],u=r[l.SHORT_TYPE],d=r[l.SHORT_TYPE],h=r[l.SHORT_TYPE],f=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function p(t,n,r){for(var i,o,s,l=10,c=n+238-14-286,u=-15;u<0;u++){var d,h,f;d=e[l+-10],h=t[c+-224]*d,f=t[n+224]*d,d=e[l+-9],h+=t[c+-160]*d,f+=t[n+160]*d,d=e[l+-8],h+=t[c+-96]*d,f+=t[n+96]*d,d=e[l+-7],h+=t[c+-32]*d,f+=t[n+32]*d,d=e[l+-6],h+=t[c+32]*d,f+=t[n+-32]*d,d=e[l+-5],h+=t[c+96]*d,f+=t[n+-96]*d,d=e[l+-4],h+=t[c+160]*d,f+=t[n+-160]*d,d=e[l+-3],h+=t[c+224]*d,f+=t[n+-224]*d,d=e[l+-2],h+=t[n+-256]*d,f-=t[c+256]*d,d=e[l+-1],h+=t[n+-192]*d,f-=t[c+192]*d,d=e[l+0],h+=t[n+-128]*d,f-=t[c+128]*d,d=e[l+1],h+=t[n+-64]*d,f-=t[c+64]*d,d=e[l+2],h+=t[n+0]*d,f-=t[c+0]*d,d=e[l+3],h+=t[n+64]*d,f-=t[c+-64]*d,d=e[l+4],h+=t[n+128]*d,f-=t[c+-128]*d,d=e[l+5],h+=t[n+192]*d,f-=t[c+-192]*d,h*=e[l+6],d=f-h,r[30+2*u]=f+h,r[31+2*u]=e[l+7]*d,l+=18,n--,c++}f=t[n+-16]*e[l+-10],h=t[n+-32]*e[l+-2],f+=(t[n+-48]-t[n+16])*e[l+-9],h+=t[n+-96]*e[l+-1],f+=(t[n+-80]+t[n+48])*e[l+-8],h+=t[n+-160]*e[l+0],f+=(t[n+-112]-t[n+80])*e[l+-7],h+=t[n+-224]*e[l+1],f+=(t[n+-144]+t[n+112])*e[l+-6],h-=t[n+32]*e[l+2],f+=(t[n+-176]-t[n+144])*e[l+-5],h-=t[n+96]*e[l+3],f+=(t[n+-208]+t[n+176])*e[l+-4],h-=t[n+160]*e[l+4],f+=(t[n+-240]-t[n+208])*e[l+-3],h-=t[n+224],i=h-f,o=h+f,f=r[14],h=r[15]-f,r[31]=o+f,r[30]=i+h,r[15]=i-h,r[14]=o-f,s=r[28]-r[0],r[0]+=r[28],r[28]=s*e[l+-36+7],s=r[29]-r[1],r[1]+=r[29],r[29]=s*e[l+-36+7],s=r[26]-r[2],r[2]+=r[26],r[26]=s*e[l+-72+7],s=r[27]-r[3],r[3]+=r[27],r[27]=s*e[l+-72+7],s=r[24]-r[4],r[4]+=r[24],r[24]=s*e[l+-108+7],s=r[25]-r[5],r[5]+=r[25],r[25]=s*e[l+-108+7],s=r[22]-r[6],r[6]+=r[22],r[22]=s*a.SQRT2,s=r[23]-r[7],r[7]+=r[23],r[23]=s*a.SQRT2-r[7],r[7]-=r[6],r[22]-=r[7],r[23]-=r[22],s=r[6],r[6]=r[31]-s,r[31]=r[31]+s,s=r[7],r[7]=r[30]-s,r[30]=r[30]+s,s=r[22],r[22]=r[15]-s,r[15]=r[15]+s,s=r[23],r[23]=r[14]-s,r[14]=r[14]+s,s=r[20]-r[8],r[8]+=r[20],r[20]=s*e[l+-180+7],s=r[21]-r[9],r[9]+=r[21],r[21]=s*e[l+-180+7],s=r[18]-r[10],r[10]+=r[18],r[18]=s*e[l+-216+7],s=r[19]-r[11],r[11]+=r[19],r[19]=s*e[l+-216+7],s=r[16]-r[12],r[12]+=r[16],r[16]=s*e[l+-252+7],s=r[17]-r[13],r[13]+=r[17],r[17]=s*e[l+-252+7],s=-r[20]+r[24],r[20]+=r[24],r[24]=s*e[l+-216+7],s=-r[21]+r[25],r[21]+=r[25],r[25]=s*e[l+-216+7],s=r[4]-r[8],r[4]+=r[8],r[8]=s*e[l+-216+7],s=r[5]-r[9],r[5]+=r[9],r[9]=s*e[l+-216+7],s=r[0]-r[12],r[0]+=r[12],r[12]=s*e[l+-72+7],s=r[1]-r[13],r[1]+=r[13],r[13]=s*e[l+-72+7],s=r[16]-r[28],r[16]+=r[28],r[28]=s*e[l+-72+7],s=-r[17]+r[29],r[17]+=r[29],r[29]=s*e[l+-72+7],s=a.SQRT2*(r[2]-r[10]),r[2]+=r[10],r[10]=s,s=a.SQRT2*(r[3]-r[11]),r[3]+=r[11],r[11]=s,s=a.SQRT2*(-r[18]+r[26]),r[18]+=r[26],r[26]=s-r[18],s=a.SQRT2*(-r[19]+r[27]),r[19]+=r[27],r[27]=s-r[19],s=r[2],r[19]-=r[3],r[3]-=s,r[2]=r[31]-s,r[31]+=s,s=r[3],r[11]-=r[19],r[18]-=s,r[3]=r[30]-s,r[30]+=s,s=r[18],r[27]-=r[11],r[19]-=s,r[18]=r[15]-s,r[15]+=s,s=r[19],r[10]-=s,r[19]=r[14]-s,r[14]+=s,s=r[10],r[11]-=s,r[10]=r[23]-s,r[23]+=s,s=r[11],r[26]-=s,r[11]=r[22]-s,r[22]+=s,s=r[26],r[27]-=s,r[26]=r[7]-s,r[7]+=s,s=r[27],r[27]=r[6]-s,r[6]+=s,s=a.SQRT2*(r[0]-r[4]),r[0]+=r[4],r[4]=s,s=a.SQRT2*(r[1]-r[5]),r[1]+=r[5],r[5]=s,s=a.SQRT2*(r[16]-r[20]),r[16]+=r[20],r[20]=s,s=a.SQRT2*(r[17]-r[21]),r[17]+=r[21],r[21]=s,s=-a.SQRT2*(r[8]-r[12]),r[8]+=r[12],r[12]=s-r[8],s=-a.SQRT2*(r[9]-r[13]),r[9]+=r[13],r[13]=s-r[9],s=-a.SQRT2*(r[25]-r[29]),r[25]+=r[29],r[29]=s-r[25],s=-a.SQRT2*(r[24]+r[28]),r[24]-=r[28],r[28]=s-r[24],s=r[24]-r[16],r[24]=s,s=r[20]-s,r[20]=s,s=r[28]-s,r[28]=s,s=r[25]-r[17],r[25]=s,s=r[21]-s,r[21]=s,s=r[29]-s,r[29]=s,s=r[17]-r[1],r[17]=s,s=r[9]-s,r[9]=s,s=r[25]-s,r[25]=s,s=r[5]-s,r[5]=s,s=r[21]-s,r[21]=s,s=r[13]-s,r[13]=s,s=r[29]-s,r[29]=s,s=r[1]-r[0],r[1]=s,s=r[16]-s,r[16]=s,s=r[17]-s,r[17]=s,s=r[8]-s,r[8]=s,s=r[9]-s,r[9]=s,s=r[24]-s,r[24]=s,s=r[25]-s,r[25]=s,s=r[4]-s,r[4]=s,s=r[5]-s,r[5]=s,s=r[20]-s,r[20]=s,s=r[21]-s,r[21]=s,s=r[12]-s,r[12]=s,s=r[13]-s,r[13]=s,s=r[28]-s,r[28]=s,s=r[29]-s,r[29]=s,s=r[0],r[0]+=r[31],r[31]-=s,s=r[1],r[1]+=r[30],r[30]-=s,s=r[16],r[16]+=r[15],r[15]-=s,s=r[17],r[17]+=r[14],r[14]-=s,s=r[8],r[8]+=r[23],r[23]-=s,s=r[9],r[9]+=r[22],r[22]-=s,s=r[24],r[24]+=r[7],r[7]-=s,s=r[25],r[25]+=r[6],r[6]-=s,s=r[4],r[4]+=r[27],r[27]-=s,s=r[5],r[5]+=r[26],r[26]-=s,s=r[20],r[20]+=r[11],r[11]-=s,s=r[21],r[21]+=r[10],r[10]-=s,s=r[12],r[12]+=r[19],r[19]-=s,s=r[13],r[13]+=r[18],r[18]-=s,s=r[28],r[28]+=r[3],r[3]-=s,s=r[29],r[29]+=r[2],r[2]-=s}function m(e,t){for(var n=0;n<3;n++){var i,a,o,s,c,u;s=e[t+6]*r[l.SHORT_TYPE][0]-e[t+15],i=e[t+0]*r[l.SHORT_TYPE][2]-e[t+9],a=s+i,o=s-i,s=e[t+15]*r[l.SHORT_TYPE][0]+e[t+6],i=e[t+9]*r[l.SHORT_TYPE][2]+e[t+0],c=s+i,u=-s+i,i=2069978111953089e-26*(e[t+3]*r[l.SHORT_TYPE][1]-e[t+12]),s=2069978111953089e-26*(e[t+12]*r[l.SHORT_TYPE][1]+e[t+3]),e[t+0]=190752519173728e-25*a+i,e[t+15]=190752519173728e-25*-c+s,o=.8660254037844387*o*1907525191737281e-26,c=.5*c*1907525191737281e-26+s,e[t+3]=o-c,e[t+6]=o+c,a=.5*a*1907525191737281e-26-i,u=.8660254037844387*u*1907525191737281e-26,e[t+9]=a+u,e[t+12]=a-u,t++}}function v(e,t,n){var r,i,a,o,s,l,c,d,h,f,p,m,v,g,_,y,b,x;a=n[17]-n[9],s=n[15]-n[11],l=n[14]-n[12],c=n[0]+n[8],d=n[1]+n[7],h=n[2]+n[6],f=n[3]+n[5],e[t+17]=c+h-f-(d-n[4]),i=(c+h-f)*u[19]+(d-n[4]),r=(a-s-l)*u[18],e[t+5]=r+i,e[t+6]=r-i,o=(n[16]-n[10])*u[18],d=d*u[19]+n[4],r=a*u[12]+o+s*u[13]+l*u[14],i=-c*u[16]+d-h*u[17]+f*u[15],e[t+1]=r+i,e[t+2]=r-i,r=a*u[13]-o-s*u[14]+l*u[12],i=-c*u[17]+d-h*u[15]+f*u[16],e[t+9]=r+i,e[t+10]=r-i,r=a*u[14]-o+s*u[12]-l*u[13],i=c*u[15]-d+h*u[16]-f*u[17],e[t+13]=r+i,e[t+14]=r-i,p=n[8]-n[0],v=n[6]-n[2],g=n[5]-n[3],_=n[17]+n[9],y=n[16]+n[10],b=n[15]+n[11],x=n[14]+n[12],e[t+0]=_+b+x+(y+n[13]),r=(_+b+x)*u[19]-(y+n[13]),i=(p-v+g)*u[18],e[t+11]=r+i,e[t+12]=r-i,m=(n[7]-n[1])*u[18],y=n[13]-y*u[19],r=_*u[15]-y+b*u[16]+x*u[17],i=p*u[14]+m+v*u[12]+g*u[13],e[t+3]=r+i,e[t+4]=r-i,r=-_*u[17]+y-b*u[15]-x*u[16],i=p*u[13]+m-v*u[14]-g*u[12],e[t+7]=r+i,e[t+8]=r-i,r=-_*u[16]+y-b*u[17]-x*u[15],i=p*u[12]-m+v*u[13]-g*u[14],e[t+15]=r+i,e[t+16]=r-i}this.mdct_sub48=function(e,a,u){for(var g=a,_=286,y=0;y<e.channels_out;y++){for(var b=0;b<e.mode_gr;b++){for(var x,w=e.l3_side.tt[b][y],S=w.xr,M=0,E=e.sb_sample[y][1-b],T=0,A=0;A<9;A++)for(p(g,_,E[T]),p(g,_+32,E[T+1]),T+=2,_+=64,x=1;x<32;x+=2)E[T-1][x]*=-1;for(x=0;x<32;x++,M+=18){var C=w.block_type,k=e.sb_sample[y][b],R=e.sb_sample[y][1-b];if(0!=w.mixed_block_flag&&x<2&&(C=0),e.amp_filter[x]<1e-12)o.fill(S,M+0,M+18,0);else{if(e.amp_filter[x]<1)for(A=0;A<18;A++)R[A][f[x]]*=e.amp_filter[x];if(C==l.SHORT_TYPE){for(A=-t/4;A<0;A++){var L=r[l.SHORT_TYPE][A+3];S[M+3*A+9]=k[9+A][f[x]]*L-k[8-A][f[x]],S[M+3*A+18]=k[14-A][f[x]]*L+k[15+A][f[x]],S[M+3*A+10]=k[15+A][f[x]]*L-k[14-A][f[x]],S[M+3*A+19]=R[2-A][f[x]]*L+R[3+A][f[x]],S[M+3*A+11]=R[3+A][f[x]]*L-R[2-A][f[x]],S[M+3*A+20]=R[8-A][f[x]]*L+R[9+A][f[x]]}m(S,M)}else{var I=s(18);for(A=-n/4;A<0;A++){var P,D;P=r[C][A+27]*R[A+9][f[x]]+r[C][A+36]*R[8-A][f[x]],D=r[C][A+9]*k[A+9][f[x]]-r[C][A+18]*k[8-A][f[x]],I[A+9]=P-D*c[3+A+9],I[A+18]=P*c[3+A+9]+D}v(S,M,I)}}if(C!=l.SHORT_TYPE&&0!=x)for(A=7;A>=0;--A){var O,N;O=S[M+A]*d[20+A]+S[M+-1-A]*h[28+A],N=S[M+A]*h[28+A]-S[M+-1-A]*d[20+A],S[M+-1-A]=O,S[M+A]=N}}}if(g=u,_=286,1==e.mode_gr)for(var F=0;F<18;F++)i.arraycopy(e.sb_sample[y][1][F],0,e.sb_sample[y][0][F],0,32)}}}e.exports=c},5218:function(e,t,n){var r=n(4624),i=(r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float),a=r.new_float_n,o=r.new_int,s=(r.new_int_n,r.assert,n(7131));function l(){this.last_en_subshort=a([4,9]),this.lastAttacks=o(4),this.pefirbuf=i(19),this.longfact=i(s.SBMAX_l),this.shortfact=i(s.SBMAX_s),this.attackthre=0,this.attackthre_s=0}e.exports=l},3990:function(e,t,n){var r=n(4624),i=(r.System,r.VbrMode);r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float,r.new_float_n,r.new_int,r.new_int_n,r.assert;function a(){var e,t=n(9341);function r(e,t,n,r,i,a,o,s,l,c,u,d,h,f,p){this.vbr_q=e,this.quant_comp=t,this.quant_comp_s=n,this.expY=r,this.st_lrm=i,this.st_s=a,this.masking_adj=o,this.masking_adj_short=s,this.ath_lower=l,this.ath_curve=c,this.ath_sensitivity=u,this.interch=d,this.safejoint=h,this.sfb21mod=f,this.msfix=p}function a(e,t,n,r,i,a,o,s,l,c,u,d,h,f){this.quant_comp=t,this.quant_comp_s=n,this.safejoint=r,this.nsmsfix=i,this.st_lrm=a,this.st_s=o,this.nsbass=s,this.scale=l,this.masking_adj=c,this.ath_lower=u,this.ath_curve=d,this.interch=h,this.sfscale=f}this.setModules=function(t){e=t};var o=[new r(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new r(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new r(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new r(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new r(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new r(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new r(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new r(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new r(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new r(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new r(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],s=[new r(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new r(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new r(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new r(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new r(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new r(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new r(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new r(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new r(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new r(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new r(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function l(e,t,n){var r=e.VBR==i.vbr_rh?o:s,a=e.VBR_q_frac,l=r[t],c=r[t+1],u=l;l.st_lrm=l.st_lrm+a*(c.st_lrm-l.st_lrm),l.st_s=l.st_s+a*(c.st_s-l.st_s),l.masking_adj=l.masking_adj+a*(c.masking_adj-l.masking_adj),l.masking_adj_short=l.masking_adj_short+a*(c.masking_adj_short-l.masking_adj_short),l.ath_lower=l.ath_lower+a*(c.ath_lower-l.ath_lower),l.ath_curve=l.ath_curve+a*(c.ath_curve-l.ath_curve),l.ath_sensitivity=l.ath_sensitivity+a*(c.ath_sensitivity-l.ath_sensitivity),l.interch=l.interch+a*(c.interch-l.interch),l.msfix=l.msfix+a*(c.msfix-l.msfix),d(e,u.vbr_q),0!=n?e.quant_comp=u.quant_comp:Math.abs(e.quant_comp- -1)>0||(e.quant_comp=u.quant_comp),0!=n?e.quant_comp_short=u.quant_comp_s:Math.abs(e.quant_comp_short- -1)>0||(e.quant_comp_short=u.quant_comp_s),0!=u.expY&&(e.experimentalY=0!=u.expY),0!=n?e.internal_flags.nsPsy.attackthre=u.st_lrm:Math.abs(e.internal_flags.nsPsy.attackthre- -1)>0||(e.internal_flags.nsPsy.attackthre=u.st_lrm),0!=n?e.internal_flags.nsPsy.attackthre_s=u.st_s:Math.abs(e.internal_flags.nsPsy.attackthre_s- -1)>0||(e.internal_flags.nsPsy.attackthre_s=u.st_s),0!=n?e.maskingadjust=u.masking_adj:Math.abs(e.maskingadjust-0)>0||(e.maskingadjust=u.masking_adj),0!=n?e.maskingadjust_short=u.masking_adj_short:Math.abs(e.maskingadjust_short-0)>0||(e.maskingadjust_short=u.masking_adj_short),0!=n?e.ATHlower=-u.ath_lower/10:Math.abs(10*-e.ATHlower-0)>0||(e.ATHlower=-u.ath_lower/10),0!=n?e.ATHcurve=u.ath_curve:Math.abs(e.ATHcurve- -1)>0||(e.ATHcurve=u.ath_curve),0!=n?e.athaa_sensitivity=u.ath_sensitivity:Math.abs(e.athaa_sensitivity- -1)>0||(e.athaa_sensitivity=u.ath_sensitivity),u.interch>0&&(0!=n?e.interChRatio=u.interch:Math.abs(e.interChRatio- -1)>0||(e.interChRatio=u.interch)),u.safejoint>0&&(e.exp_nspsytune=e.exp_nspsytune|u.safejoint),u.sfb21mod>0&&(e.exp_nspsytune=e.exp_nspsytune|u.sfb21mod<<20),0!=n?e.msfix=u.msfix:Math.abs(e.msfix- -1)>0||(e.msfix=u.msfix),0==n&&(e.VBR_q=t,e.VBR_q_frac=a)}var c=[new a(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new a(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new a(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new a(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new a(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new a(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new a(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new a(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new a(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new a(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new a(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new a(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new a(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new a(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new a(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new a(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new a(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function u(t,n,r){var a=n,o=e.nearestBitrateFullIndex(n);if(t.VBR=i.vbr_abr,t.VBR_mean_bitrate_kbps=a,t.VBR_mean_bitrate_kbps=Math.min(t.VBR_mean_bitrate_kbps,320),t.VBR_mean_bitrate_kbps=Math.max(t.VBR_mean_bitrate_kbps,8),t.brate=t.VBR_mean_bitrate_kbps,t.VBR_mean_bitrate_kbps>320&&(t.disable_reservoir=!0),c[o].safejoint>0&&(t.exp_nspsytune=2|t.exp_nspsytune),c[o].sfscale>0&&(t.internal_flags.noise_shaping=2),Math.abs(c[o].nsbass)>0){var s=int(4*c[o].nsbass);s<0&&(s+=64),t.exp_nspsytune=t.exp_nspsytune|s<<2}return 0!=r?t.quant_comp=c[o].quant_comp:Math.abs(t.quant_comp- -1)>0||(t.quant_comp=c[o].quant_comp),0!=r?t.quant_comp_short=c[o].quant_comp_s:Math.abs(t.quant_comp_short- -1)>0||(t.quant_comp_short=c[o].quant_comp_s),0!=r?t.msfix=c[o].nsmsfix:Math.abs(t.msfix- -1)>0||(t.msfix=c[o].nsmsfix),0!=r?t.internal_flags.nsPsy.attackthre=c[o].st_lrm:Math.abs(t.internal_flags.nsPsy.attackthre- -1)>0||(t.internal_flags.nsPsy.attackthre=c[o].st_lrm),0!=r?t.internal_flags.nsPsy.attackthre_s=c[o].st_s:Math.abs(t.internal_flags.nsPsy.attackthre_s- -1)>0||(t.internal_flags.nsPsy.attackthre_s=c[o].st_s),0!=r?t.scale=c[o].scale:Math.abs(t.scale- -1)>0||(t.scale=c[o].scale),0!=r?t.maskingadjust=c[o].masking_adj:Math.abs(t.maskingadjust-0)>0||(t.maskingadjust=c[o].masking_adj),c[o].masking_adj>0?0!=r?t.maskingadjust_short=.9*c[o].masking_adj:Math.abs(t.maskingadjust_short-0)>0||(t.maskingadjust_short=.9*c[o].masking_adj):0!=r?t.maskingadjust_short=1.1*c[o].masking_adj:Math.abs(t.maskingadjust_short-0)>0||(t.maskingadjust_short=1.1*c[o].masking_adj),0!=r?t.ATHlower=-c[o].ath_lower/10:Math.abs(10*-t.ATHlower-0)>0||(t.ATHlower=-c[o].ath_lower/10),0!=r?t.ATHcurve=c[o].ath_curve:Math.abs(t.ATHcurve- -1)>0||(t.ATHcurve=c[o].ath_curve),0!=r?t.interChRatio=c[o].interch:Math.abs(t.interChRatio- -1)>0||(t.interChRatio=c[o].interch),n}function d(e,t){var n=0;return 0>t&&(n=-1,t=0),9<t&&(n=-1,t=9),e.VBR_q=t,e.VBR_q_frac=0,n}this.apply_preset=function(e,n,r){switch(n){case t.R3MIX:n=t.V3,e.VBR=i.vbr_mtrh;break;case t.MEDIUM:n=t.V4,e.VBR=i.vbr_rh;break;case t.MEDIUM_FAST:n=t.V4,e.VBR=i.vbr_mtrh;break;case t.STANDARD:n=t.V2,e.VBR=i.vbr_rh;break;case t.STANDARD_FAST:n=t.V2,e.VBR=i.vbr_mtrh;break;case t.EXTREME:n=t.V0,e.VBR=i.vbr_rh;break;case t.EXTREME_FAST:n=t.V0,e.VBR=i.vbr_mtrh;break;case t.INSANE:return n=320,e.preset=n,u(e,n,r),e.VBR=i.vbr_off,n}switch(e.preset=n,n){case t.V9:return l(e,9,r),n;case t.V8:return l(e,8,r),n;case t.V7:return l(e,7,r),n;case t.V6:return l(e,6,r),n;case t.V5:return l(e,5,r),n;case t.V4:return l(e,4,r),n;case t.V3:return l(e,3,r),n;case t.V2:return l(e,2,r),n;case t.V1:return l(e,1,r),n;case t.V0:return l(e,0,r),n;default:break}return 8<=n&&n<=320?u(e,n,r):(e.preset=0,n)}}e.exports=a},9813:function(e,t,n){var r=n(4624),i=(r.System,r.VbrMode),a=r.Float,o=r.ShortBlock,s=r.Util,l=r.Arrays,c=(r.new_array_n,r.new_byte,r.new_double,r.new_float),u=r.new_float_n,d=r.new_int,h=(r.new_int_n,r.assert),f=n(8694),p=n(7131);function m(){var e=n(5523),t=new f,r=2.302585092994046,m=2,v=16,g=2,_=16,y=.34,b=1/217621504/(p.BLKSIZE/2),x=.01,w=.8,S=.6,M=.3,E=3.5,T=21,A=.2302585093;function C(e){return e}function k(e,t){for(var n=0,r=0;r<p.BLKSIZE/2;++r)n+=e[r]*t.ATH.eql_w[r];return n*=b,n}function R(e,n,r,i,a,o,l,c,u,d,h){var f=e.internal_flags;if(u<2)t.fft_long(f,i[a],u,d,h),t.fft_short(f,o[l],u,d,h);else if(2==u){for(var m=p.BLKSIZE-1;m>=0;--m){var v=i[a+0][m],g=i[a+1][m];i[a+0][m]=(v+g)*s.SQRT2*.5,i[a+1][m]=(v-g)*s.SQRT2*.5}for(var _=2;_>=0;--_)for(m=p.BLKSIZE_s-1;m>=0;--m){v=o[l+0][_][m],g=o[l+1][_][m];o[l+0][_][m]=(v+g)*s.SQRT2*.5,o[l+1][_][m]=(v-g)*s.SQRT2*.5}}n[0]=C(i[a+0][0]),n[0]*=n[0];for(m=p.BLKSIZE/2-1;m>=0;--m){var y=i[a+0][p.BLKSIZE/2-m],b=i[a+0][p.BLKSIZE/2+m];n[p.BLKSIZE/2-m]=C(.5*(y*y+b*b))}for(_=2;_>=0;--_){r[_][0]=o[l+0][_][0],r[_][0]*=r[_][0];for(m=p.BLKSIZE_s/2-1;m>=0;--m){y=o[l+0][_][p.BLKSIZE_s/2-m],b=o[l+0][_][p.BLKSIZE_s/2+m];r[_][p.BLKSIZE_s/2-m]=C(.5*(y*y+b*b))}}var x=0;for(m=11;m<p.HBLKSIZE;m++)x+=n[m];if(f.tot_ener[u]=x,e.analysis){for(m=0;m<p.HBLKSIZE;m++)f.pinfo.energy[c][u][m]=f.pinfo.energy_save[u][m],f.pinfo.energy_save[u][m]=n[m];f.pinfo.pe[c][u]=f.pe[u]}2==e.athaa_loudapprox&&u<2&&(f.loudness_sq[c][u]=f.loudness_sq_save[u],f.loudness_sq_save[u]=k(n,f))}var L,I,P,D=8,O=23,N=15,F=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749];function B(){L=Math.pow(10,(D+1)/16),I=Math.pow(10,(O+1)/16),P=Math.pow(10,N/10)}var V=[3.3246*3.3246,3.23837*3.23837,9.9500500969,9.0247369744,8.1854926609,7.0440875649,2.46209*2.46209,2.284*2.284,4.4892710641,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,2.4621061921,2.1508568964,1.37074*1.37074,1.31036*1.31036,1.5691069696,1.4555939904,1.16203*1.16203,1.2715945225,1.09428*1.09428,1.0659*1.0659,1.0779838276,1.0382591025,1],U=[1.7782755904,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.6999465924,1.22321*1.22321,1.3169398564,1],z=[5.5396212496,2.29259*2.29259,4.9868695969,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,2.2499700001,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.2339655056,1.0779838276];function H(e,t,n,r,i,a){var o;if(t>e){if(!(t<e*I))return e+t;o=t/e}else{if(e>=t*I)return e+t;o=e/t}if(h(e>=0),h(t>=0),e+=t,r+3<=6){if(o>=L)return e;var l=0|s.FAST_LOG10_X(o,16);return e*U[l]}var c,u;l=0|s.FAST_LOG10_X(o,16);return t=0!=a?i.ATH.cb_s[n]*i.ATH.adjust:i.ATH.cb_l[n]*i.ATH.adjust,h(t>=0),e<P*t?e>t?(c=1,l<=13&&(c=z[l]),u=s.FAST_LOG10_X(e/t,10/15),e*((V[l]-c)*u+c)):l>13?e:e*z[l]:e*V[l]}var W=[1.7782755904,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.6999465924,1.22321*1.22321,1.3169398564,1];function j(e,t,n){var r;if(e<0&&(e=0),t<0&&(t=0),e<=0)return t;if(t<=0)return e;if(r=t>e?t/e:e/t,-2<=n&&n<=2){if(r>=L)return e+t;var i=0|s.FAST_LOG10_X(r,16);return(e+t)*W[i]}return r<I?e+t:(e<t&&(e=t),e)}function G(e,t){var n=e.internal_flags;if(n.channels_out>1){for(var r=0;r<p.SBMAX_l;r++){var i=n.thm[0].l[r],a=n.thm[1].l[r];n.thm[0].l[r]+=a*t,n.thm[1].l[r]+=i*t}for(r=0;r<p.SBMAX_s;r++)for(var o=0;o<3;o++){i=n.thm[0].s[r][o],a=n.thm[1].s[r][o];n.thm[0].s[r][o]+=a*t,n.thm[1].s[r][o]+=i*t}}}function Y(e){for(var t=0;t<p.SBMAX_l;t++)if(!(e.thm[0].l[t]>1.58*e.thm[1].l[t]||e.thm[1].l[t]>1.58*e.thm[0].l[t])){var n=e.mld_l[t]*e.en[3].l[t],r=Math.max(e.thm[2].l[t],Math.min(e.thm[3].l[t],n));n=e.mld_l[t]*e.en[2].l[t];var i=Math.max(e.thm[3].l[t],Math.min(e.thm[2].l[t],n));e.thm[2].l[t]=r,e.thm[3].l[t]=i}for(t=0;t<p.SBMAX_s;t++)for(var a=0;a<3;a++)if(!(e.thm[0].s[t][a]>1.58*e.thm[1].s[t][a]||e.thm[1].s[t][a]>1.58*e.thm[0].s[t][a])){n=e.mld_s[t]*e.en[3].s[t][a],r=Math.max(e.thm[2].s[t][a],Math.min(e.thm[3].s[t][a],n));n=e.mld_s[t]*e.en[2].s[t][a];i=Math.max(e.thm[3].s[t][a],Math.min(e.thm[2].s[t][a],n));e.thm[2].s[t][a]=r,e.thm[3].s[t][a]=i}}function $(e,t,n){var r=t,i=Math.pow(10,n);t*=2,r*=2;for(var a=0;a<p.SBMAX_l;a++){if(d=e.ATH.cb_l[e.bm_l[a]]*i,l=Math.min(Math.max(e.thm[0].l[a],d),Math.max(e.thm[1].l[a],d)),c=Math.max(e.thm[2].l[a],d),u=Math.max(e.thm[3].l[a],d),l*t<c+u){var o=l*r/(c+u);c*=o,u*=o,h(c+u>0)}e.thm[2].l[a]=Math.min(c,e.thm[2].l[a]),e.thm[3].l[a]=Math.min(u,e.thm[3].l[a])}i*=p.BLKSIZE_s/p.BLKSIZE;for(a=0;a<p.SBMAX_s;a++)for(var s=0;s<3;s++){var l,c,u,d;if(d=e.ATH.cb_s[e.bm_s[a]]*i,l=Math.min(Math.max(e.thm[0].s[a][s],d),Math.max(e.thm[1].s[a][s],d)),c=Math.max(e.thm[2].s[a][s],d),u=Math.max(e.thm[3].s[a][s],d),l*t<c+u){o=l*t/(c+u);c*=o,u*=o,h(c+u>0)}e.thm[2].s[a][s]=Math.min(e.thm[2].s[a][s],c),e.thm[3].s[a][s]=Math.min(e.thm[3].s[a][s],u)}}function q(e,t,n,r,i){var a,o,s=0,l=0;for(a=o=0;a<p.SBMAX_s;++o,++a){var c=e.bo_s[a],u=e.npart_s,d=c<u?c:u;while(o<d)h(t[o]>=0),h(n[o]>=0),s+=t[o],l+=n[o],o++;if(e.en[r].s[a][i]=s,e.thm[r].s[a][i]=l,o>=u){++a;break}h(t[o]>=0),h(n[o]>=0);var f=e.PSY.bo_s_weight[a],m=1-f;s=f*t[o],l=f*n[o],e.en[r].s[a][i]+=s,e.thm[r].s[a][i]+=l,s=m*t[o],l=m*n[o]}for(;a<p.SBMAX_s;++a)e.en[r].s[a][i]=0,e.thm[r].s[a][i]=0}function X(e,t,n,r){var i,a,o=0,s=0;for(i=a=0;i<p.SBMAX_l;++a,++i){var l=e.bo_l[i],c=e.npart_l,u=l<c?l:c;while(a<u)h(t[a]>=0),h(n[a]>=0),o+=t[a],s+=n[a],a++;if(e.en[r].l[i]=o,e.thm[r].l[i]=s,a>=c){++i;break}h(t[a]>=0),h(n[a]>=0);var d=e.PSY.bo_l_weight[i],f=1-d;o=d*t[a],s=d*n[a],e.en[r].l[i]+=o,e.thm[r].l[i]+=s,o=f*t[a],s=f*n[a]}for(;i<p.SBMAX_l;++i)e.en[r].l[i]=0,e.thm[r].l[i]=0}function Z(e,t,n,r,i,a){var o,s,l=e.internal_flags;for(s=o=0;s<l.npart_s;++s){for(var c=0,u=0,d=l.numlines_s[s],f=0;f<d;++f,++o){var m=t[a][o];c+=m,u<m&&(u=m)}n[s]=c}for(h(s==l.npart_s),h(129==o),o=s=0;s<l.npart_s;s++){var v=l.s3ind_s[s][0],y=l.s3_ss[o++]*n[v];++v;while(v<=l.s3ind_s[s][1])y+=l.s3_ss[o]*n[v],++o,++v;var b=g*l.nb_s1[i][s];if(r[s]=Math.min(y,b),l.blocktype_old[1&i]==p.SHORT_TYPE){b=_*l.nb_s2[i][s];var x=r[s];r[s]=Math.min(b,x)}l.nb_s2[i][s]=l.nb_s1[i][s],l.nb_s1[i][s]=y,h(r[s]>=0)}for(;s<=p.CBANDS;++s)n[s]=0,r[s]=0}function K(e,t,n,r){var i=e.internal_flags;e.short_blocks!=o.short_block_coupled||0!=t[0]&&0!=t[1]||(t[0]=t[1]=0);for(var a=0;a<i.channels_out;a++)r[a]=p.NORM_TYPE,e.short_blocks==o.short_block_dispensed&&(t[a]=1),e.short_blocks==o.short_block_forced&&(t[a]=0),0!=t[a]?(h(i.blocktype_old[a]!=p.START_TYPE),i.blocktype_old[a]==p.SHORT_TYPE&&(r[a]=p.STOP_TYPE)):(r[a]=p.SHORT_TYPE,i.blocktype_old[a]==p.NORM_TYPE&&(i.blocktype_old[a]=p.START_TYPE),i.blocktype_old[a]==p.STOP_TYPE&&(i.blocktype_old[a]=p.SHORT_TYPE)),n[a]=i.blocktype_old[a],i.blocktype_old[a]=r[a]}function J(e,t,n){return n>=1?e:n<=0?t:t>0?Math.pow(e/t,n)*t:0}var Q=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function ee(e,t){for(var n=309.07,i=0;i<p.SBMAX_s-1;i++)for(var a=0;a<3;a++){var o=e.thm.s[i][a];if(h(i<Q.length),o>0){var l=o*t,c=e.en.s[i][a];c>l&&(c>1e10*l?n+=Q[i]*(10*r):(h(l>0),n+=Q[i]*s.FAST_LOG10(c/l)))}}return n}var te=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function ne(e,t){for(var n=281.0575,i=0;i<p.SBMAX_l-1;i++){var a=e.thm.l[i];if(h(i<te.length),a>0){var o=a*t,l=e.en.l[i];l>o&&(l>1e10*o?n+=te[i]*(10*r):(h(o>0),n+=te[i]*s.FAST_LOG10(l/o)))}}return n}function re(e,t,n,r,i){var a,o;for(a=o=0;a<e.npart_l;++a){var s,l=0,c=0;for(s=0;s<e.numlines_l[a];++s,++o){var u=t[o];h(u>=0),l+=u,c<u&&(c=u)}n[a]=l,r[a]=c,i[a]=l*e.rnumlines_l[a],h(e.rnumlines_l[a]>=0),h(l>=0),h(n[a]>=0),h(r[a]>=0),h(i[a]>=0)}}function ie(e,t,n,r){var i=F.length-1,a=0,o=n[a]+n[a+1];if(h(o>=0),o>0){var s=t[a];s<t[a+1]&&(s=t[a+1]),h(e.numlines_l[a]+e.numlines_l[a+1]-1>0),o=20*(2*s-o)/(o*(e.numlines_l[a]+e.numlines_l[a+1]-1));var l=0|o;l>i&&(l=i),r[a]=l}else r[a]=0;for(a=1;a<e.npart_l-1;a++)if(o=n[a-1]+n[a]+n[a+1],h(o>=0),o>0){s=t[a-1];s<t[a]&&(s=t[a]),s<t[a+1]&&(s=t[a+1]),h(e.numlines_l[a-1]+e.numlines_l[a]+e.numlines_l[a+1]-1>0),o=20*(3*s-o)/(o*(e.numlines_l[a-1]+e.numlines_l[a]+e.numlines_l[a+1]-1));l=0|o;l>i&&(l=i),r[a]=l}else r[a]=0;if(h(a>0),h(a==e.npart_l-1),o=n[a-1]+n[a],h(o>=0),o>0){s=t[a-1];s<t[a]&&(s=t[a]),h(e.numlines_l[a-1]+e.numlines_l[a]-1>0),o=20*(2*s-o)/(o*(e.numlines_l[a-1]+e.numlines_l[a]-1));l=0|o;l>i&&(l=i),r[a]=l}else r[a]=0;h(a==e.npart_l-1)}var ae=[-1730326e-23,-.01703172,-1349528e-23,.0418072,-673278e-22,-.0876324,-30835e-21,.1863476,-1104424e-22,-.627638];function oe(e,n,r,i,a,o,l,c){var u=e.internal_flags;if(i<2)t.fft_long(u,l[c],i,n,r);else if(2==i)for(var d=p.BLKSIZE-1;d>=0;--d){var h=l[c+0][d],f=l[c+1][d];l[c+0][d]=(h+f)*s.SQRT2*.5,l[c+1][d]=(h-f)*s.SQRT2*.5}o[0]=C(l[c+0][0]),o[0]*=o[0];for(d=p.BLKSIZE/2-1;d>=0;--d){var m=l[c+0][p.BLKSIZE/2-d],v=l[c+0][p.BLKSIZE/2+d];o[p.BLKSIZE/2-d]=C(.5*(m*m+v*v))}var g=0;for(d=11;d<p.HBLKSIZE;d++)g+=o[d];if(u.tot_ener[i]=g,e.analysis){for(d=0;d<p.HBLKSIZE;d++)u.pinfo.energy[a][i][d]=u.pinfo.energy_save[i][d],u.pinfo.energy_save[i][d]=o[d];u.pinfo.pe[a][i]=u.pe[i]}}function se(e,n,r,i,a,o,l,c){var u=e.internal_flags;if(0==a&&i<2&&t.fft_short(u,l[c],i,n,r),2==i)for(var d=p.BLKSIZE_s-1;d>=0;--d){var h=l[c+0][a][d],f=l[c+1][a][d];l[c+0][a][d]=(h+f)*s.SQRT2*.5,l[c+1][a][d]=(h-f)*s.SQRT2*.5}o[a][0]=l[c+0][a][0],o[a][0]*=o[a][0];for(d=p.BLKSIZE_s/2-1;d>=0;--d){var m=l[c+0][a][p.BLKSIZE_s/2-d],v=l[c+0][a][p.BLKSIZE_s/2+d];o[a][p.BLKSIZE_s/2-d]=C(.5*(m*m+v*v))}}function le(e,t,n,r){var i=e.internal_flags;2==e.athaa_loudapprox&&n<2&&(i.loudness_sq[t][n]=i.loudness_sq_save[n],i.loudness_sq_save[n]=k(r,i))}this.L3psycho_anal_ns=function(t,n,r,a,o,s,f,g,_,y){var b,x,E,A,C,k,L,I,P,D,O=t.internal_flags,N=u([2,p.BLKSIZE]),B=u([2,3,p.BLKSIZE_s]),V=c(p.CBANDS+1),U=c(p.CBANDS+1),z=c(p.CBANDS+2),W=d(2),j=d(2),Q=u([2,576]),te=d(p.CBANDS+2),oe=d(p.CBANDS+2);for(l.fill(oe,0),b=O.channels_out,t.mode==e.JOINT_STEREO&&(b=4),P=t.VBR==i.vbr_off?0==O.ResvMax?0:O.ResvSize/O.ResvMax*.5:t.VBR==i.vbr_rh||t.VBR==i.vbr_mtrh||t.VBR==i.vbr_mt?.6:1,x=0;x<O.channels_out;x++){var se=n[x],le=r+576-350-T+192;for(h(ae.length==(T-1)/2),A=0;A<576;A++){var ce,ue;for(ce=se[le+A+10],ue=0,C=0;C<(T-1)/2-1;C+=2)ce+=ae[C]*(se[le+A+C]+se[le+A+T-C]),ue+=ae[C+1]*(se[le+A+C+1]+se[le+A+T-C-1]);Q[x][A]=ce+ue}o[a][x].en.assign(O.en[x]),o[a][x].thm.assign(O.thm[x]),b>2&&(s[a][x].en.assign(O.en[x+2]),s[a][x].thm.assign(O.thm[x+2]))}for(x=0;x<b;x++){var de,he,fe,pe=c(12),me=[0,0,0,0],ve=c(12),ge=1,_e=c(p.CBANDS),ye=c(p.CBANDS),be=[0,0,0,0],xe=c(p.HBLKSIZE),we=u([3,p.HBLKSIZE_s]);for(h(O.npart_s<=p.CBANDS),h(O.npart_l<=p.CBANDS),A=0;A<3;A++)pe[A]=O.nsPsy.last_en_subshort[x][A+6],h(O.nsPsy.last_en_subshort[x][A+4]>0),ve[A]=pe[A]/O.nsPsy.last_en_subshort[x][A+4],me[0]+=pe[A];if(2==x)for(A=0;A<576;A++){var Se,Me;Se=Q[0][A],Me=Q[1][A],Q[0][A]=Se+Me,Q[1][A]=Se-Me}var Ee=Q[1&x],Te=0;for(A=0;A<9;A++){for(var Ae=Te+64,Ce=1;Te<Ae;Te++)Ce<Math.abs(Ee[Te])&&(Ce=Math.abs(Ee[Te]));O.nsPsy.last_en_subshort[x][A]=pe[A+3]=Ce,me[1+A/3]+=Ce,Ce>pe[A+3-2]?(h(pe[A+3-2]>0),Ce/=pe[A+3-2]):pe[A+3-2]>10*Ce?(h(Ce>0),Ce=pe[A+3-2]/(10*Ce)):Ce=0,ve[A+3]=Ce}if(t.analysis){var ke=ve[0];for(A=1;A<12;A++)ke<ve[A]&&(ke=ve[A]);O.pinfo.ers[a][x]=O.pinfo.ers_save[x],O.pinfo.ers_save[x]=ke}for(fe=3==x?O.nsPsy.attackthre_s:O.nsPsy.attackthre,A=0;A<12;A++)0==be[A/3]&&ve[A]>fe&&(be[A/3]=A%3+1);for(A=1;A<4;A++){var Re;me[A-1]>me[A]?(h(me[A]>0),Re=me[A-1]/me[A]):(h(me[A-1]>0),Re=me[A]/me[A-1]),Re<1.7&&(be[A]=0,1==A&&(be[0]=0))}for(0!=be[0]&&0!=O.nsPsy.lastAttacks[x]&&(be[0]=0),3!=O.nsPsy.lastAttacks[x]&&be[0]+be[1]+be[2]+be[3]==0||(ge=0,0!=be[1]&&0!=be[0]&&(be[1]=0),0!=be[2]&&0!=be[1]&&(be[2]=0),0!=be[3]&&0!=be[2]&&(be[3]=0)),x<2?j[x]=ge:0==ge&&(j[0]=j[1]=0),_[x]=O.tot_ener[x],he=B,de=N,R(t,xe,we,de,1&x,he,1&x,a,x,n,r),re(O,xe,V,_e,ye),ie(O,_e,ye,te),I=0;I<3;I++){var Le,Ie;for(Z(t,we,U,z,x,I),q(O,U,z,x,I),L=0;L<p.SBMAX_s;L++){if(Ie=O.thm[x].s[L][I],Ie*=w,be[I]>=2||1==be[I+1]){var Pe=0!=I?I-1:2;Ce=J(O.thm[x].s[L][Pe],Ie,S*P);Ie=Math.min(Ie,Ce)}if(1==be[I]){Pe=0!=I?I-1:2,Ce=J(O.thm[x].s[L][Pe],Ie,M*P);Ie=Math.min(Ie,Ce)}else if(0!=I&&3==be[I-1]||0==I&&3==O.nsPsy.lastAttacks[x]){Pe=2!=I?I+1:0,Ce=J(O.thm[x].s[L][Pe],Ie,M*P);Ie=Math.min(Ie,Ce)}Le=pe[3*I+3]+pe[3*I+4]+pe[3*I+5],6*pe[3*I+5]<Le&&(Ie*=.5,6*pe[3*I+4]<Le&&(Ie*=.5)),O.thm[x].s[L][I]=Ie}}for(O.nsPsy.lastAttacks[x]=be[2],k=0,E=0;E<O.npart_l;E++){var De=O.s3ind[E][0],Oe=V[De]*F[te[De]],Ne=O.s3_ll[k++]*Oe;while(++De<=O.s3ind[E][1])Oe=V[De]*F[te[De]],Ne=H(Ne,O.s3_ll[k++]*Oe,De,De-E,O,0);Ne*=.158489319246111,O.blocktype_old[1&x]==p.SHORT_TYPE?z[E]=Ne:z[E]=J(Math.min(Ne,Math.min(m*O.nb_1[x][E],v*O.nb_2[x][E])),Ne,P),O.nb_2[x][E]=O.nb_1[x][E],O.nb_1[x][E]=Ne}for(;E<=p.CBANDS;++E)V[E]=0,z[E]=0;X(O,V,z,x)}(t.mode!=e.STEREO&&t.mode!=e.JOINT_STEREO||t.interChRatio>0&&G(t,t.interChRatio),t.mode==e.JOINT_STEREO)&&(Y(O),D=t.msfix,Math.abs(D)>0&&$(O,D,t.ATHlower*O.ATH.adjust));for(K(t,j,y,W),x=0;x<b;x++){var Fe,Be,Ve,Ue=0;x>1?(Fe=g,Ue=-2,Be=p.NORM_TYPE,y[0]!=p.SHORT_TYPE&&y[1]!=p.SHORT_TYPE||(Be=p.SHORT_TYPE),Ve=s[a][x-2]):(Fe=f,Ue=0,Be=y[x],Ve=o[a][x]),Be==p.SHORT_TYPE?Fe[Ue+x]=ee(Ve,O.masking_lower):Fe[Ue+x]=ne(Ve,O.masking_lower),t.analysis&&(O.pinfo.pe[a][x]=Fe[Ue+x])}return 0};var ce=[-1730326e-23,-.01703172,-1349528e-23,.0418072,-673278e-22,-.0876324,-30835e-21,.1863476,-1104424e-22,-.627638];function ue(t,n,r,i,a,o,s,l,d,f){for(var p=u([2,576]),m=t.internal_flags,v=m.channels_out,g=t.mode==e.JOINT_STEREO?4:v,_=0;_<v;_++){firbuf=n[_];var y=r+576-350-T+192;h(ce.length==(T-1)/2);for(var b=0;b<576;b++){var x,w;x=firbuf[y+b+10],w=0;for(var S=0;S<(T-1)/2-1;S+=2)x+=ce[S]*(firbuf[y+b+S]+firbuf[y+b+T-S]),w+=ce[S+1]*(firbuf[y+b+S+1]+firbuf[y+b+T-S-1]);p[_][b]=x+w}a[i][_].en.assign(m.en[_]),a[i][_].thm.assign(m.thm[_]),g>2&&(o[i][_].en.assign(m.en[_+2]),o[i][_].thm.assign(m.thm[_+2]))}for(_=0;_<g;_++){var M=c(12),E=c(12),A=[0,0,0,0],C=p[1&_],k=0,R=3==_?m.nsPsy.attackthre_s:m.nsPsy.attackthre,L=1;if(2==_)for(b=0,S=576;S>0;++b,--S){var I=p[0][b],P=p[1][b];p[0][b]=I+P,p[1][b]=I-P}for(b=0;b<3;b++)E[b]=m.nsPsy.last_en_subshort[_][b+6],h(m.nsPsy.last_en_subshort[_][b+4]>0),M[b]=E[b]/m.nsPsy.last_en_subshort[_][b+4],A[0]+=E[b];for(b=0;b<9;b++){for(var D=k+64,O=1;k<D;k++)O<Math.abs(C[k])&&(O=Math.abs(C[k]));m.nsPsy.last_en_subshort[_][b]=E[b+3]=O,A[1+b/3]+=O,O>E[b+3-2]?(h(E[b+3-2]>0),O/=E[b+3-2]):E[b+3-2]>10*O?(h(O>0),O=E[b+3-2]/(10*O)):O=0,M[b+3]=O}for(b=0;b<3;++b){var N=E[3*b+3]+E[3*b+4]+E[3*b+5],F=1;6*E[3*b+5]<N&&(F*=.5,6*E[3*b+4]<N&&(F*=.5)),l[_][b]=F}if(t.analysis){var B=M[0];for(b=1;b<12;b++)B<M[b]&&(B=M[b]);m.pinfo.ers[i][_]=m.pinfo.ers_save[_],m.pinfo.ers_save[_]=B}for(b=0;b<12;b++)0==d[_][b/3]&&M[b]>R&&(d[_][b/3]=b%3+1);for(b=1;b<4;b++){var V=A[b-1],U=A[b],z=Math.max(V,U);z<4e4&&V<1.7*U&&U<1.7*V&&(1==b&&d[_][0]<=d[_][b]&&(d[_][0]=0),d[_][b]=0)}d[_][0]<=m.nsPsy.lastAttacks[_]&&(d[_][0]=0),3!=m.nsPsy.lastAttacks[_]&&d[_][0]+d[_][1]+d[_][2]+d[_][3]==0||(L=0,0!=d[_][1]&&0!=d[_][0]&&(d[_][1]=0),0!=d[_][2]&&0!=d[_][1]&&(d[_][2]=0),0!=d[_][3]&&0!=d[_][2]&&(d[_][3]=0)),_<2?f[_]=L:0==L&&(f[0]=f[1]=0),s[_]=m.tot_ener[_]}}function de(e,t,n){if(0==n)for(var r=0;r<e.npart_s;r++)e.nb_s2[t][r]=e.nb_s1[t][r],e.nb_s1[t][r]=0}function he(e,t){for(var n=0;n<e.npart_l;n++)e.nb_2[t][n]=e.nb_1[t][n],e.nb_1[t][n]=0}function fe(e,t,n,r){var i=F.length-1,a=0,o=n[a]+n[a+1];if(h(o>=0),o>0){var s=t[a];s<t[a+1]&&(s=t[a+1]),h(e.numlines_s[a]+e.numlines_s[a+1]-1>0),o=20*(2*s-o)/(o*(e.numlines_s[a]+e.numlines_s[a+1]-1));var l=0|o;l>i&&(l=i),r[a]=l}else r[a]=0;for(a=1;a<e.npart_s-1;a++)if(o=n[a-1]+n[a]+n[a+1],h(a+1<e.npart_s),h(o>=0),o>0){s=t[a-1];s<t[a]&&(s=t[a]),s<t[a+1]&&(s=t[a+1]),h(e.numlines_s[a-1]+e.numlines_s[a]+e.numlines_s[a+1]-1>0),o=20*(3*s-o)/(o*(e.numlines_s[a-1]+e.numlines_s[a]+e.numlines_s[a+1]-1));l=0|o;l>i&&(l=i),r[a]=l}else r[a]=0;if(h(a>0),h(a==e.npart_s-1),o=n[a-1]+n[a],h(o>=0),o>0){s=t[a-1];s<t[a]&&(s=t[a]),h(e.numlines_s[a-1]+e.numlines_s[a]-1>0),o=20*(2*s-o)/(o*(e.numlines_s[a-1]+e.numlines_s[a]-1));l=0|o;l>i&&(l=i),r[a]=l}else r[a]=0;h(a==e.npart_s-1)}function pe(e,t,n,r,i,a){var o,s,l,u=e.internal_flags,d=new float[p.CBANDS],f=c(p.CBANDS),m=new int[p.CBANDS];for(l=s=0;l<u.npart_s;++l){var v=0,g=0,_=u.numlines_s[l];for(o=0;o<_;++o,++s){var y=t[a][s];v+=y,g<y&&(g=y)}n[l]=v,h(v>=0),d[l]=g,h(_>0),f[l]=v/_,h(f[l]>=0)}for(h(l==u.npart_s),h(129==s);l<p.CBANDS;++l)d[l]=0,f[l]=0;for(fe(u,d,f,m),s=l=0;l<u.npart_s;l++){var b,x,w,S,M,E=u.s3ind_s[l][0],T=u.s3ind_s[l][1];b=m[E],x=1,S=u.s3_ss[s]*n[E]*F[m[E]],++s,++E;while(E<=T)b+=m[E],x+=1,w=u.s3_ss[s]*n[E]*F[m[E]],S=j(S,w,E-l),++s,++E;b=(1+2*b)/(2*x),M=.5*F[b],S*=M,r[l]=S,u.nb_s2[i][l]=u.nb_s1[i][l],u.nb_s1[i][l]=S,w=d[l],w*=u.minval_s[l],w*=M,r[l]>w&&(r[l]=w),u.masking_lower>1&&(r[l]*=u.masking_lower),r[l]>n[l]&&(r[l]=n[l]),u.masking_lower<1&&(r[l]*=u.masking_lower),h(r[l]>=0)}for(;l<p.CBANDS;++l)n[l]=0,r[l]=0}function me(e,t,n,r,i){var a,o=c(p.CBANDS),s=c(p.CBANDS),l=d(p.CBANDS+2);re(e,t,n,o,s),ie(e,o,s,l);var u=0;for(a=0;a<e.npart_l;a++){var f,g,_,y,b=e.s3ind[a][0],x=e.s3ind[a][1],w=0,S=0;w=l[b],S+=1,g=e.s3_ll[u]*n[b]*F[l[b]],++u,++b;while(b<=x)w+=l[b],S+=1,f=e.s3_ll[u]*n[b]*F[l[b]],y=j(g,f,b-a),g=y,++u,++b;if(w=(1+2*w)/(2*S),_=.5*F[w],g*=_,e.blocktype_old[1&i]==p.SHORT_TYPE){var E=m*e.nb_1[i][a];r[a]=E>0?Math.min(g,E):Math.min(g,n[a]*M)}else{var T=v*e.nb_2[i][a],A=m*e.nb_1[i][a];T<=0&&(T=g),A<=0&&(A=g),E=e.blocktype_old[1&i]==p.NORM_TYPE?Math.min(A,T):A,r[a]=Math.min(g,E)}e.nb_2[i][a]=e.nb_1[i][a],e.nb_1[i][a]=g,f=o[a],f*=e.minval_l[a],f*=_,r[a]>f&&(r[a]=f),e.masking_lower>1&&(r[a]*=e.masking_lower),r[a]>n[a]&&(r[a]=n[a]),e.masking_lower<1&&(r[a]*=e.masking_lower),h(r[a]>=0)}for(;a<p.CBANDS;++a)n[a]=0,r[a]=0}function ve(e,t){var n=e.internal_flags;e.short_blocks!=o.short_block_coupled||0!=t[0]&&0!=t[1]||(t[0]=t[1]=0);for(var r=0;r<n.channels_out;r++)e.short_blocks==o.short_block_dispensed&&(t[r]=1),e.short_blocks==o.short_block_forced&&(t[r]=0)}function ge(e,t,n){for(var r=e.internal_flags,i=0;i<r.channels_out;i++){var a=p.NORM_TYPE;0!=t[i]?(h(r.blocktype_old[i]!=p.START_TYPE),r.blocktype_old[i]==p.SHORT_TYPE&&(a=p.STOP_TYPE)):(a=p.SHORT_TYPE,r.blocktype_old[i]==p.NORM_TYPE&&(r.blocktype_old[i]=p.START_TYPE),r.blocktype_old[i]==p.STOP_TYPE&&(r.blocktype_old[i]=p.SHORT_TYPE)),n[i]=r.blocktype_old[i],r.blocktype_old[i]=a}}function _e(e,t,n,r,i,a,o){for(var s,l,c=2*a,u=a>0?Math.pow(10,i):1,d=0;d<o;++d){var f=e[2][d],p=e[3][d],m=t[0][d],v=t[1][d],g=t[2][d],_=t[3][d];if(m<=1.58*v&&v<=1.58*m){var y=n[d]*p,b=n[d]*f;l=Math.max(g,Math.min(_,y)),s=Math.max(_,Math.min(g,b))}else l=g,s=_;if(a>0){var x,w,S=r[d]*u;if(x=Math.min(Math.max(m,S),Math.max(v,S)),g=Math.max(l,S),_=Math.max(s,S),w=g+_,w>0&&x*c<w){var M=x*c/w;g*=M,_*=M,h(w>0)}l=Math.min(g,l),s=Math.min(_,s)}l>f&&(l=f),s>p&&(s=p),t[2][d]=l,t[3][d]=s}}function ye(e,t){var n,r=e;return n=r>=0?27*-r:r*t,n<=-72?0:Math.exp(n*A)}function be(e){var t=0,n=0,r=0;for(r=0;ye(r,e)>1e-20;r-=1);i=r,a=0;while(Math.abs(a-i)>1e-12)r=(a+i)/2,ye(r,e)>0?a=r:i=r;t=i;var i,a;r=0;for(r=0;ye(r,e)>1e-20;r+=1);i=0,a=r;while(Math.abs(a-i)>1e-12)r=(a+i)/2,ye(r,e)>0?i=r:a=r;n=a;var o,s=0,l=1e3;for(o=0;o<=l;++o){r=t+o*(n-t)/l;var c=ye(r,e);s+=c}var u=(l+1)/(s*(n-t));return u}function xe(e){var t,n,r,i;return t=e,t*=t>=0?3:1.5,t>=.5&&t<=2.5?(i=t-.5,n=8*(i*i-2*i)):n=0,t+=.474,r=15.811389+7.5*t-17.5*Math.sqrt(1+t*t),r<=-60?0:(t=Math.exp((n+r)*A),t/=.6609193,t)}function we(e){return e<0&&(e=0),e*=.001,13*Math.atan(.76*e)+3.5*Math.atan(e*e/56.25)}function Se(e,t,n,r,i,a,o,s,l,u,f,m){var v,g=c(p.CBANDS+1),_=s/(m>15?1152:384),b=d(p.HBLKSIZE);s/=l;var x=0,w=0;for(v=0;v<p.CBANDS;v++){var S;for(I=we(s*x),g[v]=s*x,S=x;we(s*S)-I<y&&S<=l/2;S++);e[v]=S-x,w=v+1;while(x<S)h(x<p.HBLKSIZE),b[x++]=v;if(x>l/2){x=l/2,++v;break}}h(v<p.CBANDS),g[v]=s*x;for(var M=0;M<m;M++){var E,T,A,C,k;A=u[M],C=u[M+1],E=0|Math.floor(.5+f*(A-.5)),E<0&&(E=0),T=0|Math.floor(.5+f*(C-.5)),T>l/2&&(T=l/2),n[M]=(b[E]+b[T])/2,t[M]=b[T];var R=_*C;o[M]=(R-g[t[M]])/(g[t[M]+1]-g[t[M]]),o[M]<0?o[M]=0:o[M]>1&&(o[M]=1),k=we(s*u[M]*f),k=Math.min(k,15.5)/15.5,a[M]=Math.pow(10,1.25*(1-Math.cos(Math.PI*k))-2.5)}x=0;for(var L=0;L<w;L++){var I,P,D=e[L];I=we(s*x),P=we(s*(x+D-1)),r[L]=.5*(I+P),I=we(s*(x-.5)),P=we(s*(x+D-.5)),i[L]=P-I,x+=D}return w}function Me(e,t,n,r,i,a){var o,s=u([p.CBANDS,p.CBANDS]),l=0;if(a)for(var d=0;d<t;d++)for(o=0;o<t;o++){var h=xe(n[d]-n[o])*r[o];s[d][o]=h*i[d]}else for(o=0;o<t;o++){var f=15+Math.min(21/n[o],12),m=be(f);for(d=0;d<t;d++){h=m*ye(n[d]-n[o],f)*r[o];s[d][o]=h*i[d]}}for(d=0;d<t;d++){for(o=0;o<t;o++)if(s[d][o]>0)break;for(e[d][0]=o,o=t-1;o>0;o--)if(s[d][o]>0)break;e[d][1]=o,l+=e[d][1]-e[d][0]+1}var v=c(l),g=0;for(d=0;d<t;d++)for(o=e[d][0];o<=e[d][1];o++)v[g++]=s[d][o];return v}function Ee(e){var t=we(e);return t=Math.min(t,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*t))-2.5)}function Te(e,t){e<-.3&&(e=3410),e/=1e3,e=Math.max(.1,e);var n=3.64*Math.pow(e,-.8)-6.8*Math.exp(-.6*Math.pow(e-3.4,2))+6*Math.exp(-.15*Math.pow(e-8.7,2))+.001*(.6+.04*t)*Math.pow(e,4);return n}this.L3psycho_anal_vbr=function(t,n,r,i,a,o,s,l,h,f){var m,v,g=t.internal_flags,_=c(p.HBLKSIZE),y=u([3,p.HBLKSIZE_s]),b=u([2,p.BLKSIZE]),x=u([2,3,p.BLKSIZE_s]),E=u([4,p.CBANDS]),T=u([4,p.CBANDS]),A=u([4,3]),C=.6,k=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],R=d(2),L=t.mode==e.JOINT_STEREO?4:g.channels_out;ue(t,n,r,i,a,o,h,A,k,R),ve(t,R);for(var I=0;I<L;I++){var P=1&I;m=b,oe(t,n,r,I,i,_,m,P),le(t,i,I,_),0!=R[P]?me(g,_,E[I],T[I],I):he(g,I)}R[0]+R[1]==2&&t.mode==e.JOINT_STEREO&&_e(E,T,g.mld_cb_l,g.ATH.cb_l,t.ATHlower*g.ATH.adjust,t.msfix,g.npart_l);for(I=0;I<L;I++){P=1&I;0!=R[P]&&X(g,E[I],T[I],I)}for(var D=0;D<3;D++){for(I=0;I<L;++I){P=1&I;0!=R[P]?de(g,I,D):(v=x,se(t,n,r,I,D,y,v,P),pe(t,y,E[I],T[I],I,D))}R[0]+R[1]==0&&t.mode==e.JOINT_STEREO&&_e(E,T,g.mld_cb_s,g.ATH.cb_s,t.ATHlower*g.ATH.adjust,t.msfix,g.npart_s);for(I=0;I<L;++I){P=1&I;0==R[P]&&q(g,E[I],T[I],I,D)}}for(I=0;I<L;I++){P=1&I;if(0==R[P])for(var O=0;O<p.SBMAX_s;O++){var N=c(3);for(D=0;D<3;D++){var F=g.thm[I].s[O][D];if(F*=w,k[I][D]>=2||1==k[I][D+1]){var B=0!=D?D-1:2,V=J(g.thm[I].s[O][B],F,S*C);F=Math.min(F,V)}else if(1==k[I][D]){B=0!=D?D-1:2,V=J(g.thm[I].s[O][B],F,M*C);F=Math.min(F,V)}else if(0!=D&&3==k[I][D-1]||0==D&&3==g.nsPsy.lastAttacks[I]){B=2!=D?D+1:0,V=J(g.thm[I].s[O][B],F,M*C);F=Math.min(F,V)}F*=A[I][D],N[D]=F}for(D=0;D<3;D++)g.thm[I].s[O][D]=N[D]}}for(I=0;I<L;I++)g.nsPsy.lastAttacks[I]=k[I][2];ge(t,R,f);for(I=0;I<L;I++){var U,z,H,W;I>1?(U=l,z=-2,H=p.NORM_TYPE,f[0]!=p.SHORT_TYPE&&f[1]!=p.SHORT_TYPE||(H=p.SHORT_TYPE),W=o[i][I-2]):(U=s,z=0,H=f[I],W=a[i][I]),H==p.SHORT_TYPE?U[z+I]=ee(W,g.masking_lower):U[z+I]=ne(W,g.masking_lower),t.analysis&&(g.pinfo.pe[i][I]=U[z+I])}return 0},this.psymodel_init=function(e){var n,o=e.internal_flags,s=!0,l=13,u=24,d=0,f=0,m=-8.25,v=-4.5,g=c(p.CBANDS),_=c(p.CBANDS),y=c(p.CBANDS),b=e.out_samplerate;switch(e.experimentalZ){default:case 0:s=!0;break;case 1:s=e.VBR!=i.vbr_mtrh&&e.VBR!=i.vbr_mt;break;case 2:s=!1;break;case 3:l=8,d=-1.75,f=-.0125,m=-8.25,v=-2.25;break}for(o.ms_ener_ratio_old=.25,o.blocktype_old[0]=o.blocktype_old[1]=p.NORM_TYPE,n=0;n<4;++n){for(var w=0;w<p.CBANDS;++w)o.nb_1[n][w]=1e20,o.nb_2[n][w]=1e20,o.nb_s1[n][w]=o.nb_s2[n][w]=1;for(var S=0;S<p.SBMAX_l;S++)o.en[n].l[S]=1e20,o.thm[n].l[S]=1e20;for(w=0;w<3;++w){for(S=0;S<p.SBMAX_s;S++)o.en[n].s[S][w]=1e20,o.thm[n].s[S][w]=1e20;o.nsPsy.lastAttacks[n]=0}for(w=0;w<9;w++)o.nsPsy.last_en_subshort[n][w]=10}for(o.loudness_sq_save[0]=o.loudness_sq_save[1]=0,o.npart_l=Se(o.numlines_l,o.bo_l,o.bm_l,g,_,o.mld_l,o.PSY.bo_l_weight,b,p.BLKSIZE,o.scalefac_band.l,p.BLKSIZE/1152,p.SBMAX_l),h(o.npart_l<p.CBANDS),n=0;n<o.npart_l;n++){var M=d;g[n]>=l&&(M=f*(g[n]-l)/(u-l)+d*(u-g[n])/(u-l)),y[n]=Math.pow(10,M/10),o.numlines_l[n]>0?o.rnumlines_l[n]=1/o.numlines_l[n]:o.rnumlines_l[n]=0}o.s3_ll=Me(o.s3ind,o.npart_l,g,_,y,s);var T;w=0;for(n=0;n<o.npart_l;n++){k=a.MAX_VALUE;for(var A=0;A<o.numlines_l[n];A++,w++){var C=b*w/(1e3*p.BLKSIZE);R=this.ATHformula(1e3*C,e)-20,R=Math.pow(10,.1*R),R*=o.numlines_l[n],k>R&&(k=R)}o.ATH.cb_l[n]=k,k=20*g[n]/10-20,k>6&&(k=100),k<-15&&(k=-15),k-=8,o.minval_l[n]=Math.pow(10,k/10)*o.numlines_l[n]}for(o.npart_s=Se(o.numlines_s,o.bo_s,o.bm_s,g,_,o.mld_s,o.PSY.bo_s_weight,b,p.BLKSIZE_s,o.scalefac_band.s,p.BLKSIZE_s/384,p.SBMAX_s),h(o.npart_s<p.CBANDS),w=0,n=0;n<o.npart_s;n++){var k;M=m;g[n]>=l&&(M=v*(g[n]-l)/(u-l)+m*(u-g[n])/(u-l)),y[n]=Math.pow(10,M/10),k=a.MAX_VALUE;for(A=0;A<o.numlines_s[n];A++,w++){var R;C=b*w/(1e3*p.BLKSIZE_s);R=this.ATHformula(1e3*C,e)-20,R=Math.pow(10,.1*R),R*=o.numlines_s[n],k>R&&(k=R)}o.ATH.cb_s[n]=k,k=7*g[n]/12-7,g[n]>12&&(k*=1+3.1*Math.log(1+k)),g[n]<12&&(k*=1+2.3*Math.log(1-k)),k<-15&&(k=-15),k-=8,o.minval_s[n]=Math.pow(10,k/10)*o.numlines_s[n]}o.s3_ss=Me(o.s3ind_s,o.npart_s,g,_,y,s),B(),t.init_fft(o),o.decay=Math.exp(-1*r/(x*b/192)),T=E,0!=(2&e.exp_nspsytune)&&(T=1),Math.abs(e.msfix)>0&&(T=e.msfix),e.msfix=T;for(var L=0;L<o.npart_l;L++)o.s3ind[L][1]>o.npart_l-1&&(o.s3ind[L][1]=o.npart_l-1);var I=576*o.mode_gr/b;if(o.ATH.decay=Math.pow(10,-1.2*I),o.ATH.adjust=.01,o.ATH.adjustLimit=1,h(o.bo_l[p.SBMAX_l-1]<=o.npart_l),h(o.bo_s[p.SBMAX_s-1]<=o.npart_s),-1!=e.ATHtype){var P=e.out_samplerate/p.BLKSIZE,D=0;for(C=0,n=0;n<p.BLKSIZE/2;++n)C+=P,o.ATH.eql_w[n]=1/Math.pow(10,this.ATHformula(C,e)/10),D+=o.ATH.eql_w[n];for(D=1/D,n=p.BLKSIZE/2;--n>=0;)o.ATH.eql_w[n]*=D}for(L=w=0;L<o.npart_s;++L)for(n=0;n<o.numlines_s[L];++n)++w;h(129==w);for(L=w=0;L<o.npart_l;++L)for(n=0;n<o.numlines_l[L];++n)++w;for(h(513==w),w=0,n=0;n<o.npart_l;n++){C=b*(w+o.numlines_l[n]/2)/(1*p.BLKSIZE);o.mld_cb_l[n]=Ee(C),w+=o.numlines_l[n]}for(;n<p.CBANDS;++n)o.mld_cb_l[n]=1;for(w=0,n=0;n<o.npart_s;n++){C=b*(w+o.numlines_s[n]/2)/(1*p.BLKSIZE_s);o.mld_cb_s[n]=Ee(C),w+=o.numlines_s[n]}for(;n<p.CBANDS;++n)o.mld_cb_s[n]=1;return 0},this.ATHformula=function(e,t){var n;switch(t.ATHtype){case 0:n=Te(e,9);break;case 1:n=Te(e,-1);break;case 2:n=Te(e,0);break;case 3:n=Te(e,1)+6;break;case 4:n=Te(e,t.ATHcurve);break;default:n=Te(e,0);break}return n}}e.exports=m},783:function(e,t,n){var r=n(4624),i=r.System,a=r.VbrMode,o=(r.Float,r.ShortBlock,r.Util),s=r.Arrays,l=(r.new_array_n,r.new_byte,r.new_double,r.new_float),c=(r.new_float_n,r.new_int,r.new_int_n,r.assert),u=n(1276),d=n(7758),h=n(5306),f=n(7131),p=n(4779),m=n(5391);function v(){var e,t,n;this.rv=null,this.qupvt=null;var r,v=new u;function g(e,t,n,r){r=0;for(var i=0;i<=n;++i){var a=Math.abs(e.xr[i]);r+=a,t[i]=Math.sqrt(a*Math.sqrt(a)),t[i]>e.xrpow_max&&(e.xrpow_max=t[i])}return r}function _(e,t){var r=e.ATH,i=t.xr;if(t.block_type!=f.SHORT_TYPE)for(var a=!1,o=f.PSFB21-1;o>=0&&!a;o--){var s=e.scalefac_band.psfb21[o],l=e.scalefac_band.psfb21[o+1],c=n.athAdjust(r.adjust,r.psfb21[o],r.floor);e.nsPsy.longfact[21]>1e-12&&(c*=e.nsPsy.longfact[21]);for(var u=l-1;u>=s;u--){if(!(Math.abs(i[u])<c)){a=!0;break}i[u]=0}}else for(var d=0;d<3;d++)for(a=!1,o=f.PSFB12-1;o>=0&&!a;o--){s=3*e.scalefac_band.s[12]+(e.scalefac_band.s[13]-e.scalefac_band.s[12])*d+(e.scalefac_band.psfb12[o]-e.scalefac_band.psfb12[0]),l=s+(e.scalefac_band.psfb12[o+1]-e.scalefac_band.psfb12[o]);var h=n.athAdjust(r.adjust,r.psfb12[o],r.floor);e.nsPsy.shortfact[12]>1e-12&&(h*=e.nsPsy.shortfact[12]);for(u=l-1;u>=s;u--){if(!(Math.abs(i[u])<h)){a=!0;break}i[u]=0}}}function y(e){this.ordinal=e}function b(e,t,n,i,a){var o,s=e.CurrentStep[i],l=!1,u=e.OldValue[i],d=y.BINSEARCH_NONE;for(t.global_gain=u,n-=t.part2_length,c(0!=s);;){var h;if(o=r.count_bits(e,a,t,null),1==s||o==n)break;o>n?(d==y.BINSEARCH_DOWN&&(l=!0),l&&(s/=2),d=y.BINSEARCH_UP,h=s):(d==y.BINSEARCH_UP&&(l=!0),l&&(s/=2),d=y.BINSEARCH_DOWN,h=-s),t.global_gain+=h,t.global_gain<0&&(t.global_gain=0,l=!0),t.global_gain>255&&(t.global_gain=255,l=!0)}c(t.global_gain>=0),c(t.global_gain<256);while(o>n&&t.global_gain<255)t.global_gain++,o=r.count_bits(e,a,t,null);return e.CurrentStep[i]=u-t.global_gain>=4?4:2,e.OldValue[i]=t.global_gain,t.part2_3_length=o,o}function x(e){for(var t=0;t<e.sfbmax;t++)if(e.scalefac[t]+e.subblock_gain[e.window[t]]==0)return!1;return!0}function w(e){return o.FAST_LOG10(.368+.632*e*e*e)}function S(e,t){for(var n=1e-37,r=0;r<t.psymax;r++)n+=w(e[r]);return Math.max(1e-20,n)}function M(e,t,n,r,i){var a;switch(e){default:case 9:t.over_count>0?(a=n.over_SSD<=t.over_SSD,n.over_SSD==t.over_SSD&&(a=n.bits<t.bits)):a=n.max_noise<0&&10*n.max_noise+n.bits<=10*t.max_noise+t.bits;break;case 0:a=n.over_count<t.over_count||n.over_count==t.over_count&&n.over_noise<t.over_noise||n.over_count==t.over_count&&BitStream.EQ(n.over_noise,t.over_noise)&&n.tot_noise<t.tot_noise;break;case 8:n.max_noise=S(i,r);case 1:a=n.max_noise<t.max_noise;break;case 2:a=n.tot_noise<t.tot_noise;break;case 3:a=n.tot_noise<t.tot_noise&&n.max_noise<t.max_noise;break;case 4:a=n.max_noise<=0&&t.max_noise>.2||n.max_noise<=0&&t.max_noise<0&&t.max_noise>n.max_noise-.2&&n.tot_noise<t.tot_noise||n.max_noise<=0&&t.max_noise>0&&t.max_noise>n.max_noise-.2&&n.tot_noise<t.tot_noise+t.over_noise||n.max_noise>0&&t.max_noise>-.05&&t.max_noise>n.max_noise-.1&&n.tot_noise+n.over_noise<t.tot_noise+t.over_noise||n.max_noise>0&&t.max_noise>-.1&&t.max_noise>n.max_noise-.15&&n.tot_noise+n.over_noise+n.over_noise<t.tot_noise+t.over_noise+t.over_noise;break;case 5:a=n.over_noise<t.over_noise||BitStream.EQ(n.over_noise,t.over_noise)&&n.tot_noise<t.tot_noise;break;case 6:a=n.over_noise<t.over_noise||BitStream.EQ(n.over_noise,t.over_noise)&&(n.max_noise<t.max_noise||BitStream.EQ(n.max_noise,t.max_noise)&&n.tot_noise<=t.tot_noise);break;case 7:a=n.over_count<t.over_count||n.over_noise<t.over_noise;break}return 0==t.over_count&&(a=a&&n.bits<t.bits),a}function E(e,t,n,r,i){var a,o=e.internal_flags;a=0==t.scalefac_scale?1.2968395546510096:1.6817928305074292;for(var s=0,l=0;l<t.sfbmax;l++)s<n[l]&&(s=n[l]);var c=o.noise_shaping_amp;switch(3==c&&(c=i?2:1),c){case 2:break;case 1:s>1?s=Math.pow(s,.5):s*=.95;break;case 0:default:s>1?s=1:s*=.95;break}var u=0;for(l=0;l<t.sfbmax;l++){var d,h=t.width[l];if(u+=h,!(n[l]<s)){if(0!=(2&o.substep_shaping)&&(o.pseudohalf[l]=0==o.pseudohalf[l]?1:0,0==o.pseudohalf[l]&&2==o.noise_shaping_amp))return;for(t.scalefac[l]++,d=-h;d<0;d++)r[u+d]*=a,r[u+d]>t.xrpow_max&&(t.xrpow_max=r[u+d]);if(2==o.noise_shaping_amp)return}}}function T(e,t){for(var r=1.2968395546510096,i=0,a=0;a<e.sfbmax;a++){var o=e.width[a],s=e.scalefac[a];if(0!=e.preflag&&(s+=n.pretab[a]),i+=o,0!=(1&s)){s++;for(var l=-o;l<0;l++)t[i+l]*=r,t[i+l]>e.xrpow_max&&(e.xrpow_max=t[i+l])}e.scalefac[a]=s>>1}e.preflag=0,e.scalefac_scale=1}function A(e,t,r){var i,a=t.scalefac;for(i=0;i<t.sfb_lmax;i++)if(a[i]>=16)return!0;for(var o=0;o<3;o++){var s=0,l=0;for(i=t.sfb_lmax+o;i<t.sfbdivide;i+=3)s<a[i]&&(s=a[i]);for(;i<t.sfbmax;i+=3)l<a[i]&&(l=a[i]);if(!(s<16&&l<8)){if(t.subblock_gain[o]>=7)return!0;t.subblock_gain[o]++;var u=e.scalefac_band.l[t.sfb_lmax];for(i=t.sfb_lmax+o;i<t.sfbmax;i+=3){var d=t.width[i],h=a[i];if(c(h>=0),h-=4>>t.scalefac_scale,h>=0)a[i]=h,u+=3*d;else{a[i]=0;var f=210+(h<<t.scalefac_scale+1);m=n.IPOW20(f),u+=d*(o+1);for(var p=-d;p<0;p++)r[u+p]*=m,r[u+p]>t.xrpow_max&&(t.xrpow_max=r[u+p]);u+=d*(3-o-1)}}var m=n.IPOW20(202);u+=t.width[i]*(o+1);for(p=-t.width[i];p<0;p++)r[u+p]*=m,r[u+p]>t.xrpow_max&&(t.xrpow_max=r[u+p])}}return!1}function C(e,t,n,i,a){var o=e.internal_flags;E(e,t,n,i,a);var l=x(t);return!l&&(l=2==o.mode_gr?r.scale_bitcount(t):r.scale_bitcount_lsf(o,t),!l||(o.noise_shaping>1&&(s.fill(o.pseudohalf,0),0==t.scalefac_scale?(T(t,i),l=!1):t.block_type==f.SHORT_TYPE&&o.subblock_gain>0&&(l=A(o,t,i)||x(t))),l||(l=2==o.mode_gr?r.scale_bitcount(t):r.scale_bitcount_lsf(o,t)),!l))}this.setModules=function(i,a,o,s){e=i,t=a,this.rv=a,n=o,this.qupvt=o,r=s,v.setModules(n,r)},this.ms_convert=function(e,t){for(var n=0;n<576;++n){var r=e.tt[t][0].xr[n],i=e.tt[t][1].xr[n];e.tt[t][0].xr[n]=(r+i)*(.5*o.SQRT2),e.tt[t][1].xr[n]=(r-i)*(.5*o.SQRT2)}},this.init_xrpow=function(e,t,n){var r=0,i=0|t.max_nonzero_coeff;if(c(null!=n),t.xrpow_max=0,c(0<=i&&i<=575),s.fill(n,i,576,0),r=g(t,n,i,r),r>1e-20){var a=0;0!=(2&e.substep_shaping)&&(a=1);for(var o=0;o<t.psymax;o++)e.pseudohalf[o]=a;return!0}return s.fill(t.l3_enc,0,576,0),!1},this.init_outer_loop=function(e,t){t.part2_3_length=0,t.big_values=0,t.count1=0,t.global_gain=210,t.scalefac_compress=0,t.table_select[0]=0,t.table_select[1]=0,t.table_select[2]=0,t.subblock_gain[0]=0,t.subblock_gain[1]=0,t.subblock_gain[2]=0,t.subblock_gain[3]=0,t.region0_count=0,t.region1_count=0,t.preflag=0,t.scalefac_scale=0,t.count1table_select=0,t.part2_length=0,t.sfb_lmax=f.SBPSY_l,t.sfb_smin=f.SBPSY_s,t.psy_lmax=e.sfb21_extra?f.SBMAX_l:f.SBPSY_l,t.psymax=t.psy_lmax,t.sfbmax=t.sfb_lmax,t.sfbdivide=11;for(var r=0;r<f.SBMAX_l;r++)t.width[r]=e.scalefac_band.l[r+1]-e.scalefac_band.l[r],t.window[r]=3;if(t.block_type==f.SHORT_TYPE){var a=l(576);t.sfb_smin=0,t.sfb_lmax=0,0!=t.mixed_block_flag&&(t.sfb_smin=3,t.sfb_lmax=2*e.mode_gr+4),t.psymax=t.sfb_lmax+3*((e.sfb21_extra?f.SBMAX_s:f.SBPSY_s)-t.sfb_smin),t.sfbmax=t.sfb_lmax+3*(f.SBPSY_s-t.sfb_smin),t.sfbdivide=t.sfbmax-18,t.psy_lmax=t.sfb_lmax;var o=e.scalefac_band.l[t.sfb_lmax];i.arraycopy(t.xr,0,a,0,576);for(r=t.sfb_smin;r<f.SBMAX_s;r++)for(var c=e.scalefac_band.s[r],u=e.scalefac_band.s[r+1],d=0;d<3;d++)for(var h=c;h<u;h++)t.xr[o++]=a[3*h+d];var p=t.sfb_lmax;for(r=t.sfb_smin;r<f.SBMAX_s;r++)t.width[p]=t.width[p+1]=t.width[p+2]=e.scalefac_band.s[r+1]-e.scalefac_band.s[r],t.window[p]=0,t.window[p+1]=1,t.window[p+2]=2,p+=3}t.count1bits=0,t.sfb_partition_table=n.nr_of_sfb_block[0][0],t.slen[0]=0,t.slen[1]=0,t.slen[2]=0,t.slen[3]=0,t.max_nonzero_coeff=575,s.fill(t.scalefac,0),_(e,t)},y.BINSEARCH_NONE=new y(0),y.BINSEARCH_UP=new y(1),y.BINSEARCH_DOWN=new y(2),this.trancate_smallspectrums=function(e,t,i,a){var o=l(m.SFBMAX);if((0!=(4&e.substep_shaping)||t.block_type!=f.SHORT_TYPE)&&0==(128&e.substep_shaping)){n.calc_noise(t,i,o,new d,null);for(var c=0;c<576;c++){var u=0;0!=t.l3_enc[c]&&(u=Math.abs(t.xr[c])),a[c]=u}c=0;var h=8;t.block_type==f.SHORT_TYPE&&(h=6);do{var p,v,g,_,y=t.width[h];if(c+=y,!(o[h]>=1)&&(s.sort(a,c-y,y),!BitStream.EQ(a[c-1],0))){p=(1-o[h])*i[h],v=0,_=0;do{var b;for(g=1;_+g<y;g++)if(BitStream.NEQ(a[_+c-y],a[_+c+g-y]))break;if(b=a[_+c-y]*a[_+c-y]*g,p<b){0!=_&&(v=a[_+c-y-1]);break}p-=b,_+=g}while(_<y);if(!BitStream.EQ(v,0))do{Math.abs(t.xr[c-y])<=v&&(t.l3_enc[c-y]=0)}while(--y>0)}}while(++h<t.psymax);t.part2_3_length=r.noquant_count_bits(e,t,null)}},this.outer_loop=function(e,t,o,s,u,v){var g,_=e.internal_flags,y=new p,x=l(576),w=l(m.SFBMAX),S=new d,E=new h,T=9999999,A=!1,k=!1,R=0;if(b(_,t,v,u,s),0==_.noise_shaping)return 100;n.calc_noise(t,o,w,S,E),S.bits=t.part2_3_length,y.assign(t);var L=0;i.arraycopy(s,0,x,0,576);while(!A){do{var I,P=new d,D=255;if(I=0!=(2&_.substep_shaping)?20:3,_.sfb21_extra){if(w[y.sfbmax]>1)break;if(y.block_type==f.SHORT_TYPE&&(w[y.sfbmax+1]>1||w[y.sfbmax+2]>1))break}if(!C(e,y,w,s,k))break;0!=y.scalefac_scale&&(D=254);var O=v-y.part2_length;if(O<=0)break;while((y.part2_3_length=r.count_bits(_,s,y,E))>O&&y.global_gain<=D)y.global_gain++;if(y.global_gain>D)break;if(0==S.over_count){while((y.part2_3_length=r.count_bits(_,s,y,E))>T&&y.global_gain<=D)y.global_gain++;if(y.global_gain>D)break}if(n.calc_noise(y,o,w,P,E),P.bits=y.part2_3_length,g=t.block_type!=f.SHORT_TYPE?e.quant_comp:e.quant_comp_short,g=M(g,S,P,y,w)?1:0,0!=g)T=t.part2_3_length,S=P,t.assign(y),L=0,i.arraycopy(s,0,x,0,576);else if(0==_.full_outer_loop){if(++L>I&&0==S.over_count)break;if(3==_.noise_shaping_amp&&k&&L>30)break;if(3==_.noise_shaping_amp&&k&&y.global_gain-R>15)break}}while(y.global_gain+y.scalefac_scale<255);3==_.noise_shaping_amp?k?A=!0:(y.assign(t),i.arraycopy(x,0,s,0,576),L=0,R=y.global_gain,k=!0):A=!0}return c(t.global_gain+t.scalefac_scale<=255),e.VBR==a.vbr_rh||e.VBR==a.vbr_mtrh?i.arraycopy(x,0,s,0,576):0!=(1&_.substep_shaping)&&trancate_smallspectrums(_,t,o,s),S.over_count},this.iteration_finish_one=function(e,n,i){var a=e.l3_side,o=a.tt[n][i];r.best_scalefac_store(e,n,i,a),1==e.use_best_huffman&&r.best_huffman_divide(e,o),t.ResvAdjust(e,o)},this.VBR_encode_granule=function(e,t,n,r,a,o,u){var d,h,f=e.internal_flags,m=new p,v=l(576),g=u,_=u+1,y=(u+o)/2,b=0,x=f.sfb21_extra;c(g<=LameInternalFlags.MAX_BITS_PER_CHANNEL),s.fill(m.l3_enc,0);do{c(y>=o),c(y<=u),c(o<=u),f.sfb21_extra=!(y>g-42)&&x,h=outer_loop(e,t,n,r,a,y),h<=0?(b=1,_=t.part2_3_length,m.assign(t),i.arraycopy(r,0,v,0,576),u=_-32,d=u-o,y=(u+o)/2):(o=y+32,d=u-o,y=(u+o)/2,0!=b&&(b=2,t.assign(m),i.arraycopy(v,0,r,0,576)))}while(d>12);f.sfb21_extra=x,2==b&&i.arraycopy(m.l3_enc,0,t.l3_enc,0,576),c(t.part2_3_length<=g)},this.get_framebits=function(n,r){var i=n.internal_flags;i.bitrate_index=i.VBR_min_bitrate;var a=e.getframebits(n);i.bitrate_index=1,a=e.getframebits(n);for(var o=1;o<=i.VBR_max_bitrate;o++){i.bitrate_index=o;var s=new MeanBits(a);r[o]=t.ResvFrameBegin(n,s),a=s.bits}},this.VBR_old_prepare=function(e,r,i,a,o,s,l,c,u){var d,h=e.internal_flags,p=0,m=1,v=0;h.bitrate_index=h.VBR_max_bitrate;var g=t.ResvFrameBegin(e,new MeanBits(0))/h.mode_gr;get_framebits(e,s);for(var _=0;_<h.mode_gr;_++){var y=n.on_pe(e,r,c[_],g,_,0);h.mode_ext==f.MPG_MD_MS_LR&&(ms_convert(h.l3_side,_),n.reduce_side(c[_],i[_],g,y));for(var b=0;b<h.channels_out;++b){var x=h.l3_side.tt[_][b];x.block_type!=f.SHORT_TYPE?(p=1.28/(1+Math.exp(3.5-r[_][b]/300))-.05,d=h.PSY.mask_adjust-p):(p=2.56/(1+Math.exp(3.5-r[_][b]/300))-.14,d=h.PSY.mask_adjust_short-p),h.masking_lower=Math.pow(10,.1*d),init_outer_loop(h,x),u[_][b]=n.calc_xmin(e,a[_][b],x,o[_][b]),0!=u[_][b]&&(m=0),l[_][b]=126,v+=c[_][b]}}for(_=0;_<h.mode_gr;_++)for(b=0;b<h.channels_out;b++)v>s[h.VBR_max_bitrate]&&(c[_][b]*=s[h.VBR_max_bitrate],c[_][b]/=v),l[_][b]>c[_][b]&&(l[_][b]=c[_][b]);return m},this.bitpressure_strategy=function(e,t,n,r){for(var i=0;i<e.mode_gr;i++)for(var a=0;a<e.channels_out;a++){for(var o=e.l3_side.tt[i][a],s=t[i][a],l=0,c=0;c<o.psy_lmax;c++)s[l++]*=1+.029*c*c/f.SBMAX_l/f.SBMAX_l;if(o.block_type==f.SHORT_TYPE)for(c=o.sfb_smin;c<f.SBMAX_s;c++)s[l++]*=1+.029*c*c/f.SBMAX_s/f.SBMAX_s,s[l++]*=1+.029*c*c/f.SBMAX_s/f.SBMAX_s,s[l++]*=1+.029*c*c/f.SBMAX_s/f.SBMAX_s;r[i][a]=0|Math.max(n[i][a],.9*r[i][a])}},this.VBR_new_prepare=function(e,r,i,a,o,s){var l,c=e.internal_flags,u=1,d=0,h=0;if(e.free_format){c.bitrate_index=0;p=new MeanBits(d);l=t.ResvFrameBegin(e,p),d=p.bits,o[0]=l}else{c.bitrate_index=c.VBR_max_bitrate;var p=new MeanBits(d);t.ResvFrameBegin(e,p),d=p.bits,get_framebits(e,o),l=o[c.VBR_max_bitrate]}for(var m=0;m<c.mode_gr;m++){n.on_pe(e,r,s[m],d,m,0),c.mode_ext==f.MPG_MD_MS_LR&&ms_convert(c.l3_side,m);for(var v=0;v<c.channels_out;++v){var g=c.l3_side.tt[m][v];c.masking_lower=Math.pow(10,.1*c.PSY.mask_adjust),init_outer_loop(c,g),0!=n.calc_xmin(e,i[m][v],g,a[m][v])&&(u=0),h+=s[m][v]}}for(m=0;m<c.mode_gr;m++)for(v=0;v<c.channels_out;v++)h>l&&(s[m][v]*=l,s[m][v]/=h);return u},this.calc_target_bits=function(r,i,a,o,s,l){var c,u,d,h,p=r.internal_flags,m=p.l3_side,v=0;p.bitrate_index=p.VBR_max_bitrate;var g=new MeanBits(v);for(l[0]=t.ResvFrameBegin(r,g),v=g.bits,p.bitrate_index=1,v=e.getframebits(r)-8*p.sideinfo_len,s[0]=v/(p.mode_gr*p.channels_out),v=r.VBR_mean_bitrate_kbps*r.framesize*1e3,0!=(1&p.substep_shaping)&&(v*=1.09),v/=r.out_samplerate,v-=8*p.sideinfo_len,v/=p.mode_gr*p.channels_out,c=.93+.07*(11-r.compression_ratio)/5.5,c<.9&&(c=.9),c>1&&(c=1),u=0;u<p.mode_gr;u++){var _=0;for(d=0;d<p.channels_out;d++){if(o[u][d]=int(c*v),i[u][d]>700){var y=int((i[u][d]-700)/1.4),b=m.tt[u][d];o[u][d]=int(c*v),b.block_type==f.SHORT_TYPE&&y<v/2&&(y=v/2),y>3*v/2?y=3*v/2:y<0&&(y=0),o[u][d]+=y}o[u][d]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(o[u][d]=LameInternalFlags.MAX_BITS_PER_CHANNEL),_+=o[u][d]}if(_>LameInternalFlags.MAX_BITS_PER_GRANULE)for(d=0;d<p.channels_out;++d)o[u][d]*=LameInternalFlags.MAX_BITS_PER_GRANULE,o[u][d]/=_}if(p.mode_ext==f.MPG_MD_MS_LR)for(u=0;u<p.mode_gr;u++)n.reduce_side(o[u],a[u],v*p.channels_out,LameInternalFlags.MAX_BITS_PER_GRANULE);for(h=0,u=0;u<p.mode_gr;u++)for(d=0;d<p.channels_out;d++)o[u][d]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(o[u][d]=LameInternalFlags.MAX_BITS_PER_CHANNEL),h+=o[u][d];if(h>l[0])for(u=0;u<p.mode_gr;u++)for(d=0;d<p.channels_out;d++)o[u][d]*=l[0],o[u][d]/=h}}e.exports=v},3876:function(e,t,n){var r=n(5714),i=n(4624),a=(i.System,i.VbrMode),o=i.Float,s=(i.ShortBlock,i.Util),l=(i.Arrays,i.new_array_n,i.new_byte,i.new_double,i.new_float),c=(i.new_float_n,i.new_int),u=(i.new_int_n,i.assert),d=n(7131),h=n(1795),f=n(4314);function p(){var e=n(6598),t=null,i=null,m=null;function v(e){return u(0<=e+p.Q_MAX2&&e<p.Q_MAX),M[e+p.Q_MAX2]}this.setModules=function(e,n,r){t=e,i=n,m=r},this.IPOW20=function(e){return u(0<=e&&e<p.Q_MAX),E[e]};var g=2220446049250313e-31,_=p.IXMAX_VAL,y=_+2,b=p.Q_MAX,x=p.Q_MAX2,w=(p.LARGE_BITS,100);this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var S=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=S,this.sfBandIndex=[new r([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0,8,16,24,36,52,72,96,124,160,162,164,166,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var M=l(b+x+1),E=l(b),T=l(y),A=l(y);function C(e,t){var n=m.ATHformula(t,e);return n-=w,n=Math.pow(10,n/10+e.ATHlower),n}function k(e){for(var t=e.internal_flags.ATH.l,n=e.internal_flags.ATH.psfb21,r=e.internal_flags.ATH.s,i=e.internal_flags.ATH.psfb12,a=e.internal_flags,s=e.out_samplerate,l=0;l<d.SBMAX_l;l++){var c=a.scalefac_band.l[l],u=a.scalefac_band.l[l+1];t[l]=o.MAX_VALUE;for(var h=c;h<u;h++){var f=h*s/1152,p=C(e,f);t[l]=Math.min(t[l],p)}}for(l=0;l<d.PSFB21;l++){c=a.scalefac_band.psfb21[l],u=a.scalefac_band.psfb21[l+1];n[l]=o.MAX_VALUE;for(h=c;h<u;h++){f=h*s/1152,p=C(e,f);n[l]=Math.min(n[l],p)}}for(l=0;l<d.SBMAX_s;l++){c=a.scalefac_band.s[l],u=a.scalefac_band.s[l+1];r[l]=o.MAX_VALUE;for(h=c;h<u;h++){f=h*s/384,p=C(e,f);r[l]=Math.min(r[l],p)}r[l]*=a.scalefac_band.s[l+1]-a.scalefac_band.s[l]}for(l=0;l<d.PSFB12;l++){c=a.scalefac_band.psfb12[l],u=a.scalefac_band.psfb12[l+1];i[l]=o.MAX_VALUE;for(h=c;h<u;h++){f=h*s/384,p=C(e,f);i[l]=Math.min(i[l],p)}i[l]*=a.scalefac_band.s[13]-a.scalefac_band.s[12]}if(e.noATH){for(l=0;l<d.SBMAX_l;l++)t[l]=1e-20;for(l=0;l<d.PSFB21;l++)n[l]=1e-20;for(l=0;l<d.SBMAX_s;l++)r[l]=1e-20;for(l=0;l<d.PSFB12;l++)i[l]=1e-20}a.ATH.floor=10*Math.log10(C(e,-1))}function R(e){this.s=e}this.adj43=A,this.iteration_init=function(e){var n,r=e.internal_flags,i=r.l3_side;if(0==r.iteration_init_init){for(r.iteration_init_init=1,i.main_data_begin=0,k(e),T[0]=0,n=1;n<y;n++)T[n]=Math.pow(n,4/3);for(n=0;n<y-1;n++)A[n]=n+1-Math.pow(.5*(T[n]+T[n+1]),.75);for(A[n]=.5,n=0;n<b;n++)E[n]=Math.pow(2,-.1875*(n-210));for(n=0;n<=b+x;n++)M[n]=Math.pow(2,.25*(n-210-x));var a,o,s,l;for(t.huffman_init(r),n=e.exp_nspsytune>>2&63,n>=32&&(n-=64),a=Math.pow(10,n/4/10),n=e.exp_nspsytune>>8&63,n>=32&&(n-=64),o=Math.pow(10,n/4/10),n=e.exp_nspsytune>>14&63,n>=32&&(n-=64),s=Math.pow(10,n/4/10),n=e.exp_nspsytune>>20&63,n>=32&&(n-=64),l=s*Math.pow(10,n/4/10),n=0;n<d.SBMAX_l;n++){c=n<=6?a:n<=13?o:n<=20?s:l,r.nsPsy.longfact[n]=c}for(n=0;n<d.SBMAX_s;n++){var c;c=n<=5?a:n<=10?o:n<=11?s:l,r.nsPsy.shortfact[n]=c}}},this.on_pe=function(e,t,n,r,a,o){var s,l,d=e.internal_flags,p=0,m=c(2),v=new h(p),g=i.ResvMaxBits(e,r,v,o);p=v.bits;var _=p+g;for(_>f.MAX_BITS_PER_GRANULE&&(_=f.MAX_BITS_PER_GRANULE),s=0,l=0;l<d.channels_out;++l)n[l]=Math.min(f.MAX_BITS_PER_CHANNEL,p/d.channels_out),m[l]=0|n[l]*t[a][l]/700-n[l],m[l]>3*r/4&&(m[l]=3*r/4),m[l]<0&&(m[l]=0),m[l]+n[l]>f.MAX_BITS_PER_CHANNEL&&(m[l]=Math.max(0,f.MAX_BITS_PER_CHANNEL-n[l])),s+=m[l];if(s>g)for(l=0;l<d.channels_out;++l)m[l]=g*m[l]/s;for(l=0;l<d.channels_out;++l)n[l]+=m[l],g-=m[l];for(s=0,l=0;l<d.channels_out;++l)s+=n[l];if(s>f.MAX_BITS_PER_GRANULE){var y=0;for(l=0;l<d.channels_out;++l)n[l]*=f.MAX_BITS_PER_GRANULE,n[l]/=s,y+=n[l];u(y<=f.MAX_BITS_PER_GRANULE)}return _},this.reduce_side=function(e,t,n,r){u(r<=f.MAX_BITS_PER_GRANULE),u(e[0]+e[1]<=f.MAX_BITS_PER_GRANULE);var i=.33*(.5-t)/.5;i<0&&(i=0),i>.5&&(i=.5);var a=0|.5*i*(e[0]+e[1]);a>f.MAX_BITS_PER_CHANNEL-e[0]&&(a=f.MAX_BITS_PER_CHANNEL-e[0]),a<0&&(a=0),e[1]>=125&&(e[1]-a>125?(e[0]<n&&(e[0]+=a),e[1]-=a):(e[0]+=e[1]-125,e[1]=125)),a=e[0]+e[1],a>r&&(e[0]=r*e[0]/a,e[1]=r*e[1]/a),u(e[0]<=f.MAX_BITS_PER_CHANNEL),u(e[1]<=f.MAX_BITS_PER_CHANNEL),u(e[0]+e[1]<=f.MAX_BITS_PER_GRANULE)},this.athAdjust=function(e,t,n){var r=90.30873362,i=94.82444863,a=s.FAST_LOG10_X(t,10),o=e*e,l=0;return a-=n,o>1e-20&&(l=1+s.FAST_LOG10_X(o,10/r)),l<0&&(l=0),a*=l,a+=n+r-i,Math.pow(10,.1*a)},this.calc_xmin=function(t,n,r,i){var o,s=0,l=t.internal_flags,c=0,u=0,h=l.ATH,f=r.xr,p=t.VBR==a.vbr_mtrh?1:0,m=l.masking_lower;for(t.VBR!=a.vbr_mtrh&&t.VBR!=a.vbr_mt||(m=1),o=0;o<r.psy_lmax;o++){E=t.VBR==a.vbr_rh||t.VBR==a.vbr_mtrh?athAdjust(h.adjust,h.l[o],h.floor):h.adjust*h.l[o],w=r.width[o],T=E/w,A=g,k=w>>1,C=0;do{R=f[c]*f[c],C+=R,A+=R<T?R:T,c++,L=f[c]*f[c],C+=L,A+=L<T?L:T,c++}while(--k>0);if(C>E&&u++,o==d.SBPSY_l){var v=E*l.nsPsy.longfact[o];A<v&&(A=v)}if(0!=p&&(E=A),!t.ATHonly){var _=n.en.l[o];if(_>0)v=C*n.thm.l[o]*m/_,0!=p&&(v*=l.nsPsy.longfact[o]),E<v&&(E=v)}i[s++]=0!=p?E:E*l.nsPsy.longfact[o]}var y=575;if(r.block_type!=d.SHORT_TYPE){var b=576;while(0!=b--&&e.EQ(f[b],0))y=b}r.max_nonzero_coeff=y;for(var x=r.sfb_smin;o<r.psymax;x++,o+=3){var w,S,M;for(M=t.VBR==a.vbr_rh||t.VBR==a.vbr_mtrh?athAdjust(h.adjust,h.s[x],h.floor):h.adjust*h.s[x],w=r.width[o],S=0;S<3;S++){var E,T,A,C=0,k=w>>1;T=M/w,A=g;do{var R,L;R=f[c]*f[c],C+=R,A+=R<T?R:T,c++,L=f[c]*f[c],C+=L,A+=L<T?L:T,c++}while(--k>0);if(C>M&&u++,x==d.SBPSY_s){v=M*l.nsPsy.shortfact[x];A<v&&(A=v)}if(E=0!=p?A:M,!t.ATHonly&&!t.ATHshort){_=n.en.s[x][S];if(_>0)v=C*n.thm.s[x][S]*m/_,0!=p&&(v*=l.nsPsy.shortfact[x]),E<v&&(E=v)}i[s++]=0!=p?E:E*l.nsPsy.shortfact[x]}t.useTemporal&&(i[s-3]>i[s-3+1]&&(i[s-3+1]+=(i[s-3]-i[s-3+1])*l.decay),i[s-3+1]>i[s-3+2]&&(i[s-3+2]+=(i[s-3+1]-i[s-3+2])*l.decay))}return u},this.calc_noise_core=function(e,t,n,r){var i=0,a=t.s,o=e.l3_enc;if(a>e.count1)while(0!=n--){c=e.xr[a],a++,i+=c*c,c=e.xr[a],a++,i+=c*c}else if(a>e.big_values){var s=l(2);s[0]=0,s[1]=r;while(0!=n--){c=Math.abs(e.xr[a])-s[o[a]],a++,i+=c*c,c=Math.abs(e.xr[a])-s[o[a]],a++,i+=c*c}}else while(0!=n--){var c;c=Math.abs(e.xr[a])-T[o[a]]*r,a++,i+=c*c,c=Math.abs(e.xr[a])-T[o[a]]*r,a++,i+=c*c}return t.s=a,i},this.calc_noise=function(e,t,n,r,i){var a,o,l=0,c=0,u=0,d=0,h=0,f=-20,p=0,m=e.scalefac,g=0;for(r.over_SSD=0,a=0;a<e.psymax;a++){var _,y=e.global_gain-(m[g++]+(0!=e.preflag?S[a]:0)<<e.scalefac_scale+1)-8*e.subblock_gain[e.window[a]],b=0;if(null!=i&&i.step[a]==y)b=i.noise[a],p+=e.width[a],n[l++]=b/t[c++],b=i.noise_log[a];else{var x,w=v(y);if(o=e.width[a]>>1,p+e.width[a]>e.max_nonzero_coeff)x=e.max_nonzero_coeff-p+1,o=x>0?x>>1:0;var M=new R(p);b=this.calc_noise_core(e,M,o,w),p=M.s,null!=i&&(i.step[a]=y,i.noise[a]=b),b=n[l++]=b/t[c++],b=s.FAST_LOG10(Math.max(b,1e-20)),null!=i&&(i.noise_log[a]=b)}if(null!=i&&(i.global_gain=e.global_gain),h+=b,b>0)_=Math.max(0|10*b+.5,1),r.over_SSD+=_*_,u++,d+=b;f=Math.max(f,b)}return r.over_count=u,r.tot_noise=h,r.over_noise=d,r.max_noise=f,u},this.set_pinfo=function(e,t,n,r,i){var a,o,s,c,h,f=e.internal_flags,p=0==t.scalefac_scale?.5:1,m=t.scalefac,v=l(L3Side.SFBMAX),g=l(L3Side.SFBMAX),_=new CalcNoiseResult;calc_xmin(e,n,t,v),calc_noise(t,v,g,_,null);var y=0;for(o=t.sfb_lmax,t.block_type!=d.SHORT_TYPE&&0==t.mixed_block_flag&&(o=22),a=0;a<o;a++){var b=f.scalefac_band.l[a],x=f.scalefac_band.l[a+1],w=x-b;for(c=0;y<x;y++)c+=t.xr[y]*t.xr[y];c/=w,h=1e15,f.pinfo.en[r][i][a]=h*c,f.pinfo.xfsf[r][i][a]=h*v[a]*g[a]/w,n.en.l[a]>0&&!e.ATHonly?c/=n.en.l[a]:c=0,f.pinfo.thr[r][i][a]=h*Math.max(c*n.thm.l[a],f.ATH.l[a]),f.pinfo.LAMEsfb[r][i][a]=0,0!=t.preflag&&a>=11&&(f.pinfo.LAMEsfb[r][i][a]=-p*S[a]),a<d.SBPSY_l&&(u(m[a]>=0),f.pinfo.LAMEsfb[r][i][a]-=p*m[a])}if(t.block_type==d.SHORT_TYPE)for(o=a,a=t.sfb_smin;a<d.SBMAX_s;a++){b=f.scalefac_band.s[a],x=f.scalefac_band.s[a+1],w=x-b;for(var M=0;M<3;M++){for(c=0,s=b;s<x;s++)c+=t.xr[y]*t.xr[y],y++;c=Math.max(c/w,1e-20),h=1e15,f.pinfo.en_s[r][i][3*a+M]=h*c,f.pinfo.xfsf_s[r][i][3*a+M]=h*v[o]*g[o]/w,n.en.s[a][M]>0?c/=n.en.s[a][M]:c=0,(e.ATHonly||e.ATHshort)&&(c=0),f.pinfo.thr_s[r][i][3*a+M]=h*Math.max(c*n.thm.s[a][M],f.ATH.s[a]),f.pinfo.LAMEsfb_s[r][i][3*a+M]=-2*t.subblock_gain[M],a<d.SBPSY_s&&(f.pinfo.LAMEsfb_s[r][i][3*a+M]-=p*m[o]),o++}}f.pinfo.LAMEqss[r][i]=t.global_gain,f.pinfo.LAMEmainbits[r][i]=t.part2_3_length+t.part2_length,f.pinfo.LAMEsfbits[r][i]=t.part2_length,f.pinfo.over[r][i]=_.over_count,f.pinfo.max_noise[r][i]=10*_.max_noise,f.pinfo.over_noise[r][i]=10*_.over_noise,f.pinfo.tot_noise[r][i]=10*_.tot_noise,f.pinfo.over_SSD[r][i]=_.over_SSD}}p.Q_MAX=257,p.Q_MAX2=116,p.LARGE_BITS=1e5,p.IXMAX_VAL=8206,e.exports=p},4612:function(e,t,n){var r=n(4624),i=(r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float),a=(r.new_float_n,r.new_int),o=(r.new_int_n,r.assert,n(5105));function s(){this.linprebuf=i(2*o.MAX_ORDER),this.linpre=0,this.lstepbuf=i(o.MAX_SAMPLES_PER_WINDOW+o.MAX_ORDER),this.lstep=0,this.loutbuf=i(o.MAX_SAMPLES_PER_WINDOW+o.MAX_ORDER),this.lout=0,this.rinprebuf=i(2*o.MAX_ORDER),this.rinpre=0,this.rstepbuf=i(o.MAX_SAMPLES_PER_WINDOW+o.MAX_ORDER),this.rstep=0,this.routbuf=i(o.MAX_SAMPLES_PER_WINDOW+o.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=a(0|o.STEPS_per_dB*o.MAX_dB),this.B=a(0|o.STEPS_per_dB*o.MAX_dB)}e.exports=s},4963:function(e,t,n){var r=n(4624),i=r.assert;function a(){var e;this.setModules=function(t){e=t},this.ResvFrameBegin=function(t,n){var r,a=t.internal_flags,o=a.l3_side,s=e.getframebits(t);n.bits=(s-8*a.sideinfo_len)/a.mode_gr;var l=2048*a.mode_gr-8;t.brate>320?r=8*int(1e3*t.brate/(t.out_samplerate/1152)/8+.5):(r=11520,t.strict_ISO&&(r=8*int(32e4/(t.out_samplerate/1152)/8+.5))),a.ResvMax=r-s,a.ResvMax>l&&(a.ResvMax=l),(a.ResvMax<0||t.disable_reservoir)&&(a.ResvMax=0);var c=n.bits*a.mode_gr+Math.min(a.ResvSize,a.ResvMax);return c>r&&(c=r),i(0==a.ResvMax%8),i(a.ResvMax>=0),o.resvDrain_pre=0,null!=a.pinfo&&(a.pinfo.mean_bits=n.bits/2,a.pinfo.resvsize=a.ResvSize),c},this.ResvMaxBits=function(e,t,n,r){var i,a=e.internal_flags,o=a.ResvSize,s=a.ResvMax;0!=r&&(o+=t),0!=(1&a.substep_shaping)&&(s*=.9),n.bits=t,10*o>9*s?(i=o-9*s/10,n.bits+=i,a.substep_shaping|=128):(i=0,a.substep_shaping&=127,e.disable_reservoir||0!=(1&a.substep_shaping)||(n.bits-=.1*t));var l=o<6*a.ResvMax/10?o:6*a.ResvMax/10;return l-=i,l<0&&(l=0),l},this.ResvAdjust=function(e,t){e.ResvSize-=t.part2_3_length+t.part2_length},this.ResvFrameEnd=function(e,t){var n,r=e.l3_side;e.ResvSize+=t*e.mode_gr;var a=0;r.resvDrain_post=0,r.resvDrain_pre=0,0!=(n=e.ResvSize%8)&&(a+=n),n=e.ResvSize-a-e.ResvMax,n>0&&(i(0==n%8),i(n>=0),a+=n);var o=Math.min(8*r.main_data_begin,a)/8;r.resvDrain_pre+=8*o,a-=8*o,e.ResvSize-=8*o,r.main_data_begin-=o,r.resvDrain_post+=a,e.ResvSize-=a}}e.exports=a},5714:function(e,t,n){var r=n(4624),i=r.System,a=(r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float,r.new_float_n,r.new_int),o=(r.new_int_n,r.assert,n(7131));function s(e,t,n,r){this.l=a(1+o.SBMAX_l),this.s=a(1+o.SBMAX_s),this.psfb21=a(1+o.PSFB21),this.psfb12=a(1+o.PSFB12);var s=this.l,l=this.s;4==arguments.length&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],i.arraycopy(this.arrL,0,s,0,Math.min(this.arrL.length,this.l.length)),i.arraycopy(this.arrS,0,l,0,Math.min(this.arrS.length,this.s.length)),i.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),i.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}e.exports=s},366:function(e){function t(e,t,n,r){this.xlen=e,this.linmax=t,this.table=n,this.hlen=r}var n={t1HB:[1,1,1,0],t2HB:[1,2,1,3,1,1,3,2,0],t3HB:[3,2,1,1,1,1,3,2,0],t5HB:[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0],t6HB:[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0],t7HB:[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0],t8HB:[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0],t9HB:[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0],t10HB:[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0],t11HB:[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0],t12HB:[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0],t13HB:[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1],t15HB:[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0],t16HB:[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3],t24HB:[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3],t32HB:[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16],t33HB:[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0],t1l:[1,4,3,5],t2l:[1,4,7,4,5,7,6,7,8],t3l:[2,3,7,4,4,7,6,7,8],t5l:[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10],t6l:[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9],t7l:[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12],t8l:[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13],t9l:[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11],t10l:[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13],t11l:[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12],t12l:[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12],t13l:[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18],t15l:[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15],t16_5l:[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12],t16l:[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10],t24l:[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6],t32l:[1,5,5,7,5,8,7,9,5,7,7,9,7,9,9,10],t33l:[4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8]};n.ht=[new t(0,0,null,null),new t(2,0,n.t1HB,n.t1l),new t(3,0,n.t2HB,n.t2l),new t(3,0,n.t3HB,n.t3l),new t(0,0,null,null),new t(4,0,n.t5HB,n.t5l),new t(4,0,n.t6HB,n.t6l),new t(6,0,n.t7HB,n.t7l),new t(6,0,n.t8HB,n.t8l),new t(6,0,n.t9HB,n.t9l),new t(8,0,n.t10HB,n.t10l),new t(8,0,n.t11HB,n.t11l),new t(8,0,n.t12HB,n.t12l),new t(16,0,n.t13HB,n.t13l),new t(0,0,null,n.t16_5l),new t(16,0,n.t15HB,n.t15l),new t(1,1,n.t16HB,n.t16l),new t(2,3,n.t16HB,n.t16l),new t(3,7,n.t16HB,n.t16l),new t(4,15,n.t16HB,n.t16l),new t(6,63,n.t16HB,n.t16l),new t(8,255,n.t16HB,n.t16l),new t(10,1023,n.t16HB,n.t16l),new t(13,8191,n.t16HB,n.t16l),new t(4,15,n.t24HB,n.t24l),new t(5,31,n.t24HB,n.t24l),new t(6,63,n.t24HB,n.t24l),new t(7,127,n.t24HB,n.t24l),new t(8,255,n.t24HB,n.t24l),new t(9,511,n.t24HB,n.t24l),new t(11,2047,n.t24HB,n.t24l),new t(13,8191,n.t24HB,n.t24l),new t(0,0,n.t32HB,n.t32l),new t(0,0,n.t33HB,n.t33l)],n.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366],n.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296],n.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369],n.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]],n.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]],n.scfsi_band=[0,6,11,16,21],e.exports=n},6034:function(e,t,n){var r=n(4624),i=r.System,a=(r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays),o=(r.new_array_n,r.new_byte,r.new_double,r.new_float,r.new_float_n,r.new_int),s=(r.new_int_n,r.assert),l=n(7131),c=n(366),u=n(4779),d=n(3876);function h(){var e=null;function t(e){this.bits=0|e}this.qupvt=null,this.setModules=function(t){this.qupvt=t,e=t};var n=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function r(e,t,n,r,i,a){var o=.5946/t;s(e>0),e>>=1;while(0!=e--)i[a++]=o>n[r++]?0:1,i[a++]=o>n[r++]?0:1}function f(t,n,r,i,a,o){s(t>0),t>>=1;var l=t%2;t>>=1;while(0!=t--){var c,u,d,h,f,p,m,v;c=r[i++]*n,u=r[i++]*n,f=0|c,d=r[i++]*n,p=0|u,h=r[i++]*n,m=0|d,c+=e.adj43[f],v=0|h,u+=e.adj43[p],a[o++]=0|c,d+=e.adj43[m],a[o++]=0|u,h+=e.adj43[v],a[o++]=0|d,a[o++]=0|h}0!=l&&(c=r[i++]*n,u=r[i++]*n,f=0|c,p=0|u,c+=e.adj43[f],u+=e.adj43[p],a[o++]=0|c,a[o++]=0|u)}function p(t,n,i,o,c){var u,d,h,p=0,m=0,v=0,g=0,_=n,y=0,b=_,x=0,w=t,S=0;for(h=null!=c&&o.global_gain==c.global_gain,d=o.block_type==l.SHORT_TYPE?38:21,u=0;u<=d;u++){var M=-1;if((h||o.block_type==l.NORM_TYPE)&&(M=o.global_gain-(o.scalefac[u]+(0!=o.preflag?e.pretab[u]:0)<<o.scalefac_scale+1)-8*o.subblock_gain[o.window[u]]),s(o.width[u]>=0),h&&c.step[u]==M)0!=m&&(f(m,i,w,S,b,x),m=0),0!=v&&(r(v,i,w,S,b,x),v=0);else{var E,T=o.width[u];if(p+o.width[u]>o.max_nonzero_coeff)E=o.max_nonzero_coeff-p+1,a.fill(n,o.max_nonzero_coeff,576,0),T=E,T<0&&(T=0),u=d+1;if(0==m&&0==v&&(b=_,x=y,w=t,S=g),null!=c&&c.sfb_count1>0&&u>=c.sfb_count1&&c.step[u]>0&&M>=c.step[u]?(0!=m&&(f(m,i,w,S,b,x),m=0,b=_,x=y,w=t,S=g),v+=T):(0!=v&&(r(v,i,w,S,b,x),v=0,b=_,x=y,w=t,S=g),m+=T),T<=0){0!=v&&(r(v,i,w,S,b,x),v=0),0!=m&&(f(m,i,w,S,b,x),m=0);break}}u<=d&&(y+=o.width[u],g+=o.width[u],p+=o.width[u])}0!=m&&(f(m,i,w,S,b,x),m=0),0!=v&&(r(v,i,w,S,b,x),v=0)}function m(e,t,n){var r=0,i=0;do{var a=e[t++],o=e[t++];r<a&&(r=a),i<o&&(i=o)}while(t<n);return r<i&&(r=i),r}function v(e,t,n,r,i,a){var o,s=65536*c.ht[r].xlen+c.ht[i].xlen,l=0;do{var u=e[t++],d=e[t++];0!=u&&(u>14&&(u=15,l+=s),u*=16),0!=d&&(d>14&&(d=15,l+=s),u+=d),l+=c.largetbl[u]}while(t<n);return o=65535&l,l>>=16,l>o&&(l=o,r=i),a.bits+=l,r}function g(e,t,n,r){var i=0,a=c.ht[1].hlen;do{var o=2*e[t+0]+e[t+1];t+=2,i+=a[o]}while(t<n);return r.bits+=i,1}function _(e,t,n,r,i){var a,o,s=0,l=c.ht[r].xlen;o=2==r?c.table23:c.table56;do{var u=e[t+0]*l+e[t+1];t+=2,s+=o[u]}while(t<n);return a=65535&s,s>>=16,s>a&&(s=a,r++),i.bits+=s,r}function y(e,t,n,r,i){var a=0,o=0,s=0,l=c.ht[r].xlen,u=c.ht[r].hlen,d=c.ht[r+1].hlen,h=c.ht[r+2].hlen;do{var f=e[t+0]*l+e[t+1];t+=2,a+=u[f],o+=d[f],s+=h[f]}while(t<n);var p=r;return a>o&&(a=o,p++),a>s&&(a=s,p=r+2),i.bits+=a,p}var b=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function x(e,t,n,r){var i=m(e,t,n);switch(i){case 0:return i;case 1:return g(e,t,n,r);case 2:case 3:return _(e,t,n,b[i-1],r);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return y(e,t,n,b[i-1],r);default:if(i>d.IXMAX_VAL)return r.bits=d.LARGE_BITS,-1;var a,o;for(i-=15,a=24;a<32;a++)if(c.ht[a].linmax>=i)break;for(o=a-8;o<24;o++)if(c.ht[o].linmax>=i)break;return v(e,t,n,o,a,r)}}function w(e,n,r,i,a,o,s){for(var l=n.big_values,c=0;c<=22;c++)i[c]=d.LARGE_BITS;for(c=0;c<16;c++){var u=e.scalefac_band.l[c+1];if(u>=l)break;var h=0,f=new t(h),p=x(r,0,u,f);h=f.bits;for(var m=0;m<8;m++){var v=e.scalefac_band.l[c+m+2];if(v>=l)break;var g=h;f=new t(g);var _=x(r,u,v,f);g=f.bits,i[c+m]>g&&(i[c+m]=g,a[c+m]=c,o[c+m]=p,s[c+m]=_)}}}function S(e,n,r,i,a,o,s,c){for(var u=n.big_values,d=2;d<l.SBMAX_l+1;d++){var h=e.scalefac_band.l[d];if(h>=u)break;var f=a[d-2]+n.count1bits;if(r.part2_3_length<=f)break;var p=new t(f),m=x(i,h,u,p);f=p.bits,r.part2_3_length<=f||(r.assign(n),r.part2_3_length=f,r.region0_count=o[d-2],r.region1_count=d-2-o[d-2],r.table_select[0]=s[d-2],r.table_select[1]=c[d-2],r.table_select[2]=m)}}this.noquant_count_bits=function(e,n,r){var i=n.l3_enc,a=Math.min(576,n.max_nonzero_coeff+2>>1<<1);for(null!=r&&(r.sfb_count1=0);a>1;a-=2)if(0!=(i[a-1]|i[a-2]))break;n.count1=a;for(var o=0,u=0;a>3;a-=4){var d;if((2147483647&(i[a-1]|i[a-2]|i[a-3]|i[a-4]))>1)break;d=2*(2*(2*i[a-4]+i[a-3])+i[a-2])+i[a-1],o+=c.t32l[d],u+=c.t33l[d]}var h=o;if(n.count1table_select=0,o>u&&(h=u,n.count1table_select=1),n.count1bits=h,n.big_values=a,0==a)return h;if(n.block_type==l.SHORT_TYPE)o=3*e.scalefac_band.s[3],o>n.big_values&&(o=n.big_values),u=n.big_values;else if(n.block_type==l.NORM_TYPE){if(s(a<=576),o=n.region0_count=e.bv_scf[a-2],u=n.region1_count=e.bv_scf[a-1],s(o+u+2<l.SBPSY_l),u=e.scalefac_band.l[o+u+2],o=e.scalefac_band.l[o+1],u<a){var f=new t(h);n.table_select[2]=x(i,u,a,f),h=f.bits}}else n.region0_count=7,n.region1_count=l.SBMAX_l-1-7-1,o=e.scalefac_band.l[8],u=a,o>u&&(o=u);if(o=Math.min(o,a),u=Math.min(u,a),s(o>=0),s(u>=0),0<o){f=new t(h);n.table_select[0]=x(i,0,o,f),h=f.bits}if(o<u){f=new t(h);n.table_select[1]=x(i,o,u,f),h=f.bits}if(2==e.use_best_huffman&&(n.part2_3_length=h,best_huffman_divide(e,n),h=n.part2_3_length),null!=r&&n.block_type==l.NORM_TYPE){var p=0;while(e.scalefac_band.l[p]<n.big_values)p++;r.sfb_count1=p}return h},this.count_bits=function(t,n,r,i){var a=r.l3_enc,o=d.IXMAX_VAL/e.IPOW20(r.global_gain);if(r.xrpow_max>o)return d.LARGE_BITS;if(p(n,a,e.IPOW20(r.global_gain),r,i),0!=(2&t.substep_shaping))for(var l=0,c=r.global_gain+r.scalefac_scale,u=.634521682242439/e.IPOW20(c),h=0;h<r.sfbmax;h++){var f,m=r.width[h];if(s(m>=0),0==t.pseudohalf[h])l+=m;else for(f=l,l+=m;f<l;++f)a[f]=n[f]>=u?a[f]:0}return this.noquant_count_bits(t,r,i)},this.best_huffman_divide=function(e,n){var r=new u,i=n.l3_enc,a=o(23),d=o(23),h=o(23),f=o(23);if(n.block_type!=l.SHORT_TYPE||1!=e.mode_gr){r.assign(n),n.block_type==l.NORM_TYPE&&(w(e,n,i,a,d,h,f),S(e,r,n,i,a,d,h,f));var p=r.big_values;if(!(0==p||(i[p-2]|i[p-1])>1)&&(p=n.count1+2,!(p>576))){r.assign(n),r.count1=p;var m=0,v=0;for(s(p<=576);p>r.big_values;p-=4){var g=2*(2*(2*i[p-4]+i[p-3])+i[p-2])+i[p-1];m+=c.t32l[g],v+=c.t33l[g]}if(r.big_values=p,r.count1table_select=0,m>v&&(m=v,r.count1table_select=1),r.count1bits=m,r.block_type==l.NORM_TYPE)S(e,r,n,i,a,d,h,f);else{if(r.part2_3_length=m,m=e.scalefac_band.l[8],m>p&&(m=p),m>0){var _=new t(r.part2_3_length);r.table_select[0]=x(i,0,m,_),r.part2_3_length=_.bits}if(p>m){_=new t(r.part2_3_length);r.table_select[1]=x(i,m,p,_),r.part2_3_length=_.bits}n.part2_3_length>r.part2_3_length&&n.assign(r)}}}};var M=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],E=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],T=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],A=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];function C(e,t){for(var n,r=t.tt[1][e],i=t.tt[0][e],a=0;a<c.scfsi_band.length-1;a++){for(n=c.scfsi_band[a];n<c.scfsi_band[a+1];n++)if(i.scalefac[n]!=r.scalefac[n]&&r.scalefac[n]>=0)break;if(n==c.scfsi_band[a+1]){for(n=c.scfsi_band[a];n<c.scfsi_band[a+1];n++)r.scalefac[n]=-1;t.scfsi[e][a]=1}}var o=0,s=0;for(n=0;n<11;n++)-1!=r.scalefac[n]&&(s++,o<r.scalefac[n]&&(o=r.scalefac[n]));for(var u=0,d=0;n<l.SBPSY_l;n++)-1!=r.scalefac[n]&&(d++,u<r.scalefac[n]&&(u=r.scalefac[n]));for(a=0;a<16;a++)if(o<M[a]&&u<E[a]){var h=T[a]*s+A[a]*d;r.part2_length>h&&(r.part2_length=h,r.scalefac_compress=a)}}function k(e,t){for(var n=0;n<t;++n)if(e[n]<0)return!1;return!0}h.slen1_tab=T,h.slen2_tab=A,this.best_scalefac_store=function(t,n,r,i){var a,o,c,u,d=i.tt[n][r],h=0;for(c=0,a=0;a<d.sfbmax;a++){var f=d.width[a];for(s(f>=0),c+=f,u=-f;u<0;u++)if(0!=d.l3_enc[u+c])break;0==u&&(d.scalefac[a]=h=-2)}if(0==d.scalefac_scale&&0==d.preflag){var p=0;for(a=0;a<d.sfbmax;a++)d.scalefac[a]>0&&(p|=d.scalefac[a]);if(0==(1&p)&&0!=p){for(a=0;a<d.sfbmax;a++)d.scalefac[a]>0&&(d.scalefac[a]>>=1);d.scalefac_scale=h=1}}if(0==d.preflag&&d.block_type!=l.SHORT_TYPE&&2==t.mode_gr){for(a=11;a<l.SBPSY_l;a++)if(d.scalefac[a]<e.pretab[a]&&-2!=d.scalefac[a])break;if(a==l.SBPSY_l){for(a=11;a<l.SBPSY_l;a++)d.scalefac[a]>0&&(d.scalefac[a]-=e.pretab[a]);d.preflag=h=1}}for(o=0;o<4;o++)i.scfsi[r][o]=0;for(2==t.mode_gr&&1==n&&i.tt[0][r].block_type!=l.SHORT_TYPE&&i.tt[1][r].block_type!=l.SHORT_TYPE&&(C(r,i),h=0),a=0;a<d.sfbmax;a++)-2==d.scalefac[a]&&(d.scalefac[a]=0);0!=h&&(2==t.mode_gr?this.scale_bitcount(d):this.scale_bitcount_lsf(t,d))};var R=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],L=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],I=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(t){var n,r,i,a=0,o=0,c=t.scalefac;if(s(k(c,t.sfbmax)),t.block_type==l.SHORT_TYPE)i=R,0!=t.mixed_block_flag&&(i=L);else if(i=I,0==t.preflag){for(r=11;r<l.SBPSY_l;r++)if(c[r]<e.pretab[r])break;if(r==l.SBPSY_l)for(t.preflag=1,r=11;r<l.SBPSY_l;r++)c[r]-=e.pretab[r]}for(r=0;r<t.sfbdivide;r++)a<c[r]&&(a=c[r]);for(;r<t.sfbmax;r++)o<c[r]&&(o=c[r]);for(t.part2_length=d.LARGE_BITS,n=0;n<16;n++)a<M[n]&&o<E[n]&&t.part2_length>i[n]&&(t.part2_length=i[n],t.scalefac_compress=n);return t.part2_length==d.LARGE_BITS};var P=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(t,n){var r,a,c,u,d,h,f,p,m=o(4),v=n.scalefac;for(r=0!=n.preflag?2:0,f=0;f<4;f++)m[f]=0;if(n.block_type==l.SHORT_TYPE){a=1;var g=e.nr_of_sfb_block[r][a];for(p=0,c=0;c<4;c++)for(u=g[c]/3,f=0;f<u;f++,p++)for(d=0;d<3;d++)v[3*p+d]>m[c]&&(m[c]=v[3*p+d])}else{a=0;g=e.nr_of_sfb_block[r][a];for(p=0,c=0;c<4;c++)for(u=g[c],f=0;f<u;f++,p++)v[p]>m[c]&&(m[c]=v[p])}for(h=!1,c=0;c<4;c++)m[c]>P[r][c]&&(h=!0);if(!h){var _,y,b,x;for(n.sfb_partition_table=e.nr_of_sfb_block[r][a],c=0;c<4;c++)n.slen[c]=D[m[c]];switch(_=n.slen[0],y=n.slen[1],b=n.slen[2],x=n.slen[3],r){case 0:n.scalefac_compress=(5*_+y<<4)+(b<<2)+x;break;case 1:n.scalefac_compress=400+(5*_+y<<2)+b;break;case 2:n.scalefac_compress=500+3*_+y;break;default:i.err.printf("intensity stereo not implemented yet\n");break}}if(!h)for(s(null!=n.sfb_partition_table),n.part2_length=0,c=0;c<4;c++)n.part2_length+=n.slen[c]*n.sfb_partition_table[c];return h};var D=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(e){for(var t=2;t<=576;t+=2){var r,i=0;while(e.scalefac_band.l[++i]<t);r=n[i][0];while(e.scalefac_band.l[r+1]>t)r--;r<0&&(r=n[i][0]),e.bv_scf[t-2]=r,r=n[i][1];while(e.scalefac_band.l[r+e.bv_scf[t-2]+2]>t)r--;r<0&&(r=n[i][1]),e.bv_scf[t-1]=r}}}e.exports=h},1276:function(e){function t(){this.setModules=function(e,t){e,t}}e.exports=t},4e3:function(e){function t(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}e.exports=t},2682:function(e,t,n){n(2087);var r=n(4624),i=r.System,a=r.VbrMode,o=(r.Float,r.ShortBlock),s=(r.Util,r.Arrays),l=(r.new_array_n,r.new_byte),c=(r.new_double,r.new_float,r.new_float_n,r.new_int,r.new_int_n,r.assert);function u(){var e,t,n;this.setModules=function(r,i,a){e=r,t=i,n=a};var r=1,d=2,h=4,f=8,p=u.NUMTOCENTRIES,m=u.MAXFRAMESIZE,v=p+4+4+4+4+4,g=v+9+1+1+8+1+1+3+1+1+2+4+2+2,_=128,y=64,b=32,x=null,w="Xing",S="Info",M=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function E(e,t){if(e.nVbrNumFrames++,e.sum+=t,e.seen++,!(e.seen<e.want)&&(e.pos<e.size&&(e.bag[e.pos]=e.sum,e.pos++,e.seen=0),e.pos==e.size)){for(var n=1;n<e.size;n+=2)e.bag[n/2]=e.bag[n];e.want*=2,e.pos/=2}}function T(e,t){if(!(e.pos<=0))for(var n=1;n<p;++n){var r,i,a=n/p,o=0|Math.floor(a*e.pos);o>e.pos-1&&(o=e.pos-1),r=e.bag[o],i=e.sum;var s=0|256*r/i;s>255&&(s=255),t[n]=255&s}}function A(e,t){var n=255&e[t+0];return n<<=8,n|=255&e[t+1],n<<=8,n|=255&e[t+2],n<<=8,n|=255&e[t+3],n}function C(e,t,n){e[t+0]=255&n>>24,e[t+1]=255&n>>16,e[t+2]=255&n>>8,e[t+3]=255&n}function k(e,t,n){e[t+0]=255&n>>8,e[t+1]=255&n}function R(e,t){return new String(e,t,w.length(),x).equals(w)||new String(e,t,S.length(),x).equals(S)}function L(e,t,n){return 255&(e<<t|n&~(-1<<t))}function I(t,n){var r=t.internal_flags;n[0]=L(n[0],8,255),n[1]=L(n[1],3,7),n[1]=L(n[1],1,t.out_samplerate<16e3?0:1),n[1]=L(n[1],1,t.version),n[1]=L(n[1],2,1),n[1]=L(n[1],1,t.error_protection?0:1),n[2]=L(n[2],4,r.bitrate_index),n[2]=L(n[2],2,r.samplerate_index),n[2]=L(n[2],1,0),n[2]=L(n[2],1,t.extension),n[3]=L(n[3],2,t.mode.ordinal()),n[3]=L(n[3],2,r.mode_ext),n[3]=L(n[3],1,t.copyright),n[3]=L(n[3],1,t.original),n[3]=L(n[3],2,t.emphasis),n[0]=255;var i,o,s=241&n[1];i=1==t.version?_:t.out_samplerate<16e3?b:y,t.VBR==a.vbr_off&&(i=t.brate),o=t.free_format?0:255&16*e.BitrateIndex(i,t.version,t.out_samplerate),1==t.version?(n[1]=255&(10|s),s=13&n[2],n[2]=255&(o|s)):(n[1]=255&(2|s),s=13&n[2],n[2]=255&(o|s))}function P(e,t){var n=t^e;return t=t>>8^M[255&n],t}function D(e,t,r,i,a){var s,l,c,u=e.internal_flags,d=0,h=e.encoder_delay,f=e.encoder_padding,p=100-10*e.VBR_q-e.quality,m=n.getLameVeryShortVersion(),v=0,g=[1,5,3,2,4,0,3],_=0|(e.lowpassfreq/100+.5>255?255:e.lowpassfreq/100+.5),y=0,b=0,x=0,w=e.internal_flags.noise_shaping,S=0,M=0,E=0,T=0,A=0,R=0!=(1&e.exp_nspsytune),L=0!=(2&e.exp_nspsytune),I=!1,D=!1,O=e.internal_flags.nogap_total,N=e.internal_flags.nogap_current,F=e.ATHtype,B=0;switch(e.VBR){case vbr_abr:c=e.VBR_mean_bitrate_kbps;break;case vbr_off:c=e.brate;break;default:c=e.VBR_min_bitrate_kbps}switch(s=e.VBR.ordinal()<g.length?g[e.VBR.ordinal()]:0,l=16*v+s,u.findReplayGain&&(u.RadioGain>510&&(u.RadioGain=510),u.RadioGain<-510&&(u.RadioGain=-510),b=8192,b|=3072,u.RadioGain>=0?b|=u.RadioGain:(b|=512,b|=-u.RadioGain)),u.findPeakSample&&(y=Math.abs(0|u.PeakSample/32767*Math.pow(2,23)+.5)),-1!=O&&(N>0&&(D=!0),N<O-1&&(I=!0)),B=F+((R?1:0)<<4)+((L?1:0)<<5)+((I?1:0)<<6)+((D?1:0)<<7),p<0&&(p=0),e.mode){case MONO:S=0;break;case STEREO:S=1;break;case DUAL_CHANNEL:S=2;break;case JOINT_STEREO:S=e.force_ms?4:3;break;case NOT_SET:default:S=7;break}E=e.in_samplerate<=32e3?0:48e3==e.in_samplerate?2:e.in_samplerate>48e3?3:1,(e.short_blocks==o.short_block_forced||e.short_blocks==o.short_block_dispensed||-1==e.lowpassfreq&&-1==e.highpassfreq||e.scale_left<e.scale_right||e.scale_left>e.scale_right||e.disable_reservoir&&e.brate<320||e.noATH||e.ATHonly||0==F||e.in_samplerate<=32e3)&&(M=1),T=w+(S<<2)+(M<<5)+(E<<6),A=u.nMusicCRC,C(r,i+d,p),d+=4;for(var V=0;V<9;V++)r[i+d+V]=255&m.charAt(V);d+=9,r[i+d]=255&l,d++,r[i+d]=255&_,d++,C(r,i+d,y),d+=4,k(r,i+d,b),d+=2,k(r,i+d,x),d+=2,r[i+d]=255&B,d++,r[i+d]=c>=255?255:255&c,d++,r[i+d]=255&h>>4,r[i+d+1]=255&(h<<4)+(f>>8),r[i+d+2]=255&f,d+=3,r[i+d]=255&T,d++,r[i+d++]=0,k(r,i+d,e.preset),d+=2,C(r,i+d,t),d+=4,k(r,i+d,A),d+=2;for(var U=0;U<d;U++)a=P(r[i+U],a);return k(r,i+d,a),d+=2,d}function O(e){e.seek(0);var t,n=l(10);return e.readFully(n),t=new String(n,"ISO-8859-1").startsWith("ID3")?0:((127&n[6])<<21|(127&n[7])<<14|(127&n[8])<<7|127&n[9])+n.length,t}this.addVbrFrame=function(e){var t=e.internal_flags,n=Tables.bitrate_table[e.version][t.bitrate_index];c(null!=t.VBR_seek_table.bag),E(t.VBR_seek_table,n)},this.getVbrTag=function(e){var t=new VBRTagData,n=0;t.flags=0;var i=e[n+1]>>3&1,a=e[n+2]>>2&3,o=e[n+3]>>6&3,s=e[n+2]>>4&15;if(s=Tables.bitrate_table[i][s],e[n+1]>>4==14?t.samprate=Tables.samplerate_table[2][a]:t.samprate=Tables.samplerate_table[i][a],n+=0!=i?3!=o?36:21:3!=o?21:13,!R(e,n))return null;n+=4,t.hId=i;var l=t.flags=A(e,n);if(n+=4,0!=(l&r)&&(t.frames=A(e,n),n+=4),0!=(l&d)&&(t.bytes=A(e,n),n+=4),0!=(l&h)){if(null!=t.toc)for(var c=0;c<p;c++)t.toc[c]=e[n+c];n+=p}t.vbrScale=-1,0!=(l&f)&&(t.vbrScale=A(e,n),n+=4),t.headersize=72e3*(i+1)*s/t.samprate,n+=21;var u=e[n+0]<<4;u+=e[n+1]>>4;var m=(15&e[n+1])<<8;return m+=255&e[n+2],(u<0||u>3e3)&&(u=-1),(m<0||m>3e3)&&(m=-1),t.encDelay=u,t.encPadding=m,t},this.InitVbrTag=function(e){var n,r=e.internal_flags;n=1==e.version?_:e.out_samplerate<16e3?b:y,e.VBR==a.vbr_off&&(n=e.brate);var i=72e3*(e.version+1)*n/e.out_samplerate,o=r.sideinfo_len+g;if(r.VBR_seek_table.TotalFrameSize=i,i<o||i>m)e.bWriteVbrTag=!1;else{r.VBR_seek_table.nVbrNumFrames=0,r.VBR_seek_table.nBytesWritten=0,r.VBR_seek_table.sum=0,r.VBR_seek_table.seen=0,r.VBR_seek_table.want=1,r.VBR_seek_table.pos=0,null==r.VBR_seek_table.bag&&(r.VBR_seek_table.bag=new int[400],r.VBR_seek_table.size=400);var s=l(m);I(e,s);for(var c=r.VBR_seek_table.TotalFrameSize,u=0;u<c;++u)t.add_dummy_byte(e,255&s[u],1)}},this.updateMusicCRC=function(e,t,n,r){for(var i=0;i<r;++i)e[0]=P(t[n+i],e[0])},this.getLameTagFrame=function(e,n){var o=e.internal_flags;if(!e.bWriteVbrTag)return 0;if(o.Class_ID!=Lame.LAME_ID)return 0;if(o.VBR_seek_table.pos<=0)return 0;if(n.length<o.VBR_seek_table.TotalFrameSize)return o.VBR_seek_table.TotalFrameSize;s.fill(n,0,o.VBR_seek_table.TotalFrameSize,0),I(e,n);var c=l(p);if(e.free_format)for(var u=1;u<p;++u)c[u]=255&255*u/100;else T(o.VBR_seek_table,c);var m=o.sideinfo_len;e.error_protection&&(m-=2),e.VBR==a.vbr_off?(n[m++]=255&S.charAt(0),n[m++]=255&S.charAt(1),n[m++]=255&S.charAt(2),n[m++]=255&S.charAt(3)):(n[m++]=255&w.charAt(0),n[m++]=255&w.charAt(1),n[m++]=255&w.charAt(2),n[m++]=255&w.charAt(3)),C(n,m,r+d+h+f),m+=4,C(n,m,o.VBR_seek_table.nVbrNumFrames),m+=4;var v=o.VBR_seek_table.nBytesWritten+o.VBR_seek_table.TotalFrameSize;C(n,m,0|v),m+=4,i.arraycopy(c,0,n,m,c.length),m+=c.length,e.error_protection&&t.CRC_writeheader(o,n);var g=0;for(u=0;u<m;u++)g=P(n[u],g);return m+=D(e,v,n,m,g),o.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(e,t){var n=e.internal_flags;if(n.VBR_seek_table.pos<=0)return-1;if(t.seek(t.length()),0==t.length())return-1;var r=O(t);t.seek(r);var i=l(m),a=getLameTagFrame(e,i);return a>i.length?-1:(a<1||t.write(i,0,a),0)}}u.NUMTOCENTRIES=100,u.MAXFRAMESIZE=2880,e.exports=u},7019:function(e){function t(){var e="http://www.mp3dev.org/",t=3,n=98,r=4,i=0,a=93;this.getLameVersion=function(){return t+"."+n+"."+r},this.getLameShortVersion=function(){return t+"."+n+"."+r},this.getLameVeryShortVersion=function(){return"LAME"+t+"."+n+"r"},this.getPsyVersion=function(){return i+"."+a},this.getLameUrl=function(){return e},this.getLameOsBitness=function(){return"32bits"}}e.exports=t},4624:function(e,t,n){function r(e){return new Int8Array(e)}function i(e){return new Int16Array(e)}function a(e){return new Int32Array(e)}function o(e){return new Float32Array(e)}function s(e){return new Float64Array(e)}function l(e){if(1==e.length)return o(e[0]);var t=e[0];e=e.slice(1);for(var n=[],r=0;r<t;r++)n.push(l(e));return n}function c(e){if(1==e.length)return a(e[0]);var t=e[0];e=e.slice(1);for(var n=[],r=0;r<t;r++)n.push(c(e));return n}function u(e){if(1==e.length)return i(e[0]);var t=e[0];e=e.slice(1);for(var n=[],r=0;r<t;r++)n.push(u(e));return n}function d(e){if(1==e.length)return new Array(e[0]);var t=e[0];e=e.slice(1);for(var n=[],r=0;r<t;r++)n.push(d(e));return n}n(8675),n(3408),n(4590),n(7658);var h={fill:function(e,t,n,r){if(2==arguments.length)for(var i=0;i<e.length;i++)e[i]=arguments[1];else for(i=t;i<n;i++)e[i]=r}},f={arraycopy:function(e,t,n,r,i){var a=t+i;while(t<a)n[r++]=e[t++]},out:{}};f.out.println=function(e){console.log(e)},f.out.printf=function(){console.log.apply(console,arguments)};var p={};function m(e){this.ordinal=e}p.SQRT2=1.4142135623730951,p.FAST_LOG10=function(e){return Math.log10(e)},p.FAST_LOG10_X=function(e,t){return Math.log10(e)*t},m.short_block_allowed=new m(0),m.short_block_coupled=new m(1),m.short_block_dispensed=new m(2),m.short_block_forced=new m(3);var v={};function g(e){this.ordinal=e}v.MAX_VALUE=34028235e31,g.vbr_off=new g(0),g.vbr_mt=new g(1),g.vbr_rh=new g(2),g.vbr_abr=new g(3),g.vbr_mtrh=new g(4),g.vbr_default=g.vbr_mtrh;var _=function(e){};e.exports={System:f,VbrMode:g,Float:v,ShortBlock:m,Util:p,Arrays:h,new_array_n:d,new_byte:r,new_double:s,new_float:o,new_float_n:l,new_int:a,new_int_n:c,new_short:i,new_short_n:u,assert:_}},991:function(e,t,n){n(8675),n(3408),n(4590);var r=n(4624),i=(r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte),a=(r.new_double,r.new_float,r.new_float_n,r.new_int,r.new_int_n,r.assert),o=n(9341),s=n(3990),l=n(5105),c=n(3876),u=n(783),d=n(6034),h=n(4963),f=n(5523),p=n(6598),m=(n(7131),n(7019)),v=n(2682);function g(){this.setModules=function(e,t){e,t}}function _(){this.setModules=function(e,t,n){e,t,n}}function y(){}function b(){this.setModules=function(e,t){e,t}}function x(e,t,n){3!=arguments.length&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),e=1,t=44100,n=128);var r=new o,x=new g,w=new l,S=new p,M=new s,E=new c,T=new u,A=new v,C=new m,k=new b,R=new h,L=new d,I=new _,P=new y;r.setModules(w,S,M,E,T,A,C,k,P),S.setModules(w,P,C,A),k.setModules(S,C),M.setModules(r),T.setModules(S,R,E,L),E.setModules(L,R,r.enc.psy),R.setModules(S),L.setModules(E),A.setModules(r,S,C),x.setModules(I,P),I.setModules(C,k,M);var D=r.lame_init();D.num_channels=e,D.in_samplerate=t,D.brate=n,D.mode=f.STEREO,D.quality=3,D.bWriteVbrTag=!1,D.disable_reservoir=!0,D.write_id3tag_automatic=!1;var O=r.lame_init_params(D);a(0==O);var N=1152,F=0|1.25*N+7200,B=i(F);this.encodeBuffer=function(t,n){1==e&&(n=t),a(t.length==n.length),t.length>N&&(N=t.length,F=0|1.25*N+7200,B=i(F));var o=r.lame_encode_buffer(D,t,n,t.length,B,0,F);return new Int8Array(B.subarray(0,o))},this.flush=function(){var e=r.lame_encode_flush(D,B,0,F);return new Int8Array(B.subarray(0,e))}}function w(){this.dataOffset=0,this.dataLen=0,this.channels=0,this.sampleRate=0}function S(e){return e.charCodeAt(0)<<24|e.charCodeAt(1)<<16|e.charCodeAt(2)<<8|e.charCodeAt(3)}w.RIFF=S("RIFF"),w.WAVE=S("WAVE"),w.fmt_=S("fmt "),w.data=S("data"),w.readHeader=function(e){var t=new w,n=e.getUint32(0,!1);if(w.RIFF==n){e.getUint32(4,!0);if(w.WAVE==e.getUint32(8,!1)&&w.fmt_==e.getUint32(12,!1)){var r=e.getUint32(16,!0),i=20;switch(r){case 16:case 18:t.channels=e.getUint16(i+2,!0),t.sampleRate=e.getUint32(i+4,!0);break;default:throw"extended fmt chunk not implemented"}i+=r;var a=w.data,o=0;while(a!=n){if(n=e.getUint32(i,!1),o=e.getUint32(i+4,!0),a==n)break;i+=o+8}return t.dataLen=o,t.dataOffset=i+8,t}}},e.exports.d=x},5623:function(e,t,n){var r=n(3301),i=n(3992),a=n(2762),o=n(3584),s=n(5745);function l(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype["delete"]=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,e.exports=l},5094:function(e,t,n){var r=n(4209),i=n(6326),a=n(4697),o=n(556),s=n(2405);function l(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype["delete"]=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,e.exports=l},9014:function(e,t,n){var r=n(6213),i=n(9159),a=r(i,"Map");e.exports=a},8082:function(e,t,n){var r=n(1052),i=n(9240),a=n(8843),o=n(27),s=n(9154);function l(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype["delete"]=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,e.exports=l},4614:function(e,t,n){var r=n(5094),i=n(846),a=n(1353),o=n(2334),s=n(252),l=n(1538);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype["delete"]=a,c.prototype.get=o,c.prototype.has=s,c.prototype.set=l,e.exports=c},9016:function(e,t,n){var r=n(9159),i=r.Symbol;e.exports=i},6522:function(e,t,n){var r=n(9159),i=r.Uint8Array;e.exports=i},9707:function(e){function t(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=t},7498:function(e,t,n){n(7658);var r=n(2802),i=n(8804),a=n(6602),o=n(1976),s=n(8286),l=n(6965),c=Object.prototype,u=c.hasOwnProperty;function d(e,t){var n=a(e),c=!n&&i(e),d=!n&&!c&&o(e),h=!n&&!c&&!d&&l(e),f=n||c||d||h,p=f?r(e.length,String):[],m=p.length;for(var v in e)!t&&!u.call(e,v)||f&&("length"==v||d&&("offset"==v||"parent"==v)||h&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,m))||p.push(v);return p}e.exports=d},5234:function(e,t,n){var r=n(3883),i=n(4240);function a(e,t,n){(void 0!==n&&!i(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}e.exports=a},1767:function(e,t,n){var r=n(3883),i=n(4240),a=Object.prototype,o=a.hasOwnProperty;function s(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}e.exports=s},6637:function(e,t,n){var r=n(4240);function i(e,t){var n=e.length;while(n--)if(r(e[n][0],t))return n;return-1}e.exports=i},3883:function(e,t,n){var r=n(6105);function i(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}e.exports=i},1262:function(e,t,n){var r=n(150),i=Object.create,a=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=a},4427:function(e,t,n){var r=n(1686),i=r();e.exports=i},6423:function(e,t,n){var r=n(9016),i=n(2366),a=n(2886),o="[object Null]",s="[object Undefined]",l=r?r.toStringTag:void 0;function c(e){return null==e?void 0===e?s:o:l&&l in Object(e)?i(e):a(e)}e.exports=c},9986:function(e,t,n){var r=n(6423),i=n(4430),a="[object Arguments]";function o(e){return i(e)&&r(e)==a}e.exports=o},6853:function(e,t,n){var r=n(9314),i=n(2604),a=n(150),o=n(627),s=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,d=c.toString,h=u.hasOwnProperty,f=RegExp("^"+d.call(h).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(e){if(!a(e)||i(e))return!1;var t=r(e)?f:l;return t.test(o(e))}e.exports=p},6930:function(e,t,n){var r=n(6423),i=n(4629),a=n(4430),o="[object Arguments]",s="[object Array]",l="[object Boolean]",c="[object Date]",u="[object Error]",d="[object Function]",h="[object Map]",f="[object Number]",p="[object Object]",m="[object RegExp]",v="[object Set]",g="[object String]",_="[object WeakMap]",y="[object ArrayBuffer]",b="[object DataView]",x="[object Float32Array]",w="[object Float64Array]",S="[object Int8Array]",M="[object Int16Array]",E="[object Int32Array]",T="[object Uint8Array]",A="[object Uint8ClampedArray]",C="[object Uint16Array]",k="[object Uint32Array]",R={};function L(e){return a(e)&&i(e.length)&&!!R[r(e)]}R[x]=R[w]=R[S]=R[M]=R[E]=R[T]=R[A]=R[C]=R[k]=!0,R[o]=R[s]=R[y]=R[l]=R[b]=R[c]=R[u]=R[d]=R[h]=R[f]=R[p]=R[m]=R[v]=R[g]=R[_]=!1,e.exports=L},6101:function(e,t,n){n(7658);var r=n(150),i=n(9192),a=n(5083),o=Object.prototype,s=o.hasOwnProperty;function l(e){if(!r(e))return a(e);var t=i(e),n=[];for(var o in e)("constructor"!=o||!t&&s.call(e,o))&&n.push(o);return n}e.exports=l},1720:function(e,t,n){var r=n(4614),i=n(5234),a=n(4427),o=n(9661),s=n(150),l=n(4494),c=n(6334);function u(e,t,n,d,h){e!==t&&a(t,(function(a,l){if(h||(h=new r),s(a))o(e,t,l,n,u,d,h);else{var f=d?d(c(e,l),a,l+"",e,t,h):void 0;void 0===f&&(f=a),i(e,l,f)}}),l)}e.exports=u},9661:function(e,t,n){var r=n(5234),i=n(9097),a=n(2385),o=n(1548),s=n(8895),l=n(8804),c=n(6602),u=n(8306),d=n(1976),h=n(9314),f=n(150),p=n(1012),m=n(6965),v=n(6334),g=n(5791);function _(e,t,n,_,y,b,x){var w=v(e,n),S=v(t,n),M=x.get(S);if(M)r(e,n,M);else{var E=b?b(w,S,n+"",e,t,x):void 0,T=void 0===E;if(T){var A=c(S),C=!A&&d(S),k=!A&&!C&&m(S);E=S,A||C||k?c(w)?E=w:u(w)?E=o(w):C?(T=!1,E=i(S,!0)):k?(T=!1,E=a(S,!0)):E=[]:p(S)||l(S)?(E=w,l(w)?E=g(w):f(w)&&!h(w)||(E=s(S))):T=!1}T&&(x.set(S,E),y(E,S,_,b,x),x["delete"](S)),r(e,n,E)}}e.exports=_},7628:function(e,t,n){var r=n(9761),i=n(2187),a=n(4396);function o(e,t){return a(i(e,t,r),e+"")}e.exports=o},8795:function(e,t,n){var r=n(9483),i=n(6105),a=n(9761),o=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:a;e.exports=o},2802:function(e){function t(e,t){var n=-1,r=Array(e);while(++n<e)r[n]=t(n);return r}e.exports=t},7362:function(e){function t(e){return function(t){return e(t)}}e.exports=t},2635:function(e,t,n){var r=n(6522);function i(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}e.exports=i},9097:function(e,t,n){e=n.nmd(e);var r=n(9159),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i,s=o?r.Buffer:void 0,l=s?s.allocUnsafe:void 0;function c(e,t){if(t)return e.slice();var n=e.length,r=l?l(n):new e.constructor(n);return e.copy(r),r}e.exports=c},2385:function(e,t,n){var r=n(2635);function i(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}e.exports=i},1548:function(e){function t(e,t){var n=-1,r=e.length;t||(t=Array(r));while(++n<r)t[n]=e[n];return t}e.exports=t},6877:function(e,t,n){var r=n(1767),i=n(3883);function a(e,t,n,a){var o=!n;n||(n={});var s=-1,l=t.length;while(++s<l){var c=t[s],u=a?a(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),o?i(n,c,u):r(n,c,u)}return n}e.exports=a},9749:function(e,t,n){var r=n(9159),i=r["__core-js_shared__"];e.exports=i},5882:function(e,t,n){var r=n(7628),i=n(5875);function a(e){return r((function(t,n){var r=-1,a=n.length,o=a>1?n[a-1]:void 0,s=a>2?n[2]:void 0;o=e.length>3&&"function"==typeof o?(a--,o):void 0,s&&i(n[0],n[1],s)&&(o=a<3?void 0:o,a=1),t=Object(t);while(++r<a){var l=n[r];l&&e(t,l,r,o)}return t}))}e.exports=a},1686:function(e){function t(e){return function(t,n,r){var i=-1,a=Object(t),o=r(t),s=o.length;while(s--){var l=o[e?s:++i];if(!1===n(a[l],l,a))break}return t}}e.exports=t},7114:function(e,t,n){var r=n(1720),i=n(150);function a(e,t,n,o,s,l){return i(e)&&i(t)&&(l.set(t,e),r(e,t,void 0,a,l),l["delete"](t)),e}e.exports=a},6105:function(e,t,n){var r=n(6213),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},791:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},3582:function(e,t,n){var r=n(5462);function i(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}e.exports=i},6213:function(e,t,n){var r=n(6853),i=n(8474);function a(e,t){var n=i(e,t);return r(n)?n:void 0}e.exports=a},4677:function(e,t,n){var r=n(1867),i=r(Object.getPrototypeOf,Object);e.exports=i},2366:function(e,t,n){var r=n(9016),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=r?r.toStringTag:void 0;function l(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var i=o.call(e);return r&&(t?e[s]=n:delete e[s]),i}e.exports=l},8474:function(e){function t(e,t){return null==e?void 0:e[t]}e.exports=t},3301:function(e,t,n){var r=n(988);function i(){this.__data__=r?r(null):{},this.size=0}e.exports=i},3992:function(e){function t(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=t},2762:function(e,t,n){var r=n(988),i="__lodash_hash_undefined__",a=Object.prototype,o=a.hasOwnProperty;function s(e){var t=this.__data__;if(r){var n=t[e];return n===i?void 0:n}return o.call(t,e)?t[e]:void 0}e.exports=s},3584:function(e,t,n){var r=n(988),i=Object.prototype,a=i.hasOwnProperty;function o(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}e.exports=o},5745:function(e,t,n){var r=n(988),i="__lodash_hash_undefined__";function a(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?i:t,this}e.exports=a},8895:function(e,t,n){var r=n(1262),i=n(4677),a=n(9192);function o(e){return"function"!=typeof e.constructor||a(e)?{}:r(i(e))}e.exports=o},8286:function(e){var t=9007199254740991,n=/^(?:0|[1-9]\d*)$/;function r(e,r){var i=typeof e;return r=null==r?t:r,!!r&&("number"==i||"symbol"!=i&&n.test(e))&&e>-1&&e%1==0&&e<r}e.exports=r},5875:function(e,t,n){var r=n(4240),i=n(5372),a=n(8286),o=n(150);function s(e,t,n){if(!o(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&a(t,n.length):"string"==s&&t in n)&&r(n[t],e)}e.exports=s},5462:function(e){function t(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=t},2604:function(e,t,n){var r=n(9749),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function a(e){return!!i&&i in e}e.exports=a},9192:function(e){var t=Object.prototype;function n(e){var n=e&&e.constructor,r="function"==typeof n&&n.prototype||t;return e===r}e.exports=n},4209:function(e){function t(){this.__data__=[],this.size=0}e.exports=t},6326:function(e,t,n){var r=n(6637),i=Array.prototype,a=i.splice;function o(e){var t=this.__data__,n=r(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():a.call(t,n,1),--this.size,!0}e.exports=o},4697:function(e,t,n){var r=n(6637);function i(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}e.exports=i},556:function(e,t,n){var r=n(6637);function i(e){return r(this.__data__,e)>-1}e.exports=i},2405:function(e,t,n){n(7658);var r=n(6637);function i(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}e.exports=i},1052:function(e,t,n){var r=n(5623),i=n(5094),a=n(9014);function o(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}e.exports=o},9240:function(e,t,n){var r=n(3582);function i(e){var t=r(this,e)["delete"](e);return this.size-=t?1:0,t}e.exports=i},8843:function(e,t,n){var r=n(3582);function i(e){return r(this,e).get(e)}e.exports=i},27:function(e,t,n){var r=n(3582);function i(e){return r(this,e).has(e)}e.exports=i},9154:function(e,t,n){var r=n(3582);function i(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}e.exports=i},988:function(e,t,n){var r=n(6213),i=r(Object,"create");e.exports=i},5083:function(e,t,n){function r(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}n(7658),e.exports=r},1330:function(e,t,n){e=n.nmd(e);var r=n(791),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i,s=o&&r.process,l=function(){try{var e=a&&a.require&&a.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(t){}}();e.exports=l},2886:function(e){var t=Object.prototype,n=t.toString;function r(e){return n.call(e)}e.exports=r},1867:function(e){function t(e,t){return function(n){return e(t(n))}}e.exports=t},2187:function(e,t,n){var r=n(9707),i=Math.max;function a(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){var a=arguments,o=-1,s=i(a.length-t,0),l=Array(s);while(++o<s)l[o]=a[t+o];o=-1;var c=Array(t+1);while(++o<t)c[o]=a[o];return c[t]=n(l),r(e,this,c)}}e.exports=a},9159:function(e,t,n){var r=n(791),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},6334:function(e){function t(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}e.exports=t},4396:function(e,t,n){var r=n(8795),i=n(2499),a=i(r);e.exports=a},2499:function(e){var t=800,n=16,r=Date.now;function i(e){var i=0,a=0;return function(){var o=r(),s=n-(o-a);if(a=o,s>0){if(++i>=t)return arguments[0]}else i=0;return e.apply(void 0,arguments)}}e.exports=i},846:function(e,t,n){var r=n(5094);function i(){this.__data__=new r,this.size=0}e.exports=i},1353:function(e){function t(e){var t=this.__data__,n=t["delete"](e);return this.size=t.size,n}e.exports=t},2334:function(e){function t(e){return this.__data__.get(e)}e.exports=t},252:function(e){function t(e){return this.__data__.has(e)}e.exports=t},1538:function(e,t,n){n(7658);var r=n(5094),i=n(9014),a=n(8082),o=200;function s(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<o-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(s)}return n.set(e,t),this.size=n.size,this}e.exports=s},627:function(e){var t=Function.prototype,n=t.toString;function r(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+""}catch(t){}}return""}e.exports=r},9483:function(e){function t(e){return function(){return e}}e.exports=t},2096:function(e,t,n){n(7658);var r=n(9707),i=n(7628),a=n(7114),o=n(4016),s=i((function(e){return e.push(void 0,a),r(o,void 0,e)}));e.exports=s},4240:function(e){function t(e,t){return e===t||e!==e&&t!==t}e.exports=t},9761:function(e){function t(e){return e}e.exports=t},8804:function(e,t,n){var r=n(9986),i=n(4430),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},6602:function(e){var t=Array.isArray;e.exports=t},5372:function(e,t,n){var r=n(9314),i=n(4629);function a(e){return null!=e&&i(e.length)&&!r(e)}e.exports=a},8306:function(e,t,n){var r=n(5372),i=n(4430);function a(e){return i(e)&&r(e)}e.exports=a},1976:function(e,t,n){e=n.nmd(e);var r=n(9159),i=n(2225),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,s=o&&o.exports===a,l=s?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||i;e.exports=u},9314:function(e,t,n){var r=n(6423),i=n(150),a="[object AsyncFunction]",o="[object Function]",s="[object GeneratorFunction]",l="[object Proxy]";function c(e){if(!i(e))return!1;var t=r(e);return t==o||t==s||t==a||t==l}e.exports=c},4629:function(e){var t=9007199254740991;function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=t}e.exports=n},150:function(e){function t(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=t},4430:function(e){function t(e){return null!=e&&"object"==typeof e}e.exports=t},1012:function(e,t,n){var r=n(6423),i=n(4677),a=n(4430),o="[object Object]",s=Function.prototype,l=Object.prototype,c=s.toString,u=l.hasOwnProperty,d=c.call(Object);function h(e){if(!a(e)||r(e)!=o)return!1;var t=i(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==d}e.exports=h},6965:function(e,t,n){var r=n(6930),i=n(7362),a=n(1330),o=a&&a.isTypedArray,s=o?i(o):r;e.exports=s},4494:function(e,t,n){var r=n(7498),i=n(6101),a=n(5372);function o(e){return a(e)?r(e,!0):i(e)}e.exports=o},4016:function(e,t,n){var r=n(1720),i=n(5882),a=i((function(e,t,n,i){r(e,t,n,i)}));e.exports=a},2225:function(e){function t(){return!1}e.exports=t},5791:function(e,t,n){var r=n(6877),i=n(4494);function a(e){return r(e,i(e))}e.exports=a},6026:function(e,t,n){var r,i,a;n(1703),n(7658),function(n,o){i=[],r=o,a="function"===typeof r?r.apply(t,i):r,void 0===a||(e.exports=a)}(0,(function e(){"use strict";var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},n=!t.document&&!!t.postMessage,r=t.IS_PAPA_WORKER||!1,i={},a=0,o={parse:function(n,r){var s=(r=r||{}).dynamicTyping||!1;if(x(s)&&(r.dynamicTypingFunction=s,s={}),r.dynamicTyping=s,r.transform=!!x(r.transform)&&r.transform,r.worker&&o.WORKERS_SUPPORTED){var l=function(){if(!o.WORKERS_SUPPORTED)return!1;var n,r,s=(n=t.URL||t.webkitURL||null,r=e.toString(),o.BLOB_URL||(o.BLOB_URL=n.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",r,")();"],{type:"text/javascript"})))),l=new t.Worker(s);return l.onmessage=v,l.id=a++,i[l.id]=l}();return l.userStep=r.step,l.userChunk=r.chunk,l.userComplete=r.complete,l.userError=r.error,r.step=x(r.step),r.chunk=x(r.chunk),r.complete=x(r.complete),r.error=x(r.error),delete r.worker,void l.postMessage({input:n,config:r,workerId:l.id})}var f=null;return o.NODE_STREAM_INPUT,"string"==typeof n?(n=function(e){return 65279===e.charCodeAt(0)?e.slice(1):e}(n),f=r.download?new c(r):new d(r)):!0===n.readable&&x(n.read)&&x(n.on)?f=new h(r):(t.File&&n instanceof File||n instanceof Object)&&(f=new u(r)),f.stream(n)},unparse:function(e,t){var n=!1,r=!0,i=",",a="\r\n",s='"',l=s+s,c=!1,u=null,d=!1;!function(){if("object"==typeof t){if("string"!=typeof t.delimiter||o.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(i=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(c=t.skipEmptyLines),"string"==typeof t.newline&&(a=t.newline),"string"==typeof t.quoteChar&&(s=t.quoteChar),"boolean"==typeof t.header&&(r=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");u=t.columns}void 0!==t.escapeChar&&(l=t.escapeChar+s),("boolean"==typeof t.escapeFormulae||t.escapeFormulae instanceof RegExp)&&(d=t.escapeFormulae instanceof RegExp?t.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var h=new RegExp(p(s),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return f(null,e,c);if("object"==typeof e[0])return f(u||Object.keys(e[0]),e,c)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||u),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),f(e.fields||[],e.data||[],c);throw new Error("Unable to serialize unrecognized input");function f(e,t,n){var o="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var s=Array.isArray(e)&&0<e.length,l=!Array.isArray(t[0]);if(s&&r){for(var c=0;c<e.length;c++)0<c&&(o+=i),o+=m(e[c],c);0<t.length&&(o+=a)}for(var u=0;u<t.length;u++){var d=s?e.length:t[u].length,h=!1,f=s?0===Object.keys(t[u]).length:0===t[u].length;if(n&&!s&&(h="greedy"===n?""===t[u].join("").trim():1===t[u].length&&0===t[u][0].length),"greedy"===n&&s){for(var p=[],v=0;v<d;v++){var g=l?e[v]:v;p.push(t[u][g])}h=""===p.join("").trim()}if(!h){for(var _=0;_<d;_++){0<_&&!f&&(o+=i);var y=s&&l?e[_]:_;o+=m(t[u][y],_)}u<t.length-1&&(!n||0<d&&!f)&&(o+=a)}}return o}function m(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var r=!1;d&&"string"==typeof e&&d.test(e)&&(e="'"+e,r=!0);var a=e.toString().replace(h,l);return(r=r||!0===n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1}(a,o.BAD_DELIMITERS)||-1<a.indexOf(i)||" "===a.charAt(0)||" "===a.charAt(a.length-1))?s+a+s:a}}};if(o.RECORD_SEP=String.fromCharCode(30),o.UNIT_SEP=String.fromCharCode(31),o.BYTE_ORDER_MARK="\ufeff",o.BAD_DELIMITERS=["\r","\n",'"',o.BYTE_ORDER_MARK],o.WORKERS_SUPPORTED=!n&&!!t.Worker,o.NODE_STREAM_INPUT=1,o.LocalChunkSize=10485760,o.RemoteChunkSize=5242880,o.DefaultDelimiter=",",o.Parser=m,o.ParserHandle=f,o.NetworkStreamer=c,o.FileStreamer=u,o.StringStreamer=d,o.ReadableStreamStreamer=h,t.jQuery){var s=t.jQuery;s.fn.parse=function(e){var n=e.config||{},r=[];return this.each((function(e){if("INPUT"!==s(this).prop("tagName").toUpperCase()||"file"!==s(this).attr("type").toLowerCase()||!t.FileReader||!this.files||0===this.files.length)return!0;for(var i=0;i<this.files.length;i++)r.push({file:this.files[i],inputElem:this,instanceConfig:s.extend({},n)})})),i(),this;function i(){if(0!==r.length){var t,n,i,l,c=r[0];if(x(e.before)){var u=e.before(c.file,c.inputElem);if("object"==typeof u){if("abort"===u.action)return t="AbortError",n=c.file,i=c.inputElem,l=u.reason,void(x(e.error)&&e.error({name:t},n,i,l));if("skip"===u.action)return void a();"object"==typeof u.config&&(c.instanceConfig=s.extend(c.instanceConfig,u.config))}else if("skip"===u)return void a()}var d=c.instanceConfig.complete;c.instanceConfig.complete=function(e){x(d)&&d(e,c.file,c.inputElem),a()},o.parse(c.file,c.instanceConfig)}else x(e.complete)&&e.complete()}function a(){r.splice(0,1),i()}}}function l(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=y(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new f(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,n){if(this.isFirstChunk&&x(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(e);void 0!==i&&(e=i)}this.isFirstChunk=!1,this._halted=!1;var a=this._partialLine+e;this._partialLine="";var s=this._handle.parse(a,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var l=s.meta.cursor;this._finished||(this._partialLine=a.substring(l-this._baseIndex),this._baseIndex=l),s&&s.data&&(this._rowCount+=s.data.length);var c=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)t.postMessage({results:s,workerId:o.WORKER_ID,finished:c});else if(x(this._config.chunk)&&!n){if(this._config.chunk(s,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);s=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(s.data),this._completeResults.errors=this._completeResults.errors.concat(s.errors),this._completeResults.meta=s.meta),this._completed||!c||!x(this._config.complete)||s&&s.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),c||s&&s.meta.paused||this._nextChunk(),s}this._halted=!0},this._sendError=function(e){x(this._config.error)?this._config.error(e):r&&this._config.error&&t.postMessage({workerId:o.WORKER_ID,error:e,finished:!1})}}function c(e){var t;(e=e||{}).chunkSize||(e.chunkSize=o.RemoteChunkSize),l.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),n||(t.onload=b(this._chunkLoaded,this),t.onerror=b(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var r in e)t.setRequestHeader(r,e[r])}if(this._config.chunkSize){var i=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+i)}try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}n&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader("Content-Range");return null===t?-1:parseInt(t.substring(t.lastIndexOf("/")+1))}(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){var n=t.statusText||e;this._sendError(new Error(n))}}function u(e){var t,n;(e=e||{}).chunkSize||(e.chunkSize=o.LocalChunkSize),l.call(this,e);var r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?((t=new FileReader).onload=b(this._chunkLoaded,this),t.onerror=b(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var i=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,i)}var a=t.readAsText(e,this._config.encoding);r||this._chunkLoaded({target:{result:a}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function d(e){var t;l.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,n=this._config.chunkSize;return n?(e=t.substring(0,n),t=t.substring(n)):(e=t,t=""),this._finished=!t,this.parseChunk(e)}}}function h(e){l.call(this,e=e||{});var t=[],n=!0,r=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=b((function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}}),this),this._streamError=b((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=b((function(){this._streamCleanUp(),r=!0,this._streamData("")}),this),this._streamCleanUp=b((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function f(e){var t,n,r,i=Math.pow(2,53),a=-i,s=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,l=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,c=this,u=0,d=0,h=!1,f=!1,v=[],g={data:[],errors:[],meta:{}};if(x(e.step)){var _=e.step;e.step=function(t){if(g=t,S())w();else{if(w(),0===g.data.length)return;u+=t.data.length,e.preview&&u>e.preview?n.abort():(g.data=g.data[0],_(g,c))}}}function b(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function w(){return g&&r&&(E("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+o.DefaultDelimiter+"'"),r=!1),e.skipEmptyLines&&(g.data=g.data.filter((function(e){return!b(e)}))),S()&&function(){if(g)if(Array.isArray(g.data[0])){for(var t=0;S()&&t<g.data.length;t++)g.data[t].forEach(n);g.data.splice(0,1)}else g.data.forEach(n);function n(t,n){x(e.transformHeader)&&(t=e.transformHeader(t,n)),v.push(t)}}(),function(){if(!g||!e.header&&!e.dynamicTyping&&!e.transform)return g;function t(t,n){var r,i=e.header?{}:[];for(r=0;r<t.length;r++){var a=r,o=t[r];e.header&&(a=r>=v.length?"__parsed_extra":v[r]),e.transform&&(o=e.transform(o,a)),o=M(a,o),"__parsed_extra"===a?(i[a]=i[a]||[],i[a].push(o)):i[a]=o}return e.header&&(r>v.length?E("FieldMismatch","TooManyFields","Too many fields: expected "+v.length+" fields but parsed "+r,d+n):r<v.length&&E("FieldMismatch","TooFewFields","Too few fields: expected "+v.length+" fields but parsed "+r,d+n)),i}var n=1;return!g.data.length||Array.isArray(g.data[0])?(g.data=g.data.map(t),n=g.data.length):g.data=t(g.data,0),e.header&&g.meta&&(g.meta.fields=v),d+=n,g}()}function S(){return e.header&&0===v.length}function M(t,n){return r=t,e.dynamicTypingFunction&&void 0===e.dynamicTyping[r]&&(e.dynamicTyping[r]=e.dynamicTypingFunction(r)),!0===(e.dynamicTyping[r]||e.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(function(e){if(s.test(e)){var t=parseFloat(e);if(a<t&&t<i)return!0}return!1}(n)?parseFloat(n):l.test(n)?new Date(n):""===n?null:n):n;var r}function E(e,t,n,r){var i={type:e,code:t,message:n};void 0!==r&&(i.row=r),g.errors.push(i)}this.parse=function(i,a,s){var l=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substring(0,1048576);var n=new RegExp(p(t)+"([^]*?)"+p(t),"gm"),r=(e=e.replace(n,"")).split("\r"),i=e.split("\n"),a=1<i.length&&i[0].length<r[0].length;if(1===r.length||a)return"\n";for(var o=0,s=0;s<r.length;s++)"\n"===r[s][0]&&o++;return o>=r.length/2?"\r\n":"\r"}(i,l)),r=!1,e.delimiter)x(e.delimiter)&&(e.delimiter=e.delimiter(i),g.meta.delimiter=e.delimiter);else{var c=function(t,n,r,i,a){var s,l,c,u;a=a||[",","\t","|",";",o.RECORD_SEP,o.UNIT_SEP];for(var d=0;d<a.length;d++){var h=a[d],f=0,p=0,v=0;c=void 0;for(var g=new m({comments:i,delimiter:h,newline:n,preview:10}).parse(t),_=0;_<g.data.length;_++)if(r&&b(g.data[_]))v++;else{var y=g.data[_].length;p+=y,void 0!==c?0<y&&(f+=Math.abs(y-c),c=y):c=y}0<g.data.length&&(p/=g.data.length-v),(void 0===l||f<=l)&&(void 0===u||u<p)&&1.99<p&&(l=f,s=h,u=p)}return{successful:!!(e.delimiter=s),bestDelimiter:s}}(i,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);c.successful?e.delimiter=c.bestDelimiter:(r=!0,e.delimiter=o.DefaultDelimiter),g.meta.delimiter=e.delimiter}var u=y(e);return e.preview&&e.header&&u.preview++,t=i,n=new m(u),g=n.parse(t,a,s),w(),h?{meta:{paused:!0}}:g||{meta:{paused:!1}}},this.paused=function(){return h},this.pause=function(){h=!0,n.abort(),t=x(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){c.streamer._halted?(h=!1,c.streamer.parseChunk(t,!0)):setTimeout(c.resume,3)},this.aborted=function(){return f},this.abort=function(){f=!0,n.abort(),g.meta.aborted=!0,x(e.complete)&&e.complete(g),t=""}}function p(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(e){var t,n=(e=e||{}).delimiter,r=e.newline,i=e.comments,a=e.step,s=e.preview,l=e.fastMode,c=t=void 0===e.quoteChar||null===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(c=e.escapeChar),("string"!=typeof n||-1<o.BAD_DELIMITERS.indexOf(n))&&(n=","),i===n)throw new Error("Comment character same as delimiter");!0===i?i="#":("string"!=typeof i||-1<o.BAD_DELIMITERS.indexOf(i))&&(i=!1),"\n"!==r&&"\r"!==r&&"\r\n"!==r&&(r="\n");var u=0,d=!1;this.parse=function(o,h,f){if("string"!=typeof o)throw new Error("Input must be a string");var m=o.length,v=n.length,g=r.length,_=i.length,y=x(a),b=[],w=[],S=[],M=u=0;if(!o)return Y();if(e.header&&!h){var E=o.split(r)[0].split(n),T=[],A={},C=!1;for(var k in E){var R=E[k];x(e.transformHeader)&&(R=e.transformHeader(R,k));var L=R,I=A[R]||0;for(0<I&&(C=!0,L=R+"_"+I),A[R]=I+1;T.includes(L);)L=L+"_"+I;T.push(L)}if(C){var P=o.split(r);P[0]=T.join(n),o=P.join(r)}}if(l||!1!==l&&-1===o.indexOf(t)){for(var D=o.split(r),O=0;O<D.length;O++){if(S=D[O],u+=S.length,O!==D.length-1)u+=r.length;else if(f)return Y();if(!i||S.substring(0,_)!==i){if(y){if(b=[],H(S.split(n)),$(),d)return Y()}else H(S.split(n));if(s&&s<=O)return b=b.slice(0,s),Y(!0)}}return Y()}for(var N=o.indexOf(n,u),F=o.indexOf(r,u),B=new RegExp(p(c)+p(t),"g"),V=o.indexOf(t,u);;)if(o[u]!==t)if(i&&0===S.length&&o.substring(u,u+_)===i){if(-1===F)return Y();u=F+g,F=o.indexOf(r,u),N=o.indexOf(n,u)}else if(-1!==N&&(N<F||-1===F))S.push(o.substring(u,N)),u=N+v,N=o.indexOf(n,u);else{if(-1===F)break;if(S.push(o.substring(u,F)),G(F+g),y&&($(),d))return Y();if(s&&b.length>=s)return Y(!0)}else for(V=u,u++;;){if(-1===(V=o.indexOf(t,V+1)))return f||w.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:b.length,index:u}),j();if(V===m-1)return j(o.substring(u,V).replace(B,t));if(t!==c||o[V+1]!==c){if(t===c||0===V||o[V-1]!==c){-1!==N&&N<V+1&&(N=o.indexOf(n,V+1)),-1!==F&&F<V+1&&(F=o.indexOf(r,V+1));var U=W(-1===F?N:Math.min(N,F));if(o.substr(V+1+U,v)===n){S.push(o.substring(u,V).replace(B,t)),o[u=V+1+U+v]!==t&&(V=o.indexOf(t,u)),N=o.indexOf(n,u),F=o.indexOf(r,u);break}var z=W(F);if(o.substring(V+1+z,V+1+z+g)===r){if(S.push(o.substring(u,V).replace(B,t)),G(V+1+z+g),N=o.indexOf(n,u),V=o.indexOf(t,u),y&&($(),d))return Y();if(s&&b.length>=s)return Y(!0);break}w.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:b.length,index:u}),V++}}else V++}return j();function H(e){b.push(e),M=u}function W(e){var t=0;if(-1!==e){var n=o.substring(V+1,e);n&&""===n.trim()&&(t=n.length)}return t}function j(e){return f||(void 0===e&&(e=o.substring(u)),S.push(e),u=m,H(S),y&&$()),Y()}function G(e){u=e,H(S),S=[],F=o.indexOf(r,u)}function Y(e){return{data:b,errors:w,meta:{delimiter:n,linebreak:r,aborted:d,truncated:!!e,cursor:M+(h||0)}}}function $(){a(Y()),b=[],w=[]}},this.abort=function(){d=!0},this.getCharIndex=function(){return u}}function v(e){var t=e.data,n=i[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var a={abort:function(){r=!0,g(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:_,resume:_};if(x(n.userStep)){for(var o=0;o<t.results.data.length&&(n.userStep({data:t.results.data[o],errors:t.results.errors,meta:t.results.meta},a),!r);o++);delete t.results}else x(n.userChunk)&&(n.userChunk(t.results,a,t.file),delete t.results)}t.finished&&!r&&g(t.workerId,t.results)}function g(e,t){var n=i[e];x(n.userComplete)&&n.userComplete(t),n.terminate(),delete i[e]}function _(){throw new Error("Not implemented.")}function y(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=y(e[n]);return t}function b(e,t){return function(){e.apply(t,arguments)}}function x(e){return"function"==typeof e}return r&&(t.onmessage=function(e){var n=e.data;if(void 0===o.WORKER_ID&&n&&(o.WORKER_ID=n.workerId),"string"==typeof n.input)t.postMessage({workerId:o.WORKER_ID,results:o.parse(n.input,n.config),finished:!0});else if(t.File&&n.input instanceof File||n.input instanceof Object){var r=o.parse(n.input,n.config);r&&t.postMessage({workerId:o.WORKER_ID,results:r,finished:!0})}}),(c.prototype=Object.create(l.prototype)).constructor=c,(u.prototype=Object.create(l.prototype)).constructor=u,(d.prototype=Object.create(d.prototype)).constructor=d,(h.prototype=Object.create(l.prototype)).constructor=h,o}))},8597:function(e,t,n){"use strict";n.d(t,{ZP:function(){return Tw}});n(7658),n(8675),n(3408),n(4590),n(1703),n(2262),n(4506),n(541),n(2087);var r=n(3396),i=n(4870);
/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */
const a="143",o={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},s={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},l=0,c=1,u=2,d=3,h=0,f=1,p=2,m=3,v=0,g=1,_=2,y=1,b=2,x=0,w=1,S=2,M=3,E=4,T=5,A=100,C=101,k=102,R=103,L=104,I=200,P=201,D=202,O=203,N=204,F=205,B=206,V=207,U=208,z=209,H=210,W=0,j=1,G=2,Y=3,$=4,q=5,X=6,Z=7,K=0,J=1,Q=2,ee=0,te=1,ne=2,re=3,ie=4,ae=5,oe=300,se=301,le=302,ce=303,ue=304,de=306,he=1e3,fe=1001,pe=1002,me=1003,ve=1004,ge=1004,_e=1005,ye=1005,be=1006,xe=1007,we=1007,Se=1008,Me=1008,Ee=1009,Te=1010,Ae=1011,Ce=1012,ke=1013,Re=1014,Le=1015,Ie=1016,Pe=1017,De=1018,Oe=1020,Ne=1021,Fe=1022,Be=1023,Ve=1024,Ue=1025,ze=1026,He=1027,We=1028,je=1029,Ge=1030,Ye=1031,$e=1033,qe=33776,Xe=33777,Ze=33778,Ke=33779,Je=35840,Qe=35841,et=35842,tt=35843,nt=36196,rt=37492,it=37496,at=37808,ot=37809,st=37810,lt=37811,ct=37812,ut=37813,dt=37814,ht=37815,ft=37816,pt=37817,mt=37818,vt=37819,gt=37820,_t=37821,yt=36492,bt=2200,xt=2201,wt=2202,St=2300,Mt=2301,Et=2302,Tt=2400,At=2401,Ct=2402,kt=2500,Rt=2501,Lt=0,It=1,Pt=2,Dt=3e3,Ot=3001,Nt=3200,Ft=3201,Bt=0,Vt=1,Ut="",zt="srgb",Ht="srgb-linear",Wt=0,jt=7680,Gt=7681,Yt=7682,$t=7683,qt=34055,Xt=34056,Zt=5386,Kt=512,Jt=513,Qt=514,en=515,tn=516,nn=517,rn=518,an=519,on=35044,sn=35048,ln=35040,cn=35045,un=35049,dn=35041,hn=35046,fn=35050,pn=35042,mn="100",vn="300 es",gn=1035;class _n{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const n=this._listeners,r=n[e];if(void 0!==r){const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const t=this._listeners,n=t[e.type];if(void 0!==n){e.target=this;const t=n.slice(0);for(let n=0,r=t.length;n<r;n++)t[n].call(this,e);e.target=null}}}const yn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let bn=1234567;const xn=Math.PI/180,wn=180/Math.PI;function Sn(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0,i=yn[255&e]+yn[e>>8&255]+yn[e>>16&255]+yn[e>>24&255]+"-"+yn[255&t]+yn[t>>8&255]+"-"+yn[t>>16&15|64]+yn[t>>24&255]+"-"+yn[63&n|128]+yn[n>>8&255]+"-"+yn[n>>16&255]+yn[n>>24&255]+yn[255&r]+yn[r>>8&255]+yn[r>>16&255]+yn[r>>24&255];return i.toLowerCase()}function Mn(e,t,n){return Math.max(t,Math.min(n,e))}function En(e,t){return(e%t+t)%t}function Tn(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)}function An(e,t,n){return e!==t?(n-e)/(t-e):0}function Cn(e,t,n){return(1-n)*e+n*t}function kn(e,t,n,r){return Cn(e,t,1-Math.exp(-n*r))}function Rn(e,t=1){return t-Math.abs(En(e,2*t)-t)}function Ln(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*(3-2*e))}function In(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*e*(e*(6*e-15)+10))}function Pn(e,t){return e+Math.floor(Math.random()*(t-e+1))}function Dn(e,t){return e+Math.random()*(t-e)}function On(e){return e*(.5-Math.random())}function Nn(e){void 0!==e&&(bn=e);let t=bn+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296}function Fn(e){return e*xn}function Bn(e){return e*wn}function Vn(e){return 0===(e&e-1)&&0!==e}function Un(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function zn(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function Hn(e,t,n,r,i){const a=Math.cos,o=Math.sin,s=a(n/2),l=o(n/2),c=a((t+r)/2),u=o((t+r)/2),d=a((t-r)/2),h=o((t-r)/2),f=a((r-t)/2),p=o((r-t)/2);switch(i){case"XYX":e.set(s*u,l*d,l*h,s*c);break;case"YZY":e.set(l*h,s*u,l*d,s*c);break;case"ZXZ":e.set(l*d,l*h,s*u,s*c);break;case"XZX":e.set(s*u,l*p,l*f,s*c);break;case"YXY":e.set(l*f,s*u,l*p,s*c);break;case"ZYZ":e.set(l*p,l*f,s*u,s*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Wn(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function jn(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}var Gn=Object.freeze({__proto__:null,DEG2RAD:xn,RAD2DEG:wn,generateUUID:Sn,clamp:Mn,euclideanModulo:En,mapLinear:Tn,inverseLerp:An,lerp:Cn,damp:kn,pingpong:Rn,smoothstep:Ln,smootherstep:In,randInt:Pn,randFloat:Dn,randFloatSpread:On,seededRandom:Nn,degToRad:Fn,radToDeg:Bn,isPowerOfTwo:Vn,ceilPowerOfTwo:Un,floorPowerOfTwo:zn,setQuaternionFromProperEuler:Hn,normalize:jn,denormalize:Wn});class Yn{constructor(e=0,t=0){Yn.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){const e=Math.atan2(-this.y,-this.x)+Math.PI;return e}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class $n{constructor(){$n.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,n,r,i,a,o,s,l){const c=this.elements;return c[0]=e,c[1]=r,c[2]=o,c[3]=t,c[4]=i,c[5]=s,c[6]=n,c[7]=a,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],s=n[6],l=n[1],c=n[4],u=n[7],d=n[2],h=n[5],f=n[8],p=r[0],m=r[3],v=r[6],g=r[1],_=r[4],y=r[7],b=r[2],x=r[5],w=r[8];return i[0]=a*p+o*g+s*b,i[3]=a*m+o*_+s*x,i[6]=a*v+o*y+s*w,i[1]=l*p+c*g+u*b,i[4]=l*m+c*_+u*x,i[7]=l*v+c*y+u*w,i[2]=d*p+h*g+f*b,i[5]=d*m+h*_+f*x,i[8]=d*v+h*y+f*w,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8];return t*a*c-t*o*l-n*i*c+n*o*s+r*i*l-r*a*s}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8],u=c*a-o*l,d=o*s-c*i,h=l*i-a*s,f=t*u+n*d+r*h;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);const p=1/f;return e[0]=u*p,e[1]=(r*l-c*n)*p,e[2]=(o*n-r*a)*p,e[3]=d*p,e[4]=(c*t-r*s)*p,e[5]=(r*i-o*t)*p,e[6]=h*p,e[7]=(n*s-l*t)*p,e[8]=(a*t-n*i)*p,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,i,a,o){const s=Math.cos(i),l=Math.sin(i);return this.set(n*s,n*l,-n*(s*a+l*o)+a+e,-r*l,r*s,-r*(-l*a+s*o)+o+t,0,0,1),this}scale(e,t){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this}rotate(e){const t=Math.cos(e),n=Math.sin(e),r=this.elements,i=r[0],a=r[3],o=r[6],s=r[1],l=r[4],c=r[7];return r[0]=t*i+n*s,r[3]=t*a+n*l,r[6]=t*o+n*c,r[1]=-n*i+t*s,r[4]=-n*a+t*l,r[7]=-n*o+t*c,this}translate(e,t){const n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}function qn(e){for(let t=e.length-1;t>=0;--t)if(e[t]>65535)return!0;return!1}const Xn={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Zn(e,t){return new Xn[e](t)}function Kn(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function Jn(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Qn(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}const er={[zt]:{[Ht]:Jn},[Ht]:{[zt]:Qn}},tr={legacyMode:!0,get workingColorSpace(){return Ht},set workingColorSpace(e){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,t,n){if(this.legacyMode||t===n||!t||!n)return e;if(er[t]&&void 0!==er[t][n]){const r=er[t][n];return e.r=r(e.r),e.g=r(e.g),e.b=r(e.b),e}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}},nr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},rr={r:0,g:0,b:0},ir={h:0,s:0,l:0},ar={h:0,s:0,l:0};function or(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function sr(e,t){return t.r=e.r,t.g=e.g,t.b=e.b,t}class lr{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}set(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=zt){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,tr.toWorkingColorSpace(this,t),this}setRGB(e,t,n,r=Ht){return this.r=e,this.g=t,this.b=n,tr.toWorkingColorSpace(this,r),this}setHSL(e,t,n,r=Ht){if(e=En(e,1),t=Mn(t,0,1),n=Mn(n,0,1),0===t)this.r=this.g=this.b=n;else{const r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=or(i,r,e+1/3),this.g=or(i,r,e),this.b=or(i,r,e-1/3)}return tr.toWorkingColorSpace(this,r),this}setStyle(e,t=zt){function n(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let e;const i=r[1],a=r[2];switch(i){case"rgb":case"rgba":if(e=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(e[1],10))/255,this.g=Math.min(255,parseInt(e[2],10))/255,this.b=Math.min(255,parseInt(e[3],10))/255,tr.toWorkingColorSpace(this,t),n(e[4]),this;if(e=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(e[1],10))/100,this.g=Math.min(100,parseInt(e[2],10))/100,this.b=Math.min(100,parseInt(e[3],10))/100,tr.toWorkingColorSpace(this,t),n(e[4]),this;break;case"hsl":case"hsla":if(e=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const r=parseFloat(e[1])/360,i=parseInt(e[2],10)/100,a=parseInt(e[3],10)/100;return n(e[4]),this.setHSL(r,i,a,t)}break}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const e=r[1],n=e.length;if(3===n)return this.r=parseInt(e.charAt(0)+e.charAt(0),16)/255,this.g=parseInt(e.charAt(1)+e.charAt(1),16)/255,this.b=parseInt(e.charAt(2)+e.charAt(2),16)/255,tr.toWorkingColorSpace(this,t),this;if(6===n)return this.r=parseInt(e.charAt(0)+e.charAt(1),16)/255,this.g=parseInt(e.charAt(2)+e.charAt(3),16)/255,this.b=parseInt(e.charAt(4)+e.charAt(5),16)/255,tr.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=zt){const n=nr[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Jn(e.r),this.g=Jn(e.g),this.b=Jn(e.b),this}copyLinearToSRGB(e){return this.r=Qn(e.r),this.g=Qn(e.g),this.b=Qn(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=zt){return tr.fromWorkingColorSpace(sr(this,rr),e),Mn(255*rr.r,0,255)<<16^Mn(255*rr.g,0,255)<<8^Mn(255*rr.b,0,255)<<0}getHexString(e=zt){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Ht){tr.fromWorkingColorSpace(sr(this,rr),t);const n=rr.r,r=rr.g,i=rr.b,a=Math.max(n,r,i),o=Math.min(n,r,i);let s,l;const c=(o+a)/2;if(o===a)s=0,l=0;else{const e=a-o;switch(l=c<=.5?e/(a+o):e/(2-a-o),a){case n:s=(r-i)/e+(r<i?6:0);break;case r:s=(i-n)/e+2;break;case i:s=(n-r)/e+4;break}s/=6}return e.h=s,e.s=l,e.l=c,e}getRGB(e,t=Ht){return tr.fromWorkingColorSpace(sr(this,rr),t),e.r=rr.r,e.g=rr.g,e.b=rr.b,e}getStyle(e=zt){return tr.fromWorkingColorSpace(sr(this,rr),e),e!==zt?`color(${e} ${rr.r} ${rr.g} ${rr.b})`:`rgb(${255*rr.r|0},${255*rr.g|0},${255*rr.b|0})`}offsetHSL(e,t,n){return this.getHSL(ir),ir.h+=e,ir.s+=t,ir.l+=n,this.setHSL(ir.h,ir.s,ir.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(ir),e.getHSL(ar);const n=Cn(ir.h,ar.h,t),r=Cn(ir.s,ar.s,t),i=Cn(ir.l,ar.l,t);return this.setHSL(n,r,i),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}let cr;lr.NAMES=nr;class ur{static getDataURL(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===cr&&(cr=Kn("canvas")),cr.width=e.width,cr.height=e.height;const n=cr.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=cr}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){const t=Kn("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),i=r.data;for(let e=0;e<i.length;e++)i[e]=255*Jn(i[e]/255);return n.putImageData(r,0,0),t}if(e.data){const t=e.data.slice(0);for(let e=0;e<t.length;e++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[e]=Math.floor(255*Jn(t[e]/255)):t[e]=Jn(t[e]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class dr{constructor(e=null){this.isSource=!0,this.uuid=Sn(),this.data=e,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(null!==r){let e;if(Array.isArray(r)){e=[];for(let t=0,n=r.length;t<n;t++)r[t].isDataTexture?e.push(hr(r[t].image)):e.push(hr(r[t]))}else e=hr(r);n.url=e}return t||(e.images[this.uuid]=n),n}}function hr(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?ur.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let fr=0;class pr extends _n{constructor(e=pr.DEFAULT_IMAGE,t=pr.DEFAULT_MAPPING,n=fe,r=fe,i=be,a=Se,o=Be,s=Ee,l=1,c=Dt){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:fr++}),this.uuid=Sn(),this.name="",this.source=new dr(e),this.mipmaps=[],this.mapping=t,this.wrapS=n,this.wrapT=r,this.magFilter=i,this.minFilter=a,this.anisotropy=l,this.format=o,this.internalFormat=null,this.type=s,this.offset=new Yn(0,0),this.repeat=new Yn(1,1),this.center=new Yn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new $n,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==oe)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case he:e.x=e.x-Math.floor(e.x);break;case fe:e.x=e.x<0?0:1;break;case pe:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case he:e.y=e.y-Math.floor(e.y);break;case fe:e.y=e.y<0?0:1;break;case pe:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}}pr.DEFAULT_IMAGE=null,pr.DEFAULT_MAPPING=oe;class mr{constructor(e=0,t=0,n=0,r=1){mr.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,i;const a=.01,o=.1,s=e.elements,l=s[0],c=s[4],u=s[8],d=s[1],h=s[5],f=s[9],p=s[2],m=s[6],v=s[10];if(Math.abs(c-d)<a&&Math.abs(u-p)<a&&Math.abs(f-m)<a){if(Math.abs(c+d)<o&&Math.abs(u+p)<o&&Math.abs(f+m)<o&&Math.abs(l+h+v-3)<o)return this.set(1,0,0,0),this;t=Math.PI;const e=(l+1)/2,s=(h+1)/2,g=(v+1)/2,_=(c+d)/4,y=(u+p)/4,b=(f+m)/4;return e>s&&e>g?e<a?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(e),r=_/n,i=y/n):s>g?s<a?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(s),n=_/r,i=b/r):g<a?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(g),n=y/i,r=b/i),this.set(n,r,i,t),this}let g=Math.sqrt((m-f)*(m-f)+(u-p)*(u-p)+(d-c)*(d-c));return Math.abs(g)<.001&&(g=1),this.x=(m-f)/g,this.y=(u-p)/g,this.z=(d-c)/g,this.w=Math.acos((l+h+v-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class vr extends _n{constructor(e,t,n={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new mr(0,0,e,t),this.scissorTest=!1,this.viewport=new mr(0,0,e,t);const r={width:e,height:t,depth:1};this.texture=new pr(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.internalFormat=void 0!==n.internalFormat?n.internalFormat:null,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:be,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null,this.samples=void 0!==n.samples?n.samples:0}setSize(e,t,n=1){this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new dr(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class gr extends pr{constructor(e=null,t=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=me,this.minFilter=me,this.wrapR=fe,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class _r extends vr{constructor(e,t,n){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new gr(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class yr extends pr{constructor(e=null,t=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=me,this.minFilter=me,this.wrapR=fe,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class br extends vr{constructor(e,t,n){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new yr(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class xr extends vr{constructor(e,t,n,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const i=this.texture;this.texture=[];for(let a=0;a<n;a++)this.texture[a]=i.clone(),this.texture[a].isRenderTargetTexture=!0}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,i=this.texture.length;r<i;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class wr{constructor(e=0,t=0,n=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,i,a,o){let s=n[r+0],l=n[r+1],c=n[r+2],u=n[r+3];const d=i[a+0],h=i[a+1],f=i[a+2],p=i[a+3];if(0===o)return e[t+0]=s,e[t+1]=l,e[t+2]=c,void(e[t+3]=u);if(1===o)return e[t+0]=d,e[t+1]=h,e[t+2]=f,void(e[t+3]=p);if(u!==p||s!==d||l!==h||c!==f){let e=1-o;const t=s*d+l*h+c*f+u*p,n=t>=0?1:-1,r=1-t*t;if(r>Number.EPSILON){const i=Math.sqrt(r),a=Math.atan2(i,t*n);e=Math.sin(e*a)/i,o=Math.sin(o*a)/i}const i=o*n;if(s=s*e+d*i,l=l*e+h*i,c=c*e+f*i,u=u*e+p*i,e===1-o){const e=1/Math.sqrt(s*s+l*l+c*c+u*u);s*=e,l*=e,c*=e,u*=e}}e[t]=s,e[t+1]=l,e[t+2]=c,e[t+3]=u}static multiplyQuaternionsFlat(e,t,n,r,i,a){const o=n[r],s=n[r+1],l=n[r+2],c=n[r+3],u=i[a],d=i[a+1],h=i[a+2],f=i[a+3];return e[t]=o*f+c*u+s*h-l*d,e[t+1]=s*f+c*d+l*u-o*h,e[t+2]=l*f+c*h+o*d-s*u,e[t+3]=c*f-o*u-s*d-l*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const n=e._x,r=e._y,i=e._z,a=e._order,o=Math.cos,s=Math.sin,l=o(n/2),c=o(r/2),u=o(i/2),d=s(n/2),h=s(r/2),f=s(i/2);switch(a){case"XYZ":this._x=d*c*u+l*h*f,this._y=l*h*u-d*c*f,this._z=l*c*f+d*h*u,this._w=l*c*u-d*h*f;break;case"YXZ":this._x=d*c*u+l*h*f,this._y=l*h*u-d*c*f,this._z=l*c*f-d*h*u,this._w=l*c*u+d*h*f;break;case"ZXY":this._x=d*c*u-l*h*f,this._y=l*h*u+d*c*f,this._z=l*c*f+d*h*u,this._w=l*c*u-d*h*f;break;case"ZYX":this._x=d*c*u-l*h*f,this._y=l*h*u+d*c*f,this._z=l*c*f-d*h*u,this._w=l*c*u+d*h*f;break;case"YZX":this._x=d*c*u+l*h*f,this._y=l*h*u+d*c*f,this._z=l*c*f-d*h*u,this._w=l*c*u-d*h*f;break;case"XZY":this._x=d*c*u-l*h*f,this._y=l*h*u-d*c*f,this._z=l*c*f+d*h*u,this._w=l*c*u+d*h*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],o=t[5],s=t[9],l=t[2],c=t[6],u=t[10],d=n+o+u;if(d>0){const e=.5/Math.sqrt(d+1);this._w=.25/e,this._x=(c-s)*e,this._y=(i-l)*e,this._z=(a-r)*e}else if(n>o&&n>u){const e=2*Math.sqrt(1+n-o-u);this._w=(c-s)/e,this._x=.25*e,this._y=(r+a)/e,this._z=(i+l)/e}else if(o>u){const e=2*Math.sqrt(1+o-n-u);this._w=(i-l)/e,this._x=(r+a)/e,this._y=.25*e,this._z=(s+c)/e}else{const e=2*Math.sqrt(1+u-n-o);this._w=(a-r)/e,this._x=(i+l)/e,this._y=(s+c)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Mn(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(0===n)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,s=t._y,l=t._z,c=t._w;return this._x=n*c+a*o+r*l-i*s,this._y=r*c+a*s+i*o-n*l,this._z=i*c+a*l+n*s-r*o,this._w=a*c-n*o-r*s-i*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const n=this._x,r=this._y,i=this._z,a=this._w;let o=a*e._w+n*e._x+r*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;const s=1-o*o;if(s<=Number.EPSILON){const e=1-t;return this._w=e*a+t*this._w,this._x=e*n+t*this._x,this._y=e*r+t*this._y,this._z=e*i+t*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(s),c=Math.atan2(l,o),u=Math.sin((1-t)*c)/l,d=Math.sin(t*c)/l;return this._w=a*u+this._w*d,this._x=n*u+this._x*d,this._y=r*u+this._y*d,this._z=i*u+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(i),n*Math.cos(i),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Sr{constructor(e=0,t=0,n=0){Sr.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(Er.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Er.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=e.w,l=s*t+a*r-o*n,c=s*n+o*t-i*r,u=s*r+i*n-a*t,d=-i*t-a*n-o*r;return this.x=l*s+d*-i+c*-o-u*-a,this.y=c*s+d*-a+u*-i-l*-o,this.z=u*s+d*-o+l*-a-c*-i,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return Mr.copy(this).projectOnVector(e),this.sub(Mr)}reflect(e){return this.sub(Mr.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Mn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-e**2);return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Mr=new Sr,Er=new wr;class Tr{constructor(e=new Sr(1/0,1/0,1/0),t=new Sr(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0;for(let s=0,l=e.length;s<l;s+=3){const l=e[s],c=e[s+1],u=e[s+2];l<t&&(t=l),c<n&&(n=c),u<r&&(r=u),l>i&&(i=l),c>a&&(a=c),u>o&&(o=u)}return this.min.set(t,n,r),this.max.set(i,a,o),this}setFromBufferAttribute(e){let t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0;for(let s=0,l=e.count;s<l;s++){const l=e.getX(s),c=e.getY(s),u=e.getZ(s);l<t&&(t=l),c<n&&(n=c),u<r&&(r=u),l>i&&(i=l),c>a&&(a=c),u>o&&(o=u)}return this.min.set(t,n,r),this.max.set(i,a,o),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Cr.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(void 0!==n)if(t&&void 0!=n.attributes&&void 0!==n.attributes.position){const t=n.attributes.position;for(let n=0,r=t.count;n<r;n++)Cr.fromBufferAttribute(t,n).applyMatrix4(e.matrixWorld),this.expandByPoint(Cr)}else null===n.boundingBox&&n.computeBoundingBox(),kr.copy(n.boundingBox),kr.applyMatrix4(e.matrixWorld),this.union(kr);const r=e.children;for(let i=0,a=r.length;i<a;i++)this.expandByObject(r[i],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Cr),Cr.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Nr),Fr.subVectors(this.max,Nr),Rr.subVectors(e.a,Nr),Lr.subVectors(e.b,Nr),Ir.subVectors(e.c,Nr),Pr.subVectors(Lr,Rr),Dr.subVectors(Ir,Lr),Or.subVectors(Rr,Ir);let t=[0,-Pr.z,Pr.y,0,-Dr.z,Dr.y,0,-Or.z,Or.y,Pr.z,0,-Pr.x,Dr.z,0,-Dr.x,Or.z,0,-Or.x,-Pr.y,Pr.x,0,-Dr.y,Dr.x,0,-Or.y,Or.x,0];return!!Ur(t,Rr,Lr,Ir,Fr)&&(t=[1,0,0,0,1,0,0,0,1],!!Ur(t,Rr,Lr,Ir,Fr)&&(Br.crossVectors(Pr,Dr),t=[Br.x,Br.y,Br.z],Ur(t,Rr,Lr,Ir,Fr)))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){const t=Cr.copy(e).clamp(this.min,this.max);return t.sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=.5*this.getSize(Cr).length(),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(Ar[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ar[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ar[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ar[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ar[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ar[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ar[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ar[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ar)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ar=[new Sr,new Sr,new Sr,new Sr,new Sr,new Sr,new Sr,new Sr],Cr=new Sr,kr=new Tr,Rr=new Sr,Lr=new Sr,Ir=new Sr,Pr=new Sr,Dr=new Sr,Or=new Sr,Nr=new Sr,Fr=new Sr,Br=new Sr,Vr=new Sr;function Ur(e,t,n,r,i){for(let a=0,o=e.length-3;a<=o;a+=3){Vr.fromArray(e,a);const o=i.x*Math.abs(Vr.x)+i.y*Math.abs(Vr.y)+i.z*Math.abs(Vr.z),s=t.dot(Vr),l=n.dot(Vr),c=r.dot(Vr);if(Math.max(-Math.max(s,l,c),Math.min(s,l,c))>o)return!1}return!0}const zr=new Tr,Hr=new Sr,Wr=new Sr,jr=new Sr;class Gr{constructor(e=new Sr,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;void 0!==t?n.copy(t):zr.setFromPoints(e).getCenter(n);let r=0;for(let i=0,a=e.length;i<a;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){jr.subVectors(e,this.center);const t=jr.lengthSq();if(t>this.radius*this.radius){const e=Math.sqrt(t),n=.5*(e-this.radius);this.center.add(jr.multiplyScalar(n/e)),this.radius+=n}return this}union(e){return!0===this.center.equals(e.center)?Wr.set(0,0,1).multiplyScalar(e.radius):Wr.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(Hr.copy(e.center).add(Wr)),this.expandByPoint(Hr.copy(e.center).sub(Wr)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Yr=new Sr,$r=new Sr,qr=new Sr,Xr=new Sr,Zr=new Sr,Kr=new Sr,Jr=new Sr;class Qr{constructor(e=new Sr,t=new Sr(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Yr)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Yr.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Yr.copy(this.direction).multiplyScalar(t).add(this.origin),Yr.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){$r.copy(e).add(t).multiplyScalar(.5),qr.copy(t).sub(e).normalize(),Xr.copy(this.origin).sub($r);const i=.5*e.distanceTo(t),a=-this.direction.dot(qr),o=Xr.dot(this.direction),s=-Xr.dot(qr),l=Xr.lengthSq(),c=Math.abs(1-a*a);let u,d,h,f;if(c>0)if(u=a*s-o,d=a*o-s,f=i*c,u>=0)if(d>=-f)if(d<=f){const e=1/c;u*=e,d*=e,h=u*(u+a*d+2*o)+d*(a*u+d+2*s)+l}else d=i,u=Math.max(0,-(a*d+o)),h=-u*u+d*(d+2*s)+l;else d=-i,u=Math.max(0,-(a*d+o)),h=-u*u+d*(d+2*s)+l;else d<=-f?(u=Math.max(0,-(-a*i+o)),d=u>0?-i:Math.min(Math.max(-i,-s),i),h=-u*u+d*(d+2*s)+l):d<=f?(u=0,d=Math.min(Math.max(-i,-s),i),h=d*(d+2*s)+l):(u=Math.max(0,-(a*i+o)),d=u>0?i:Math.min(Math.max(-i,-s),i),h=-u*u+d*(d+2*s)+l);else d=a>0?-i:i,u=Math.max(0,-(a*d+o)),h=-u*u+d*(d+2*s)+l;return n&&n.copy(this.direction).multiplyScalar(u).add(this.origin),r&&r.copy(qr).multiplyScalar(d).add($r),h}intersectSphere(e,t){Yr.subVectors(e.center,this.origin);const n=Yr.dot(this.direction),r=Yr.dot(Yr)-n*n,i=e.radius*e.radius;if(r>i)return null;const a=Math.sqrt(i-r),o=n-a,s=n+a;return o<0&&s<0?null:o<0?this.at(s,t):this.at(o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);if(0===t)return!0;const n=e.normal.dot(this.direction);return n*t<0}intersectBox(e,t){let n,r,i,a,o,s;const l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,d=this.origin;return l>=0?(n=(e.min.x-d.x)*l,r=(e.max.x-d.x)*l):(n=(e.max.x-d.x)*l,r=(e.min.x-d.x)*l),c>=0?(i=(e.min.y-d.y)*c,a=(e.max.y-d.y)*c):(i=(e.max.y-d.y)*c,a=(e.min.y-d.y)*c),n>a||i>r?null:((i>n||n!==n)&&(n=i),(a<r||r!==r)&&(r=a),u>=0?(o=(e.min.z-d.z)*u,s=(e.max.z-d.z)*u):(o=(e.max.z-d.z)*u,s=(e.min.z-d.z)*u),n>s||o>r?null:((o>n||n!==n)&&(n=o),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}intersectsBox(e){return null!==this.intersectBox(e,Yr)}intersectTriangle(e,t,n,r,i){Zr.subVectors(t,e),Kr.subVectors(n,e),Jr.crossVectors(Zr,Kr);let a,o=this.direction.dot(Jr);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}Xr.subVectors(this.origin,e);const s=a*this.direction.dot(Kr.crossVectors(Xr,Kr));if(s<0)return null;const l=a*this.direction.dot(Zr.cross(Xr));if(l<0)return null;if(s+l>o)return null;const c=-a*Xr.dot(Jr);return c<0?null:this.at(c/o,i)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class ei{constructor(){ei.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,n,r,i,a,o,s,l,c,u,d,h,f,p,m){const v=this.elements;return v[0]=e,v[4]=t,v[8]=n,v[12]=r,v[1]=i,v[5]=a,v[9]=o,v[13]=s,v[2]=l,v[6]=c,v[10]=u,v[14]=d,v[3]=h,v[7]=f,v[11]=p,v[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new ei).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/ti.setFromMatrixColumn(e,0).length(),i=1/ti.setFromMatrixColumn(e,1).length(),a=1/ti.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),l=Math.sin(r),c=Math.cos(i),u=Math.sin(i);if("XYZ"===e.order){const e=a*c,n=a*u,r=o*c,i=o*u;t[0]=s*c,t[4]=-s*u,t[8]=l,t[1]=n+r*l,t[5]=e-i*l,t[9]=-o*s,t[2]=i-e*l,t[6]=r+n*l,t[10]=a*s}else if("YXZ"===e.order){const e=s*c,n=s*u,r=l*c,i=l*u;t[0]=e+i*o,t[4]=r*o-n,t[8]=a*l,t[1]=a*u,t[5]=a*c,t[9]=-o,t[2]=n*o-r,t[6]=i+e*o,t[10]=a*s}else if("ZXY"===e.order){const e=s*c,n=s*u,r=l*c,i=l*u;t[0]=e-i*o,t[4]=-a*u,t[8]=r+n*o,t[1]=n+r*o,t[5]=a*c,t[9]=i-e*o,t[2]=-a*l,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){const e=a*c,n=a*u,r=o*c,i=o*u;t[0]=s*c,t[4]=r*l-n,t[8]=e*l+i,t[1]=s*u,t[5]=i*l+e,t[9]=n*l-r,t[2]=-l,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){const e=a*s,n=a*l,r=o*s,i=o*l;t[0]=s*c,t[4]=i-e*u,t[8]=r*u+n,t[1]=u,t[5]=a*c,t[9]=-o*c,t[2]=-l*c,t[6]=n*u+r,t[10]=e-i*u}else if("XZY"===e.order){const e=a*s,n=a*l,r=o*s,i=o*l;t[0]=s*c,t[4]=-u,t[8]=l*c,t[1]=e*u+i,t[5]=a*c,t[9]=n*u-r,t[2]=r*u-n,t[6]=o*c,t[10]=i*u+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(ri,e,ii)}lookAt(e,t,n){const r=this.elements;return si.subVectors(e,t),0===si.lengthSq()&&(si.z=1),si.normalize(),ai.crossVectors(n,si),0===ai.lengthSq()&&(1===Math.abs(n.z)?si.x+=1e-4:si.z+=1e-4,si.normalize(),ai.crossVectors(n,si)),ai.normalize(),oi.crossVectors(si,ai),r[0]=ai.x,r[4]=oi.x,r[8]=si.x,r[1]=ai.y,r[5]=oi.y,r[9]=si.y,r[2]=ai.z,r[6]=oi.z,r[10]=si.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],s=n[8],l=n[12],c=n[1],u=n[5],d=n[9],h=n[13],f=n[2],p=n[6],m=n[10],v=n[14],g=n[3],_=n[7],y=n[11],b=n[15],x=r[0],w=r[4],S=r[8],M=r[12],E=r[1],T=r[5],A=r[9],C=r[13],k=r[2],R=r[6],L=r[10],I=r[14],P=r[3],D=r[7],O=r[11],N=r[15];return i[0]=a*x+o*E+s*k+l*P,i[4]=a*w+o*T+s*R+l*D,i[8]=a*S+o*A+s*L+l*O,i[12]=a*M+o*C+s*I+l*N,i[1]=c*x+u*E+d*k+h*P,i[5]=c*w+u*T+d*R+h*D,i[9]=c*S+u*A+d*L+h*O,i[13]=c*M+u*C+d*I+h*N,i[2]=f*x+p*E+m*k+v*P,i[6]=f*w+p*T+m*R+v*D,i[10]=f*S+p*A+m*L+v*O,i[14]=f*M+p*C+m*I+v*N,i[3]=g*x+_*E+y*k+b*P,i[7]=g*w+_*T+y*R+b*D,i[11]=g*S+_*A+y*L+b*O,i[15]=g*M+_*C+y*I+b*N,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],s=e[9],l=e[13],c=e[2],u=e[6],d=e[10],h=e[14],f=e[3],p=e[7],m=e[11],v=e[15];return f*(+i*s*u-r*l*u-i*o*d+n*l*d+r*o*h-n*s*h)+p*(+t*s*h-t*l*d+i*a*d-r*a*h+r*l*c-i*s*c)+m*(+t*l*u-t*o*h-i*a*u+n*a*h+i*o*c-n*l*c)+v*(-r*o*c-t*s*u+t*o*d+r*a*u-n*a*d+n*s*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8],u=e[9],d=e[10],h=e[11],f=e[12],p=e[13],m=e[14],v=e[15],g=u*m*l-p*d*l+p*s*h-o*m*h-u*s*v+o*d*v,_=f*d*l-c*m*l-f*s*h+a*m*h+c*s*v-a*d*v,y=c*p*l-f*u*l+f*o*h-a*p*h-c*o*v+a*u*v,b=f*u*s-c*p*s-f*o*d+a*p*d+c*o*m-a*u*m,x=t*g+n*_+r*y+i*b;if(0===x)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const w=1/x;return e[0]=g*w,e[1]=(p*d*i-u*m*i-p*r*h+n*m*h+u*r*v-n*d*v)*w,e[2]=(o*m*i-p*s*i+p*r*l-n*m*l-o*r*v+n*s*v)*w,e[3]=(u*s*i-o*d*i-u*r*l+n*d*l+o*r*h-n*s*h)*w,e[4]=_*w,e[5]=(c*m*i-f*d*i+f*r*h-t*m*h-c*r*v+t*d*v)*w,e[6]=(f*s*i-a*m*i-f*r*l+t*m*l+a*r*v-t*s*v)*w,e[7]=(a*d*i-c*s*i+c*r*l-t*d*l-a*r*h+t*s*h)*w,e[8]=y*w,e[9]=(f*u*i-c*p*i-f*n*h+t*p*h+c*n*v-t*u*v)*w,e[10]=(a*p*i-f*o*i+f*n*l-t*p*l-a*n*v+t*o*v)*w,e[11]=(c*o*i-a*u*i-c*n*l+t*u*l+a*n*h-t*o*h)*w,e[12]=b*w,e[13]=(c*p*r-f*u*r+f*n*d-t*p*d-c*n*m+t*u*m)*w,e[14]=(f*o*r-a*p*r-f*n*s+t*p*s+a*n*m-t*o*m)*w,e[15]=(a*u*r-c*o*r+c*n*s-t*u*s-a*n*d+t*o*d)*w,this}scale(e){const t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,s=e.z,l=i*a,c=i*o;return this.set(l*a+n,l*o-r*s,l*s+r*o,0,l*o+r*s,c*o+n,c*s-r*a,0,l*s-r*o,c*s+r*a,i*s*s+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,i,a){return this.set(1,n,i,0,e,1,a,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,l=i+i,c=a+a,u=o+o,d=i*l,h=i*c,f=i*u,p=a*c,m=a*u,v=o*u,g=s*l,_=s*c,y=s*u,b=n.x,x=n.y,w=n.z;return r[0]=(1-(p+v))*b,r[1]=(h+y)*b,r[2]=(f-_)*b,r[3]=0,r[4]=(h-y)*x,r[5]=(1-(d+v))*x,r[6]=(m+g)*x,r[7]=0,r[8]=(f+_)*w,r[9]=(m-g)*w,r[10]=(1-(d+p))*w,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let i=ti.set(r[0],r[1],r[2]).length();const a=ti.set(r[4],r[5],r[6]).length(),o=ti.set(r[8],r[9],r[10]).length(),s=this.determinant();s<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],ni.copy(this);const l=1/i,c=1/a,u=1/o;return ni.elements[0]*=l,ni.elements[1]*=l,ni.elements[2]*=l,ni.elements[4]*=c,ni.elements[5]*=c,ni.elements[6]*=c,ni.elements[8]*=u,ni.elements[9]*=u,ni.elements[10]*=u,t.setFromRotationMatrix(ni),n.x=i,n.y=a,n.z=o,this}makePerspective(e,t,n,r,i,a){const o=this.elements,s=2*i/(t-e),l=2*i/(n-r),c=(t+e)/(t-e),u=(n+r)/(n-r),d=-(a+i)/(a-i),h=-2*a*i/(a-i);return o[0]=s,o[4]=0,o[8]=c,o[12]=0,o[1]=0,o[5]=l,o[9]=u,o[13]=0,o[2]=0,o[6]=0,o[10]=d,o[14]=h,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}makeOrthographic(e,t,n,r,i,a){const o=this.elements,s=1/(t-e),l=1/(n-r),c=1/(a-i),u=(t+e)*s,d=(n+r)*l,h=(a+i)*c;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-u,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-d,o[2]=0,o[6]=0,o[10]=-2*c,o[14]=-h,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const ti=new Sr,ni=new ei,ri=new Sr(0,0,0),ii=new Sr(1,1,1),ai=new Sr,oi=new Sr,si=new Sr,li=new ei,ci=new wr;class ui{constructor(e=0,t=0,n=0,r=ui.DefaultOrder){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const r=e.elements,i=r[0],a=r[4],o=r[8],s=r[1],l=r[5],c=r[9],u=r[2],d=r[6],h=r[10];switch(t){case"XYZ":this._y=Math.asin(Mn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,h),this._z=Math.atan2(-a,i)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-Mn(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(o,h),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-u,i),this._z=0);break;case"ZXY":this._x=Math.asin(Mn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-u,h),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-Mn(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(d,h),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(Mn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,i)):(this._x=0,this._y=Math.atan2(o,h));break;case"XZY":this._z=Math.asin(-Mn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(o,i)):(this._x=Math.atan2(-c,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return li.makeRotationFromQuaternion(e),this.setFromRotationMatrix(li,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return ci.setFromEuler(this),this.setFromQuaternion(ci,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}ui.DefaultOrder="XYZ",ui.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class di{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!==(this.mask&e.mask)}isEnabled(e){return 0!==(this.mask&(1<<e|0))}}let hi=0;const fi=new Sr,pi=new wr,mi=new ei,vi=new Sr,gi=new Sr,_i=new Sr,yi=new wr,bi=new Sr(1,0,0),xi=new Sr(0,1,0),wi=new Sr(0,0,1),Si={type:"added"},Mi={type:"removed"};class Ei extends _n{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:hi++}),this.uuid=Sn(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ei.DefaultUp.clone();const e=new Sr,t=new ui,n=new wr,r=new Sr(1,1,1);function i(){n.setFromEuler(t,!1)}function a(){t.setFromQuaternion(n,void 0,!1)}t._onChange(i),n._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new ei},normalMatrix:{value:new $n}}),this.matrix=new ei,this.matrixWorld=new ei,this.matrixAutoUpdate=Ei.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new di,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return pi.setFromAxisAngle(e,t),this.quaternion.multiply(pi),this}rotateOnWorldAxis(e,t){return pi.setFromAxisAngle(e,t),this.quaternion.premultiply(pi),this}rotateX(e){return this.rotateOnAxis(bi,e)}rotateY(e){return this.rotateOnAxis(xi,e)}rotateZ(e){return this.rotateOnAxis(wi,e)}translateOnAxis(e,t){return fi.copy(e).applyQuaternion(this.quaternion),this.position.add(fi.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(bi,e)}translateY(e){return this.translateOnAxis(xi,e)}translateZ(e){return this.translateOnAxis(wi,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(mi.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?vi.copy(e):vi.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),gi.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?mi.lookAt(gi,vi,this.up):mi.lookAt(vi,gi,this.up),this.quaternion.setFromRotationMatrix(mi),r&&(mi.extractRotation(r.matrixWorld),pi.setFromRotationMatrix(mi),this.quaternion.premultiply(pi.invert()))}add(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Si)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}const t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Mi)),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(Mi)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),mi.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),mi.multiply(e.parent.matrixWorld)),e.applyMatrix4(mi),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const r=this.children[n],i=r.getObjectByProperty(e,t);if(void 0!==i)return i}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(gi,e,_i),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(gi,yi,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){const n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t){const e=this.children;for(let t=0,n=e.length;t<n;t++)e[t].updateWorldMatrix(!1,!0)}}toJSON(e){const t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);const t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){const n=t.shapes;if(Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const r=n[t];i(e.shapes,r)}else i(e.shapes,n)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const t=[];for(let n=0,r=this.material.length;n<r;n++)t.push(i(e.materials,this.material[n]));r.material=t}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(let t=0;t<this.children.length;t++)r.children.push(this.children[t].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let t=0;t<this.animations.length;t++){const n=this.animations[t];r.animations.push(i(e.animations,n))}}if(t){const t=a(e.geometries),r=a(e.materials),i=a(e.textures),o=a(e.images),s=a(e.shapes),l=a(e.skeletons),c=a(e.animations),u=a(e.nodes);t.length>0&&(n.geometries=t),r.length>0&&(n.materials=r),i.length>0&&(n.textures=i),o.length>0&&(n.images=o),s.length>0&&(n.shapes=s),l.length>0&&(n.skeletons=l),c.length>0&&(n.animations=c),u.length>0&&(n.nodes=u)}return n.object=r,n;function a(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}}clone(e){return(new this.constructor).copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let n=0;n<e.children.length;n++){const t=e.children[n];this.add(t.clone())}return this}}Ei.DefaultUp=new Sr(0,1,0),Ei.DefaultMatrixAutoUpdate=!0;const Ti=new Sr,Ai=new Sr,Ci=new Sr,ki=new Sr,Ri=new Sr,Li=new Sr,Ii=new Sr,Pi=new Sr,Di=new Sr,Oi=new Sr;class Ni{constructor(e=new Sr,t=new Sr,n=new Sr){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),Ti.subVectors(e,t),r.cross(Ti);const i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}static getBarycoord(e,t,n,r,i){Ti.subVectors(r,t),Ai.subVectors(n,t),Ci.subVectors(e,t);const a=Ti.dot(Ti),o=Ti.dot(Ai),s=Ti.dot(Ci),l=Ai.dot(Ai),c=Ai.dot(Ci),u=a*l-o*o;if(0===u)return i.set(-2,-1,-1);const d=1/u,h=(l*s-o*c)*d,f=(a*c-o*s)*d;return i.set(1-h-f,f,h)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,ki),ki.x>=0&&ki.y>=0&&ki.x+ki.y<=1}static getUV(e,t,n,r,i,a,o,s){return this.getBarycoord(e,t,n,r,ki),s.set(0,0),s.addScaledVector(i,ki.x),s.addScaledVector(a,ki.y),s.addScaledVector(o,ki.z),s}static isFrontFacing(e,t,n,r){return Ti.subVectors(n,t),Ai.subVectors(e,t),Ti.cross(Ai).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ti.subVectors(this.c,this.b),Ai.subVectors(this.a,this.b),.5*Ti.cross(Ai).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ni.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ni.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,r,i){return Ni.getUV(e,this.a,this.b,this.c,t,n,r,i)}containsPoint(e){return Ni.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ni.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,i=this.c;let a,o;Ri.subVectors(r,n),Li.subVectors(i,n),Pi.subVectors(e,n);const s=Ri.dot(Pi),l=Li.dot(Pi);if(s<=0&&l<=0)return t.copy(n);Di.subVectors(e,r);const c=Ri.dot(Di),u=Li.dot(Di);if(c>=0&&u<=c)return t.copy(r);const d=s*u-c*l;if(d<=0&&s>=0&&c<=0)return a=s/(s-c),t.copy(n).addScaledVector(Ri,a);Oi.subVectors(e,i);const h=Ri.dot(Oi),f=Li.dot(Oi);if(f>=0&&h<=f)return t.copy(i);const p=h*l-s*f;if(p<=0&&l>=0&&f<=0)return o=l/(l-f),t.copy(n).addScaledVector(Li,o);const m=c*f-h*u;if(m<=0&&u-c>=0&&h-f>=0)return Ii.subVectors(i,r),o=(u-c)/(u-c+(h-f)),t.copy(r).addScaledVector(Ii,o);const v=1/(m+p+d);return a=p*v,o=d*v,t.copy(n).addScaledVector(Ri,a).addScaledVector(Li,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Fi=0;class Bi extends _n{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Fi++}),this.uuid=Sn(),this.name="",this.type="Material",this.blending=w,this.side=v,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=N,this.blendDst=F,this.blendEquation=A,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Y,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=an,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=jt,this.stencilZFail=jt,this.stencilZPass=jt,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const n=e[t];if(void 0===n){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if("shading"===t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===y;continue}const r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}}toJSON(e){const t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==w&&(n.blending=this.blending),this.side!==v&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){const t=r(e.textures),i=r(e.images);t.length>0&&(n.textures=t),i.length>0&&(n.images=i)}return n}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(null!==t){const e=t.length;n=new Array(e);for(let r=0;r!==e;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}class Vi extends Bi{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new lr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=K,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Ui=new Sr,zi=new Yn;class Hi{constructor(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.usage=on,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const t=this.array;let n=0;for(let r=0,i=e.length;r<i;r++){let i=e[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),i=new lr),t[n++]=i.r,t[n++]=i.g,t[n++]=i.b}return this}copyVector2sArray(e){const t=this.array;let n=0;for(let r=0,i=e.length;r<i;r++){let i=e[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),i=new Yn),t[n++]=i.x,t[n++]=i.y}return this}copyVector3sArray(e){const t=this.array;let n=0;for(let r=0,i=e.length;r<i;r++){let i=e[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),i=new Sr),t[n++]=i.x,t[n++]=i.y,t[n++]=i.z}return this}copyVector4sArray(e){const t=this.array;let n=0;for(let r=0,i=e.length;r<i;r++){let i=e[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),i=new mr),t[n++]=i.x,t[n++]=i.y,t[n++]=i.z,t[n++]=i.w}return this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)zi.fromBufferAttribute(this,t),zi.applyMatrix3(e),this.setXY(t,zi.x,zi.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)Ui.fromBufferAttribute(this,t),Ui.applyMatrix3(e),this.setXYZ(t,Ui.x,Ui.y,Ui.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Ui.fromBufferAttribute(this,t),Ui.applyMatrix4(e),this.setXYZ(t,Ui.x,Ui.y,Ui.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Ui.fromBufferAttribute(this,t),Ui.applyNormalMatrix(e),this.setXYZ(t,Ui.x,Ui.y,Ui.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Ui.fromBufferAttribute(this,t),Ui.transformDirection(e),this.setXYZ(t,Ui.x,Ui.y,Ui.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==on&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}}class Wi extends Hi{constructor(e,t,n){super(new Int8Array(e),t,n)}}class ji extends Hi{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class Gi extends Hi{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class Yi extends Hi{constructor(e,t,n){super(new Int16Array(e),t,n)}}class $i extends Hi{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class qi extends Hi{constructor(e,t,n){super(new Int32Array(e),t,n)}}class Xi extends Hi{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class Zi extends Hi{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}}class Ki extends Hi{constructor(e,t,n){super(new Float32Array(e),t,n)}}class Ji extends Hi{constructor(e,t,n){super(new Float64Array(e),t,n)}}let Qi=0;const ea=new ei,ta=new Ei,na=new Sr,ra=new Tr,ia=new Tr,aa=new Sr;class oa extends _n{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Qi++}),this.uuid=Sn(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(qn(e)?Xi:$i)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const t=(new $n).getNormalMatrix(e);n.applyNormalMatrix(t),n.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return ea.makeRotationFromQuaternion(e),this.applyMatrix4(ea),this}rotateX(e){return ea.makeRotationX(e),this.applyMatrix4(ea),this}rotateY(e){return ea.makeRotationY(e),this.applyMatrix4(ea),this}rotateZ(e){return ea.makeRotationZ(e),this.applyMatrix4(ea),this}translate(e,t,n){return ea.makeTranslation(e,t,n),this.applyMatrix4(ea),this}scale(e,t,n){return ea.makeScale(e,t,n),this.applyMatrix4(ea),this}lookAt(e){return ta.lookAt(e),ta.updateMatrix(),this.applyMatrix4(ta.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(na).negate(),this.translate(na.x,na.y,na.z),this}setFromPoints(e){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new Ki(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Tr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new Sr(-1/0,-1/0,-1/0),new Sr(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++){const e=t[n];ra.setFromBufferAttribute(e),this.morphTargetsRelative?(aa.addVectors(this.boundingBox.min,ra.min),this.boundingBox.expandByPoint(aa),aa.addVectors(this.boundingBox.max,ra.max),this.boundingBox.expandByPoint(aa)):(this.boundingBox.expandByPoint(ra.min),this.boundingBox.expandByPoint(ra.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Gr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new Sr,1/0);if(e){const n=this.boundingSphere.center;if(ra.setFromBufferAttribute(e),t)for(let e=0,i=t.length;e<i;e++){const n=t[e];ia.setFromBufferAttribute(n),this.morphTargetsRelative?(aa.addVectors(ra.min,ia.min),ra.expandByPoint(aa),aa.addVectors(ra.max,ia.max),ra.expandByPoint(aa)):(ra.expandByPoint(ia.min),ra.expandByPoint(ia.max))}ra.getCenter(n);let r=0;for(let t=0,i=e.count;t<i;t++)aa.fromBufferAttribute(e,t),r=Math.max(r,n.distanceToSquared(aa));if(t)for(let i=0,a=t.length;i<a;i++){const a=t[i],o=this.morphTargetsRelative;for(let t=0,i=a.count;t<i;t++)aa.fromBufferAttribute(a,t),o&&(na.fromBufferAttribute(e,t),aa.add(na)),r=Math.max(r,n.distanceToSquared(aa))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=e.array,r=t.position.array,i=t.normal.array,a=t.uv.array,o=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Hi(new Float32Array(4*o),4));const s=this.getAttribute("tangent").array,l=[],c=[];for(let E=0;E<o;E++)l[E]=new Sr,c[E]=new Sr;const u=new Sr,d=new Sr,h=new Sr,f=new Yn,p=new Yn,m=new Yn,v=new Sr,g=new Sr;function _(e,t,n){u.fromArray(r,3*e),d.fromArray(r,3*t),h.fromArray(r,3*n),f.fromArray(a,2*e),p.fromArray(a,2*t),m.fromArray(a,2*n),d.sub(u),h.sub(u),p.sub(f),m.sub(f);const i=1/(p.x*m.y-m.x*p.y);isFinite(i)&&(v.copy(d).multiplyScalar(m.y).addScaledVector(h,-p.y).multiplyScalar(i),g.copy(h).multiplyScalar(p.x).addScaledVector(d,-m.x).multiplyScalar(i),l[e].add(v),l[t].add(v),l[n].add(v),c[e].add(g),c[t].add(g),c[n].add(g))}let y=this.groups;0===y.length&&(y=[{start:0,count:n.length}]);for(let E=0,T=y.length;E<T;++E){const e=y[E],t=e.start,r=e.count;for(let i=t,a=t+r;i<a;i+=3)_(n[i+0],n[i+1],n[i+2])}const b=new Sr,x=new Sr,w=new Sr,S=new Sr;function M(e){w.fromArray(i,3*e),S.copy(w);const t=l[e];b.copy(t),b.sub(w.multiplyScalar(w.dot(t))).normalize(),x.crossVectors(S,t);const n=x.dot(c[e]),r=n<0?-1:1;s[4*e]=b.x,s[4*e+1]=b.y,s[4*e+2]=b.z,s[4*e+3]=r}for(let E=0,T=y.length;E<T;++E){const e=y[E],t=e.start,r=e.count;for(let i=t,a=t+r;i<a;i+=3)M(n[i+0]),M(n[i+1]),M(n[i+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new Hi(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let e=0,t=n.count;e<t;e++)n.setXYZ(e,0,0,0);const r=new Sr,i=new Sr,a=new Sr,o=new Sr,s=new Sr,l=new Sr,c=new Sr,u=new Sr;if(e)for(let d=0,h=e.count;d<h;d+=3){const h=e.getX(d+0),f=e.getX(d+1),p=e.getX(d+2);r.fromBufferAttribute(t,h),i.fromBufferAttribute(t,f),a.fromBufferAttribute(t,p),c.subVectors(a,i),u.subVectors(r,i),c.cross(u),o.fromBufferAttribute(n,h),s.fromBufferAttribute(n,f),l.fromBufferAttribute(n,p),o.add(c),s.add(c),l.add(c),n.setXYZ(h,o.x,o.y,o.z),n.setXYZ(f,s.x,s.y,s.z),n.setXYZ(p,l.x,l.y,l.z)}else for(let e=0,d=t.count;e<d;e+=3)r.fromBufferAttribute(t,e+0),i.fromBufferAttribute(t,e+1),a.fromBufferAttribute(t,e+2),c.subVectors(a,i),u.subVectors(r,i),c.cross(u),n.setXYZ(e+0,c.x,c.y,c.z),n.setXYZ(e+1,c.x,c.y,c.z),n.setXYZ(e+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(e,t){if(!e||!e.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const n=this.attributes;for(const r in n){if(void 0===e.attributes[r])continue;const i=n[r],a=i.array,o=e.attributes[r],s=o.array,l=o.itemSize*t,c=Math.min(s.length,a.length-l);for(let e=0,t=l;e<c;e++,t++)a[t]=s[e]}return this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)aa.fromBufferAttribute(e,t),aa.normalize(),e.setXYZ(t,aa.x,aa.y,aa.z)}toNonIndexed(){function e(e,t){const n=e.array,r=e.itemSize,i=e.normalized,a=new n.constructor(t.length*r);let o=0,s=0;for(let l=0,c=t.length;l<c;l++){o=e.isInterleavedBufferAttribute?t[l]*e.data.stride+e.offset:t[l]*r;for(let e=0;e<r;e++)a[s++]=n[o++]}return new Hi(a,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new oa,n=this.index.array,r=this.attributes;for(const o in r){const i=r[o],a=e(i,n);t.setAttribute(o,a)}const i=this.morphAttributes;for(const o in i){const r=[],a=i[o];for(let t=0,i=a.length;t<i;t++){const i=a[t],o=e(i,n);r.push(o)}t.morphAttributes[o]=r}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,s=a.length;o<s;o++){const e=a[o];t.addGroup(e.start,e.count,e.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const t=this.parameters;for(const n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const s in n){const t=n[s];e.data.attributes[s]=t.toJSON(e.data)}const r={};let i=!1;for(const s in this.morphAttributes){const t=this.morphAttributes[s],n=[];for(let r=0,i=t.length;r<i;r++){const i=t[r];n.push(i.toJSON(e.data))}n.length>0&&(r[s]=n,i=!0)}i&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return null!==o&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;null!==n&&this.setIndex(n.clone(t));const r=e.attributes;for(const l in r){const e=r[l];this.setAttribute(l,e.clone(t))}const i=e.morphAttributes;for(const l in i){const e=[],n=i[l];for(let r=0,i=n.length;r<i;r++)e.push(n[r].clone(t));this.morphAttributes[l]=e}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let l=0,c=a.length;l<c;l++){const e=a[l];this.addGroup(e.start,e.count,e.materialIndex)}const o=e.boundingBox;null!==o&&(this.boundingBox=o.clone());const s=e.boundingSphere;return null!==s&&(this.boundingSphere=s.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,void 0!==e.parameters&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const sa=new ei,la=new Qr,ca=new Gr,ua=new Sr,da=new Sr,ha=new Sr,fa=new Sr,pa=new Sr,ma=new Sr,va=new Sr,ga=new Sr,_a=new Sr,ya=new Yn,ba=new Yn,xa=new Yn,wa=new Sr,Sa=new Sr;class Ma extends Ei{constructor(e=new oa,t=new Vi){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry,t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const e=t[n[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,n=e.length;t<n;t++){const n=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}}}raycast(e,t){const n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0===r)return;if(null===n.boundingSphere&&n.computeBoundingSphere(),ca.copy(n.boundingSphere),ca.applyMatrix4(i),!1===e.ray.intersectsSphere(ca))return;if(sa.copy(i).invert(),la.copy(e.ray).applyMatrix4(sa),null!==n.boundingBox&&!1===la.intersectsBox(n.boundingBox))return;let a;const o=n.index,s=n.attributes.position,l=n.morphAttributes.position,c=n.morphTargetsRelative,u=n.attributes.uv,d=n.attributes.uv2,h=n.groups,f=n.drawRange;if(null!==o)if(Array.isArray(r))for(let p=0,m=h.length;p<m;p++){const n=h[p],i=r[n.materialIndex],m=Math.max(n.start,f.start),v=Math.min(o.count,Math.min(n.start+n.count,f.start+f.count));for(let r=m,h=v;r<h;r+=3){const h=o.getX(r),f=o.getX(r+1),p=o.getX(r+2);a=Ta(this,i,e,la,s,l,c,u,d,h,f,p),a&&(a.faceIndex=Math.floor(r/3),a.face.materialIndex=n.materialIndex,t.push(a))}}else{const n=Math.max(0,f.start),i=Math.min(o.count,f.start+f.count);for(let h=n,f=i;h<f;h+=3){const n=o.getX(h),i=o.getX(h+1),f=o.getX(h+2);a=Ta(this,r,e,la,s,l,c,u,d,n,i,f),a&&(a.faceIndex=Math.floor(h/3),t.push(a))}}else if(void 0!==s)if(Array.isArray(r))for(let p=0,m=h.length;p<m;p++){const n=h[p],i=r[n.materialIndex],o=Math.max(n.start,f.start),m=Math.min(s.count,Math.min(n.start+n.count,f.start+f.count));for(let r=o,h=m;r<h;r+=3){const o=r,h=r+1,f=r+2;a=Ta(this,i,e,la,s,l,c,u,d,o,h,f),a&&(a.faceIndex=Math.floor(r/3),a.face.materialIndex=n.materialIndex,t.push(a))}}else{const n=Math.max(0,f.start),i=Math.min(s.count,f.start+f.count);for(let o=n,h=i;o<h;o+=3){const n=o,i=o+1,h=o+2;a=Ta(this,r,e,la,s,l,c,u,d,n,i,h),a&&(a.faceIndex=Math.floor(o/3),t.push(a))}}}}function Ea(e,t,n,r,i,a,o,s){let l;if(l=t.side===g?r.intersectTriangle(o,a,i,!0,s):r.intersectTriangle(i,a,o,t.side!==_,s),null===l)return null;Sa.copy(s),Sa.applyMatrix4(e.matrixWorld);const c=n.ray.origin.distanceTo(Sa);return c<n.near||c>n.far?null:{distance:c,point:Sa.clone(),object:e}}function Ta(e,t,n,r,i,a,o,s,l,c,u,d){ua.fromBufferAttribute(i,c),da.fromBufferAttribute(i,u),ha.fromBufferAttribute(i,d);const h=e.morphTargetInfluences;if(a&&h){va.set(0,0,0),ga.set(0,0,0),_a.set(0,0,0);for(let e=0,t=a.length;e<t;e++){const t=h[e],n=a[e];0!==t&&(fa.fromBufferAttribute(n,c),pa.fromBufferAttribute(n,u),ma.fromBufferAttribute(n,d),o?(va.addScaledVector(fa,t),ga.addScaledVector(pa,t),_a.addScaledVector(ma,t)):(va.addScaledVector(fa.sub(ua),t),ga.addScaledVector(pa.sub(da),t),_a.addScaledVector(ma.sub(ha),t)))}ua.add(va),da.add(ga),ha.add(_a)}e.isSkinnedMesh&&(e.boneTransform(c,ua),e.boneTransform(u,da),e.boneTransform(d,ha));const f=Ea(e,t,n,r,ua,da,ha,wa);if(f){s&&(ya.fromBufferAttribute(s,c),ba.fromBufferAttribute(s,u),xa.fromBufferAttribute(s,d),f.uv=Ni.getUV(wa,ua,da,ha,ya,ba,xa,new Yn)),l&&(ya.fromBufferAttribute(l,c),ba.fromBufferAttribute(l,u),xa.fromBufferAttribute(l,d),f.uv2=Ni.getUV(wa,ua,da,ha,ya,ba,xa,new Yn));const e={a:c,b:u,c:d,normal:new Sr,materialIndex:0};Ni.getNormal(ua,da,ha,e.normal),f.face=e}return f}class Aa extends oa{constructor(e=1,t=1,n=1,r=1,i=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:a};const o=this;r=Math.floor(r),i=Math.floor(i),a=Math.floor(a);const s=[],l=[],c=[],u=[];let d=0,h=0;function f(e,t,n,r,i,a,f,p,m,v,g){const _=a/m,y=f/v,b=a/2,x=f/2,w=p/2,S=m+1,M=v+1;let E=0,T=0;const A=new Sr;for(let o=0;o<M;o++){const a=o*y-x;for(let s=0;s<S;s++){const d=s*_-b;A[e]=d*r,A[t]=a*i,A[n]=w,l.push(A.x,A.y,A.z),A[e]=0,A[t]=0,A[n]=p>0?1:-1,c.push(A.x,A.y,A.z),u.push(s/m),u.push(1-o/v),E+=1}}for(let o=0;o<v;o++)for(let e=0;e<m;e++){const t=d+e+S*o,n=d+e+S*(o+1),r=d+(e+1)+S*(o+1),i=d+(e+1)+S*o;s.push(t,n,i),s.push(n,r,i),T+=6}o.addGroup(h,T,g),h+=T,d+=E}f("z","y","x",-1,-1,n,t,e,a,i,0),f("z","y","x",1,-1,n,t,-e,a,i,1),f("x","z","y",1,1,e,n,t,r,a,2),f("x","z","y",1,-1,e,n,-t,r,a,3),f("x","y","z",1,-1,e,t,n,r,i,4),f("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(s),this.setAttribute("position",new Ki(l,3)),this.setAttribute("normal",new Ki(c,3)),this.setAttribute("uv",new Ki(u,2))}static fromJSON(e){return new Aa(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Ca(e){const t={};for(const n in e){t[n]={};for(const r in e[n]){const i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}}return t}function ka(e){const t={};for(let n=0;n<e.length;n++){const r=Ca(e[n]);for(const e in r)t[e]=r[e]}return t}function Ra(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].clone());return t}const La={clone:Ca,merge:ka};var Ia="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",Pa="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";class Da extends Bi{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Ia,this.fragmentShader=Pa,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ca(e.uniforms),this.uniformsGroups=Ra(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const n=this.uniforms[r],i=n.value;i&&i.isTexture?t.uniforms[r]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[r]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[r]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[r]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[r]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[r]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[r]={type:"m4",value:i.toArray()}:t.uniforms[r]={value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const n={};for(const r in this.extensions)!0===this.extensions[r]&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class Oa extends Ei{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ei,this.projectionMatrix=new ei,this.projectionMatrixInverse=new ei}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class Na extends Oa{constructor(e=50,t=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*wn*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*xn*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*wn*Math.atan(Math.tan(.5*xn*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*xn*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r;const a=this.view;if(null!==this.view&&this.view.enabled){const e=a.fullWidth,o=a.fullHeight;i+=a.offsetX*r/e,t-=a.offsetY*n/o,r*=a.width/e,n*=a.height/o}const o=this.filmOffset;0!==o&&(i+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Fa=90,Ba=1;class Va extends Ei{constructor(e,t,n){if(super(),this.type="CubeCamera",!0!==n.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=n;const r=new Na(Fa,Ba,e,t);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new Sr(1,0,0)),this.add(r);const i=new Na(Fa,Ba,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new Sr(-1,0,0)),this.add(i);const a=new Na(Fa,Ba,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(new Sr(0,1,0)),this.add(a);const o=new Na(Fa,Ba,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(new Sr(0,-1,0)),this.add(o);const s=new Na(Fa,Ba,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new Sr(0,0,1)),this.add(s);const l=new Na(Fa,Ba,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new Sr(0,0,-1)),this.add(l)}update(e,t){null===this.parent&&this.updateMatrixWorld();const n=this.renderTarget,[r,i,a,o,s,l]=this.children,c=e.getRenderTarget(),u=e.toneMapping,d=e.xr.enabled;e.toneMapping=ee,e.xr.enabled=!1;const h=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,r),e.setRenderTarget(n,1),e.render(t,i),e.setRenderTarget(n,2),e.render(t,a),e.setRenderTarget(n,3),e.render(t,o),e.setRenderTarget(n,4),e.render(t,s),n.texture.generateMipmaps=h,e.setRenderTarget(n,5),e.render(t,l),e.setRenderTarget(c),e.toneMapping=u,e.xr.enabled=d,n.texture.needsPMREMUpdate=!0}}class Ua extends pr{constructor(e,t,n,r,i,a,o,s,l,c){e=void 0!==e?e:[],t=void 0!==t?t:se,super(e,t,n,r,i,a,o,s,l,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class za extends vr{constructor(e,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];this.texture=new Ua(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:be}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t"},r=new Aa(5,5,5),i=new Da({name:"CubemapFromEquirect",uniforms:Ca(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:g,blending:x});i.uniforms.tEquirect.value=t;const a=new Ma(r,i),o=t.minFilter;t.minFilter===Se&&(t.minFilter=be);const s=new Va(1,10,this);return s.update(e,a),t.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,t,n,r){const i=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,r);e.setRenderTarget(i)}}const Ha=new Sr,Wa=new Sr,ja=new $n;class Ga{constructor(e=new Sr(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=Ha.subVectors(n,t).cross(Wa.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const n=e.delta(Ha),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(n).multiplyScalar(i).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||ja.getNormalMatrix(e),r=this.coplanarPoint(Ha).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const Ya=new Gr,$a=new Sr;class qa{constructor(e=new Ga,t=new Ga,n=new Ga,r=new Ga,i=new Ga,a=new Ga){this.planes=[e,t,n,r,i,a]}set(e,t,n,r,i,a){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){const t=this.planes,n=e.elements,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=n[5],c=n[6],u=n[7],d=n[8],h=n[9],f=n[10],p=n[11],m=n[12],v=n[13],g=n[14],_=n[15];return t[0].setComponents(o-r,u-s,p-d,_-m).normalize(),t[1].setComponents(o+r,u+s,p+d,_+m).normalize(),t[2].setComponents(o+i,u+l,p+h,_+v).normalize(),t[3].setComponents(o-i,u-l,p-h,_-v).normalize(),t[4].setComponents(o-a,u-c,p-f,_-g).normalize(),t[5].setComponents(o+a,u+c,p+f,_+g).normalize(),this}intersectsObject(e){const t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),Ya.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Ya)}intersectsSprite(e){return Ya.center.set(0,0,0),Ya.radius=.7071067811865476,Ya.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ya)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let i=0;i<6;i++){const e=t[i].distanceToPoint(n);if(e<r)return!1}return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if($a.x=r.normal.x>0?e.max.x:e.min.x,$a.y=r.normal.y>0?e.max.y:e.min.y,$a.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint($a)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function Xa(){let e=null,t=!1,n=null,r=null;function i(t,a){n(t,a),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function Za(e,t){const n=t.isWebGL2,r=new WeakMap;function i(t,r){const i=t.array,a=t.usage,o=e.createBuffer();let s;if(e.bindBuffer(r,o),e.bufferData(r,i,a),t.onUploadCallback(),i instanceof Float32Array)s=5126;else if(i instanceof Uint16Array)if(t.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");s=5131}else s=5123;else if(i instanceof Int16Array)s=5122;else if(i instanceof Uint32Array)s=5125;else if(i instanceof Int32Array)s=5124;else if(i instanceof Int8Array)s=5120;else if(i instanceof Uint8Array)s=5121;else{if(!(i instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+i);s=5121}return{buffer:o,type:s,bytesPerElement:i.BYTES_PER_ELEMENT,version:t.version}}function a(t,r,i){const a=r.array,o=r.updateRange;e.bindBuffer(i,t),-1===o.count?e.bufferSubData(i,0,a):(n?e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a,o.offset,o.count):e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1)}function o(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)}function s(t){t.isInterleavedBufferAttribute&&(t=t.data);const n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))}function l(e,t){if(e.isGLBufferAttribute){const t=r.get(e);return void((!t||t.version<e.version)&&r.set(e,{buffer:e.buffer,type:e.type,bytesPerElement:e.elementSize,version:e.version}))}e.isInterleavedBufferAttribute&&(e=e.data);const n=r.get(e);void 0===n?r.set(e,i(e,t)):n.version<e.version&&(a(n.buffer,e,t),n.version=e.version)}return{get:o,remove:s,update:l}}class Ka extends oa{constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const i=e/2,a=t/2,o=Math.floor(n),s=Math.floor(r),l=o+1,c=s+1,u=e/o,d=t/s,h=[],f=[],p=[],m=[];for(let v=0;v<c;v++){const e=v*d-a;for(let t=0;t<l;t++){const n=t*u-i;f.push(n,-e,0),p.push(0,0,1),m.push(t/o),m.push(1-v/s)}}for(let v=0;v<s;v++)for(let e=0;e<o;e++){const t=e+l*v,n=e+l*(v+1),r=e+1+l*(v+1),i=e+1+l*v;h.push(t,n,i),h.push(n,r,i)}this.setIndex(h),this.setAttribute("position",new Ki(f,3)),this.setAttribute("normal",new Ki(p,3)),this.setAttribute("uv",new Ki(m,2))}static fromJSON(e){return new Ka(e.width,e.height,e.widthSegments,e.heightSegments)}}var Ja="#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",Qa="#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",eo="#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",to="#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",no="#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",ro="#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",io="vec3 transformed = vec3( position );",ao="vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",oo="vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#ifdef USE_IRIDESCENCE\n\tvec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",so="#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",lo="#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",co="#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",uo="#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",ho="#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",fo="#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",po="#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",mo="#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",vo="#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",go="#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",_o="#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",yo="#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",bo="vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",xo="#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",wo="#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",So="#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",Mo="#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",Eo="gl_FragColor = linearToOutputTexel( gl_FragColor );",To="vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",Ao="#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",Co="#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",ko="#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",Ro="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",Lo="#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",Io="#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",Po="#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",Do="#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",Oo="#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",No="#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",Fo="#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",Bo="#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",Vo="vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",Uo="uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",zo="#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",Ho="ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",Wo="varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",jo="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",Go="varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",Yo="PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",$o="struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );\n\t#else\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",qo="\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",Xo="#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",Zo="#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",Ko="#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",Jo="#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",Qo="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",es="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",ts="#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",ns="#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",rs="#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",is="#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",as="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",os="#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",ss="#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",ls="#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",cs="#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",us="#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",ds="float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",hs="#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",fs="#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",ps="#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",ms="#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",vs="#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",gs="#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",_s="#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",ys="#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",bs="#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",xs="#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",ws="vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",Ss="#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",Ms="vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",Es="#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",Ts="#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",As="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",Cs="#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",ks="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",Rs="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",Ls="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",Is="float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",Ps="#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",Ds="#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",Os="#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",Ns="#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",Fs="float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",Bs="#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",Vs="#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",Us="#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",zs="#ifdef USE_TRANSMISSION\n\tfloat transmissionAlpha = 1.0;\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationColor, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\n\ttransmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );\n#endif",Hs="#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef texture2DLodEXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( attenuationDistance == 0.0 ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",Ws="#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",js="#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",Gs="#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",Ys="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",$s="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",qs="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",Xs="#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif";const Zs="varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",Ks="uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tgl_FragColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tgl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );\n\t#endif\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",Js="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",Qs="#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",el="#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",tl="#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",nl="#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",rl="#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",il="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",al="uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",ol="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sl="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",ll="#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",cl="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",ul="#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",dl="uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",hl="#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",fl="#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",pl="#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",ml="#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",vl="#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",gl="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",_l="#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",yl="#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",bl="#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",xl="#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",wl="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",Sl="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",Ml="#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",El="uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",Tl="uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",Al="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",Cl={alphamap_fragment:Ja,alphamap_pars_fragment:Qa,alphatest_fragment:eo,alphatest_pars_fragment:to,aomap_fragment:no,aomap_pars_fragment:ro,begin_vertex:io,beginnormal_vertex:ao,bsdfs:oo,iridescence_fragment:so,bumpmap_pars_fragment:lo,clipping_planes_fragment:co,clipping_planes_pars_fragment:uo,clipping_planes_pars_vertex:ho,clipping_planes_vertex:fo,color_fragment:po,color_pars_fragment:mo,color_pars_vertex:vo,color_vertex:go,common:_o,cube_uv_reflection_fragment:yo,defaultnormal_vertex:bo,displacementmap_pars_vertex:xo,displacementmap_vertex:wo,emissivemap_fragment:So,emissivemap_pars_fragment:Mo,encodings_fragment:Eo,encodings_pars_fragment:To,envmap_fragment:Ao,envmap_common_pars_fragment:Co,envmap_pars_fragment:ko,envmap_pars_vertex:Ro,envmap_physical_pars_fragment:zo,envmap_vertex:Lo,fog_vertex:Io,fog_pars_vertex:Po,fog_fragment:Do,fog_pars_fragment:Oo,gradientmap_pars_fragment:No,lightmap_fragment:Fo,lightmap_pars_fragment:Bo,lights_lambert_vertex:Vo,lights_pars_begin:Uo,lights_toon_fragment:Ho,lights_toon_pars_fragment:Wo,lights_phong_fragment:jo,lights_phong_pars_fragment:Go,lights_physical_fragment:Yo,lights_physical_pars_fragment:$o,lights_fragment_begin:qo,lights_fragment_maps:Xo,lights_fragment_end:Zo,logdepthbuf_fragment:Ko,logdepthbuf_pars_fragment:Jo,logdepthbuf_pars_vertex:Qo,logdepthbuf_vertex:es,map_fragment:ts,map_pars_fragment:ns,map_particle_fragment:rs,map_particle_pars_fragment:is,metalnessmap_fragment:as,metalnessmap_pars_fragment:os,morphcolor_vertex:ss,morphnormal_vertex:ls,morphtarget_pars_vertex:cs,morphtarget_vertex:us,normal_fragment_begin:ds,normal_fragment_maps:hs,normal_pars_fragment:fs,normal_pars_vertex:ps,normal_vertex:ms,normalmap_pars_fragment:vs,clearcoat_normal_fragment_begin:gs,clearcoat_normal_fragment_maps:_s,clearcoat_pars_fragment:ys,iridescence_pars_fragment:bs,output_fragment:xs,packing:ws,premultiplied_alpha_fragment:Ss,project_vertex:Ms,dithering_fragment:Es,dithering_pars_fragment:Ts,roughnessmap_fragment:As,roughnessmap_pars_fragment:Cs,shadowmap_pars_fragment:ks,shadowmap_pars_vertex:Rs,shadowmap_vertex:Ls,shadowmask_pars_fragment:Is,skinbase_vertex:Ps,skinning_pars_vertex:Ds,skinning_vertex:Os,skinnormal_vertex:Ns,specularmap_fragment:Fs,specularmap_pars_fragment:Bs,tonemapping_fragment:Vs,tonemapping_pars_fragment:Us,transmission_fragment:zs,transmission_pars_fragment:Hs,uv_pars_fragment:Ws,uv_pars_vertex:js,uv_vertex:Gs,uv2_pars_fragment:Ys,uv2_pars_vertex:$s,uv2_vertex:qs,worldpos_vertex:Xs,background_vert:Zs,background_frag:Ks,cube_vert:Js,cube_frag:Qs,depth_vert:el,depth_frag:tl,distanceRGBA_vert:nl,distanceRGBA_frag:rl,equirect_vert:il,equirect_frag:al,linedashed_vert:ol,linedashed_frag:sl,meshbasic_vert:ll,meshbasic_frag:cl,meshlambert_vert:ul,meshlambert_frag:dl,meshmatcap_vert:hl,meshmatcap_frag:fl,meshnormal_vert:pl,meshnormal_frag:ml,meshphong_vert:vl,meshphong_frag:gl,meshphysical_vert:_l,meshphysical_frag:yl,meshtoon_vert:bl,meshtoon_frag:xl,points_vert:wl,points_frag:Sl,shadow_vert:Ml,shadow_frag:El,sprite_vert:Tl,sprite_frag:Al},kl={common:{diffuse:{value:new lr(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new $n},uv2Transform:{value:new $n},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Yn(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new lr(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new lr(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new $n}},sprite:{diffuse:{value:new lr(16777215)},opacity:{value:1},center:{value:new Yn(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new $n}}},Rl={basic:{uniforms:ka([kl.common,kl.specularmap,kl.envmap,kl.aomap,kl.lightmap,kl.fog]),vertexShader:Cl.meshbasic_vert,fragmentShader:Cl.meshbasic_frag},lambert:{uniforms:ka([kl.common,kl.specularmap,kl.envmap,kl.aomap,kl.lightmap,kl.emissivemap,kl.fog,kl.lights,{emissive:{value:new lr(0)}}]),vertexShader:Cl.meshlambert_vert,fragmentShader:Cl.meshlambert_frag},phong:{uniforms:ka([kl.common,kl.specularmap,kl.envmap,kl.aomap,kl.lightmap,kl.emissivemap,kl.bumpmap,kl.normalmap,kl.displacementmap,kl.fog,kl.lights,{emissive:{value:new lr(0)},specular:{value:new lr(1118481)},shininess:{value:30}}]),vertexShader:Cl.meshphong_vert,fragmentShader:Cl.meshphong_frag},standard:{uniforms:ka([kl.common,kl.envmap,kl.aomap,kl.lightmap,kl.emissivemap,kl.bumpmap,kl.normalmap,kl.displacementmap,kl.roughnessmap,kl.metalnessmap,kl.fog,kl.lights,{emissive:{value:new lr(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Cl.meshphysical_vert,fragmentShader:Cl.meshphysical_frag},toon:{uniforms:ka([kl.common,kl.aomap,kl.lightmap,kl.emissivemap,kl.bumpmap,kl.normalmap,kl.displacementmap,kl.gradientmap,kl.fog,kl.lights,{emissive:{value:new lr(0)}}]),vertexShader:Cl.meshtoon_vert,fragmentShader:Cl.meshtoon_frag},matcap:{uniforms:ka([kl.common,kl.bumpmap,kl.normalmap,kl.displacementmap,kl.fog,{matcap:{value:null}}]),vertexShader:Cl.meshmatcap_vert,fragmentShader:Cl.meshmatcap_frag},points:{uniforms:ka([kl.points,kl.fog]),vertexShader:Cl.points_vert,fragmentShader:Cl.points_frag},dashed:{uniforms:ka([kl.common,kl.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Cl.linedashed_vert,fragmentShader:Cl.linedashed_frag},depth:{uniforms:ka([kl.common,kl.displacementmap]),vertexShader:Cl.depth_vert,fragmentShader:Cl.depth_frag},normal:{uniforms:ka([kl.common,kl.bumpmap,kl.normalmap,kl.displacementmap,{opacity:{value:1}}]),vertexShader:Cl.meshnormal_vert,fragmentShader:Cl.meshnormal_frag},sprite:{uniforms:ka([kl.sprite,kl.fog]),vertexShader:Cl.sprite_vert,fragmentShader:Cl.sprite_frag},background:{uniforms:{uvTransform:{value:new $n},t2D:{value:null}},vertexShader:Cl.background_vert,fragmentShader:Cl.background_frag},cube:{uniforms:ka([kl.envmap,{opacity:{value:1}}]),vertexShader:Cl.cube_vert,fragmentShader:Cl.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Cl.equirect_vert,fragmentShader:Cl.equirect_frag},distanceRGBA:{uniforms:ka([kl.common,kl.displacementmap,{referencePosition:{value:new Sr},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Cl.distanceRGBA_vert,fragmentShader:Cl.distanceRGBA_frag},shadow:{uniforms:ka([kl.lights,kl.fog,{color:{value:new lr(0)},opacity:{value:1}}]),vertexShader:Cl.shadow_vert,fragmentShader:Cl.shadow_frag}};function Ll(e,t,n,r,i,a){const o=new lr(0);let s,l,c=!0===i?0:1,u=null,d=0,h=null;function f(n,i){let a=!1,f=!0===i.isScene?i.background:null;f&&f.isTexture&&(f=t.get(f));const m=e.xr,_=m.getSession&&m.getSession();_&&"additive"===_.environmentBlendMode&&(f=null),null===f?p(o,c):f&&f.isColor&&(p(f,1),a=!0),(e.autoClear||a)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),f&&(f.isCubeTexture||f.mapping===de)?(void 0===l&&(l=new Ma(new Aa(1,1,1),new Da({name:"BackgroundCubeMaterial",uniforms:Ca(Rl.cube.uniforms),vertexShader:Rl.cube.vertexShader,fragmentShader:Rl.cube.fragmentShader,side:g,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(l)),l.material.uniforms.envMap.value=f,l.material.uniforms.flipEnvMap.value=f.isCubeTexture&&!1===f.isRenderTargetTexture?-1:1,u===f&&d===f.version&&h===e.toneMapping||(l.material.needsUpdate=!0,u=f,d=f.version,h=e.toneMapping),l.layers.enableAll(),n.unshift(l,l.geometry,l.material,0,0,null)):f&&f.isTexture&&(void 0===s&&(s=new Ma(new Ka(2,2),new Da({name:"BackgroundMaterial",uniforms:Ca(Rl.background.uniforms),vertexShader:Rl.background.vertexShader,fragmentShader:Rl.background.fragmentShader,side:v,depthTest:!1,depthWrite:!1,fog:!1})),s.geometry.deleteAttribute("normal"),Object.defineProperty(s.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(s)),s.material.uniforms.t2D.value=f,!0===f.matrixAutoUpdate&&f.updateMatrix(),s.material.uniforms.uvTransform.value.copy(f.matrix),u===f&&d===f.version&&h===e.toneMapping||(s.material.needsUpdate=!0,u=f,d=f.version,h=e.toneMapping),s.layers.enableAll(),n.unshift(s,s.geometry,s.material,0,0,null))}function p(e,t){n.buffers.color.setClear(e.r,e.g,e.b,t,a)}return{getClearColor:function(){return o},setClearColor:function(e,t=1){o.set(e),c=t,p(o,c)},getClearAlpha:function(){return c},setClearAlpha:function(e){c=e,p(o,c)},render:f}}function Il(e,t,n,r){const i=e.getParameter(34921),a=r.isWebGL2?null:t.get("OES_vertex_array_object"),o=r.isWebGL2||null!==a,s={},l=v(null);let c=l,u=!1;function d(t,r,i,a,s){let l=!1;if(o){const e=m(a,i,r);c!==e&&(c=e,f(c.object)),l=g(t,a,i,s),l&&_(t,a,i,s)}else{const e=!0===r.wireframe;c.geometry===a.id&&c.program===i.id&&c.wireframe===e||(c.geometry=a.id,c.program=i.id,c.wireframe=e,l=!0)}null!==s&&n.update(s,34963),(l||u)&&(u=!1,M(t,r,i,a),null!==s&&e.bindBuffer(34963,n.get(s).buffer))}function h(){return r.isWebGL2?e.createVertexArray():a.createVertexArrayOES()}function f(t){return r.isWebGL2?e.bindVertexArray(t):a.bindVertexArrayOES(t)}function p(t){return r.isWebGL2?e.deleteVertexArray(t):a.deleteVertexArrayOES(t)}function m(e,t,n){const r=!0===n.wireframe;let i=s[e.id];void 0===i&&(i={},s[e.id]=i);let a=i[t.id];void 0===a&&(a={},i[t.id]=a);let o=a[r];return void 0===o&&(o=v(h()),a[r]=o),o}function v(e){const t=[],n=[],r=[];for(let a=0;a<i;a++)t[a]=0,n[a]=0,r[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function g(e,t,n,r){const i=c.attributes,a=t.attributes;let o=0;const s=n.getAttributes();for(const l in s){const t=s[l];if(t.location>=0){const t=i[l];let n=a[l];if(void 0===n&&("instanceMatrix"===l&&e.instanceMatrix&&(n=e.instanceMatrix),"instanceColor"===l&&e.instanceColor&&(n=e.instanceColor)),void 0===t)return!0;if(t.attribute!==n)return!0;if(n&&t.data!==n.data)return!0;o++}}return c.attributesNum!==o||c.index!==r}function _(e,t,n,r){const i={},a=t.attributes;let o=0;const s=n.getAttributes();for(const l in s){const t=s[l];if(t.location>=0){let t=a[l];void 0===t&&("instanceMatrix"===l&&e.instanceMatrix&&(t=e.instanceMatrix),"instanceColor"===l&&e.instanceColor&&(t=e.instanceColor));const n={};n.attribute=t,t&&t.data&&(n.data=t.data),i[l]=n,o++}}c.attributes=i,c.attributesNum=o,c.index=r}function y(){const e=c.newAttributes;for(let t=0,n=e.length;t<n;t++)e[t]=0}function b(e){x(e,0)}function x(n,i){const a=c.newAttributes,o=c.enabledAttributes,s=c.attributeDivisors;if(a[n]=1,0===o[n]&&(e.enableVertexAttribArray(n),o[n]=1),s[n]!==i){const a=r.isWebGL2?e:t.get("ANGLE_instanced_arrays");a[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),s[n]=i}}function w(){const t=c.newAttributes,n=c.enabledAttributes;for(let r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function S(t,n,i,a,o,s){!0!==r.isWebGL2||5124!==i&&5125!==i?e.vertexAttribPointer(t,n,i,a,o,s):e.vertexAttribIPointer(t,n,i,o,s)}function M(i,a,o,s){if(!1===r.isWebGL2&&(i.isInstancedMesh||s.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;y();const l=s.attributes,c=o.getAttributes(),u=a.defaultAttributeValues;for(const t in c){const r=c[t];if(r.location>=0){let a=l[t];if(void 0===a&&("instanceMatrix"===t&&i.instanceMatrix&&(a=i.instanceMatrix),"instanceColor"===t&&i.instanceColor&&(a=i.instanceColor)),void 0!==a){const t=a.normalized,o=a.itemSize,l=n.get(a);if(void 0===l)continue;const c=l.buffer,u=l.type,d=l.bytesPerElement;if(a.isInterleavedBufferAttribute){const n=a.data,l=n.stride,h=a.offset;if(n.isInstancedInterleavedBuffer){for(let e=0;e<r.locationSize;e++)x(r.location+e,n.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=n.meshPerAttribute*n.count)}else for(let e=0;e<r.locationSize;e++)b(r.location+e);e.bindBuffer(34962,c);for(let e=0;e<r.locationSize;e++)S(r.location+e,o/r.locationSize,u,t,l*d,(h+o/r.locationSize*e)*d)}else{if(a.isInstancedBufferAttribute){for(let e=0;e<r.locationSize;e++)x(r.location+e,a.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=a.meshPerAttribute*a.count)}else for(let e=0;e<r.locationSize;e++)b(r.location+e);e.bindBuffer(34962,c);for(let e=0;e<r.locationSize;e++)S(r.location+e,o/r.locationSize,u,t,o*d,o/r.locationSize*e*d)}}else if(void 0!==u){const n=u[t];if(void 0!==n)switch(n.length){case 2:e.vertexAttrib2fv(r.location,n);break;case 3:e.vertexAttrib3fv(r.location,n);break;case 4:e.vertexAttrib4fv(r.location,n);break;default:e.vertexAttrib1fv(r.location,n)}}}}w()}function E(){C();for(const e in s){const t=s[e];for(const e in t){const n=t[e];for(const e in n)p(n[e].object),delete n[e];delete t[e]}delete s[e]}}function T(e){if(void 0===s[e.id])return;const t=s[e.id];for(const n in t){const e=t[n];for(const t in e)p(e[t].object),delete e[t];delete t[n]}delete s[e.id]}function A(e){for(const t in s){const n=s[t];if(void 0===n[e.id])continue;const r=n[e.id];for(const e in r)p(r[e].object),delete r[e];delete n[e.id]}}function C(){k(),u=!0,c!==l&&(c=l,f(c.object))}function k(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:C,resetDefaultState:k,dispose:E,releaseStatesOfGeometry:T,releaseStatesOfProgram:A,initAttributes:y,enableAttribute:b,disableUnusedAttributes:w}}function Pl(e,t,n,r){const i=r.isWebGL2;let a;function o(e){a=e}function s(t,r){e.drawArrays(a,t,r),n.update(r,a,1)}function l(r,o,s){if(0===s)return;let l,c;if(i)l=e,c="drawArraysInstanced";else if(l=t.get("ANGLE_instanced_arrays"),c="drawArraysInstancedANGLE",null===l)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[c](a,r,o,s),n.update(o,a,s)}this.setMode=o,this.render=s,this.renderInstances=l}function Dl(e,t,n){let r;function i(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){const n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function a(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o="undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!==typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext;let s=void 0!==n.precision?n.precision:"highp";const l=a(s);l!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",l,"instead."),s=l);const c=o||t.has("WEBGL_draw_buffers"),u=!0===n.logarithmicDepthBuffer,d=e.getParameter(34930),h=e.getParameter(35660),f=e.getParameter(3379),p=e.getParameter(34076),m=e.getParameter(34921),v=e.getParameter(36347),g=e.getParameter(36348),_=e.getParameter(36349),y=h>0,b=o||t.has("OES_texture_float"),x=y&&b,w=o?e.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:a,precision:s,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:h,maxTextureSize:f,maxCubemapSize:p,maxAttributes:m,maxVertexUniforms:v,maxVaryings:g,maxFragmentUniforms:_,vertexTextures:y,floatFragmentTextures:b,floatVertexTextures:x,maxSamples:w}}function Ol(e){const t=this;let n=null,r=0,i=!1,a=!1;const o=new Ga,s=new $n,l={value:null,needsUpdate:!1};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),t.numPlanes=r,t.numIntersection=0}function u(e,n,r,i){const a=null!==e?e.length:0;let c=null;if(0!==a){if(c=l.value,!0!==i||null===c){const t=r+4*a,i=n.matrixWorldInverse;s.getNormalMatrix(i),(null===c||c.length<t)&&(c=new Float32Array(t));for(let n=0,l=r;n!==a;++n,l+=4)o.copy(e[n]).applyMatrix4(i,s),o.normal.toArray(c,l),c[l+3]=o.constant}l.value=c,l.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t,a){const o=0!==e.length||t||0!==r||i;return i=t,n=u(e,a,0),r=e.length,o},this.beginShadows=function(){a=!0,u(null)},this.endShadows=function(){a=!1,c()},this.setState=function(t,o,s){const d=t.clippingPlanes,h=t.clipIntersection,f=t.clipShadows,p=e.get(t);if(!i||null===d||0===d.length||a&&!f)a?u(null):c();else{const e=a?0:r,t=4*e;let i=p.clippingState||null;l.value=i,i=u(d,o,t,s);for(let r=0;r!==t;++r)i[r]=n[r];p.clippingState=i,this.numIntersection=h?this.numPlanes:0,this.numPlanes+=e}}}function Nl(e){let t=new WeakMap;function n(e,t){return t===ce?e.mapping=se:t===ue&&(e.mapping=le),e}function r(r){if(r&&r.isTexture&&!1===r.isRenderTargetTexture){const a=r.mapping;if(a===ce||a===ue){if(t.has(r)){const e=t.get(r).texture;return n(e,r.mapping)}{const a=r.image;if(a&&a.height>0){const o=new za(a.height/2);return o.fromEquirectangularTexture(e,r),t.set(r,o),r.addEventListener("dispose",i),n(o.texture,r.mapping)}return null}}}return r}function i(e){const n=e.target;n.removeEventListener("dispose",i);const r=t.get(n);void 0!==r&&(t.delete(n),r.dispose())}function a(){t=new WeakMap}return{get:r,dispose:a}}Rl.physical={uniforms:ka([Rl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Yn(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new lr(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Yn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new lr(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new lr(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Cl.meshphysical_vert,fragmentShader:Cl.meshphysical_frag};class Fl extends Oa{constructor(e=-1,t=1,n=1,r=-1,i=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=i,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let i=n-e,a=n+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){const e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=e*this.view.offsetX,a=i+e*this.view.width,o-=t*this.view.offsetY,s=o-t*this.view.height}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}const Bl=4,Vl=[.125,.215,.35,.446,.526,.582],Ul=20,zl=new Fl,Hl=new lr;let Wl=null;const jl=(1+Math.sqrt(5))/2,Gl=1/jl,Yl=[new Sr(1,1,1),new Sr(-1,1,1),new Sr(1,1,-1),new Sr(-1,1,-1),new Sr(0,jl,Gl),new Sr(0,jl,-Gl),new Sr(Gl,0,jl),new Sr(-Gl,0,jl),new Sr(jl,Gl,0),new Sr(-jl,Gl,0)];class $l{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,r=100){Wl=this._renderer.getRenderTarget(),this._setSize(256);const i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=Ql(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=Jl(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Wl),e.scissorTest=!1,Zl(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===se||e.mapping===le?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Wl=this._renderer.getRenderTarget();const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:be,minFilter:be,generateMipmaps:!1,type:Ie,format:Be,encoding:Dt,depthBuffer:!1},r=Xl(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Xl(e,t,n);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=ql(r)),this._blurMaterial=Kl(r,e,t)}return r}_compileMaterial(e){const t=new Ma(this._lodPlanes[0],e);this._renderer.compile(t,zl)}_sceneToCubeUV(e,t,n,r){const i=90,a=1,o=new Na(i,a,t,n),s=[1,-1,1,1,1,1],l=[1,1,1,-1,-1,-1],c=this._renderer,u=c.autoClear,d=c.toneMapping;c.getClearColor(Hl),c.toneMapping=ee,c.autoClear=!1;const h=new Vi({name:"PMREM.Background",side:g,depthWrite:!1,depthTest:!1}),f=new Ma(new Aa,h);let p=!1;const m=e.background;m?m.isColor&&(h.color.copy(m),e.background=null,p=!0):(h.color.copy(Hl),p=!0);for(let v=0;v<6;v++){const t=v%3;0===t?(o.up.set(0,s[v],0),o.lookAt(l[v],0,0)):1===t?(o.up.set(0,0,s[v]),o.lookAt(0,l[v],0)):(o.up.set(0,s[v],0),o.lookAt(0,0,l[v]));const n=this._cubeSize;Zl(r,t*n,v>2?n:0,n,n),c.setRenderTarget(r),p&&c.render(f,o),c.render(e,o)}f.geometry.dispose(),f.material.dispose(),c.toneMapping=d,c.autoClear=u,e.background=m}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===se||e.mapping===le;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=Ql()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Jl());const i=r?this._cubemapMaterial:this._equirectMaterial,a=new Ma(this._lodPlanes[0],i),o=i.uniforms;o["envMap"].value=e;const s=this._cubeSize;Zl(t,0,0,3*s,2*s),n.setRenderTarget(t),n.render(a,zl)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const t=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),n=Yl[(r-1)%Yl.length];this._blur(e,r-1,r,t,n)}t.autoClear=n}_blur(e,t,n,r,i){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",i),this._halfBlur(a,e,n,n,r,"longitudinal",i)}_halfBlur(e,t,n,r,i,a,o){const s=this._renderer,l=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,u=new Ma(this._lodPlanes[r],l),d=l.uniforms,h=this._sizeLods[n]-1,f=isFinite(i)?Math.PI/(2*h):2*Math.PI/(2*Ul-1),p=i/f,m=isFinite(i)?1+Math.floor(c*p):Ul;m>Ul&&console.warn(`sigmaRadians, ${i}, is too large and will clip, as it requested ${m} samples when the maximum is set to ${Ul}`);const v=[];let g=0;for(let w=0;w<Ul;++w){const e=w/p,t=Math.exp(-e*e/2);v.push(t),0===w?g+=t:w<m&&(g+=2*t)}for(let w=0;w<v.length;w++)v[w]=v[w]/g;d["envMap"].value=e.texture,d["samples"].value=m,d["weights"].value=v,d["latitudinal"].value="latitudinal"===a,o&&(d["poleAxis"].value=o);const{_lodMax:_}=this;d["dTheta"].value=f,d["mipInt"].value=_-n;const y=this._sizeLods[r],b=3*y*(r>_-Bl?r-_+Bl:0),x=4*(this._cubeSize-y);Zl(t,b,x,3*y,2*y),s.setRenderTarget(t),s.render(u,zl)}}function ql(e){const t=[],n=[],r=[];let i=e;const a=e-Bl+1+Vl.length;for(let o=0;o<a;o++){const a=Math.pow(2,i);n.push(a);let s=1/a;o>e-Bl?s=Vl[o-e+Bl-1]:0===o&&(s=0),r.push(s);const l=1/(a-2),c=-l,u=1+l,d=[c,c,u,c,u,u,c,c,u,u,c,u],h=6,f=6,p=3,m=2,v=1,g=new Float32Array(p*f*h),_=new Float32Array(m*f*h),y=new Float32Array(v*f*h);for(let e=0;e<h;e++){const t=e%3*2/3-1,n=e>2?0:-1,r=[t,n,0,t+2/3,n,0,t+2/3,n+1,0,t,n,0,t+2/3,n+1,0,t,n+1,0];g.set(r,p*f*e),_.set(d,m*f*e);const i=[e,e,e,e,e,e];y.set(i,v*f*e)}const b=new oa;b.setAttribute("position",new Hi(g,p)),b.setAttribute("uv",new Hi(_,m)),b.setAttribute("faceIndex",new Hi(y,v)),t.push(b),i>Bl&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}function Xl(e,t,n){const r=new vr(e,t,n);return r.texture.mapping=de,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Zl(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function Kl(e,t,n){const r=new Float32Array(Ul),i=new Sr(0,1,0),a=new Da({name:"SphericalGaussianBlur",defines:{n:Ul,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:ec(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:x,depthTest:!1,depthWrite:!1});return a}function Jl(){return new Da({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:ec(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:x,depthTest:!1,depthWrite:!1})}function Ql(){return new Da({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:ec(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:x,depthTest:!1,depthWrite:!1})}function ec(){return"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t"}function tc(e){let t=new WeakMap,n=null;function r(r){if(r&&r.isTexture){const o=r.mapping,s=o===ce||o===ue,l=o===se||o===le;if(s||l){if(r.isRenderTargetTexture&&!0===r.needsPMREMUpdate){r.needsPMREMUpdate=!1;let i=t.get(r);return null===n&&(n=new $l(e)),i=s?n.fromEquirectangular(r,i):n.fromCubemap(r,i),t.set(r,i),i.texture}if(t.has(r))return t.get(r).texture;{const o=r.image;if(s&&o&&o.height>0||l&&o&&i(o)){null===n&&(n=new $l(e));const i=s?n.fromEquirectangular(r):n.fromCubemap(r);return t.set(r,i),r.addEventListener("dispose",a),i.texture}return null}}}return r}function i(e){let t=0;const n=6;for(let r=0;r<n;r++)void 0!==e[r]&&t++;return t===n}function a(e){const n=e.target;n.removeEventListener("dispose",a);const r=t.get(n);void 0!==r&&(t.delete(n),r.dispose())}function o(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}return{get:r,dispose:o}}function nc(e){const t={};function n(n){if(void 0!==t[n])return t[n];let r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(e){const t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function rc(e,t,n,r){const i={},a=new WeakMap;function o(e){const s=e.target;null!==s.index&&t.remove(s.index);for(const n in s.attributes)t.remove(s.attributes[n]);s.removeEventListener("dispose",o),delete i[s.id];const l=a.get(s);l&&(t.remove(l),a.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e,t){return!0===i[t.id]||(t.addEventListener("dispose",o),i[t.id]=!0,n.memory.geometries++),t}function l(e){const n=e.attributes;for(const i in n)t.update(n[i],34962);const r=e.morphAttributes;for(const i in r){const e=r[i];for(let n=0,r=e.length;n<r;n++)t.update(e[n],34962)}}function c(e){const n=[],r=e.index,i=e.attributes.position;let o=0;if(null!==r){const e=r.array;o=r.version;for(let t=0,r=e.length;t<r;t+=3){const r=e[t+0],i=e[t+1],a=e[t+2];n.push(r,i,i,a,a,r)}}else{const e=i.array;o=i.version;for(let t=0,r=e.length/3-1;t<r;t+=3){const e=t+0,r=t+1,i=t+2;n.push(e,r,r,i,i,e)}}const s=new(qn(n)?Xi:$i)(n,1);s.version=o;const l=a.get(e);l&&t.remove(l),a.set(e,s)}function u(e){const t=a.get(e);if(t){const n=e.index;null!==n&&t.version<n.version&&c(e)}else c(e);return a.get(e)}return{get:s,update:l,getWireframeAttribute:u}}function ic(e,t,n,r){const i=r.isWebGL2;let a,o,s;function l(e){a=e}function c(e){o=e.type,s=e.bytesPerElement}function u(t,r){e.drawElements(a,r,o,t*s),n.update(r,a,1)}function d(r,l,c){if(0===c)return;let u,d;if(i)u=e,d="drawElementsInstanced";else if(u=t.get("ANGLE_instanced_arrays"),d="drawElementsInstancedANGLE",null===u)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[d](a,l,o,r*s,c),n.update(l,a,c)}this.setMode=l,this.setIndex=c,this.render=u,this.renderInstances=d}function ac(e){const t={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(e,t,r){switch(n.calls++,t){case 4:n.triangles+=r*(e/3);break;case 1:n.lines+=r*(e/2);break;case 3:n.lines+=r*(e-1);break;case 2:n.lines+=r*e;break;case 0:n.points+=r*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",t);break}}function i(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:t,render:n,programs:null,autoReset:!0,reset:i,update:r}}function oc(e,t){return e[0]-t[0]}function sc(e,t){return Math.abs(t[1])-Math.abs(e[1])}function lc(e,t){let n=1;const r=t.isInterleavedBufferAttribute?t.data.array:t.array;r instanceof Int8Array?n=127:r instanceof Uint8Array?n=255:r instanceof Uint16Array?n=65535:r instanceof Int16Array?n=32767:r instanceof Int32Array?n=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",r),e.divideScalar(n)}function cc(e,t,n){const r={},i=new Float32Array(8),a=new WeakMap,o=new mr,s=[];for(let c=0;c<8;c++)s[c]=[c,0];function l(l,c,u,d){const h=l.morphTargetInfluences;if(!0===t.isWebGL2){const r=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,i=void 0!==r?r.length:0;let s=a.get(c);if(void 0===s||s.count!==i){let e=function(){g.dispose(),a.delete(c),c.removeEventListener("dispose",e)};void 0!==s&&s.texture.dispose();const n=void 0!==c.morphAttributes.position,r=void 0!==c.morphAttributes.normal,l=void 0!==c.morphAttributes.color,u=c.morphAttributes.position||[],d=c.morphAttributes.normal||[],h=c.morphAttributes.color||[];let f=0;!0===n&&(f=1),!0===r&&(f=2),!0===l&&(f=3);let p=c.attributes.position.count*f,m=1;p>t.maxTextureSize&&(m=Math.ceil(p/t.maxTextureSize),p=t.maxTextureSize);const v=new Float32Array(p*m*4*i),g=new gr(v,p,m,i);g.type=Le,g.needsUpdate=!0;const _=4*f;for(let t=0;t<i;t++){const e=u[t],i=d[t],a=h[t],s=p*m*4*t;for(let t=0;t<e.count;t++){const c=t*_;!0===n&&(o.fromBufferAttribute(e,t),!0===e.normalized&&lc(o,e),v[s+c+0]=o.x,v[s+c+1]=o.y,v[s+c+2]=o.z,v[s+c+3]=0),!0===r&&(o.fromBufferAttribute(i,t),!0===i.normalized&&lc(o,i),v[s+c+4]=o.x,v[s+c+5]=o.y,v[s+c+6]=o.z,v[s+c+7]=0),!0===l&&(o.fromBufferAttribute(a,t),!0===a.normalized&&lc(o,a),v[s+c+8]=o.x,v[s+c+9]=o.y,v[s+c+10]=o.z,v[s+c+11]=4===a.itemSize?o.w:1)}}s={count:i,texture:g,size:new Yn(p,m)},a.set(c,s),c.addEventListener("dispose",e)}let l=0;for(let e=0;e<h.length;e++)l+=h[e];const u=c.morphTargetsRelative?1:1-l;d.getUniforms().setValue(e,"morphTargetBaseInfluence",u),d.getUniforms().setValue(e,"morphTargetInfluences",h),d.getUniforms().setValue(e,"morphTargetsTexture",s.texture,n),d.getUniforms().setValue(e,"morphTargetsTextureSize",s.size)}else{const t=void 0===h?0:h.length;let n=r[c.id];if(void 0===n||n.length!==t){n=[];for(let e=0;e<t;e++)n[e]=[e,0];r[c.id]=n}for(let e=0;e<t;e++){const t=n[e];t[0]=e,t[1]=h[e]}n.sort(sc);for(let e=0;e<8;e++)e<t&&n[e][1]?(s[e][0]=n[e][0],s[e][1]=n[e][1]):(s[e][0]=Number.MAX_SAFE_INTEGER,s[e][1]=0);s.sort(oc);const a=c.morphAttributes.position,o=c.morphAttributes.normal;let l=0;for(let e=0;e<8;e++){const t=s[e],n=t[0],r=t[1];n!==Number.MAX_SAFE_INTEGER&&r?(a&&c.getAttribute("morphTarget"+e)!==a[n]&&c.setAttribute("morphTarget"+e,a[n]),o&&c.getAttribute("morphNormal"+e)!==o[n]&&c.setAttribute("morphNormal"+e,o[n]),i[e]=r,l+=r):(a&&!0===c.hasAttribute("morphTarget"+e)&&c.deleteAttribute("morphTarget"+e),o&&!0===c.hasAttribute("morphNormal"+e)&&c.deleteAttribute("morphNormal"+e),i[e]=0)}const u=c.morphTargetsRelative?1:1-l;d.getUniforms().setValue(e,"morphTargetBaseInfluence",u),d.getUniforms().setValue(e,"morphTargetInfluences",i)}}return{update:l}}function uc(e,t,n,r){let i=new WeakMap;function a(e){const a=r.render.frame,o=e.geometry,l=t.get(e,o);return i.get(l)!==a&&(t.update(l),i.set(l,a)),e.isInstancedMesh&&(!1===e.hasEventListener("dispose",s)&&e.addEventListener("dispose",s),n.update(e.instanceMatrix,34962),null!==e.instanceColor&&n.update(e.instanceColor,34962)),l}function o(){i=new WeakMap}function s(e){const t=e.target;t.removeEventListener("dispose",s),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:a,dispose:o}}const dc=new pr,hc=new gr,fc=new yr,pc=new Ua,mc=[],vc=[],gc=new Float32Array(16),_c=new Float32Array(9),yc=new Float32Array(4);function bc(e,t,n){const r=e[0];if(r<=0||r>0)return e;const i=t*n;let a=mc[i];if(void 0===a&&(a=new Float32Array(i),mc[i]=a),0!==t){r.toArray(a,0);for(let r=1,i=0;r!==t;++r)i+=n,e[r].toArray(a,i)}return a}function xc(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function wc(e,t){for(let n=0,r=t.length;n<r;n++)e[n]=t[n]}function Sc(e,t){let n=vc[t];void 0===n&&(n=new Int32Array(t),vc[t]=n);for(let r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function Mc(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function Ec(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(xc(n,t))return;e.uniform2fv(this.addr,t),wc(n,t)}}function Tc(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(xc(n,t))return;e.uniform3fv(this.addr,t),wc(n,t)}}function Ac(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(xc(n,t))return;e.uniform4fv(this.addr,t),wc(n,t)}}function Cc(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(xc(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),wc(n,t)}else{if(xc(n,r))return;yc.set(r),e.uniformMatrix2fv(this.addr,!1,yc),wc(n,r)}}function kc(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(xc(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),wc(n,t)}else{if(xc(n,r))return;_c.set(r),e.uniformMatrix3fv(this.addr,!1,_c),wc(n,r)}}function Rc(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(xc(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),wc(n,t)}else{if(xc(n,r))return;gc.set(r),e.uniformMatrix4fv(this.addr,!1,gc),wc(n,r)}}function Lc(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function Ic(e,t){const n=this.cache;xc(n,t)||(e.uniform2iv(this.addr,t),wc(n,t))}function Pc(e,t){const n=this.cache;xc(n,t)||(e.uniform3iv(this.addr,t),wc(n,t))}function Dc(e,t){const n=this.cache;xc(n,t)||(e.uniform4iv(this.addr,t),wc(n,t))}function Oc(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function Nc(e,t){const n=this.cache;xc(n,t)||(e.uniform2uiv(this.addr,t),wc(n,t))}function Fc(e,t){const n=this.cache;xc(n,t)||(e.uniform3uiv(this.addr,t),wc(n,t))}function Bc(e,t){const n=this.cache;xc(n,t)||(e.uniform4uiv(this.addr,t),wc(n,t))}function Vc(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(t||dc,i)}function Uc(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||fc,i)}function zc(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||pc,i)}function Hc(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||hc,i)}function Wc(e){switch(e){case 5126:return Mc;case 35664:return Ec;case 35665:return Tc;case 35666:return Ac;case 35674:return Cc;case 35675:return kc;case 35676:return Rc;case 5124:case 35670:return Lc;case 35667:case 35671:return Ic;case 35668:case 35672:return Pc;case 35669:case 35673:return Dc;case 5125:return Oc;case 36294:return Nc;case 36295:return Fc;case 36296:return Bc;case 35678:case 36198:case 36298:case 36306:case 35682:return Vc;case 35679:case 36299:case 36307:return Uc;case 35680:case 36300:case 36308:case 36293:return zc;case 36289:case 36303:case 36311:case 36292:return Hc}}function jc(e,t){e.uniform1fv(this.addr,t)}function Gc(e,t){const n=bc(t,this.size,2);e.uniform2fv(this.addr,n)}function Yc(e,t){const n=bc(t,this.size,3);e.uniform3fv(this.addr,n)}function $c(e,t){const n=bc(t,this.size,4);e.uniform4fv(this.addr,n)}function qc(e,t){const n=bc(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function Xc(e,t){const n=bc(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function Zc(e,t){const n=bc(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Kc(e,t){e.uniform1iv(this.addr,t)}function Jc(e,t){e.uniform2iv(this.addr,t)}function Qc(e,t){e.uniform3iv(this.addr,t)}function eu(e,t){e.uniform4iv(this.addr,t)}function tu(e,t){e.uniform1uiv(this.addr,t)}function nu(e,t){e.uniform2uiv(this.addr,t)}function ru(e,t){e.uniform3uiv(this.addr,t)}function iu(e,t){e.uniform4uiv(this.addr,t)}function au(e,t,n){const r=t.length,i=Sc(n,r);e.uniform1iv(this.addr,i);for(let a=0;a!==r;++a)n.setTexture2D(t[a]||dc,i[a])}function ou(e,t,n){const r=t.length,i=Sc(n,r);e.uniform1iv(this.addr,i);for(let a=0;a!==r;++a)n.setTexture3D(t[a]||fc,i[a])}function su(e,t,n){const r=t.length,i=Sc(n,r);e.uniform1iv(this.addr,i);for(let a=0;a!==r;++a)n.setTextureCube(t[a]||pc,i[a])}function lu(e,t,n){const r=t.length,i=Sc(n,r);e.uniform1iv(this.addr,i);for(let a=0;a!==r;++a)n.setTexture2DArray(t[a]||hc,i[a])}function cu(e){switch(e){case 5126:return jc;case 35664:return Gc;case 35665:return Yc;case 35666:return $c;case 35674:return qc;case 35675:return Xc;case 35676:return Zc;case 5124:case 35670:return Kc;case 35667:case 35671:return Jc;case 35668:case 35672:return Qc;case 35669:case 35673:return eu;case 5125:return tu;case 36294:return nu;case 36295:return ru;case 36296:return iu;case 35678:case 36198:case 36298:case 36306:case 35682:return au;case 35679:case 36299:case 36307:return ou;case 35680:case 36300:case 36308:case 36293:return su;case 36289:case 36303:case 36311:case 36292:return lu}}class uu{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=Wc(t.type)}}class du{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=cu(t.type)}}class hu{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let i=0,a=r.length;i!==a;++i){const a=r[i];a.setValue(e,t[a.id],n)}}}const fu=/(\w+)(\])?(\[|\.)?/g;function pu(e,t){e.seq.push(t),e.map[t.id]=t}function mu(e,t,n){const r=e.name,i=r.length;fu.lastIndex=0;while(1){const a=fu.exec(r),o=fu.lastIndex;let s=a[1];const l="]"===a[2],c=a[3];if(l&&(s|=0),void 0===c||"["===c&&o+2===i){pu(n,void 0===c?new uu(s,e,t):new du(s,e,t));break}{const e=n.map;let t=e[s];void 0===t&&(t=new hu(s),pu(n,t)),n=t}}}class vu{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,35718);for(let r=0;r<n;++r){const n=e.getActiveUniform(t,r),i=e.getUniformLocation(t,n.name);mu(n,i,this)}}setValue(e,t,n,r){const i=this.map[t];void 0!==i&&i.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];void 0!==r&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let i=0,a=t.length;i!==a;++i){const a=t[i],o=n[a.id];!1!==o.needsUpdate&&a.setValue(e,o.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,i=e.length;r!==i;++r){const i=e[r];i.id in t&&n.push(i)}return n}}function gu(e,t,n){const r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}let _u=0;function yu(e,t){const n=e.split("\n"),r=[],i=Math.max(t-6,0),a=Math.min(t+6,n.length);for(let o=i;o<a;o++){const e=o+1;r.push(`${e===t?">":" "} ${e}: ${n[o]}`)}return r.join("\n")}function bu(e){switch(e){case Dt:return["Linear","( value )"];case Ot:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function xu(e,t,n){const r=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();if(r&&""===i)return"";const a=/ERROR: 0:(\d+)/.exec(i);if(a){const r=parseInt(a[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+yu(e.getShaderSource(t),r)}return i}function wu(e,t){const n=bu(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Su(e,t){let n;switch(t){case te:n="Linear";break;case ne:n="Reinhard";break;case re:n="OptimizedCineon";break;case ie:n="ACESFilmic";break;case ae:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Mu(e){const t=[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""];return t.filter(Au).join("\n")}function Eu(e){const t=[];for(const n in e){const r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}function Tu(e,t){const n={},r=e.getProgramParameter(t,35721);for(let i=0;i<r;i++){const r=e.getActiveAttrib(t,i),a=r.name;let o=1;35674===r.type&&(o=2),35675===r.type&&(o=3),35676===r.type&&(o=4),n[a]={type:r.type,location:e.getAttribLocation(t,a),locationSize:o}}return n}function Au(e){return""!==e}function Cu(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function ku(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const Ru=/^[ \t]*#include +<([\w\d./]+)>/gm;function Lu(e){return e.replace(Ru,Iu)}function Iu(e,t){const n=Cl[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return Lu(n)}const Pu=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Du=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Ou(e){return e.replace(Du,Fu).replace(Pu,Nu)}function Nu(e,t,n,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),Fu(e,t,n,r)}function Fu(e,t,n,r){let i="";for(let a=parseInt(t);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function Bu(e){let t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function Vu(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===f?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===p?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===m&&(t="SHADOWMAP_TYPE_VSM"),t}function Uu(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case se:case le:t="ENVMAP_TYPE_CUBE";break;case de:t="ENVMAP_TYPE_CUBE_UV";break}return t}function zu(e){let t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case le:t="ENVMAP_MODE_REFRACTION";break}return t}function Hu(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case K:t="ENVMAP_BLENDING_MULTIPLY";break;case J:t="ENVMAP_BLENDING_MIX";break;case Q:t="ENVMAP_BLENDING_ADD";break}return t}function Wu(e){const t=e.envMapCubeUVHeight;if(null===t)return null;const n=Math.log2(t)-2,r=1/t,i=1/(3*Math.max(Math.pow(2,n),112));return{texelWidth:i,texelHeight:r,maxMip:n}}function ju(e,t,n,r){const i=e.getContext(),a=n.defines;let o=n.vertexShader,s=n.fragmentShader;const l=Vu(n),c=Uu(n),u=zu(n),d=Hu(n),h=Wu(n),f=n.isWebGL2?"":Mu(n),p=Eu(a),m=i.createProgram();let v,g,_=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(v=[p].filter(Au).join("\n"),v.length>0&&(v+="\n"),g=[f,p].filter(Au).join("\n"),g.length>0&&(g+="\n")):(v=[Bu(n),"#define SHADER_NAME "+n.shaderName,p,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Au).join("\n"),g=[f,Bu(n),"#define SHADER_NAME "+n.shaderName,p,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==ee?"#define TONE_MAPPING":"",n.toneMapping!==ee?Cl["tonemapping_pars_fragment"]:"",n.toneMapping!==ee?Su("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Cl["encodings_pars_fragment"],wu("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Au).join("\n")),o=Lu(o),o=Cu(o,n),o=ku(o,n),s=Lu(s),s=Cu(s,n),s=ku(s,n),o=Ou(o),s=Ou(s),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(_="#version 300 es\n",v=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+v,g=["#define varying in",n.glslVersion===vn?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===vn?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+g);const y=_+v+o,b=_+g+s,x=gu(i,35633,y),w=gu(i,35632,b);if(i.attachShader(m,x),i.attachShader(m,w),void 0!==n.index0AttributeName?i.bindAttribLocation(m,0,n.index0AttributeName):!0===n.morphTargets&&i.bindAttribLocation(m,0,"position"),i.linkProgram(m),e.debug.checkShaderErrors){const e=i.getProgramInfoLog(m).trim(),t=i.getShaderInfoLog(x).trim(),n=i.getShaderInfoLog(w).trim();let r=!0,a=!0;if(!1===i.getProgramParameter(m,35714)){r=!1;const t=xu(i,x,"vertex"),n=xu(i,w,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(m,35715)+"\n\nProgram Info Log: "+e+"\n"+t+"\n"+n)}else""!==e?console.warn("THREE.WebGLProgram: Program Info Log:",e):""!==t&&""!==n||(a=!1);a&&(this.diagnostics={runnable:r,programLog:e,vertexShader:{log:t,prefix:v},fragmentShader:{log:n,prefix:g}})}let S,M;return i.deleteShader(x),i.deleteShader(w),this.getUniforms=function(){return void 0===S&&(S=new vu(i,m)),S},this.getAttributes=function(){return void 0===M&&(M=Tu(i,m)),M},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(m),this.program=void 0},this.name=n.shaderName,this.id=_u++,this.cacheKey=t,this.usedTimes=1,this.program=m,this.vertexShader=x,this.fragmentShader=w,this}let Gu=0;class Yu{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return!1===a.has(r)&&(a.add(r),r.usedTimes++),!1===a.has(i)&&(a.add(i),i.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,0===n.usedTimes&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;return!1===t.has(e)&&t.set(e,new Set),t.get(e)}_getShaderStage(e){const t=this.shaderCache;if(!1===t.has(e)){const n=new $u(e);t.set(e,n)}return t.get(e)}}class $u{constructor(e){this.id=Gu++,this.code=e,this.usedTimes=0}}function qu(e,t,n,r,i,a,o){const s=new di,l=new Yu,c=[],u=i.isWebGL2,d=i.logarithmicDepthBuffer,h=i.vertexTextures;let f=i.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(a,s,c,m,v){const y=m.fog,b=v.geometry,x=a.isMeshStandardMaterial?m.environment:null,S=(a.isMeshStandardMaterial?n:t).get(a.envMap||x),M=S&&S.mapping===de?S.image.height:null,E=p[a.type];null!==a.precision&&(f=i.getMaxPrecision(a.precision),f!==a.precision&&console.warn("THREE.WebGLProgram.getParameters:",a.precision,"not supported, using",f,"instead."));const T=b.morphAttributes.position||b.morphAttributes.normal||b.morphAttributes.color,A=void 0!==T?T.length:0;let C,k,R,L,I=0;if(void 0!==b.morphAttributes.position&&(I=1),void 0!==b.morphAttributes.normal&&(I=2),void 0!==b.morphAttributes.color&&(I=3),E){const e=Rl[E];C=e.vertexShader,k=e.fragmentShader}else C=a.vertexShader,k=a.fragmentShader,l.update(a),R=l.getVertexShaderID(a),L=l.getFragmentShaderID(a);const P=e.getRenderTarget(),D=a.alphaTest>0,O=a.clearcoat>0,N=a.iridescence>0,F={isWebGL2:u,shaderID:E,shaderName:a.type,vertexShader:C,fragmentShader:k,defines:a.defines,customVertexShaderID:R,customFragmentShaderID:L,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:f,instancing:!0===v.isInstancedMesh,instancingColor:!0===v.isInstancedMesh&&null!==v.instanceColor,supportsVertexTextures:h,outputEncoding:null===P?e.outputEncoding:!0===P.isXRRenderTarget?P.texture.encoding:Dt,map:!!a.map,matcap:!!a.matcap,envMap:!!S,envMapMode:S&&S.mapping,envMapCubeUVHeight:M,lightMap:!!a.lightMap,aoMap:!!a.aoMap,emissiveMap:!!a.emissiveMap,bumpMap:!!a.bumpMap,normalMap:!!a.normalMap,objectSpaceNormalMap:a.normalMapType===Vt,tangentSpaceNormalMap:a.normalMapType===Bt,decodeVideoTexture:!!a.map&&!0===a.map.isVideoTexture&&a.map.encoding===Ot,clearcoat:O,clearcoatMap:O&&!!a.clearcoatMap,clearcoatRoughnessMap:O&&!!a.clearcoatRoughnessMap,clearcoatNormalMap:O&&!!a.clearcoatNormalMap,iridescence:N,iridescenceMap:N&&!!a.iridescenceMap,iridescenceThicknessMap:N&&!!a.iridescenceThicknessMap,displacementMap:!!a.displacementMap,roughnessMap:!!a.roughnessMap,metalnessMap:!!a.metalnessMap,specularMap:!!a.specularMap,specularIntensityMap:!!a.specularIntensityMap,specularColorMap:!!a.specularColorMap,opaque:!1===a.transparent&&a.blending===w,alphaMap:!!a.alphaMap,alphaTest:D,gradientMap:!!a.gradientMap,sheen:a.sheen>0,sheenColorMap:!!a.sheenColorMap,sheenRoughnessMap:!!a.sheenRoughnessMap,transmission:a.transmission>0,transmissionMap:!!a.transmissionMap,thicknessMap:!!a.thicknessMap,combine:a.combine,vertexTangents:!!a.normalMap&&!!b.attributes.tangent,vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!b.attributes.color&&4===b.attributes.color.itemSize,vertexUvs:!!a.map||!!a.bumpMap||!!a.normalMap||!!a.specularMap||!!a.alphaMap||!!a.emissiveMap||!!a.roughnessMap||!!a.metalnessMap||!!a.clearcoatMap||!!a.clearcoatRoughnessMap||!!a.clearcoatNormalMap||!!a.iridescenceMap||!!a.iridescenceThicknessMap||!!a.displacementMap||!!a.transmissionMap||!!a.thicknessMap||!!a.specularIntensityMap||!!a.specularColorMap||!!a.sheenColorMap||!!a.sheenRoughnessMap,uvsVertexOnly:!(a.map||a.bumpMap||a.normalMap||a.specularMap||a.alphaMap||a.emissiveMap||a.roughnessMap||a.metalnessMap||a.clearcoatNormalMap||a.iridescenceMap||a.iridescenceThicknessMap||a.transmission>0||a.transmissionMap||a.thicknessMap||a.specularIntensityMap||a.specularColorMap||a.sheen>0||a.sheenColorMap||a.sheenRoughnessMap)&&!!a.displacementMap,fog:!!y,useFog:!0===a.fog,fogExp2:y&&y.isFogExp2,flatShading:!!a.flatShading,sizeAttenuation:a.sizeAttenuation,logarithmicDepthBuffer:d,skinning:!0===v.isSkinnedMesh,morphTargets:void 0!==b.morphAttributes.position,morphNormals:void 0!==b.morphAttributes.normal,morphColors:void 0!==b.morphAttributes.color,morphTargetsCount:A,morphTextureStride:I,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&c.length>0,shadowMapType:e.shadowMap.type,toneMapping:a.toneMapped?e.toneMapping:ee,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:a.premultipliedAlpha,doubleSided:a.side===_,flipSided:a.side===g,useDepthPacking:!!a.depthPacking,depthPacking:a.depthPacking||0,index0AttributeName:a.index0AttributeName,extensionDerivatives:a.extensions&&a.extensions.derivatives,extensionFragDepth:a.extensions&&a.extensions.fragDepth,extensionDrawBuffers:a.extensions&&a.extensions.drawBuffers,extensionShaderTextureLOD:a.extensions&&a.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),customProgramCacheKey:a.customProgramCacheKey()};return F}function v(t){const n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(const e in t.defines)n.push(e),n.push(t.defines[e]);return!1===t.isRawShaderMaterial&&(y(n,t),b(n,t),n.push(e.outputEncoding)),n.push(t.customProgramCacheKey),n.join()}function y(e,t){e.push(t.precision),e.push(t.outputEncoding),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.combine),e.push(t.vertexUvs),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}function b(e,t){s.disableAll(),t.isWebGL2&&s.enable(0),t.supportsVertexTextures&&s.enable(1),t.instancing&&s.enable(2),t.instancingColor&&s.enable(3),t.map&&s.enable(4),t.matcap&&s.enable(5),t.envMap&&s.enable(6),t.lightMap&&s.enable(7),t.aoMap&&s.enable(8),t.emissiveMap&&s.enable(9),t.bumpMap&&s.enable(10),t.normalMap&&s.enable(11),t.objectSpaceNormalMap&&s.enable(12),t.tangentSpaceNormalMap&&s.enable(13),t.clearcoat&&s.enable(14),t.clearcoatMap&&s.enable(15),t.clearcoatRoughnessMap&&s.enable(16),t.clearcoatNormalMap&&s.enable(17),t.iridescence&&s.enable(18),t.iridescenceMap&&s.enable(19),t.iridescenceThicknessMap&&s.enable(20),t.displacementMap&&s.enable(21),t.specularMap&&s.enable(22),t.roughnessMap&&s.enable(23),t.metalnessMap&&s.enable(24),t.gradientMap&&s.enable(25),t.alphaMap&&s.enable(26),t.alphaTest&&s.enable(27),t.vertexColors&&s.enable(28),t.vertexAlphas&&s.enable(29),t.vertexUvs&&s.enable(30),t.vertexTangents&&s.enable(31),t.uvsVertexOnly&&s.enable(32),t.fog&&s.enable(33),e.push(s.mask),s.disableAll(),t.useFog&&s.enable(0),t.flatShading&&s.enable(1),t.logarithmicDepthBuffer&&s.enable(2),t.skinning&&s.enable(3),t.morphTargets&&s.enable(4),t.morphNormals&&s.enable(5),t.morphColors&&s.enable(6),t.premultipliedAlpha&&s.enable(7),t.shadowMapEnabled&&s.enable(8),t.physicallyCorrectLights&&s.enable(9),t.doubleSided&&s.enable(10),t.flipSided&&s.enable(11),t.useDepthPacking&&s.enable(12),t.dithering&&s.enable(13),t.specularIntensityMap&&s.enable(14),t.specularColorMap&&s.enable(15),t.transmission&&s.enable(16),t.transmissionMap&&s.enable(17),t.thicknessMap&&s.enable(18),t.sheen&&s.enable(19),t.sheenColorMap&&s.enable(20),t.sheenRoughnessMap&&s.enable(21),t.decodeVideoTexture&&s.enable(22),t.opaque&&s.enable(23),e.push(s.mask)}function x(e){const t=p[e.type];let n;if(t){const e=Rl[t];n=La.clone(e.uniforms)}else n=e.uniforms;return n}function S(t,n){let r;for(let e=0,i=c.length;e<i;e++){const t=c[e];if(t.cacheKey===n){r=t,++r.usedTimes;break}}return void 0===r&&(r=new ju(e,n,t,a),c.push(r)),r}function M(e){if(0===--e.usedTimes){const t=c.indexOf(e);c[t]=c[c.length-1],c.pop(),e.destroy()}}function E(e){l.remove(e)}function T(){l.dispose()}return{getParameters:m,getProgramCacheKey:v,getUniforms:x,acquireProgram:S,releaseProgram:M,releaseShaderCache:E,programs:c,dispose:T}}function Xu(){let e=new WeakMap;function t(t){let n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n}function n(t){e.delete(t)}function r(t,n,r){e.get(t)[n]=r}function i(){e=new WeakMap}return{get:t,remove:n,update:r,dispose:i}}function Zu(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Ku(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Ju(){const e=[];let t=0;const n=[],r=[],i=[];function a(){t=0,n.length=0,r.length=0,i.length=0}function o(n,r,i,a,o,s){let l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:r,material:i,groupOrder:a,renderOrder:n.renderOrder,z:o,group:s},e[t]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=i,l.groupOrder=a,l.renderOrder=n.renderOrder,l.z=o,l.group=s),t++,l}function s(e,t,a,s,l,c){const u=o(e,t,a,s,l,c);a.transmission>0?r.push(u):!0===a.transparent?i.push(u):n.push(u)}function l(e,t,a,s,l,c){const u=o(e,t,a,s,l,c);a.transmission>0?r.unshift(u):!0===a.transparent?i.unshift(u):n.unshift(u)}function c(e,t){n.length>1&&n.sort(e||Zu),r.length>1&&r.sort(t||Ku),i.length>1&&i.sort(t||Ku)}function u(){for(let n=t,r=e.length;n<r;n++){const t=e[n];if(null===t.id)break;t.id=null,t.object=null,t.geometry=null,t.material=null,t.group=null}}return{opaque:n,transmissive:r,transparent:i,init:a,push:s,unshift:l,finish:u,sort:c}}function Qu(){let e=new WeakMap;function t(t,n){let r;return!1===e.has(t)?(r=new Ju,e.set(t,[r])):n>=e.get(t).length?(r=new Ju,e.get(t).push(r)):r=e.get(t)[n],r}function n(){e=new WeakMap}return{get:t,dispose:n}}function ed(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new Sr,color:new lr};break;case"SpotLight":n={position:new Sr,direction:new Sr,color:new lr,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Sr,color:new lr,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Sr,skyColor:new lr,groundColor:new lr};break;case"RectAreaLight":n={color:new lr,position:new Sr,halfWidth:new Sr,halfHeight:new Sr};break}return e[t.id]=n,n}}}function td(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Yn};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Yn};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Yn,shadowCameraNear:1,shadowCameraFar:1e3};break}return e[t.id]=n,n}}}let nd=0;function rd(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function id(e,t){const n=new ed,r=td(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let u=0;u<9;u++)i.probe.push(new Sr);const a=new Sr,o=new ei,s=new ei;function l(a,o){let s=0,l=0,c=0;for(let e=0;e<9;e++)i.probe[e].set(0,0,0);let u=0,d=0,h=0,f=0,p=0,m=0,v=0,g=0;a.sort(rd);const _=!0!==o?Math.PI:1;for(let e=0,t=a.length;e<t;e++){const t=a[e],o=t.color,y=t.intensity,b=t.distance,x=t.shadow&&t.shadow.map?t.shadow.map.texture:null;if(t.isAmbientLight)s+=o.r*y*_,l+=o.g*y*_,c+=o.b*y*_;else if(t.isLightProbe)for(let e=0;e<9;e++)i.probe[e].addScaledVector(t.sh.coefficients[e],y);else if(t.isDirectionalLight){const e=n.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity*_),t.castShadow){const e=t.shadow,n=r.get(t);n.shadowBias=e.bias,n.shadowNormalBias=e.normalBias,n.shadowRadius=e.radius,n.shadowMapSize=e.mapSize,i.directionalShadow[u]=n,i.directionalShadowMap[u]=x,i.directionalShadowMatrix[u]=t.shadow.matrix,m++}i.directional[u]=e,u++}else if(t.isSpotLight){const e=n.get(t);if(e.position.setFromMatrixPosition(t.matrixWorld),e.color.copy(o).multiplyScalar(y*_),e.distance=b,e.coneCos=Math.cos(t.angle),e.penumbraCos=Math.cos(t.angle*(1-t.penumbra)),e.decay=t.decay,t.castShadow){const e=t.shadow,n=r.get(t);n.shadowBias=e.bias,n.shadowNormalBias=e.normalBias,n.shadowRadius=e.radius,n.shadowMapSize=e.mapSize,i.spotShadow[h]=n,i.spotShadowMap[h]=x,i.spotShadowMatrix[h]=t.shadow.matrix,g++}i.spot[h]=e,h++}else if(t.isRectAreaLight){const e=n.get(t);e.color.copy(o).multiplyScalar(y),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),i.rectArea[f]=e,f++}else if(t.isPointLight){const e=n.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity*_),e.distance=t.distance,e.decay=t.decay,t.castShadow){const e=t.shadow,n=r.get(t);n.shadowBias=e.bias,n.shadowNormalBias=e.normalBias,n.shadowRadius=e.radius,n.shadowMapSize=e.mapSize,n.shadowCameraNear=e.camera.near,n.shadowCameraFar=e.camera.far,i.pointShadow[d]=n,i.pointShadowMap[d]=x,i.pointShadowMatrix[d]=t.shadow.matrix,v++}i.point[d]=e,d++}else if(t.isHemisphereLight){const e=n.get(t);e.skyColor.copy(t.color).multiplyScalar(y*_),e.groundColor.copy(t.groundColor).multiplyScalar(y*_),i.hemi[p]=e,p++}}f>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=kl.LTC_FLOAT_1,i.rectAreaLTC2=kl.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=kl.LTC_HALF_1,i.rectAreaLTC2=kl.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=s,i.ambient[1]=l,i.ambient[2]=c;const y=i.hash;y.directionalLength===u&&y.pointLength===d&&y.spotLength===h&&y.rectAreaLength===f&&y.hemiLength===p&&y.numDirectionalShadows===m&&y.numPointShadows===v&&y.numSpotShadows===g||(i.directional.length=u,i.spot.length=h,i.rectArea.length=f,i.point.length=d,i.hemi.length=p,i.directionalShadow.length=m,i.directionalShadowMap.length=m,i.pointShadow.length=v,i.pointShadowMap.length=v,i.spotShadow.length=g,i.spotShadowMap.length=g,i.directionalShadowMatrix.length=m,i.pointShadowMatrix.length=v,i.spotShadowMatrix.length=g,y.directionalLength=u,y.pointLength=d,y.spotLength=h,y.rectAreaLength=f,y.hemiLength=p,y.numDirectionalShadows=m,y.numPointShadows=v,y.numSpotShadows=g,i.version=nd++)}function c(e,t){let n=0,r=0,l=0,c=0,u=0;const d=t.matrixWorldInverse;for(let h=0,f=e.length;h<f;h++){const t=e[h];if(t.isDirectionalLight){const e=i.directional[n];e.direction.setFromMatrixPosition(t.matrixWorld),a.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(a),e.direction.transformDirection(d),n++}else if(t.isSpotLight){const e=i.spot[l];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(d),e.direction.setFromMatrixPosition(t.matrixWorld),a.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(a),e.direction.transformDirection(d),l++}else if(t.isRectAreaLight){const e=i.rectArea[c];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(d),s.identity(),o.copy(t.matrixWorld),o.premultiply(d),s.extractRotation(o),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),e.halfWidth.applyMatrix4(s),e.halfHeight.applyMatrix4(s),c++}else if(t.isPointLight){const e=i.point[r];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(d),r++}else if(t.isHemisphereLight){const e=i.hemi[u];e.direction.setFromMatrixPosition(t.matrixWorld),e.direction.transformDirection(d),u++}}}return{setup:l,setupView:c,state:i}}function ad(e,t){const n=new id(e,t),r=[],i=[];function a(){r.length=0,i.length=0}function o(e){r.push(e)}function s(e){i.push(e)}function l(e){n.setup(r,e)}function c(e){n.setupView(r,e)}const u={lightsArray:r,shadowsArray:i,lights:n};return{init:a,state:u,setupLights:l,setupLightsView:c,pushLight:o,pushShadow:s}}function od(e,t){let n=new WeakMap;function r(r,i=0){let a;return!1===n.has(r)?(a=new ad(e,t),n.set(r,[a])):i>=n.get(r).length?(a=new ad(e,t),n.get(r).push(a)):a=n.get(r)[i],a}function i(){n=new WeakMap}return{get:r,dispose:i}}class sd extends Bi{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Nt,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class ld extends Bi{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new Sr,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const cd="void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",ud="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}";function dd(e,t,n){let r=new qa;const i=new Yn,a=new Yn,o=new mr,s=new sd({depthPacking:Ft}),l=new ld,c={},u=n.maxTextureSize,d={0:g,1:v,2:_},h=new Da({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Yn},radius:{value:4}},vertexShader:cd,fragmentShader:ud}),p=h.clone();p.defines.HORIZONTAL_PASS=1;const y=new oa;y.setAttribute("position",new Hi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const b=new Ma(y,h),w=this;function S(n,r){const a=t.update(b);h.defines.VSM_SAMPLES!==n.blurSamples&&(h.defines.VSM_SAMPLES=n.blurSamples,p.defines.VSM_SAMPLES=n.blurSamples,h.needsUpdate=!0,p.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new vr(i.x,i.y)),h.uniforms.shadow_pass.value=n.map.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,a,h,b,null),p.uniforms.shadow_pass.value=n.mapPass.texture,p.uniforms.resolution.value=n.mapSize,p.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,a,p,b,null)}function M(t,n,r,i,a,o){let u=null;const h=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(u=void 0!==h?h:!0===r.isPointLight?l:s,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0){const e=u.uuid,t=n.uuid;let r=c[e];void 0===r&&(r={},c[e]=r);let i=r[t];void 0===i&&(i=u.clone(),r[t]=i),u=i}return u.visible=n.visible,u.wireframe=n.wireframe,u.side=o===m?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:d[n.side],u.alphaMap=n.alphaMap,u.alphaTest=n.alphaTest,u.clipShadows=n.clipShadows,u.clippingPlanes=n.clippingPlanes,u.clipIntersection=n.clipIntersection,u.displacementMap=n.displacementMap,u.displacementScale=n.displacementScale,u.displacementBias=n.displacementBias,u.wireframeLinewidth=n.wireframeLinewidth,u.linewidth=n.linewidth,!0===r.isPointLight&&!0===u.isMeshDistanceMaterial&&(u.referencePosition.setFromMatrixPosition(r.matrixWorld),u.nearDistance=i,u.farDistance=a),u}function E(n,i,a,o,s){if(!1===n.visible)return;const l=n.layers.test(i.layers);if(l&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===m)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);const r=t.update(n),i=n.material;if(Array.isArray(i)){const t=r.groups;for(let l=0,c=t.length;l<c;l++){const c=t[l],u=i[c.materialIndex];if(u&&u.visible){const t=M(n,u,o,a.near,a.far,s);e.renderBufferDirect(a,null,r,t,n,c)}}}else if(i.visible){const t=M(n,i,o,a.near,a.far,s);e.renderBufferDirect(a,null,r,t,n,null)}}const c=n.children;for(let e=0,t=c.length;e<t;e++)E(c[e],i,a,o,s)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=f,this.render=function(t,n,s){if(!1===w.enabled)return;if(!1===w.autoUpdate&&!1===w.needsUpdate)return;if(0===t.length)return;const l=e.getRenderTarget(),c=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),h=e.state;h.setBlending(x),h.buffers.color.setClear(1,1,1,1),h.buffers.depth.setTest(!0),h.setScissorTest(!1);for(let f=0,p=t.length;f<p;f++){const l=t[f],c=l.shadow;if(void 0===c){console.warn("THREE.WebGLShadowMap:",l,"has no shadow.");continue}if(!1===c.autoUpdate&&!1===c.needsUpdate)continue;i.copy(c.mapSize);const d=c.getFrameExtents();if(i.multiply(d),a.copy(c.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(a.x=Math.floor(u/d.x),i.x=a.x*d.x,c.mapSize.x=a.x),i.y>u&&(a.y=Math.floor(u/d.y),i.y=a.y*d.y,c.mapSize.y=a.y)),null===c.map){const e=this.type!==m?{minFilter:me,magFilter:me}:{};c.map=new vr(i.x,i.y,e),c.map.texture.name=l.name+".shadowMap",c.camera.updateProjectionMatrix()}e.setRenderTarget(c.map),e.clear();const p=c.getViewportCount();for(let e=0;e<p;e++){const t=c.getViewport(e);o.set(a.x*t.x,a.y*t.y,a.x*t.z,a.y*t.w),h.viewport(o),c.updateMatrices(l,e),r=c.getFrustum(),E(n,s,c.camera,l,this.type)}!0!==c.isPointLightShadow&&this.type===m&&S(c,s),c.needsUpdate=!1}w.needsUpdate=!1,e.setRenderTarget(l,c,d)}}function hd(e,t,n){const r=n.isWebGL2;function i(){let t=!1;const n=new mr;let r=null;const i=new mr(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){!0===s&&(t*=o,r*=o,a*=o),n.set(t,r,a,o),!1===i.equals(n)&&(e.clearColor(t,r,a,o),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}}function a(){let t=!1,n=null,r=null,i=null;return{setTest:function(e){e?Me(2929):Ee(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){if(t)switch(t){case W:e.depthFunc(512);break;case j:e.depthFunc(519);break;case G:e.depthFunc(513);break;case Y:e.depthFunc(515);break;case $:e.depthFunc(514);break;case q:e.depthFunc(518);break;case X:e.depthFunc(516);break;case Z:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}}function o(){let t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,c=null;return{setTest:function(e){t||(e?Me(2960):Ee(2960))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){r===t&&i===n&&a===o||(e.stencilFunc(t,n,o),r=t,i=n,a=o)},setOp:function(t,n,r){o===t&&s===n&&l===r||(e.stencilOp(t,n,r),o=t,s=n,l=r)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,c=null}}}const s=new i,d=new a,h=new o,f=new WeakMap,p=new WeakMap;let m={},v={},y=new WeakMap,b=[],K=null,J=!1,Q=null,ee=null,te=null,ne=null,re=null,ie=null,ae=null,oe=!1,se=null,le=null,ce=null,ue=null,de=null;const he=e.getParameter(35661);let fe=!1,pe=0;const me=e.getParameter(7938);-1!==me.indexOf("WebGL")?(pe=parseFloat(/^WebGL (\d)/.exec(me)[1]),fe=pe>=1):-1!==me.indexOf("OpenGL ES")&&(pe=parseFloat(/^OpenGL ES (\d)/.exec(me)[1]),fe=pe>=2);let ve=null,ge={};const _e=e.getParameter(3088),ye=e.getParameter(2978),be=(new mr).fromArray(_e),xe=(new mr).fromArray(ye);function we(t,n,r){const i=new Uint8Array(4),a=e.createTexture();e.bindTexture(t,a),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(let o=0;o<r;o++)e.texImage2D(n+o,0,6408,1,1,0,6408,5121,i);return a}const Se={};function Me(t){!0!==m[t]&&(e.enable(t),m[t]=!0)}function Ee(t){!1!==m[t]&&(e.disable(t),m[t]=!1)}function Te(t,n){return v[t]!==n&&(e.bindFramebuffer(t,n),v[t]=n,r&&(36009===t&&(v[36160]=n),36160===t&&(v[36009]=n)),!0)}function Ae(r,i){let a=b,o=!1;if(r)if(a=y.get(i),void 0===a&&(a=[],y.set(i,a)),r.isWebGLMultipleRenderTargets){const e=r.texture;if(a.length!==e.length||36064!==a[0]){for(let t=0,n=e.length;t<n;t++)a[t]=36064+t;a.length=e.length,o=!0}}else 36064!==a[0]&&(a[0]=36064,o=!0);else 1029!==a[0]&&(a[0]=1029,o=!0);o&&(n.isWebGL2?e.drawBuffers(a):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(a))}function Ce(t){return K!==t&&(e.useProgram(t),K=t,!0)}Se[3553]=we(3553,3553,1),Se[34067]=we(34067,34069,6),s.setClear(0,0,0,1),d.setClear(1),h.setClear(0),Me(2929),d.setFunc(Y),Pe(!1),De(c),Me(2884),Le(x);const ke={[A]:32774,[C]:32778,[k]:32779};if(r)ke[R]=32775,ke[L]=32776;else{const e=t.get("EXT_blend_minmax");null!==e&&(ke[R]=e.MIN_EXT,ke[L]=e.MAX_EXT)}const Re={[I]:0,[P]:1,[D]:768,[N]:770,[H]:776,[U]:774,[B]:772,[O]:769,[F]:771,[z]:775,[V]:773};function Le(t,n,r,i,a,o,s,l){if(t!==x){if(!1===J&&(Me(3042),J=!0),t===T)a=a||n,o=o||r,s=s||i,n===ee&&a===re||(e.blendEquationSeparate(ke[n],ke[a]),ee=n,re=a),r===te&&i===ne&&o===ie&&s===ae||(e.blendFuncSeparate(Re[r],Re[i],Re[o],Re[s]),te=r,ne=i,ie=o,ae=s),Q=t,oe=null;else if(t!==Q||l!==oe){if(ee===A&&re===A||(e.blendEquation(32774),ee=A,re=A),l)switch(t){case w:e.blendFuncSeparate(1,771,1,771);break;case S:e.blendFunc(1,1);break;case M:e.blendFuncSeparate(0,769,0,1);break;case E:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t);break}else switch(t){case w:e.blendFuncSeparate(770,771,1,771);break;case S:e.blendFunc(770,1);break;case M:e.blendFuncSeparate(0,769,0,1);break;case E:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t);break}te=null,ne=null,ie=null,ae=null,Q=t,oe=l}}else!0===J&&(Ee(3042),J=!1)}function Ie(e,t){e.side===_?Ee(2884):Me(2884);let n=e.side===g;t&&(n=!n),Pe(n),e.blending===w&&!1===e.transparent?Le(x):Le(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),d.setFunc(e.depthFunc),d.setTest(e.depthTest),d.setMask(e.depthWrite),s.setMask(e.colorWrite);const r=e.stencilWrite;h.setTest(r),r&&(h.setMask(e.stencilWriteMask),h.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),h.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),Ne(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),!0===e.alphaToCoverage?Me(32926):Ee(32926)}function Pe(t){se!==t&&(t?e.frontFace(2304):e.frontFace(2305),se=t)}function De(t){t!==l?(Me(2884),t!==le&&(t===c?e.cullFace(1029):t===u?e.cullFace(1028):e.cullFace(1032))):Ee(2884),le=t}function Oe(t){t!==ce&&(fe&&e.lineWidth(t),ce=t)}function Ne(t,n,r){t?(Me(32823),ue===n&&de===r||(e.polygonOffset(n,r),ue=n,de=r)):Ee(32823)}function Fe(e){e?Me(3089):Ee(3089)}function Be(t){void 0===t&&(t=33984+he-1),ve!==t&&(e.activeTexture(t),ve=t)}function Ve(t,n){null===ve&&Be();let r=ge[ve];void 0===r&&(r={type:void 0,texture:void 0},ge[ve]=r),r.type===t&&r.texture===n||(e.bindTexture(t,n||Se[t]),r.type=t,r.texture=n)}function Ue(){const t=ge[ve];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)}function ze(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function He(){try{e.texSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function We(){try{e.texSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function je(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function Ge(){try{e.texStorage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function Ye(){try{e.texStorage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function $e(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function qe(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function Xe(t){!1===be.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),be.copy(t))}function Ze(t){!1===xe.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),xe.copy(t))}function Ke(t,n){let r=p.get(n);void 0===r&&(r=new WeakMap,p.set(n,r));let i=r.get(t);void 0===i&&(i=e.getUniformBlockIndex(n,t.name),r.set(t,i))}function Je(t,n){const r=p.get(n),i=r.get(t);f.get(t)!==i&&(e.uniformBlockBinding(n,i,t.__bindingPointIndex),f.set(t,i))}function Qe(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),!0===r&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),m={},ve=null,ge={},v={},y=new WeakMap,b=[],K=null,J=!1,Q=null,ee=null,te=null,ne=null,re=null,ie=null,ae=null,oe=!1,se=null,le=null,ce=null,ue=null,de=null,be.set(0,0,e.canvas.width,e.canvas.height),xe.set(0,0,e.canvas.width,e.canvas.height),s.reset(),d.reset(),h.reset()}return{buffers:{color:s,depth:d,stencil:h},enable:Me,disable:Ee,bindFramebuffer:Te,drawBuffers:Ae,useProgram:Ce,setBlending:Le,setMaterial:Ie,setFlipSided:Pe,setCullFace:De,setLineWidth:Oe,setPolygonOffset:Ne,setScissorTest:Fe,activeTexture:Be,bindTexture:Ve,unbindTexture:Ue,compressedTexImage2D:ze,texImage2D:$e,texImage3D:qe,updateUBOMapping:Ke,uniformBlockBinding:Je,texStorage2D:Ge,texStorage3D:Ye,texSubImage2D:He,texSubImage3D:We,compressedTexSubImage2D:je,scissor:Xe,viewport:Ze,reset:Qe}}function fd(e,t,n,r,i,a,o){const s=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,d=i.maxSamples,h=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,f=/OculusBrowser/g.test(navigator.userAgent),p=new WeakMap;let m;const v=new WeakMap;let g=!1;try{g="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(ie){}function _(e,t){return g?new OffscreenCanvas(e,t):Kn("canvas")}function y(e,t,n,r){let i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){const r=t?zn:Math.floor,a=r(i*e.width),o=r(i*e.height);void 0===m&&(m=_(a,o));const s=n?_(a,o):m;s.width=a,s.height=o;const l=s.getContext("2d");return l.drawImage(e,0,0,a,o),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+a+"x"+o+")."),s}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function b(e){return Vn(e.width)&&Vn(e.height)}function x(e){return!s&&(e.wrapS!==fe||e.wrapT!==fe||e.minFilter!==me&&e.minFilter!==be)}function w(e,t){return e.generateMipmaps&&t&&e.minFilter!==me&&e.minFilter!==be}function S(t){e.generateMipmap(t)}function M(n,r,i,a,o=!1){if(!1===s)return r;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let l=r;return 6403===r&&(5126===i&&(l=33326),5131===i&&(l=33325),5121===i&&(l=33321)),33319===r&&(5126===i&&(l=33328),5131===i&&(l=33327),5121===i&&(l=33323)),6408===r&&(5126===i&&(l=34836),5131===i&&(l=34842),5121===i&&(l=a===Ot&&!1===o?35907:32856),32819===i&&(l=32854),32820===i&&(l=32855)),33325!==l&&33326!==l&&33327!==l&&33328!==l&&34842!==l&&34836!==l||t.get("EXT_color_buffer_float"),l}function E(e,t,n){return!0===w(e,n)||e.isFramebufferTexture&&e.minFilter!==me&&e.minFilter!==be?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function T(e){return e===me||e===ve||e===_e?9728:9729}function A(e){const t=e.target;t.removeEventListener("dispose",A),k(t),t.isVideoTexture&&p.delete(t)}function C(e){const t=e.target;t.removeEventListener("dispose",C),L(t)}function k(e){const t=r.get(e);if(void 0===t.__webglInit)return;const n=e.source,i=v.get(n);if(i){const r=i[t.__cacheKey];r.usedTimes--,0===r.usedTimes&&R(e),0===Object.keys(i).length&&v.delete(n)}r.remove(e)}function R(t){const n=r.get(t);e.deleteTexture(n.__webglTexture);const i=t.source,a=v.get(i);delete a[n.__cacheKey],o.memory.textures--}function L(t){const n=t.texture,i=r.get(t),a=r.get(n);if(void 0!==a.__webglTexture&&(e.deleteTexture(a.__webglTexture),o.memory.textures--),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLCubeRenderTarget)for(let r=0;r<6;r++)e.deleteFramebuffer(i.__webglFramebuffer[r]),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[r]);else{if(e.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&e.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer)for(let t=0;t<i.__webglColorRenderbuffer.length;t++)i.__webglColorRenderbuffer[t]&&e.deleteRenderbuffer(i.__webglColorRenderbuffer[t]);i.__webglDepthRenderbuffer&&e.deleteRenderbuffer(i.__webglDepthRenderbuffer)}if(t.isWebGLMultipleRenderTargets)for(let s=0,l=n.length;s<l;s++){const t=r.get(n[s]);t.__webglTexture&&(e.deleteTexture(t.__webglTexture),o.memory.textures--),r.remove(n[s])}r.remove(n),r.remove(t)}let I=0;function P(){I=0}function D(){const e=I;return e>=l&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+l),I+=1,e}function O(e){const t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.encoding),t.join()}function N(e,t){const i=r.get(e);if(e.isVideoTexture&&ne(e),!1===e.isRenderTargetTexture&&e.version>0&&i.__version!==e.version){const n=e.image;if(null===n)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==n.complete)return void j(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+t),n.bindTexture(3553,i.__webglTexture)}function F(e,t){const i=r.get(e);e.version>0&&i.__version!==e.version?j(i,e,t):(n.activeTexture(33984+t),n.bindTexture(35866,i.__webglTexture))}function B(e,t){const i=r.get(e);e.version>0&&i.__version!==e.version?j(i,e,t):(n.activeTexture(33984+t),n.bindTexture(32879,i.__webglTexture))}function V(e,t){const i=r.get(e);e.version>0&&i.__version!==e.version?G(i,e,t):(n.activeTexture(33984+t),n.bindTexture(34067,i.__webglTexture))}const U={[he]:10497,[fe]:33071,[pe]:33648},z={[me]:9728,[ve]:9984,[_e]:9986,[be]:9729,[xe]:9985,[Se]:9987};function H(n,a,o){if(o?(e.texParameteri(n,10242,U[a.wrapS]),e.texParameteri(n,10243,U[a.wrapT]),32879!==n&&35866!==n||e.texParameteri(n,32882,U[a.wrapR]),e.texParameteri(n,10240,z[a.magFilter]),e.texParameteri(n,10241,z[a.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),a.wrapS===fe&&a.wrapT===fe||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,T(a.magFilter)),e.texParameteri(n,10241,T(a.minFilter)),a.minFilter!==me&&a.minFilter!==be&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")){const o=t.get("EXT_texture_filter_anisotropic");if(a.type===Le&&!1===t.has("OES_texture_float_linear"))return;if(!1===s&&a.type===Ie&&!1===t.has("OES_texture_half_float_linear"))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(e.texParameterf(n,o.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function W(t,n){let r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",A));const i=n.source;let a=v.get(i);void 0===a&&(a={},v.set(i,a));const s=O(n);if(s!==t.__cacheKey){void 0===a[s]&&(a[s]={texture:e.createTexture(),usedTimes:0},o.memory.textures++,r=!0),a[s].usedTimes++;const i=a[t.__cacheKey];void 0!==i&&(a[t.__cacheKey].usedTimes--,0===i.usedTimes&&R(n)),t.__cacheKey=s,t.__webglTexture=a[s].texture}return r}function j(t,r,i){let o=3553;r.isDataArrayTexture&&(o=35866),r.isData3DTexture&&(o=32879);const l=W(t,r),c=r.source;if(n.activeTexture(33984+i),n.bindTexture(o,t.__webglTexture),c.version!==c.__currentVersion||!0===l){e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment),e.pixelStorei(37443,0);const t=x(r)&&!1===b(r.image);let i=y(r.image,t,!1,u);i=re(r,i);const d=b(i)||s,h=a.convert(r.format,r.encoding);let f,p=a.convert(r.type),m=M(r.internalFormat,h,p,r.encoding,r.isVideoTexture);H(o,r,d);const v=r.mipmaps,g=s&&!0!==r.isVideoTexture,_=void 0===c.__currentVersion||!0===l,T=E(r,i,d);if(r.isDepthTexture)m=6402,s?m=r.type===Le?36012:r.type===Re?33190:r.type===Oe?35056:33189:r.type===Le&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),r.format===ze&&6402===m&&r.type!==Ce&&r.type!==Re&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=Re,p=a.convert(r.type)),r.format===He&&6402===m&&(m=34041,r.type!==Oe&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=Oe,p=a.convert(r.type))),_&&(g?n.texStorage2D(3553,1,m,i.width,i.height):n.texImage2D(3553,0,m,i.width,i.height,0,h,p,null));else if(r.isDataTexture)if(v.length>0&&d){g&&_&&n.texStorage2D(3553,T,m,v[0].width,v[0].height);for(let e=0,t=v.length;e<t;e++)f=v[e],g?n.texSubImage2D(3553,e,0,0,f.width,f.height,h,p,f.data):n.texImage2D(3553,e,m,f.width,f.height,0,h,p,f.data);r.generateMipmaps=!1}else g?(_&&n.texStorage2D(3553,T,m,i.width,i.height),n.texSubImage2D(3553,0,0,0,i.width,i.height,h,p,i.data)):n.texImage2D(3553,0,m,i.width,i.height,0,h,p,i.data);else if(r.isCompressedTexture){g&&_&&n.texStorage2D(3553,T,m,v[0].width,v[0].height);for(let e=0,t=v.length;e<t;e++)f=v[e],r.format!==Be?null!==h?g?n.compressedTexSubImage2D(3553,e,0,0,f.width,f.height,h,f.data):n.compressedTexImage2D(3553,e,m,f.width,f.height,0,f.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):g?n.texSubImage2D(3553,e,0,0,f.width,f.height,h,p,f.data):n.texImage2D(3553,e,m,f.width,f.height,0,h,p,f.data)}else if(r.isDataArrayTexture)g?(_&&n.texStorage3D(35866,T,m,i.width,i.height,i.depth),n.texSubImage3D(35866,0,0,0,0,i.width,i.height,i.depth,h,p,i.data)):n.texImage3D(35866,0,m,i.width,i.height,i.depth,0,h,p,i.data);else if(r.isData3DTexture)g?(_&&n.texStorage3D(32879,T,m,i.width,i.height,i.depth),n.texSubImage3D(32879,0,0,0,0,i.width,i.height,i.depth,h,p,i.data)):n.texImage3D(32879,0,m,i.width,i.height,i.depth,0,h,p,i.data);else if(r.isFramebufferTexture){if(_)if(g)n.texStorage2D(3553,T,m,i.width,i.height);else{let e=i.width,t=i.height;for(let r=0;r<T;r++)n.texImage2D(3553,r,m,e,t,0,h,p,null),e>>=1,t>>=1}}else if(v.length>0&&d){g&&_&&n.texStorage2D(3553,T,m,v[0].width,v[0].height);for(let e=0,t=v.length;e<t;e++)f=v[e],g?n.texSubImage2D(3553,e,0,0,h,p,f):n.texImage2D(3553,e,m,h,p,f);r.generateMipmaps=!1}else g?(_&&n.texStorage2D(3553,T,m,i.width,i.height),n.texSubImage2D(3553,0,0,0,h,p,i)):n.texImage2D(3553,0,m,h,p,i);w(r,d)&&S(o),c.__currentVersion=c.version,r.onUpdate&&r.onUpdate(r)}t.__version=r.version}function G(t,r,i){if(6!==r.image.length)return;const o=W(t,r),l=r.source;if(n.activeTexture(33984+i),n.bindTexture(34067,t.__webglTexture),l.version!==l.__currentVersion||!0===o){e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment),e.pixelStorei(37443,0);const t=r.isCompressedTexture||r.image[0].isCompressedTexture,i=r.image[0]&&r.image[0].isDataTexture,u=[];for(let e=0;e<6;e++)u[e]=t||i?i?r.image[e].image:r.image[e]:y(r.image[e],!1,!0,c),u[e]=re(r,u[e]);const d=u[0],h=b(d)||s,f=a.convert(r.format,r.encoding),p=a.convert(r.type),m=M(r.internalFormat,f,p,r.encoding),v=s&&!0!==r.isVideoTexture,g=void 0===l.__currentVersion||!0===o;let _,x=E(r,d,h);if(H(34067,r,h),t){v&&g&&n.texStorage2D(34067,x,m,d.width,d.height);for(let e=0;e<6;e++){_=u[e].mipmaps;for(let t=0;t<_.length;t++){const i=_[t];r.format!==Be?null!==f?v?n.compressedTexSubImage2D(34069+e,t,0,0,i.width,i.height,f,i.data):n.compressedTexImage2D(34069+e,t,m,i.width,i.height,0,i.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):v?n.texSubImage2D(34069+e,t,0,0,i.width,i.height,f,p,i.data):n.texImage2D(34069+e,t,m,i.width,i.height,0,f,p,i.data)}}}else{_=r.mipmaps,v&&g&&(_.length>0&&x++,n.texStorage2D(34067,x,m,u[0].width,u[0].height));for(let e=0;e<6;e++)if(i){v?n.texSubImage2D(34069+e,0,0,0,u[e].width,u[e].height,f,p,u[e].data):n.texImage2D(34069+e,0,m,u[e].width,u[e].height,0,f,p,u[e].data);for(let t=0;t<_.length;t++){const r=_[t],i=r.image[e].image;v?n.texSubImage2D(34069+e,t+1,0,0,i.width,i.height,f,p,i.data):n.texImage2D(34069+e,t+1,m,i.width,i.height,0,f,p,i.data)}}else{v?n.texSubImage2D(34069+e,0,0,0,f,p,u[e]):n.texImage2D(34069+e,0,m,f,p,u[e]);for(let t=0;t<_.length;t++){const r=_[t];v?n.texSubImage2D(34069+e,t+1,0,0,f,p,r.image[e]):n.texImage2D(34069+e,t+1,m,f,p,r.image[e])}}}w(r,h)&&S(34067),l.__currentVersion=l.version,r.onUpdate&&r.onUpdate(r)}t.__version=r.version}function Y(t,i,o,s,l){const c=a.convert(o.format,o.encoding),u=a.convert(o.type),d=M(o.internalFormat,c,u,o.encoding),f=r.get(i);f.__hasExternalTextures||(32879===l||35866===l?n.texImage3D(l,0,d,i.width,i.height,i.depth,0,c,u,null):n.texImage2D(l,0,d,i.width,i.height,0,c,u,null)),n.bindFramebuffer(36160,t),te(i)?h.framebufferTexture2DMultisampleEXT(36160,s,l,r.get(o).__webglTexture,0,ee(i)):e.framebufferTexture2D(36160,s,l,r.get(o).__webglTexture,0),n.bindFramebuffer(36160,null)}function $(t,n,r){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){let i=33189;if(r||te(n)){const t=n.depthTexture;t&&t.isDepthTexture&&(t.type===Le?i=36012:t.type===Re&&(i=33190));const r=ee(n);te(n)?h.renderbufferStorageMultisampleEXT(36161,r,i,n.width,n.height):e.renderbufferStorageMultisample(36161,r,i,n.width,n.height)}else e.renderbufferStorage(36161,i,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){const i=ee(n);r&&!1===te(n)?e.renderbufferStorageMultisample(36161,i,35056,n.width,n.height):te(n)?h.renderbufferStorageMultisampleEXT(36161,i,35056,n.width,n.height):e.renderbufferStorage(36161,34041,n.width,n.height),e.framebufferRenderbuffer(36160,33306,36161,t)}else{const t=!0===n.isWebGLMultipleRenderTargets?n.texture:[n.texture];for(let i=0;i<t.length;i++){const o=t[i],s=a.convert(o.format,o.encoding),l=a.convert(o.type),c=M(o.internalFormat,s,l,o.encoding),u=ee(n);r&&!1===te(n)?e.renderbufferStorageMultisample(36161,u,c,n.width,n.height):te(n)?h.renderbufferStorageMultisampleEXT(36161,u,c,n.width,n.height):e.renderbufferStorage(36161,c,n.width,n.height)}}e.bindRenderbuffer(36161,null)}function q(t,i){const a=i&&i.isWebGLCubeRenderTarget;if(a)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),N(i.depthTexture,0);const o=r.get(i.depthTexture).__webglTexture,s=ee(i);if(i.depthTexture.format===ze)te(i)?h.framebufferTexture2DMultisampleEXT(36160,36096,3553,o,0,s):e.framebufferTexture2D(36160,36096,3553,o,0);else{if(i.depthTexture.format!==He)throw new Error("Unknown depthTexture format");te(i)?h.framebufferTexture2DMultisampleEXT(36160,33306,3553,o,0,s):e.framebufferTexture2D(36160,33306,3553,o,0)}}function X(t){const i=r.get(t),a=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(a)throw new Error("target.depthTexture not supported in Cube render targets");q(i.__webglFramebuffer,t)}else if(a){i.__webglDepthbuffer=[];for(let r=0;r<6;r++)n.bindFramebuffer(36160,i.__webglFramebuffer[r]),i.__webglDepthbuffer[r]=e.createRenderbuffer(),$(i.__webglDepthbuffer[r],t,!1)}else n.bindFramebuffer(36160,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),$(i.__webglDepthbuffer,t,!1);n.bindFramebuffer(36160,null)}function Z(e,t,n){const i=r.get(e);void 0!==t&&Y(i.__webglFramebuffer,e,e.texture,36064,3553),void 0!==n&&X(e)}function K(t){const l=t.texture,c=r.get(t),u=r.get(l);t.addEventListener("dispose",C),!0!==t.isWebGLMultipleRenderTargets&&(void 0===u.__webglTexture&&(u.__webglTexture=e.createTexture()),u.__version=l.version,o.memory.textures++);const d=!0===t.isWebGLCubeRenderTarget,h=!0===t.isWebGLMultipleRenderTargets,f=b(t)||s;if(d){c.__webglFramebuffer=[];for(let t=0;t<6;t++)c.__webglFramebuffer[t]=e.createFramebuffer()}else{if(c.__webglFramebuffer=e.createFramebuffer(),h)if(i.drawBuffers){const n=t.texture;for(let t=0,i=n.length;t<i;t++){const i=r.get(n[t]);void 0===i.__webglTexture&&(i.__webglTexture=e.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(s&&t.samples>0&&!1===te(t)){const r=h?l:[l];c.__webglMultisampledFramebuffer=e.createFramebuffer(),c.__webglColorRenderbuffer=[],n.bindFramebuffer(36160,c.__webglMultisampledFramebuffer);for(let n=0;n<r.length;n++){const i=r[n];c.__webglColorRenderbuffer[n]=e.createRenderbuffer(),e.bindRenderbuffer(36161,c.__webglColorRenderbuffer[n]);const o=a.convert(i.format,i.encoding),s=a.convert(i.type),l=M(i.internalFormat,o,s,i.encoding),u=ee(t);e.renderbufferStorageMultisample(36161,u,l,t.width,t.height),e.framebufferRenderbuffer(36160,36064+n,36161,c.__webglColorRenderbuffer[n])}e.bindRenderbuffer(36161,null),t.depthBuffer&&(c.__webglDepthRenderbuffer=e.createRenderbuffer(),$(c.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(36160,null)}}if(d){n.bindTexture(34067,u.__webglTexture),H(34067,l,f);for(let e=0;e<6;e++)Y(c.__webglFramebuffer[e],t,l,36064,34069+e);w(l,f)&&S(34067),n.unbindTexture()}else if(h){const e=t.texture;for(let i=0,a=e.length;i<a;i++){const a=e[i],o=r.get(a);n.bindTexture(3553,o.__webglTexture),H(3553,a,f),Y(c.__webglFramebuffer,t,a,36064+i,3553),w(a,f)&&S(3553)}n.unbindTexture()}else{let e=3553;(t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(s?e=t.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(e,u.__webglTexture),H(e,l,f),Y(c.__webglFramebuffer,t,l,36064,e),w(l,f)&&S(e),n.unbindTexture()}t.depthBuffer&&X(t)}function J(e){const t=b(e)||s,i=!0===e.isWebGLMultipleRenderTargets?e.texture:[e.texture];for(let a=0,o=i.length;a<o;a++){const o=i[a];if(w(o,t)){const t=e.isWebGLCubeRenderTarget?34067:3553,i=r.get(o).__webglTexture;n.bindTexture(t,i),S(t),n.unbindTexture()}}}function Q(t){if(s&&t.samples>0&&!1===te(t)){const i=t.isWebGLMultipleRenderTargets?t.texture:[t.texture],a=t.width,o=t.height;let s=16384;const l=[],c=t.stencilBuffer?33306:36096,u=r.get(t),d=!0===t.isWebGLMultipleRenderTargets;if(d)for(let t=0;t<i.length;t++)n.bindFramebuffer(36160,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+t,36161,null),n.bindFramebuffer(36160,u.__webglFramebuffer),e.framebufferTexture2D(36009,36064+t,3553,null,0);n.bindFramebuffer(36008,u.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,u.__webglFramebuffer);for(let n=0;n<i.length;n++){l.push(36064+n),t.depthBuffer&&l.push(c);const h=void 0!==u.__ignoreDepthValues&&u.__ignoreDepthValues;if(!1===h&&(t.depthBuffer&&(s|=256),t.stencilBuffer&&(s|=1024)),d&&e.framebufferRenderbuffer(36008,36064,36161,u.__webglColorRenderbuffer[n]),!0===h&&(e.invalidateFramebuffer(36008,[c]),e.invalidateFramebuffer(36009,[c])),d){const t=r.get(i[n]).__webglTexture;e.framebufferTexture2D(36009,36064,3553,t,0)}e.blitFramebuffer(0,0,a,o,0,0,a,o,s,9728),f&&e.invalidateFramebuffer(36008,l)}if(n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,null),d)for(let t=0;t<i.length;t++){n.bindFramebuffer(36160,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+t,36161,u.__webglColorRenderbuffer[t]);const a=r.get(i[t]).__webglTexture;n.bindFramebuffer(36160,u.__webglFramebuffer),e.framebufferTexture2D(36009,36064+t,3553,a,0)}n.bindFramebuffer(36009,u.__webglMultisampledFramebuffer)}}function ee(e){return Math.min(d,e.samples)}function te(e){const n=r.get(e);return s&&e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function ne(e){const t=o.render.frame;p.get(e)!==t&&(p.set(e,t),e.update())}function re(e,n){const r=e.encoding,i=e.format,a=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||e.format===gn||r!==Dt&&(r===Ot?!1===s?!0===t.has("EXT_sRGB")&&i===Be?(e.format=gn,e.minFilter=be,e.generateMipmaps=!1):n=ur.sRGBToLinear(n):i===Be&&a===Ee||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",r)),n}this.allocateTextureUnit=D,this.resetTextureUnits=P,this.setTexture2D=N,this.setTexture2DArray=F,this.setTexture3D=B,this.setTextureCube=V,this.rebindTextures=Z,this.setupRenderTarget=K,this.updateRenderTargetMipmap=J,this.updateMultisampleRenderTarget=Q,this.setupDepthRenderbuffer=X,this.setupFrameBufferTexture=Y,this.useMultisampledRTT=te}function pd(e,t,n){const r=n.isWebGL2;function i(n,i=null){let a;if(n===Ee)return 5121;if(n===Pe)return 32819;if(n===De)return 32820;if(n===Te)return 5120;if(n===Ae)return 5122;if(n===Ce)return 5123;if(n===ke)return 5124;if(n===Re)return 5125;if(n===Le)return 5126;if(n===Ie)return r?5131:(a=t.get("OES_texture_half_float"),null!==a?a.HALF_FLOAT_OES:null);if(n===Ne)return 6406;if(n===Be)return 6408;if(n===Ve)return 6409;if(n===Ue)return 6410;if(n===ze)return 6402;if(n===He)return 34041;if(n===We)return 6403;if(n===Fe)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(n===gn)return a=t.get("EXT_sRGB"),null!==a?a.SRGB_ALPHA_EXT:null;if(n===je)return 36244;if(n===Ge)return 33319;if(n===Ye)return 33320;if(n===$e)return 36249;if(n===qe||n===Xe||n===Ze||n===Ke)if(i===Ot){if(a=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===a)return null;if(n===qe)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===Xe)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===Ze)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===Ke)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(a=t.get("WEBGL_compressed_texture_s3tc"),null===a)return null;if(n===qe)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===Xe)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===Ze)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===Ke)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===Je||n===Qe||n===et||n===tt){if(a=t.get("WEBGL_compressed_texture_pvrtc"),null===a)return null;if(n===Je)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===Qe)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===et)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===tt)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===nt)return a=t.get("WEBGL_compressed_texture_etc1"),null!==a?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(n===rt||n===it){if(a=t.get("WEBGL_compressed_texture_etc"),null===a)return null;if(n===rt)return i===Ot?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(n===it)return i===Ot?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}if(n===at||n===ot||n===st||n===lt||n===ct||n===ut||n===dt||n===ht||n===ft||n===pt||n===mt||n===vt||n===gt||n===_t){if(a=t.get("WEBGL_compressed_texture_astc"),null===a)return null;if(n===at)return i===Ot?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===ot)return i===Ot?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===st)return i===Ot?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===lt)return i===Ot?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===ct)return i===Ot?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===ut)return i===Ot?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===dt)return i===Ot?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===ht)return i===Ot?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===ft)return i===Ot?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===pt)return i===Ot?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===mt)return i===Ot?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===vt)return i===Ot?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===gt)return i===Ot?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===_t)return i===Ot?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===yt){if(a=t.get("EXT_texture_compression_bptc"),null===a)return null;if(n===yt)return i===Ot?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}return n===Oe?r?34042:(a=t.get("WEBGL_depth_texture"),null!==a?a.UNSIGNED_INT_24_8_WEBGL:null):void 0!==e[n]?e[n]:null}return{convert:i}}class md extends Na{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class vd extends Ei{constructor(){super(),this.isGroup=!0,this.type="Group"}}const gd={type:"move"};class _d{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new vd,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new vd,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Sr,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Sr),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new vd,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Sr,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Sr),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,n){let r=null,i=null,a=null;const o=this._targetRay,s=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){a=!0;for(const a of e.hand.values()){const e=t.getJointPose(a,n);if(void 0===l.joints[a.jointName]){const e=new vd;e.matrixAutoUpdate=!1,e.visible=!1,l.joints[a.jointName]=e,l.add(e)}const r=l.joints[a.jointName];null!==e&&(r.matrix.fromArray(e.transform.matrix),r.matrix.decompose(r.position,r.rotation,r.scale),r.jointRadius=e.radius),r.visible=null!==e}const r=l.joints["index-finger-tip"],i=l.joints["thumb-tip"],o=r.position.distanceTo(i.position),s=.02,c=.005;l.inputState.pinching&&o>s+c?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&o<=s-c&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&(i=t.getPose(e.gripSpace,n),null!==i&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1));null!==o&&(r=t.getPose(e.targetRaySpace,n),null===r&&null!==i&&(r=i),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(gd)))}return null!==o&&(o.visible=null!==r),null!==s&&(s.visible=null!==i),null!==l&&(l.visible=null!==a),this}}class yd extends pr{constructor(e,t,n,r,i,a,o,s,l,c){if(c=void 0!==c?c:ze,c!==ze&&c!==He)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===ze&&(n=Re),void 0===n&&c===He&&(n=Oe),super(null,r,i,a,o,s,c,n,l),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==o?o:me,this.minFilter=void 0!==s?s:me,this.flipY=!1,this.generateMipmaps=!1}}class bd extends _n{constructor(e,t){super();const n=this;let r=null,i=1,a=null,o="local-floor",s=null,l=null,c=null,u=null,d=null,h=null;const f=t.getContextAttributes();let p=null,m=null;const v=[],g=[],_=new Na;_.layers.enable(1),_.viewport=new mr;const y=new Na;y.layers.enable(2),y.viewport=new mr;const b=[_,y],x=new md;x.layers.enable(1),x.layers.enable(2);let w=null,S=null;function M(e){const t=g.indexOf(e.inputSource);if(-1===t)return;const n=v[t];void 0!==n&&n.dispatchEvent({type:e.type,data:e.inputSource})}function E(){r.removeEventListener("select",M),r.removeEventListener("selectstart",M),r.removeEventListener("selectend",M),r.removeEventListener("squeeze",M),r.removeEventListener("squeezestart",M),r.removeEventListener("squeezeend",M),r.removeEventListener("end",E),r.removeEventListener("inputsourceschange",T);for(let e=0;e<v.length;e++){const t=g[e];null!==t&&(g[e]=null,v[e].disconnect(t))}w=null,S=null,e.setRenderTarget(p),d=null,u=null,c=null,r=null,m=null,P.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function T(e){for(let t=0;t<e.removed.length;t++){const n=e.removed[t],r=g.indexOf(n);r>=0&&(g[r]=null,v[r].dispatchEvent({type:"disconnected",data:n}))}for(let t=0;t<e.added.length;t++){const n=e.added[t];let r=g.indexOf(n);if(-1===r){for(let e=0;e<v.length;e++){if(e>=g.length){g.push(n),r=e;break}if(null===g[e]){g[e]=n,r=e;break}}if(-1===r)break}const i=v[r];i&&i.dispatchEvent({type:"connected",data:n})}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=v[e];return void 0===t&&(t=new _d,v[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=v[e];return void 0===t&&(t=new _d,v[e]=t),t.getGripSpace()},this.getHand=function(e){let t=v[e];return void 0===t&&(t=new _d,v[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){i=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){o=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return s||a},this.setReferenceSpace=function(e){s=e},this.getBaseLayer=function(){return null!==u?u:d},this.getBinding=function(){return c},this.getFrame=function(){return h},this.getSession=function(){return r},this.setSession=async function(l){if(r=l,null!==r){if(p=e.getRenderTarget(),r.addEventListener("select",M),r.addEventListener("selectstart",M),r.addEventListener("selectend",M),r.addEventListener("squeeze",M),r.addEventListener("squeezestart",M),r.addEventListener("squeezeend",M),r.addEventListener("end",E),r.addEventListener("inputsourceschange",T),!0!==f.xrCompatible&&await t.makeXRCompatible(),void 0===r.renderState.layers||!1===e.capabilities.isWebGL2){const n={antialias:void 0!==r.renderState.layers||f.antialias,alpha:f.alpha,depth:f.depth,stencil:f.stencil,framebufferScaleFactor:i};d=new XRWebGLLayer(r,t,n),r.updateRenderState({baseLayer:d}),m=new vr(d.framebufferWidth,d.framebufferHeight,{format:Be,type:Ee,encoding:e.outputEncoding})}else{let n=null,a=null,o=null;f.depth&&(o=f.stencil?35056:33190,n=f.stencil?He:ze,a=f.stencil?Oe:Re);const s={colorFormat:32856,depthFormat:o,scaleFactor:i};c=new XRWebGLBinding(r,t),u=c.createProjectionLayer(s),r.updateRenderState({layers:[u]}),m=new vr(u.textureWidth,u.textureHeight,{format:Be,type:Ee,depthTexture:new yd(u.textureWidth,u.textureHeight,a,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:f.stencil,encoding:e.outputEncoding,samples:f.antialias?4:0});const l=e.properties.get(m);l.__ignoreDepthValues=u.ignoreDepthValues}m.isXRRenderTarget=!0,this.setFoveation(1),s=null,a=await r.requestReferenceSpace(o),P.setContext(r),P.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}};const A=new Sr,C=new Sr;function k(e,t,n){A.setFromMatrixPosition(t.matrixWorld),C.setFromMatrixPosition(n.matrixWorld);const r=A.distanceTo(C),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],c=(i[9]-1)/i[5],u=(i[8]-1)/i[0],d=(a[8]+1)/a[0],h=o*u,f=o*d,p=r/(-u+d),m=p*-u;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();const v=o+p,g=s+p,_=h-m,y=f+(r-m),b=l*s/g*v,x=c*s/g*v;e.projectionMatrix.makePerspective(_,y,b,x,v,g)}function R(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.updateCamera=function(e){if(null===r)return;x.near=y.near=_.near=e.near,x.far=y.far=_.far=e.far,w===x.near&&S===x.far||(r.updateRenderState({depthNear:x.near,depthFar:x.far}),w=x.near,S=x.far);const t=e.parent,n=x.cameras;R(x,t);for(let r=0;r<n.length;r++)R(n[r],t);x.matrixWorld.decompose(x.position,x.quaternion,x.scale),e.position.copy(x.position),e.quaternion.copy(x.quaternion),e.scale.copy(x.scale),e.matrix.copy(x.matrix),e.matrixWorld.copy(x.matrixWorld);const i=e.children;for(let r=0,a=i.length;r<a;r++)i[r].updateMatrixWorld(!0);2===n.length?k(x,_,y):x.projectionMatrix.copy(_.projectionMatrix)},this.getCamera=function(){return x},this.getFoveation=function(){return null!==u?u.fixedFoveation:null!==d?d.fixedFoveation:void 0},this.setFoveation=function(e){null!==u&&(u.fixedFoveation=e),null!==d&&void 0!==d.fixedFoveation&&(d.fixedFoveation=e)};let L=null;function I(t,n){if(l=n.getViewerPose(s||a),h=n,null!==l){const t=l.views;null!==d&&(e.setRenderTargetFramebuffer(m,d.framebuffer),e.setRenderTarget(m));let n=!1;t.length!==x.cameras.length&&(x.cameras.length=0,n=!0);for(let r=0;r<t.length;r++){const i=t[r];let a=null;if(null!==d)a=d.getViewport(i);else{const t=c.getViewSubImage(u,i);a=t.viewport,0===r&&(e.setRenderTargetTextures(m,t.colorTexture,u.ignoreDepthValues?void 0:t.depthStencilTexture),e.setRenderTarget(m))}let o=b[r];void 0===o&&(o=new Na,o.layers.enable(r),o.viewport=new mr,b[r]=o),o.matrix.fromArray(i.transform.matrix),o.projectionMatrix.fromArray(i.projectionMatrix),o.viewport.set(a.x,a.y,a.width,a.height),0===r&&x.matrix.copy(o.matrix),!0===n&&x.cameras.push(o)}}for(let e=0;e<v.length;e++){const t=g[e],r=v[e];null!==t&&void 0!==r&&r.update(t,n,s||a)}L&&L(t,n),h=null}const P=new Xa;P.setAnimationLoop(I),this.setAnimationLoop=function(e){L=e},this.dispose=function(){}}}function xd(e,t){function n(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)}function r(e,t,n,r,m){t.isMeshBasicMaterial||t.isMeshLambertMaterial?i(e,t):t.isMeshToonMaterial?(i(e,t),u(e,t)):t.isMeshPhongMaterial?(i(e,t),c(e,t)):t.isMeshStandardMaterial?(i(e,t),d(e,t),t.isMeshPhysicalMaterial&&h(e,t,m)):t.isMeshMatcapMaterial?(i(e,t),f(e,t)):t.isMeshDepthMaterial?i(e,t):t.isMeshDistanceMaterial?(i(e,t),p(e,t)):t.isMeshNormalMaterial?i(e,t):t.isLineBasicMaterial?(a(e,t),t.isLineDashedMaterial&&o(e,t)):t.isPointsMaterial?s(e,t,n,r):t.isSpriteMaterial?l(e,t):t.isShadowMaterial?(e.color.value.copy(t.color),e.opacity.value=t.opacity):t.isShaderMaterial&&(t.uniformsNeedUpdate=!1)}function i(n,r){n.opacity.value=r.opacity,r.color&&n.diffuse.value.copy(r.color),r.emissive&&n.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(n.map.value=r.map),r.alphaMap&&(n.alphaMap.value=r.alphaMap),r.bumpMap&&(n.bumpMap.value=r.bumpMap,n.bumpScale.value=r.bumpScale,r.side===g&&(n.bumpScale.value*=-1)),r.displacementMap&&(n.displacementMap.value=r.displacementMap,n.displacementScale.value=r.displacementScale,n.displacementBias.value=r.displacementBias),r.emissiveMap&&(n.emissiveMap.value=r.emissiveMap),r.normalMap&&(n.normalMap.value=r.normalMap,n.normalScale.value.copy(r.normalScale),r.side===g&&n.normalScale.value.negate()),r.specularMap&&(n.specularMap.value=r.specularMap),r.alphaTest>0&&(n.alphaTest.value=r.alphaTest);const i=t.get(r).envMap;if(i&&(n.envMap.value=i,n.flipEnvMap.value=i.isCubeTexture&&!1===i.isRenderTargetTexture?-1:1,n.reflectivity.value=r.reflectivity,n.ior.value=r.ior,n.refractionRatio.value=r.refractionRatio),r.lightMap){n.lightMap.value=r.lightMap;const t=!0!==e.physicallyCorrectLights?Math.PI:1;n.lightMapIntensity.value=r.lightMapIntensity*t}let a,o;r.aoMap&&(n.aoMap.value=r.aoMap,n.aoMapIntensity.value=r.aoMapIntensity),r.map?a=r.map:r.specularMap?a=r.specularMap:r.displacementMap?a=r.displacementMap:r.normalMap?a=r.normalMap:r.bumpMap?a=r.bumpMap:r.roughnessMap?a=r.roughnessMap:r.metalnessMap?a=r.metalnessMap:r.alphaMap?a=r.alphaMap:r.emissiveMap?a=r.emissiveMap:r.clearcoatMap?a=r.clearcoatMap:r.clearcoatNormalMap?a=r.clearcoatNormalMap:r.clearcoatRoughnessMap?a=r.clearcoatRoughnessMap:r.iridescenceMap?a=r.iridescenceMap:r.iridescenceThicknessMap?a=r.iridescenceThicknessMap:r.specularIntensityMap?a=r.specularIntensityMap:r.specularColorMap?a=r.specularColorMap:r.transmissionMap?a=r.transmissionMap:r.thicknessMap?a=r.thicknessMap:r.sheenColorMap?a=r.sheenColorMap:r.sheenRoughnessMap&&(a=r.sheenRoughnessMap),void 0!==a&&(a.isWebGLRenderTarget&&(a=a.texture),!0===a.matrixAutoUpdate&&a.updateMatrix(),n.uvTransform.value.copy(a.matrix)),r.aoMap?o=r.aoMap:r.lightMap&&(o=r.lightMap),void 0!==o&&(o.isWebGLRenderTarget&&(o=o.texture),!0===o.matrixAutoUpdate&&o.updateMatrix(),n.uv2Transform.value.copy(o.matrix))}function a(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}function o(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}function s(e,t,n,r){let i;e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*n,e.scale.value=.5*r,t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.alphaTest>0&&(e.alphaTest.value=t.alphaTest),t.map?i=t.map:t.alphaMap&&(i=t.alphaMap),void 0!==i&&(!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uvTransform.value.copy(i.matrix))}function l(e,t){let n;e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.alphaTest>0&&(e.alphaTest.value=t.alphaTest),t.map?n=t.map:t.alphaMap&&(n=t.alphaMap),void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}function c(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}function u(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}function d(e,n){e.roughness.value=n.roughness,e.metalness.value=n.metalness,n.roughnessMap&&(e.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(e.metalnessMap.value=n.metalnessMap);const r=t.get(n).envMap;r&&(e.envMapIntensity.value=n.envMapIntensity)}function h(e,t,n){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap)),t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap),t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,t.side===g&&e.clearcoatNormalScale.value.negate())),t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap)),t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=n.texture,e.transmissionSamplerSize.value.set(n.width,n.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor)),e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap)}function f(e,t){t.matcap&&(e.matcap.value=t.matcap)}function p(e,t){e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}return{refreshFogUniforms:n,refreshMaterialUniforms:r}}function wd(e,t,n,r){let i={},a={},o=[];const s=n.isWebGL2?e.getParameter(35375):0;function l(e,t){const n=t.program;r.uniformBlockBinding(e,n)}function c(e,n){let o=i[e.id];void 0===o&&(p(e),o=u(e),i[e.id]=o,e.addEventListener("dispose",v));const s=n.program;r.updateUBOMapping(e,s);const l=t.render.frame;a[e.id]!==l&&(h(e),a[e.id]=l)}function u(t){const n=d();t.__bindingPointIndex=n;const r=e.createBuffer(),i=t.__size,a=t.usage;return e.bindBuffer(35345,r),e.bufferData(35345,i,a),e.bindBuffer(35345,null),e.bindBufferBase(35345,n,r),r}function d(){for(let e=0;e<s;e++)if(-1===o.indexOf(e))return o.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(t){const n=i[t.id],r=t.uniforms,a=t.__cache;e.bindBuffer(35345,n);for(let i=0,o=r.length;i<o;i++){const t=r[i];if(!0===f(t,i,a)){const n=t.value,r=t.__offset;"number"===typeof n?(t.__data[0]=n,e.bufferSubData(35345,r,t.__data)):(t.value.isMatrix3?(t.__data[0]=t.value.elements[0],t.__data[1]=t.value.elements[1],t.__data[2]=t.value.elements[2],t.__data[3]=t.value.elements[0],t.__data[4]=t.value.elements[3],t.__data[5]=t.value.elements[4],t.__data[6]=t.value.elements[5],t.__data[7]=t.value.elements[0],t.__data[8]=t.value.elements[6],t.__data[9]=t.value.elements[7],t.__data[10]=t.value.elements[8],t.__data[11]=t.value.elements[0]):n.toArray(t.__data),e.bufferSubData(35345,r,t.__data))}}e.bindBuffer(35345,null)}function f(e,t,n){const r=e.value;if(void 0===n[t])return n[t]="number"===typeof r?r:r.clone(),!0;if("number"===typeof r){if(n[t]!==r)return n[t]=r,!0}else{const e=n[t];if(!1===e.equals(r))return e.copy(r),!0}return!1}function p(e){const t=e.uniforms;let n=0;const r=16;let i=0;for(let a=0,o=t.length;a<o;a++){const e=t[a],o=m(e);if(e.__data=new Float32Array(o.storage/Float32Array.BYTES_PER_ELEMENT),e.__offset=n,a>0){i=n%r;const t=r-i;0!==i&&t-o.boundary<0&&(n+=r-i,e.__offset=n)}n+=o.storage}return i=n%r,i>0&&(n+=r-i),e.__size=n,e.__cache={},this}function m(e){const t=e.value,n={boundary:0,storage:0};return"number"===typeof t?(n.boundary=4,n.storage=4):t.isVector2?(n.boundary=8,n.storage=8):t.isVector3||t.isColor?(n.boundary=16,n.storage=12):t.isVector4?(n.boundary=16,n.storage=16):t.isMatrix3?(n.boundary=48,n.storage=48):t.isMatrix4?(n.boundary=64,n.storage=64):t.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",t),n}function v(t){const n=t.target;n.removeEventListener("dispose",v);const r=o.indexOf(n.__bindingPointIndex);o.splice(r,1),e.deleteBuffer(i[n.id]),delete i[n.id],delete a[n.id]}function g(){for(const t in i)e.deleteBuffer(i[t]);o=[],i={},a={}}return{bind:l,update:c,dispose:g}}function Sd(){const e=Kn("canvas");return e.style.display="block",e}function Md(e={}){this.isWebGLRenderer=!0;const t=void 0!==e.canvas?e.canvas:Sd(),n=void 0!==e.context?e.context:null,r=void 0===e.depth||e.depth,i=void 0===e.stencil||e.stencil,o=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,l=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,c=void 0!==e.powerPreference?e.powerPreference:"default",u=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat;let d;d=null!==n?n.getContextAttributes().alpha:void 0!==e.alpha&&e.alpha;let h=null,f=null;const p=[],m=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Dt,this.physicallyCorrectLights=!1,this.toneMapping=ee,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const y=this;let b=!1,x=0,w=0,S=null,M=-1,E=null;const T=new mr,A=new mr;let C=null,k=t.width,R=t.height,L=1,I=null,P=null;const D=new mr(0,0,k,R),O=new mr(0,0,k,R);let N=!1;const F=new qa;let B=!1,V=!1,U=null;const z=new ei,H=new Yn,W=new Sr,j={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function G(){return null===S?L:1}let Y,$,q,X,Z,K,J,Q,te,ne,re,ie,ae,oe,se,le,ce,ue,de,he,fe,pe,me,ve,ge=n;function _e(e,n){for(let r=0;r<e.length;r++){const i=e[r],a=t.getContext(i,n);if(null!==a)return a}return null}try{const e={alpha:!0,depth:r,stencil:i,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${a}`),t.addEventListener("webglcontextlost",xe,!1),t.addEventListener("webglcontextrestored",we,!1),t.addEventListener("webglcontextcreationerror",Me,!1),null===ge){const t=["webgl2","webgl","experimental-webgl"];if(!0===y.isWebGL1Renderer&&t.shift(),ge=_e(t,e),null===ge)throw _e(t)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===ge.getShaderPrecisionFormat&&(ge.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch($e){throw console.error("THREE.WebGLRenderer: "+$e.message),$e}function ye(){Y=new nc(ge),$=new Dl(ge,Y,e),Y.init($),pe=new pd(ge,Y,$),q=new hd(ge,Y,$),X=new ac,Z=new Xu,K=new fd(ge,Y,q,Z,$,pe,X),J=new Nl(y),Q=new tc(y),te=new Za(ge,$),me=new Il(ge,Y,te,$),ne=new rc(ge,te,X,me),re=new uc(ge,ne,te,X),de=new cc(ge,$,K),le=new Ol(Z),ie=new qu(y,J,Q,Y,$,me,le),ae=new xd(y,Z),oe=new Qu,se=new od(Y,$),ue=new Ll(y,J,q,re,d,s),ce=new dd(y,re,$),ve=new wd(ge,X,$,q),he=new Pl(ge,Y,X,$),fe=new ic(ge,Y,X,$),X.programs=ie.programs,y.capabilities=$,y.extensions=Y,y.properties=Z,y.renderLists=oe,y.shadowMap=ce,y.state=q,y.info=X}ye();const be=new bd(y,ge);function xe(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),b=!0}function we(){console.log("THREE.WebGLRenderer: Context Restored."),b=!1;const e=X.autoReset,t=ce.enabled,n=ce.autoUpdate,r=ce.needsUpdate,i=ce.type;ye(),X.autoReset=e,ce.enabled=t,ce.autoUpdate=n,ce.needsUpdate=r,ce.type=i}function Me(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function Te(e){const t=e.target;t.removeEventListener("dispose",Te),Ae(t)}function Ae(e){Ce(e),Z.remove(e)}function Ce(e){const t=Z.get(e).programs;void 0!==t&&(t.forEach((function(e){ie.releaseProgram(e)})),e.isShaderMaterial&&ie.releaseShaderCache(e))}this.xr=be,this.getContext=function(){return ge},this.getContextAttributes=function(){return ge.getContextAttributes()},this.forceContextLoss=function(){const e=Y.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){const e=Y.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return L},this.setPixelRatio=function(e){void 0!==e&&(L=e,this.setSize(k,R,!1))},this.getSize=function(e){return e.set(k,R)},this.setSize=function(e,n,r){be.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(k=e,R=n,t.width=Math.floor(e*L),t.height=Math.floor(n*L),!1!==r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return e.set(k*L,R*L).floor()},this.setDrawingBufferSize=function(e,n,r){k=e,R=n,L=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return e.copy(T)},this.getViewport=function(e){return e.copy(D)},this.setViewport=function(e,t,n,r){e.isVector4?D.set(e.x,e.y,e.z,e.w):D.set(e,t,n,r),q.viewport(T.copy(D).multiplyScalar(L).floor())},this.getScissor=function(e){return e.copy(O)},this.setScissor=function(e,t,n,r){e.isVector4?O.set(e.x,e.y,e.z,e.w):O.set(e,t,n,r),q.scissor(A.copy(O).multiplyScalar(L).floor())},this.getScissorTest=function(){return N},this.setScissorTest=function(e){q.setScissorTest(N=e)},this.setOpaqueSort=function(e){I=e},this.setTransparentSort=function(e){P=e},this.getClearColor=function(e){return e.copy(ue.getClearColor())},this.setClearColor=function(){ue.setClearColor.apply(ue,arguments)},this.getClearAlpha=function(){return ue.getClearAlpha()},this.setClearAlpha=function(){ue.setClearAlpha.apply(ue,arguments)},this.clear=function(e=!0,t=!0,n=!0){let r=0;e&&(r|=16384),t&&(r|=256),n&&(r|=1024),ge.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",xe,!1),t.removeEventListener("webglcontextrestored",we,!1),t.removeEventListener("webglcontextcreationerror",Me,!1),oe.dispose(),se.dispose(),Z.dispose(),J.dispose(),Q.dispose(),re.dispose(),me.dispose(),ve.dispose(),ie.dispose(),be.dispose(),be.removeEventListener("sessionstart",Pe),be.removeEventListener("sessionend",De),U&&(U.dispose(),U=null),Oe.stop()},this.renderBufferDirect=function(e,t,n,r,i,a){null===t&&(t=j);const o=i.isMesh&&i.matrixWorld.determinant()<0,s=je(e,t,n,r,i);q.setMaterial(r,o);let l=n.index;const c=n.attributes.position;if(null===l){if(void 0===c||0===c.count)return}else if(0===l.count)return;let u,d=1;!0===r.wireframe&&(l=ne.getWireframeAttribute(n),d=2),me.setup(i,r,s,n,l);let h=he;null!==l&&(u=te.get(l),h=fe,h.setIndex(u));const f=null!==l?l.count:c.count,p=n.drawRange.start*d,m=n.drawRange.count*d,v=null!==a?a.start*d:0,g=null!==a?a.count*d:1/0,_=Math.max(p,v),y=Math.min(f,p+m,v+g)-1,b=Math.max(0,y-_+1);if(0!==b){if(i.isMesh)!0===r.wireframe?(q.setLineWidth(r.wireframeLinewidth*G()),h.setMode(1)):h.setMode(4);else if(i.isLine){let e=r.linewidth;void 0===e&&(e=1),q.setLineWidth(e*G()),i.isLineSegments?h.setMode(1):i.isLineLoop?h.setMode(2):h.setMode(3)}else i.isPoints?h.setMode(0):i.isSprite&&h.setMode(4);if(i.isInstancedMesh)h.renderInstances(_,b,i.count);else if(n.isInstancedBufferGeometry){const e=Math.min(n.instanceCount,n._maxInstanceCount);h.renderInstances(_,b,e)}else h.render(_,b)}},this.compile=function(e,t){f=se.get(e),f.init(),m.push(f),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(f.pushLight(e),e.castShadow&&f.pushShadow(e))})),f.setupLights(y.physicallyCorrectLights),e.traverse((function(t){const n=t.material;if(n)if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];He(i,e,t)}else He(n,e,t)})),m.pop(),f=null};let ke=null;function Re(e){ke&&ke(e)}function Pe(){Oe.stop()}function De(){Oe.start()}const Oe=new Xa;function Ne(e,t,n,r){if(!1===e.visible)return;const i=e.layers.test(t.layers);if(i)if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)f.pushLight(e),e.castShadow&&f.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||F.intersectsSprite(e)){r&&W.setFromMatrixPosition(e.matrixWorld).applyMatrix4(z);const t=re.update(e),i=e.material;i.visible&&h.push(e,t,i,n,W.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==X.render.frame&&(e.skeleton.update(),e.skeleton.frame=X.render.frame),!e.frustumCulled||F.intersectsObject(e))){r&&W.setFromMatrixPosition(e.matrixWorld).applyMatrix4(z);const t=re.update(e),i=e.material;if(Array.isArray(i)){const r=t.groups;for(let a=0,o=r.length;a<o;a++){const o=r[a],s=i[o.materialIndex];s&&s.visible&&h.push(e,t,s,n,W.z,o)}}else i.visible&&h.push(e,t,i,n,W.z,null)}const a=e.children;for(let o=0,s=a.length;o<s;o++)Ne(a[o],t,n,r)}function Fe(e,t,n,r){const i=e.opaque,a=e.transmissive,o=e.transparent;f.setupLightsView(n),a.length>0&&Ve(i,t,n),r&&q.viewport(T.copy(r)),i.length>0&&Ue(i,t,n),a.length>0&&Ue(a,t,n),o.length>0&&Ue(o,t,n),q.buffers.depth.setTest(!0),q.buffers.depth.setMask(!0),q.buffers.color.setMask(!0),q.setPolygonOffset(!1)}function Ve(e,t,n){const r=$.isWebGL2;null===U&&(U=new vr(1,1,{generateMipmaps:!0,type:Y.has("EXT_color_buffer_half_float")?Ie:Ee,minFilter:Se,samples:r&&!0===o?4:0})),y.getDrawingBufferSize(H),r?U.setSize(H.x,H.y):U.setSize(zn(H.x),zn(H.y));const i=y.getRenderTarget();y.setRenderTarget(U),y.clear();const a=y.toneMapping;y.toneMapping=ee,Ue(e,t,n),y.toneMapping=a,K.updateMultisampleRenderTarget(U),K.updateRenderTargetMipmap(U),y.setRenderTarget(i)}function Ue(e,t,n){const r=!0===t.isScene?t.overrideMaterial:null;for(let i=0,a=e.length;i<a;i++){const a=e[i],o=a.object,s=a.geometry,l=null===r?a.material:r,c=a.group;o.layers.test(n.layers)&&ze(o,t,n,s,l,c)}}function ze(e,t,n,r,i,a){e.onBeforeRender(y,t,n,r,i,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(y,t,n,r,e,a),!0===i.transparent&&i.side===_?(i.side=g,i.needsUpdate=!0,y.renderBufferDirect(n,t,r,i,e,a),i.side=v,i.needsUpdate=!0,y.renderBufferDirect(n,t,r,i,e,a),i.side=_):y.renderBufferDirect(n,t,r,i,e,a),e.onAfterRender(y,t,n,r,i,a)}function He(e,t,n){!0!==t.isScene&&(t=j);const r=Z.get(e),i=f.state.lights,a=f.state.shadowsArray,o=i.state.version,s=ie.getParameters(e,i.state,a,t,n),l=ie.getProgramCacheKey(s);let c=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?Q:J).get(e.envMap||r.environment),void 0===c&&(e.addEventListener("dispose",Te),c=new Map,r.programs=c);let u=c.get(l);if(void 0!==u){if(r.currentProgram===u&&r.lightsStateVersion===o)return We(e,s),u}else s.uniforms=ie.getUniforms(e),e.onBuild(n,s,y),e.onBeforeCompile(s,y),u=ie.acquireProgram(s,l),c.set(l,u),r.uniforms=s.uniforms;const d=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(d.clippingPlanes=le.uniform),We(e,s),r.needsLights=Ye(e),r.lightsStateVersion=o,r.needsLights&&(d.ambientLightColor.value=i.state.ambient,d.lightProbe.value=i.state.probe,d.directionalLights.value=i.state.directional,d.directionalLightShadows.value=i.state.directionalShadow,d.spotLights.value=i.state.spot,d.spotLightShadows.value=i.state.spotShadow,d.rectAreaLights.value=i.state.rectArea,d.ltc_1.value=i.state.rectAreaLTC1,d.ltc_2.value=i.state.rectAreaLTC2,d.pointLights.value=i.state.point,d.pointLightShadows.value=i.state.pointShadow,d.hemisphereLights.value=i.state.hemi,d.directionalShadowMap.value=i.state.directionalShadowMap,d.directionalShadowMatrix.value=i.state.directionalShadowMatrix,d.spotShadowMap.value=i.state.spotShadowMap,d.spotShadowMatrix.value=i.state.spotShadowMatrix,d.pointShadowMap.value=i.state.pointShadowMap,d.pointShadowMatrix.value=i.state.pointShadowMatrix);const h=u.getUniforms(),p=vu.seqWithValue(h.seq,d);return r.currentProgram=u,r.uniformsList=p,u}function We(e,t){const n=Z.get(e);n.outputEncoding=t.outputEncoding,n.instancing=t.instancing,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}function je(e,t,n,r,i){!0!==t.isScene&&(t=j),K.resetTextureUnits();const a=t.fog,o=r.isMeshStandardMaterial?t.environment:null,s=null===S?y.outputEncoding:!0===S.isXRRenderTarget?S.texture.encoding:Dt,l=(r.isMeshStandardMaterial?Q:J).get(r.envMap||o),c=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,u=!!r.normalMap&&!!n.attributes.tangent,d=!!n.morphAttributes.position,h=!!n.morphAttributes.normal,p=!!n.morphAttributes.color,m=r.toneMapped?y.toneMapping:ee,v=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,g=void 0!==v?v.length:0,_=Z.get(r),b=f.state.lights;if(!0===B&&(!0===V||e!==E)){const t=e===E&&r.id===M;le.setState(r,e,t)}let x=!1;r.version===_.__version?_.needsLights&&_.lightsStateVersion!==b.state.version||_.outputEncoding!==s||i.isInstancedMesh&&!1===_.instancing?x=!0:i.isInstancedMesh||!0!==_.instancing?i.isSkinnedMesh&&!1===_.skinning?x=!0:i.isSkinnedMesh||!0!==_.skinning?_.envMap!==l||!0===r.fog&&_.fog!==a?x=!0:void 0===_.numClippingPlanes||_.numClippingPlanes===le.numPlanes&&_.numIntersection===le.numIntersection?(_.vertexAlphas!==c||_.vertexTangents!==u||_.morphTargets!==d||_.morphNormals!==h||_.morphColors!==p||_.toneMapping!==m||!0===$.isWebGL2&&_.morphTargetsCount!==g)&&(x=!0):x=!0:x=!0:x=!0:(x=!0,_.__version=r.version);let w=_.currentProgram;!0===x&&(w=He(r,t,i));let T=!1,A=!1,C=!1;const k=w.getUniforms(),I=_.uniforms;if(q.useProgram(w.program)&&(T=!0,A=!0,C=!0),r.id!==M&&(M=r.id,A=!0),T||E!==e){if(k.setValue(ge,"projectionMatrix",e.projectionMatrix),$.logarithmicDepthBuffer&&k.setValue(ge,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),E!==e&&(E=e,A=!0,C=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshStandardMaterial||r.envMap){const t=k.map.cameraPosition;void 0!==t&&t.setValue(ge,W.setFromMatrixPosition(e.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&k.setValue(ge,"isOrthographic",!0===e.isOrthographicCamera),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.isShadowMaterial||i.isSkinnedMesh)&&k.setValue(ge,"viewMatrix",e.matrixWorldInverse)}if(i.isSkinnedMesh){k.setOptional(ge,i,"bindMatrix"),k.setOptional(ge,i,"bindMatrixInverse");const e=i.skeleton;e&&($.floatVertexTextures?(null===e.boneTexture&&e.computeBoneTexture(),k.setValue(ge,"boneTexture",e.boneTexture,K),k.setValue(ge,"boneTextureSize",e.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const P=n.morphAttributes;if((void 0!==P.position||void 0!==P.normal||void 0!==P.color&&!0===$.isWebGL2)&&de.update(i,n,r,w),(A||_.receiveShadow!==i.receiveShadow)&&(_.receiveShadow=i.receiveShadow,k.setValue(ge,"receiveShadow",i.receiveShadow)),A&&(k.setValue(ge,"toneMappingExposure",y.toneMappingExposure),_.needsLights&&Ge(I,C),a&&!0===r.fog&&ae.refreshFogUniforms(I,a),ae.refreshMaterialUniforms(I,r,L,R,U),vu.upload(ge,_.uniformsList,I,K)),r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(vu.upload(ge,_.uniformsList,I,K),r.uniformsNeedUpdate=!1),r.isSpriteMaterial&&k.setValue(ge,"center",i.center),k.setValue(ge,"modelViewMatrix",i.modelViewMatrix),k.setValue(ge,"normalMatrix",i.normalMatrix),k.setValue(ge,"modelMatrix",i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial){const e=r.uniformsGroups;for(let t=0,n=e.length;t<n;t++)if($.isWebGL2){const n=e[t];ve.update(n,w),ve.bind(n,w)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return w}function Ge(e,t){e.ambientLightColor.needsUpdate=t,e.lightProbe.needsUpdate=t,e.directionalLights.needsUpdate=t,e.directionalLightShadows.needsUpdate=t,e.pointLights.needsUpdate=t,e.pointLightShadows.needsUpdate=t,e.spotLights.needsUpdate=t,e.spotLightShadows.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}function Ye(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}Oe.setAnimationLoop(Re),"undefined"!==typeof self&&Oe.setContext(self),this.setAnimationLoop=function(e){ke=e,be.setAnimationLoop(e),null===e?Oe.stop():Oe.start()},be.addEventListener("sessionstart",Pe),be.addEventListener("sessionend",De),this.render=function(e,t){if(void 0!==t&&!0!==t.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===b)return;!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),!0===be.enabled&&!0===be.isPresenting&&(!0===be.cameraAutoUpdate&&be.updateCamera(t),t=be.getCamera()),!0===e.isScene&&e.onBeforeRender(y,e,t,S),f=se.get(e,m.length),f.init(),m.push(f),z.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),F.setFromProjectionMatrix(z),V=this.localClippingEnabled,B=le.init(this.clippingPlanes,V,t),h=oe.get(e,p.length),h.init(),p.push(h),Ne(e,t,0,y.sortObjects),h.finish(),!0===y.sortObjects&&h.sort(I,P),!0===B&&le.beginShadows();const n=f.state.shadowsArray;if(ce.render(n,e,t),!0===B&&le.endShadows(),!0===this.info.autoReset&&this.info.reset(),ue.render(h,e),f.setupLights(y.physicallyCorrectLights),t.isArrayCamera){const n=t.cameras;for(let t=0,r=n.length;t<r;t++){const r=n[t];Fe(h,e,r,r.viewport)}}else Fe(h,e,t);null!==S&&(K.updateMultisampleRenderTarget(S),K.updateRenderTargetMipmap(S)),!0===e.isScene&&e.onAfterRender(y,e,t),me.resetDefaultState(),M=-1,E=null,m.pop(),f=m.length>0?m[m.length-1]:null,p.pop(),h=p.length>0?p[p.length-1]:null},this.getActiveCubeFace=function(){return x},this.getActiveMipmapLevel=function(){return w},this.getRenderTarget=function(){return S},this.setRenderTargetTextures=function(e,t,n){Z.get(e.texture).__webglTexture=t,Z.get(e.depthTexture).__webglTexture=n;const r=Z.get(e);r.__hasExternalTextures=!0,r.__hasExternalTextures&&(r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===Y.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),r.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(e,t){const n=Z.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e,t=0,n=0){S=e,x=t,w=n;let r=!0;if(e){const t=Z.get(e);void 0!==t.__useDefaultFramebuffer?(q.bindFramebuffer(36160,null),r=!1):void 0===t.__webglFramebuffer?K.setupRenderTarget(e):t.__hasExternalTextures&&K.rebindTextures(e,Z.get(e.texture).__webglTexture,Z.get(e.depthTexture).__webglTexture)}let i=null,a=!1,o=!1;if(e){const n=e.texture;(n.isData3DTexture||n.isDataArrayTexture)&&(o=!0);const r=Z.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=r[t],a=!0):i=$.isWebGL2&&e.samples>0&&!1===K.useMultisampledRTT(e)?Z.get(e).__webglMultisampledFramebuffer:r,T.copy(e.viewport),A.copy(e.scissor),C=e.scissorTest}else T.copy(D).multiplyScalar(L).floor(),A.copy(O).multiplyScalar(L).floor(),C=N;const s=q.bindFramebuffer(36160,i);if(s&&$.drawBuffers&&r&&q.drawBuffers(e,i),q.viewport(T),q.scissor(A),q.setScissorTest(C),a){const r=Z.get(e.texture);ge.framebufferTexture2D(36160,36064,34069+t,r.__webglTexture,n)}else if(o){const r=Z.get(e.texture),i=t||0;ge.framebufferTextureLayer(36160,36064,r.__webglTexture,n||0,i)}M=-1},this.readRenderTargetPixels=function(e,t,n,r,i,a,o){if(!e||!e.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let s=Z.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){q.bindFramebuffer(36160,s);try{const o=e.texture,s=o.format,l=o.type;if(s!==Be&&pe.convert(s)!==ge.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const c=l===Ie&&(Y.has("EXT_color_buffer_half_float")||$.isWebGL2&&Y.has("EXT_color_buffer_float"));if(l!==Ee&&pe.convert(l)!==ge.getParameter(35738)&&(l!==Le||!($.isWebGL2||Y.has("OES_texture_float")||Y.has("WEBGL_color_buffer_float")))&&!c)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&ge.readPixels(t,n,r,i,pe.convert(s),pe.convert(l),a)}finally{const e=null!==S?Z.get(S).__webglFramebuffer:null;q.bindFramebuffer(36160,e)}}},this.copyFramebufferToTexture=function(e,t,n=0){const r=Math.pow(2,-n),i=Math.floor(t.image.width*r),a=Math.floor(t.image.height*r);K.setTexture2D(t,0),ge.copyTexSubImage2D(3553,n,0,0,e.x,e.y,i,a),q.unbindTexture()},this.copyTextureToTexture=function(e,t,n,r=0){const i=t.image.width,a=t.image.height,o=pe.convert(n.format),s=pe.convert(n.type);K.setTexture2D(n,0),ge.pixelStorei(37440,n.flipY),ge.pixelStorei(37441,n.premultiplyAlpha),ge.pixelStorei(3317,n.unpackAlignment),t.isDataTexture?ge.texSubImage2D(3553,r,e.x,e.y,i,a,o,s,t.image.data):t.isCompressedTexture?ge.compressedTexSubImage2D(3553,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,o,t.mipmaps[0].data):ge.texSubImage2D(3553,r,e.x,e.y,o,s,t.image),0===r&&n.generateMipmaps&&ge.generateMipmap(3553),q.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,r,i=0){if(y.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const a=e.max.x-e.min.x+1,o=e.max.y-e.min.y+1,s=e.max.z-e.min.z+1,l=pe.convert(r.format),c=pe.convert(r.type);let u;if(r.isData3DTexture)K.setTexture3D(r,0),u=32879;else{if(!r.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");K.setTexture2DArray(r,0),u=35866}ge.pixelStorei(37440,r.flipY),ge.pixelStorei(37441,r.premultiplyAlpha),ge.pixelStorei(3317,r.unpackAlignment);const d=ge.getParameter(3314),h=ge.getParameter(32878),f=ge.getParameter(3316),p=ge.getParameter(3315),m=ge.getParameter(32877),v=n.isCompressedTexture?n.mipmaps[0]:n.image;ge.pixelStorei(3314,v.width),ge.pixelStorei(32878,v.height),ge.pixelStorei(3316,e.min.x),ge.pixelStorei(3315,e.min.y),ge.pixelStorei(32877,e.min.z),n.isDataTexture||n.isData3DTexture?ge.texSubImage3D(u,i,t.x,t.y,t.z,a,o,s,l,c,v.data):n.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ge.compressedTexSubImage3D(u,i,t.x,t.y,t.z,a,o,s,l,v.data)):ge.texSubImage3D(u,i,t.x,t.y,t.z,a,o,s,l,c,v),ge.pixelStorei(3314,d),ge.pixelStorei(32878,h),ge.pixelStorei(3316,f),ge.pixelStorei(3315,p),ge.pixelStorei(32877,m),0===i&&r.generateMipmaps&&ge.generateMipmap(u),q.unbindTexture()},this.initTexture=function(e){e.isCubeTexture?K.setTextureCube(e,0):e.isData3DTexture?K.setTexture3D(e,0):e.isDataArrayTexture?K.setTexture2DArray(e,0):K.setTexture2D(e,0),q.unbindTexture()},this.resetState=function(){x=0,w=0,S=null,q.reset(),me.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class Ed extends Md{}Ed.prototype.isWebGL1Renderer=!0;class Td{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new lr(e),this.density=t}clone(){return new Td(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Ad{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new lr(e),this.near=t,this.far=n}clone(){return new Ad(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Cd extends Ei{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}class kd{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=on,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Sn()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Sn()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Sn()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Rd=new Sr;class Ld{constructor(e,t,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)Rd.fromBufferAttribute(this,t),Rd.applyMatrix4(e),this.setXYZ(t,Rd.x,Rd.y,Rd.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Rd.fromBufferAttribute(this,t),Rd.applyNormalMatrix(e),this.setXYZ(t,Rd.x,Rd.y,Rd.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Rd.fromBufferAttribute(this,t),Rd.transformDirection(e),this.setXYZ(t,Rd.x,Rd.y,Rd.z);return this}setX(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}clone(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will deinterleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return new Hi(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Ld(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will deinterleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class Id extends Bi{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new lr(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Pd;const Dd=new Sr,Od=new Sr,Nd=new Sr,Fd=new Yn,Bd=new Yn,Vd=new ei,Ud=new Sr,zd=new Sr,Hd=new Sr,Wd=new Yn,jd=new Yn,Gd=new Yn;class Yd extends Ei{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",void 0===Pd){Pd=new oa;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),t=new kd(e,5);Pd.setIndex([0,1,2,0,2,3]),Pd.setAttribute("position",new Ld(t,3,0,!1)),Pd.setAttribute("uv",new Ld(t,2,3,!1))}this.geometry=Pd,this.material=void 0!==e?e:new Id,this.center=new Yn(.5,.5)}raycast(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Od.setFromMatrixScale(this.matrixWorld),Vd.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Nd.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Od.multiplyScalar(-Nd.z);const n=this.material.rotation;let r,i;0!==n&&(i=Math.cos(n),r=Math.sin(n));const a=this.center;$d(Ud.set(-.5,-.5,0),Nd,a,Od,r,i),$d(zd.set(.5,-.5,0),Nd,a,Od,r,i),$d(Hd.set(.5,.5,0),Nd,a,Od,r,i),Wd.set(0,0),jd.set(1,0),Gd.set(1,1);let o=e.ray.intersectTriangle(Ud,zd,Hd,!1,Dd);if(null===o&&($d(zd.set(-.5,.5,0),Nd,a,Od,r,i),jd.set(0,1),o=e.ray.intersectTriangle(Ud,Hd,zd,!1,Dd),null===o))return;const s=e.ray.origin.distanceTo(Dd);s<e.near||s>e.far||t.push({distance:s,point:Dd.clone(),uv:Ni.getUV(Dd,Ud,zd,Hd,Wd,jd,Gd,new Yn),face:null,object:this})}copy(e,t){return super.copy(e,t),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}function $d(e,t,n,r,i,a){Fd.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(Bd.x=a*Fd.x-i*Fd.y,Bd.y=i*Fd.x+a*Fd.y):Bd.copy(Fd),e.copy(t),e.x+=Bd.x,e.y+=Bd.y,e.applyMatrix4(Vd)}const qd=new Sr,Xd=new Sr;class Zd extends Ei{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,r=t.length;n<r;n++){const e=t[n];this.addLevel(e.object.clone(),e.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0){t=Math.abs(t);const n=this.levels;let r;for(r=0;r<n.length;r++)if(t<n[r].distance)break;return n.splice(r,0,{distance:t,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,r;for(n=1,r=t.length;n<r;n++)if(e<t[n].distance)break;return t[n-1].object}return null}raycast(e,t){const n=this.levels;if(n.length>0){qd.setFromMatrixPosition(this.matrixWorld);const n=e.ray.origin.distanceTo(qd);this.getObjectForDistance(n).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){qd.setFromMatrixPosition(e.matrixWorld),Xd.setFromMatrixPosition(this.matrixWorld);const n=qd.distanceTo(Xd)/e.zoom;let r,i;for(t[0].object.visible=!0,r=1,i=t.length;r<i;r++){if(!(n>=t[r].distance))break;t[r-1].object.visible=!1,t[r].object.visible=!0}for(this._currentLevel=r-1;r<i;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let r=0,i=n.length;r<i;r++){const e=n[r];t.object.levels.push({object:e.object.uuid,distance:e.distance})}return t}}const Kd=new Sr,Jd=new mr,Qd=new mr,eh=new Sr,th=new ei;class nh extends Ma{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new ei,this.bindMatrixInverse=new ei}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new mr,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const n=this.skeleton,r=this.geometry;Jd.fromBufferAttribute(r.attributes.skinIndex,e),Qd.fromBufferAttribute(r.attributes.skinWeight,e),Kd.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let i=0;i<4;i++){const e=Qd.getComponent(i);if(0!==e){const r=Jd.getComponent(i);th.multiplyMatrices(n.bones[r].matrixWorld,n.boneInverses[r]),t.addScaledVector(eh.copy(Kd).applyMatrix4(th),e)}}return t.applyMatrix4(this.bindMatrixInverse)}}class rh extends Ei{constructor(){super(),this.isBone=!0,this.type="Bone"}}class ih extends pr{constructor(e=null,t=1,n=1,r,i,a,o,s,l=me,c=me,u,d){super(null,a,o,s,l,c,r,i,u,d),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const ah=new ei,oh=new ei;class sh{constructor(e=[],t=[]){this.uuid=Sn(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++)this.boneInverses.push(new ei)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const t=new ei;this.bones[e]&&t.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(t)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&t.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&(t.parent&&t.parent.isBone?(t.matrix.copy(t.parent.matrixWorld).invert(),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let i=0,a=e.length;i<a;i++){const r=e[i]?e[i].matrixWorld:oh;ah.multiplyMatrices(r,t[i]),ah.toArray(n,16*i)}null!==r&&(r.needsUpdate=!0)}clone(){return new sh(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length);e=Un(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new ih(t,e,e,Be,Le);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const n=this.bones[t];if(n.name===e)return n}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){const r=e.bones[n];let i=t[r];void 0===i&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),i=new rh),this.bones.push(i),this.boneInverses.push((new ei).fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let r=0,i=t.length;r<i;r++){const i=t[r];e.bones.push(i.uuid);const a=n[r];e.boneInverses.push(a.toArray())}return e}}class lh extends Hi{constructor(e,t,n,r=1){"number"===typeof n&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const ch=new ei,uh=new ei,dh=[],hh=new Ma;class fh extends Ma{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new lh(new Float32Array(16*n),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,16*e)}raycast(e,t){const n=this.matrixWorld,r=this.count;if(hh.geometry=this.geometry,hh.material=this.material,void 0!==hh.material)for(let i=0;i<r;i++){this.getMatrixAt(i,ch),uh.multiplyMatrices(n,ch),hh.matrixWorld=uh,hh.raycast(e,dh);for(let e=0,n=dh.length;e<n;e++){const n=dh[e];n.instanceId=i,n.object=this,t.push(n)}dh.length=0}}setColorAt(e,t){null===this.instanceColor&&(this.instanceColor=new lh(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,16*e)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class ph extends Bi{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new lr(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const mh=new Sr,vh=new Sr,gh=new ei,_h=new Qr,yh=new Gr;class bh extends Ei{constructor(e=new oa,t=new ph){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[0];for(let e=1,r=t.count;e<r;e++)mh.fromBufferAttribute(t,e-1),vh.fromBufferAttribute(t,e),n[e]=n[e-1],n[e]+=mh.distanceTo(vh);e.setAttribute("lineDistance",new Ki(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),yh.copy(n.boundingSphere),yh.applyMatrix4(r),yh.radius+=i,!1===e.ray.intersectsSphere(yh))return;gh.copy(r).invert(),_h.copy(e.ray).applyMatrix4(gh);const o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=new Sr,c=new Sr,u=new Sr,d=new Sr,h=this.isLineSegments?2:1,f=n.index,p=n.attributes,m=p.position;if(null!==f){const n=Math.max(0,a.start),r=Math.min(f.count,a.start+a.count);for(let i=n,a=r-1;i<a;i+=h){const n=f.getX(i),r=f.getX(i+1);l.fromBufferAttribute(m,n),c.fromBufferAttribute(m,r);const a=_h.distanceSqToSegment(l,c,d,u);if(a>s)continue;d.applyMatrix4(this.matrixWorld);const o=e.ray.origin.distanceTo(d);o<e.near||o>e.far||t.push({distance:o,point:u.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this})}}else{const n=Math.max(0,a.start),r=Math.min(m.count,a.start+a.count);for(let i=n,a=r-1;i<a;i+=h){l.fromBufferAttribute(m,i),c.fromBufferAttribute(m,i+1);const n=_h.distanceSqToSegment(l,c,d,u);if(n>s)continue;d.applyMatrix4(this.matrixWorld);const r=e.ray.origin.distanceTo(d);r<e.near||r>e.far||t.push({distance:r,point:u.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const e=this.geometry,t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const e=t[n[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,n=e.length;t<n;t++){const n=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}}}}const xh=new Sr,wh=new Sr;class Sh extends bh{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[];for(let e=0,r=t.count;e<r;e+=2)xh.fromBufferAttribute(t,e),wh.fromBufferAttribute(t,e+1),n[e]=0===e?0:n[e-1],n[e+1]=n[e]+xh.distanceTo(wh);e.setAttribute("lineDistance",new Ki(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Mh extends bh{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Eh extends Bi{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new lr(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Th=new ei,Ah=new Qr,Ch=new Gr,kh=new Sr;class Rh extends Ei{constructor(e=new oa,t=new Eh){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Ch.copy(n.boundingSphere),Ch.applyMatrix4(r),Ch.radius+=i,!1===e.ray.intersectsSphere(Ch))return;Th.copy(r).invert(),Ah.copy(e.ray).applyMatrix4(Th);const o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=n.index,c=n.attributes,u=c.position;if(null!==l){const n=Math.max(0,a.start),i=Math.min(l.count,a.start+a.count);for(let a=n,o=i;a<o;a++){const n=l.getX(a);kh.fromBufferAttribute(u,n),Lh(kh,n,s,r,e,t,this)}}else{const n=Math.max(0,a.start),i=Math.min(u.count,a.start+a.count);for(let a=n,o=i;a<o;a++)kh.fromBufferAttribute(u,a),Lh(kh,a,s,r,e,t,this)}}updateMorphTargets(){const e=this.geometry,t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const e=t[n[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,n=e.length;t<n;t++){const n=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}}}}function Lh(e,t,n,r,i,a,o){const s=Ah.distanceSqToPoint(e);if(s<n){const n=new Sr;Ah.closestPointToPoint(e,n),n.applyMatrix4(r);const l=i.ray.origin.distanceTo(n);if(l<i.near||l>i.far)return;a.push({distance:l,distanceToRay:Math.sqrt(s),point:n,index:t,face:null,object:o})}}class Ih extends pr{constructor(e,t,n,r,i,a,o,s,l){super(e,t,n,r,i,a,o,s,l),this.isVideoTexture=!0,this.minFilter=void 0!==a?a:be,this.magFilter=void 0!==i?i:be,this.generateMipmaps=!1;const c=this;function u(){c.needsUpdate=!0,e.requestVideoFrameCallback(u)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(u)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image,t="requestVideoFrameCallback"in e;!1===t&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Ph extends pr{constructor(e,t,n){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=n,this.magFilter=me,this.minFilter=me,this.generateMipmaps=!1,this.needsUpdate=!0}}class Dh extends pr{constructor(e,t,n,r,i,a,o,s,l,c,u,d){super(null,a,o,s,l,c,r,i,u,d),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Oh extends pr{constructor(e,t,n,r,i,a,o,s,l){super(e,t,n,r,i,a,o,s,l),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Nh{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),i=0;t.push(0);for(let a=1;a<=e;a++)n=this.getPoint(a/e),i+=n.distanceTo(r),t.push(i),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let r=0;const i=n.length;let a;a=t||e*n[i-1];let o,s=0,l=i-1;while(s<=l)if(r=Math.floor(s+(l-s)/2),o=n[r]-a,o<0)s=r+1;else{if(!(o>0)){l=r;break}l=r-1}if(r=l,n[r]===a)return r/(i-1);const c=n[r],u=n[r+1],d=u-c,h=(a-c)/d,f=(r+h)/(i-1);return f}getTangent(e,t){const n=1e-4;let r=e-n,i=e+n;r<0&&(r=0),i>1&&(i=1);const a=this.getPoint(r),o=this.getPoint(i),s=t||(a.isVector2?new Yn:new Sr);return s.copy(o).sub(a).normalize(),s}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new Sr,r=[],i=[],a=[],o=new Sr,s=new ei;for(let h=0;h<=e;h++){const t=h/e;r[h]=this.getTangentAt(t,new Sr)}i[0]=new Sr,a[0]=new Sr;let l=Number.MAX_VALUE;const c=Math.abs(r[0].x),u=Math.abs(r[0].y),d=Math.abs(r[0].z);c<=l&&(l=c,n.set(1,0,0)),u<=l&&(l=u,n.set(0,1,0)),d<=l&&n.set(0,0,1),o.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],o),a[0].crossVectors(r[0],i[0]);for(let h=1;h<=e;h++){if(i[h]=i[h-1].clone(),a[h]=a[h-1].clone(),o.crossVectors(r[h-1],r[h]),o.length()>Number.EPSILON){o.normalize();const e=Math.acos(Mn(r[h-1].dot(r[h]),-1,1));i[h].applyMatrix4(s.makeRotationAxis(o,e))}a[h].crossVectors(r[h],i[h])}if(!0===t){let t=Math.acos(Mn(i[0].dot(i[e]),-1,1));t/=e,r[0].dot(o.crossVectors(i[0],i[e]))>0&&(t=-t);for(let n=1;n<=e;n++)i[n].applyMatrix4(s.makeRotationAxis(r[n],t*n)),a[n].crossVectors(r[n],i[n])}return{tangents:r,normals:i,binormals:a}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Fh extends Nh{constructor(e=0,t=0,n=1,r=1,i=0,a=2*Math.PI,o=!1,s=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=a,this.aClockwise=o,this.aRotation=s}getPoint(e,t){const n=t||new Yn,r=2*Math.PI;let i=this.aEndAngle-this.aStartAngle;const a=Math.abs(i)<Number.EPSILON;while(i<0)i+=r;while(i>r)i-=r;i<Number.EPSILON&&(i=a?0:r),!0!==this.aClockwise||a||(i===r?i=-r:i-=r);const o=this.aStartAngle+e*i;let s=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){const e=Math.cos(this.aRotation),t=Math.sin(this.aRotation),n=s-this.aX,r=l-this.aY;s=n*e-r*t+this.aX,l=n*t+r*e+this.aY}return n.set(s,l)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Bh extends Fh{constructor(e,t,n,r,i,a){super(e,t,n,n,r,i,a),this.isArcCurve=!0,this.type="ArcCurve"}}function Vh(){let e=0,t=0,n=0,r=0;function i(i,a,o,s){e=i,t=o,n=-3*i+3*a-2*o-s,r=2*i-2*a+o+s}return{initCatmullRom:function(e,t,n,r,a){i(t,n,a*(n-e),a*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,a,o,s){let l=(t-e)/a-(n-e)/(a+o)+(n-t)/o,c=(n-t)/o-(r-t)/(o+s)+(r-n)/s;l*=o,c*=o,i(t,n,l,c)},calc:function(i){const a=i*i,o=a*i;return e+t*i+n*a+r*o}}}const Uh=new Sr,zh=new Vh,Hh=new Vh,Wh=new Vh;class jh extends Nh{constructor(e=[],t=!1,n="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e,t=new Sr){const n=t,r=this.points,i=r.length,a=(i-(this.closed?0:1))*e;let o,s,l=Math.floor(a),c=a-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/i)+1)*i:0===c&&l===i-1&&(l=i-2,c=1),this.closed||l>0?o=r[(l-1)%i]:(Uh.subVectors(r[0],r[1]).add(r[0]),o=Uh);const u=r[l%i],d=r[(l+1)%i];if(this.closed||l+2<i?s=r[(l+2)%i]:(Uh.subVectors(r[i-1],r[i-2]).add(r[i-1]),s=Uh),"centripetal"===this.curveType||"chordal"===this.curveType){const e="chordal"===this.curveType?.5:.25;let t=Math.pow(o.distanceToSquared(u),e),n=Math.pow(u.distanceToSquared(d),e),r=Math.pow(d.distanceToSquared(s),e);n<1e-4&&(n=1),t<1e-4&&(t=n),r<1e-4&&(r=n),zh.initNonuniformCatmullRom(o.x,u.x,d.x,s.x,t,n,r),Hh.initNonuniformCatmullRom(o.y,u.y,d.y,s.y,t,n,r),Wh.initNonuniformCatmullRom(o.z,u.z,d.z,s.z,t,n,r)}else"catmullrom"===this.curveType&&(zh.initCatmullRom(o.x,u.x,d.x,s.x,this.tension),Hh.initCatmullRom(o.y,u.y,d.y,s.y,this.tension),Wh.initCatmullRom(o.z,u.z,d.z,s.z,this.tension));return n.set(zh.calc(c),Hh.calc(c),Wh.calc(c)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new Sr).fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Gh(e,t,n,r,i){const a=.5*(r-t),o=.5*(i-n),s=e*e,l=e*s;return(2*n-2*r+a+o)*l+(-3*n+3*r-2*a-o)*s+a*e+n}function Yh(e,t){const n=1-e;return n*n*t}function $h(e,t){return 2*(1-e)*e*t}function qh(e,t){return e*e*t}function Xh(e,t,n,r){return Yh(e,t)+$h(e,n)+qh(e,r)}function Zh(e,t){const n=1-e;return n*n*n*t}function Kh(e,t){const n=1-e;return 3*n*n*e*t}function Jh(e,t){return 3*(1-e)*e*e*t}function Qh(e,t){return e*e*e*t}function ef(e,t,n,r,i){return Zh(e,t)+Kh(e,n)+Jh(e,r)+Qh(e,i)}class tf extends Nh{constructor(e=new Yn,t=new Yn,n=new Yn,r=new Yn){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new Yn){const n=t,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(ef(e,r.x,i.x,a.x,o.x),ef(e,r.y,i.y,a.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class nf extends Nh{constructor(e=new Sr,t=new Sr,n=new Sr,r=new Sr){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new Sr){const n=t,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(ef(e,r.x,i.x,a.x,o.x),ef(e,r.y,i.y,a.y,o.y),ef(e,r.z,i.z,a.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class rf extends Nh{constructor(e=new Yn,t=new Yn){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Yn){const n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const n=t||new Yn;return n.copy(this.v2).sub(this.v1).normalize(),n}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class af extends Nh{constructor(e=new Sr,t=new Sr){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new Sr){const n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class of extends Nh{constructor(e=new Yn,t=new Yn,n=new Yn){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Yn){const n=t,r=this.v0,i=this.v1,a=this.v2;return n.set(Xh(e,r.x,i.x,a.x),Xh(e,r.y,i.y,a.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class sf extends Nh{constructor(e=new Sr,t=new Sr,n=new Sr){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Sr){const n=t,r=this.v0,i=this.v1,a=this.v2;return n.set(Xh(e,r.x,i.x,a.x),Xh(e,r.y,i.y,a.y),Xh(e,r.z,i.z,a.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class lf extends Nh{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Yn){const n=t,r=this.points,i=(r.length-1)*e,a=Math.floor(i),o=i-a,s=r[0===a?a:a-1],l=r[a],c=r[a>r.length-2?r.length-1:a+1],u=r[a>r.length-3?r.length-1:a+2];return n.set(Gh(o,s.x,l.x,c.x,u.x),Gh(o,s.y,l.y,c.y,u.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new Yn).fromArray(n))}return this}}var cf=Object.freeze({__proto__:null,ArcCurve:Bh,CatmullRomCurve3:jh,CubicBezierCurve:tf,CubicBezierCurve3:nf,EllipseCurve:Fh,LineCurve:rf,LineCurve3:af,QuadraticBezierCurve:of,QuadraticBezierCurve3:sf,SplineCurve:lf});class uf extends Nh{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new rf(t,e))}getPoint(e,t){const n=e*this.getLength(),r=this.getCurveLengths();let i=0;while(i<r.length){if(r[i]>=n){const e=r[i]-n,a=this.curves[i],o=a.getLength(),s=0===o?0:1-e/o;return a.getPointAt(s,t)}i++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let r=0,i=this.curves;r<i.length;r++){const a=i[r],o=a.isEllipseCurve?2*e:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,s=a.getPoints(o);for(let e=0;e<s.length;e++){const r=s[e];n&&n.equals(r)||(t.push(r),n=r)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push(n.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const n=this.curves[t];e.curves.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push((new cf[n.type]).fromJSON(n))}return this}}class df extends uf{constructor(e){super(),this.type="Path",this.currentPoint=new Yn,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new rf(this.currentPoint.clone(),new Yn(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){const i=new of(this.currentPoint.clone(),new Yn(e,t),new Yn(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,i,a){const o=new tf(this.currentPoint.clone(),new Yn(e,t),new Yn(n,r),new Yn(i,a));return this.curves.push(o),this.currentPoint.set(i,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new lf(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,i,a){const o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,t+s,n,r,i,a),this}absarc(e,t,n,r,i,a){return this.absellipse(e,t,n,n,r,i,a),this}ellipse(e,t,n,r,i,a,o,s){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+l,t+c,n,r,i,a,o,s),this}absellipse(e,t,n,r,i,a,o,s){const l=new Fh(e,t,n,r,i,a,o,s);if(this.curves.length>0){const e=l.getPoint(0);e.equals(this.currentPoint)||this.lineTo(e.x,e.y)}this.curves.push(l);const c=l.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class hf extends oa{constructor(e=[new Yn(0,-.5),new Yn(.5,0),new Yn(0,.5)],t=12,n=0,r=2*Math.PI){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t),r=Mn(r,0,2*Math.PI);const i=[],a=[],o=[],s=[],l=[],c=1/t,u=new Sr,d=new Yn,h=new Sr,f=new Sr,p=new Sr;let m=0,v=0;for(let g=0;g<=e.length-1;g++)switch(g){case 0:m=e[g+1].x-e[g].x,v=e[g+1].y-e[g].y,h.x=1*v,h.y=-m,h.z=0*v,p.copy(h),h.normalize(),s.push(h.x,h.y,h.z);break;case e.length-1:s.push(p.x,p.y,p.z);break;default:m=e[g+1].x-e[g].x,v=e[g+1].y-e[g].y,h.x=1*v,h.y=-m,h.z=0*v,f.copy(h),h.x+=p.x,h.y+=p.y,h.z+=p.z,h.normalize(),s.push(h.x,h.y,h.z),p.copy(f)}for(let g=0;g<=t;g++){const i=n+g*c*r,h=Math.sin(i),f=Math.cos(i);for(let n=0;n<=e.length-1;n++){u.x=e[n].x*h,u.y=e[n].y,u.z=e[n].x*f,a.push(u.x,u.y,u.z),d.x=g/t,d.y=n/(e.length-1),o.push(d.x,d.y);const r=s[3*n+0]*h,i=s[3*n+1],c=s[3*n+0]*f;l.push(r,i,c)}}for(let g=0;g<t;g++)for(let t=0;t<e.length-1;t++){const n=t+g*e.length,r=n,a=n+e.length,o=n+e.length+1,s=n+1;i.push(r,a,s),i.push(o,s,a)}this.setIndex(i),this.setAttribute("position",new Ki(a,3)),this.setAttribute("uv",new Ki(o,2)),this.setAttribute("normal",new Ki(l,3))}static fromJSON(e){return new hf(e.points,e.segments,e.phiStart,e.phiLength)}}class ff extends hf{constructor(e=1,t=1,n=4,r=8){const i=new df;i.absarc(0,-t/2,e,1.5*Math.PI,0),i.absarc(0,t/2,e,0,.5*Math.PI),super(i.getPoints(n),r),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:n,radialSegments:r}}static fromJSON(e){return new ff(e.radius,e.length,e.capSegments,e.radialSegments)}}class pf extends oa{constructor(e=1,t=8,n=0,r=2*Math.PI){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},t=Math.max(3,t);const i=[],a=[],o=[],s=[],l=new Sr,c=new Yn;a.push(0,0,0),o.push(0,0,1),s.push(.5,.5);for(let u=0,d=3;u<=t;u++,d+=3){const i=n+u/t*r;l.x=e*Math.cos(i),l.y=e*Math.sin(i),a.push(l.x,l.y,l.z),o.push(0,0,1),c.x=(a[d]/e+1)/2,c.y=(a[d+1]/e+1)/2,s.push(c.x,c.y)}for(let u=1;u<=t;u++)i.push(u,u+1,0);this.setIndex(i),this.setAttribute("position",new Ki(a,3)),this.setAttribute("normal",new Ki(o,3)),this.setAttribute("uv",new Ki(s,2))}static fromJSON(e){return new pf(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class mf extends oa{constructor(e=1,t=1,n=1,r=8,i=1,a=!1,o=0,s=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s};const l=this;r=Math.floor(r),i=Math.floor(i);const c=[],u=[],d=[],h=[];let f=0;const p=[],m=n/2;let v=0;function g(){const a=new Sr,g=new Sr;let _=0;const y=(t-e)/n;for(let l=0;l<=i;l++){const c=[],v=l/i,_=v*(t-e)+e;for(let e=0;e<=r;e++){const t=e/r,i=t*s+o,l=Math.sin(i),p=Math.cos(i);g.x=_*l,g.y=-v*n+m,g.z=_*p,u.push(g.x,g.y,g.z),a.set(l,y,p).normalize(),d.push(a.x,a.y,a.z),h.push(t,1-v),c.push(f++)}p.push(c)}for(let e=0;e<r;e++)for(let t=0;t<i;t++){const n=p[t][e],r=p[t+1][e],i=p[t+1][e+1],a=p[t][e+1];c.push(n,r,a),c.push(r,i,a),_+=6}l.addGroup(v,_,0),v+=_}function _(n){const i=f,a=new Yn,p=new Sr;let g=0;const _=!0===n?e:t,y=!0===n?1:-1;for(let e=1;e<=r;e++)u.push(0,m*y,0),d.push(0,y,0),h.push(.5,.5),f++;const b=f;for(let e=0;e<=r;e++){const t=e/r,n=t*s+o,i=Math.cos(n),l=Math.sin(n);p.x=_*l,p.y=m*y,p.z=_*i,u.push(p.x,p.y,p.z),d.push(0,y,0),a.x=.5*i+.5,a.y=.5*l*y+.5,h.push(a.x,a.y),f++}for(let e=0;e<r;e++){const t=i+e,r=b+e;!0===n?c.push(r,r+1,t):c.push(r+1,r,t),g+=3}l.addGroup(v,g,!0===n?1:2),v+=g}g(),!1===a&&(e>0&&_(!0),t>0&&_(!1)),this.setIndex(c),this.setAttribute("position",new Ki(u,3)),this.setAttribute("normal",new Ki(d,3)),this.setAttribute("uv",new Ki(h,2))}static fromJSON(e){return new mf(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class vf extends mf{constructor(e=1,t=1,n=8,r=1,i=!1,a=0,o=2*Math.PI){super(0,e,t,n,r,i,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:a,thetaLength:o}}static fromJSON(e){return new vf(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class gf extends oa{constructor(e=[],t=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};const i=[],a=[];function o(e){const n=new Sr,r=new Sr,i=new Sr;for(let a=0;a<t.length;a+=3)h(t[a+0],n),h(t[a+1],r),h(t[a+2],i),s(n,r,i,e)}function s(e,t,n,r){const i=r+1,a=[];for(let o=0;o<=i;o++){a[o]=[];const r=e.clone().lerp(n,o/i),s=t.clone().lerp(n,o/i),l=i-o;for(let e=0;e<=l;e++)a[o][e]=0===e&&o===i?r:r.clone().lerp(s,e/l)}for(let o=0;o<i;o++)for(let e=0;e<2*(i-o)-1;e++){const t=Math.floor(e/2);e%2===0?(d(a[o][t+1]),d(a[o+1][t]),d(a[o][t])):(d(a[o][t+1]),d(a[o+1][t+1]),d(a[o+1][t]))}}function l(e){const t=new Sr;for(let n=0;n<i.length;n+=3)t.x=i[n+0],t.y=i[n+1],t.z=i[n+2],t.normalize().multiplyScalar(e),i[n+0]=t.x,i[n+1]=t.y,i[n+2]=t.z}function c(){const e=new Sr;for(let t=0;t<i.length;t+=3){e.x=i[t+0],e.y=i[t+1],e.z=i[t+2];const n=m(e)/2/Math.PI+.5,r=v(e)/Math.PI+.5;a.push(n,1-r)}f(),u()}function u(){for(let e=0;e<a.length;e+=6){const t=a[e+0],n=a[e+2],r=a[e+4],i=Math.max(t,n,r),o=Math.min(t,n,r);i>.9&&o<.1&&(t<.2&&(a[e+0]+=1),n<.2&&(a[e+2]+=1),r<.2&&(a[e+4]+=1))}}function d(e){i.push(e.x,e.y,e.z)}function h(t,n){const r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function f(){const e=new Sr,t=new Sr,n=new Sr,r=new Sr,o=new Yn,s=new Yn,l=new Yn;for(let c=0,u=0;c<i.length;c+=9,u+=6){e.set(i[c+0],i[c+1],i[c+2]),t.set(i[c+3],i[c+4],i[c+5]),n.set(i[c+6],i[c+7],i[c+8]),o.set(a[u+0],a[u+1]),s.set(a[u+2],a[u+3]),l.set(a[u+4],a[u+5]),r.copy(e).add(t).add(n).divideScalar(3);const d=m(r);p(o,u+0,e,d),p(s,u+2,t,d),p(l,u+4,n,d)}}function p(e,t,n,r){r<0&&1===e.x&&(a[t]=e.x-1),0===n.x&&0===n.z&&(a[t]=r/2/Math.PI+.5)}function m(e){return Math.atan2(e.z,-e.x)}function v(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}o(r),l(n),c(),this.setAttribute("position",new Ki(i,3)),this.setAttribute("normal",new Ki(i.slice(),3)),this.setAttribute("uv",new Ki(a,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}static fromJSON(e){return new gf(e.vertices,e.indices,e.radius,e.details)}}class _f extends gf{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(i,a,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new _f(e.radius,e.detail)}}const yf=new Sr,bf=new Sr,xf=new Sr,wf=new Ni;class Sf extends oa{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},null!==e){const n=4,r=Math.pow(10,n),i=Math.cos(xn*t),a=e.getIndex(),o=e.getAttribute("position"),s=a?a.count:o.count,l=[0,0,0],c=["a","b","c"],u=new Array(3),d={},h=[];for(let e=0;e<s;e+=3){a?(l[0]=a.getX(e),l[1]=a.getX(e+1),l[2]=a.getX(e+2)):(l[0]=e,l[1]=e+1,l[2]=e+2);const{a:t,b:n,c:s}=wf;if(t.fromBufferAttribute(o,l[0]),n.fromBufferAttribute(o,l[1]),s.fromBufferAttribute(o,l[2]),wf.getNormal(xf),u[0]=`${Math.round(t.x*r)},${Math.round(t.y*r)},${Math.round(t.z*r)}`,u[1]=`${Math.round(n.x*r)},${Math.round(n.y*r)},${Math.round(n.z*r)}`,u[2]=`${Math.round(s.x*r)},${Math.round(s.y*r)},${Math.round(s.z*r)}`,u[0]!==u[1]&&u[1]!==u[2]&&u[2]!==u[0])for(let e=0;e<3;e++){const t=(e+1)%3,n=u[e],r=u[t],a=wf[c[e]],o=wf[c[t]],s=`${n}_${r}`,f=`${r}_${n}`;f in d&&d[f]?(xf.dot(d[f].normal)<=i&&(h.push(a.x,a.y,a.z),h.push(o.x,o.y,o.z)),d[f]=null):s in d||(d[s]={index0:l[e],index1:l[t],normal:xf.clone()})}}for(const e in d)if(d[e]){const{index0:t,index1:n}=d[e];yf.fromBufferAttribute(o,t),bf.fromBufferAttribute(o,n),h.push(yf.x,yf.y,yf.z),h.push(bf.x,bf.y,bf.z)}this.setAttribute("position",new Ki(h,3))}}}class Mf extends df{constructor(e){super(e),this.uuid=Sn(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const n=this.holes[t];e.holes.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push((new df).fromJSON(n))}return this}}const Ef={triangulate:function(e,t,n=2){const r=t&&t.length,i=r?t[0]*n:e.length;let a=Tf(e,0,i,n,!0);const o=[];if(!a||a.next===a.prev)return o;let s,l,c,u,d,h,f;if(r&&(a=Pf(e,t,a,n)),e.length>80*n){s=c=e[0],l=u=e[1];for(let t=n;t<i;t+=n)d=e[t],h=e[t+1],d<s&&(s=d),h<l&&(l=h),d>c&&(c=d),h>u&&(u=h);f=Math.max(c-s,u-l),f=0!==f?1/f:0}return Cf(a,o,n,s,l,f),o}};function Tf(e,t,n,r,i){let a,o;if(i===np(e,t,n,r)>0)for(a=t;a<n;a+=r)o=Qf(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=Qf(a,e[a],e[a+1],o);return o&&Gf(o,o.next)&&(ep(o),o=o.next),o}function Af(e,t){if(!e)return e;t||(t=e);let n,r=e;do{if(n=!1,r.steiner||!Gf(r,r.next)&&0!==jf(r.prev,r,r.next))r=r.next;else{if(ep(r),r=t=r.prev,r===r.next)break;n=!0}}while(n||r!==t);return t}function Cf(e,t,n,r,i,a,o){if(!e)return;!o&&a&&Bf(e,r,i,a);let s,l,c=e;while(e.prev!==e.next)if(s=e.prev,l=e.next,a?Rf(e,r,i,a):kf(e))t.push(s.i/n),t.push(e.i/n),t.push(l.i/n),ep(e),e=l.next,c=l.next;else if(e=l,e===c){o?1===o?(e=Lf(Af(e),t,n),Cf(e,t,n,r,i,a,2)):2===o&&If(e,t,n,r,i,a):Cf(Af(e),t,n,r,i,a,1);break}}function kf(e){const t=e.prev,n=e,r=e.next;if(jf(t,n,r)>=0)return!1;let i=e.next.next;while(i!==e.prev){if(Hf(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&jf(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Rf(e,t,n,r){const i=e.prev,a=e,o=e.next;if(jf(i,a,o)>=0)return!1;const s=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,l=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,c=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,u=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,d=Uf(s,l,t,n,r),h=Uf(c,u,t,n,r);let f=e.prevZ,p=e.nextZ;while(f&&f.z>=d&&p&&p.z<=h){if(f!==e.prev&&f!==e.next&&Hf(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&jf(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,p!==e.prev&&p!==e.next&&Hf(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&jf(p.prev,p,p.next)>=0)return!1;p=p.nextZ}while(f&&f.z>=d){if(f!==e.prev&&f!==e.next&&Hf(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&jf(f.prev,f,f.next)>=0)return!1;f=f.prevZ}while(p&&p.z<=h){if(p!==e.prev&&p!==e.next&&Hf(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&jf(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function Lf(e,t,n){let r=e;do{const i=r.prev,a=r.next.next;!Gf(i,a)&&Yf(i,r,r.next,a)&&Zf(i,a)&&Zf(a,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(a.i/n),ep(r),ep(r.next),r=e=a),r=r.next}while(r!==e);return Af(r)}function If(e,t,n,r,i,a){let o=e;do{let e=o.next.next;while(e!==o.prev){if(o.i!==e.i&&Wf(o,e)){let s=Jf(o,e);return o=Af(o,o.next),s=Af(s,s.next),Cf(o,t,n,r,i,a),void Cf(s,t,n,r,i,a)}e=e.next}o=o.next}while(o!==e)}function Pf(e,t,n,r){const i=[];let a,o,s,l,c;for(a=0,o=t.length;a<o;a++)s=t[a]*r,l=a<o-1?t[a+1]*r:e.length,c=Tf(e,s,l,r,!1),c===c.next&&(c.steiner=!0),i.push(zf(c));for(i.sort(Df),a=0;a<i.length;a++)Of(i[a],n),n=Af(n,n.next);return n}function Df(e,t){return e.x-t.x}function Of(e,t){if(t=Nf(e,t),t){const n=Jf(t,e);Af(t,t.next),Af(n,n.next)}}function Nf(e,t){let n=t;const r=e.x,i=e.y;let a,o=-1/0;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){const e=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(e<=r&&e>o){if(o=e,e===r){if(i===n.y)return n;if(i===n.next.y)return n.next}a=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!a)return null;if(r===o)return a;const s=a,l=a.x,c=a.y;let u,d=1/0;n=a;do{r>=n.x&&n.x>=l&&r!==n.x&&Hf(i<c?r:o,i,l,c,i<c?o:r,i,n.x,n.y)&&(u=Math.abs(i-n.y)/(r-n.x),Zf(n,e)&&(u<d||u===d&&(n.x>a.x||n.x===a.x&&Ff(a,n)))&&(a=n,d=u)),n=n.next}while(n!==s);return a}function Ff(e,t){return jf(e.prev,e,t.prev)<0&&jf(t.next,e,e.next)<0}function Bf(e,t,n,r){let i=e;do{null===i.z&&(i.z=Uf(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,Vf(i)}function Vf(e){let t,n,r,i,a,o,s,l,c=1;do{n=e,e=null,a=null,o=0;while(n){for(o++,r=n,s=0,t=0;t<c;t++)if(s++,r=r.nextZ,!r)break;l=c;while(s>0||l>0&&r)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,c*=2}while(o>1);return e}function Uf(e,t,n,r,i){return e=32767*(e-n)*i,t=32767*(t-r)*i,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function zf(e){let t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Hf(e,t,n,r,i,a,o,s){return(i-o)*(t-s)-(e-o)*(a-s)>=0&&(e-o)*(r-s)-(n-o)*(t-s)>=0&&(n-o)*(a-s)-(i-o)*(r-s)>=0}function Wf(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!Xf(e,t)&&(Zf(e,t)&&Zf(t,e)&&Kf(e,t)&&(jf(e.prev,e,t.prev)||jf(e,t.prev,t))||Gf(e,t)&&jf(e.prev,e,e.next)>0&&jf(t.prev,t,t.next)>0)}function jf(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Gf(e,t){return e.x===t.x&&e.y===t.y}function Yf(e,t,n,r){const i=qf(jf(e,t,n)),a=qf(jf(e,t,r)),o=qf(jf(n,r,e)),s=qf(jf(n,r,t));return i!==a&&o!==s||(!(0!==i||!$f(e,n,t))||(!(0!==a||!$f(e,r,t))||(!(0!==o||!$f(n,e,r))||!(0!==s||!$f(n,t,r)))))}function $f(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function qf(e){return e>0?1:e<0?-1:0}function Xf(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Yf(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function Zf(e,t){return jf(e.prev,e,e.next)<0?jf(e,t,e.next)>=0&&jf(e,e.prev,t)>=0:jf(e,t,e.prev)<0||jf(e,e.next,t)<0}function Kf(e,t){let n=e,r=!1;const i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!==n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}function Jf(e,t){const n=new tp(e.i,e.x,e.y),r=new tp(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function Qf(e,t,n,r){const i=new tp(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function ep(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function tp(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function np(e,t,n,r){let i=0;for(let a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}class rp{static area(e){const t=e.length;let n=0;for(let r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n}static isClockWise(e){return rp.area(e)<0}static triangulateShape(e,t){const n=[],r=[],i=[];ip(e),ap(n,e);let a=e.length;t.forEach(ip);for(let s=0;s<t.length;s++)r.push(a),a+=t[s].length,ap(n,t[s]);const o=Ef.triangulate(n,r);for(let s=0;s<o.length;s+=3)i.push(o.slice(s,s+3));return i}}function ip(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function ap(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}class op extends oa{constructor(e=new Mf([new Yn(.5,.5),new Yn(-.5,.5),new Yn(-.5,-.5),new Yn(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,r=[],i=[];for(let o=0,s=e.length;o<s;o++){const t=e[o];a(t)}function a(e){const a=[],o=void 0!==t.curveSegments?t.curveSegments:12,s=void 0!==t.steps?t.steps:1,l=void 0!==t.depth?t.depth:1;let c=void 0===t.bevelEnabled||t.bevelEnabled,u=void 0!==t.bevelThickness?t.bevelThickness:.2,d=void 0!==t.bevelSize?t.bevelSize:u-.1,h=void 0!==t.bevelOffset?t.bevelOffset:0,f=void 0!==t.bevelSegments?t.bevelSegments:3;const p=t.extrudePath,m=void 0!==t.UVGenerator?t.UVGenerator:sp;let v,g,_,y,b,x=!1;p&&(v=p.getSpacedPoints(s),x=!0,c=!1,g=p.computeFrenetFrames(s,!1),_=new Sr,y=new Sr,b=new Sr),c||(f=0,u=0,d=0,h=0);const w=e.extractPoints(o);let S=w.shape;const M=w.holes,E=!rp.isClockWise(S);if(E){S=S.reverse();for(let e=0,t=M.length;e<t;e++){const t=M[e];rp.isClockWise(t)&&(M[e]=t.reverse())}}const T=rp.triangulateShape(S,M),A=S;for(let t=0,n=M.length;t<n;t++){const e=M[t];S=S.concat(e)}function C(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}const k=S.length,R=T.length;function L(e,t,n){let r,i,a;const o=e.x-t.x,s=e.y-t.y,l=n.x-e.x,c=n.y-e.y,u=o*o+s*s,d=o*c-s*l;if(Math.abs(d)>Number.EPSILON){const d=Math.sqrt(u),h=Math.sqrt(l*l+c*c),f=t.x-s/d,p=t.y+o/d,m=n.x-c/h,v=n.y+l/h,g=((m-f)*c-(v-p)*l)/(o*c-s*l);r=f+o*g-e.x,i=p+s*g-e.y;const _=r*r+i*i;if(_<=2)return new Yn(r,i);a=Math.sqrt(_/2)}else{let e=!1;o>Number.EPSILON?l>Number.EPSILON&&(e=!0):o<-Number.EPSILON?l<-Number.EPSILON&&(e=!0):Math.sign(s)===Math.sign(c)&&(e=!0),e?(r=-s,i=o,a=Math.sqrt(u)):(r=o,i=s,a=Math.sqrt(u/2))}return new Yn(r/a,i/a)}const I=[];for(let t=0,n=A.length,r=n-1,i=t+1;t<n;t++,r++,i++)r===n&&(r=0),i===n&&(i=0),I[t]=L(A[t],A[r],A[i]);const P=[];let D,O=I.concat();for(let t=0,n=M.length;t<n;t++){const e=M[t];D=[];for(let t=0,n=e.length,r=n-1,i=t+1;t<n;t++,r++,i++)r===n&&(r=0),i===n&&(i=0),D[t]=L(e[t],e[r],e[i]);P.push(D),O=O.concat(D)}for(let t=0;t<f;t++){const e=t/f,n=u*Math.cos(e*Math.PI/2),r=d*Math.sin(e*Math.PI/2)+h;for(let t=0,i=A.length;t<i;t++){const e=C(A[t],I[t],r);U(e.x,e.y,-n)}for(let t=0,i=M.length;t<i;t++){const e=M[t];D=P[t];for(let t=0,i=e.length;t<i;t++){const i=C(e[t],D[t],r);U(i.x,i.y,-n)}}}const N=d+h;for(let t=0;t<k;t++){const e=c?C(S[t],O[t],N):S[t];x?(y.copy(g.normals[0]).multiplyScalar(e.x),_.copy(g.binormals[0]).multiplyScalar(e.y),b.copy(v[0]).add(y).add(_),U(b.x,b.y,b.z)):U(e.x,e.y,0)}for(let t=1;t<=s;t++)for(let e=0;e<k;e++){const n=c?C(S[e],O[e],N):S[e];x?(y.copy(g.normals[t]).multiplyScalar(n.x),_.copy(g.binormals[t]).multiplyScalar(n.y),b.copy(v[t]).add(y).add(_),U(b.x,b.y,b.z)):U(n.x,n.y,l/s*t)}for(let t=f-1;t>=0;t--){const e=t/f,n=u*Math.cos(e*Math.PI/2),r=d*Math.sin(e*Math.PI/2)+h;for(let t=0,i=A.length;t<i;t++){const e=C(A[t],I[t],r);U(e.x,e.y,l+n)}for(let t=0,i=M.length;t<i;t++){const e=M[t];D=P[t];for(let t=0,i=e.length;t<i;t++){const i=C(e[t],D[t],r);x?U(i.x,i.y+v[s-1].y,v[s-1].x+n):U(i.x,i.y,l+n)}}}function F(){const e=r.length/3;if(c){let e=0,t=k*e;for(let n=0;n<R;n++){const e=T[n];z(e[2]+t,e[1]+t,e[0]+t)}e=s+2*f,t=k*e;for(let n=0;n<R;n++){const e=T[n];z(e[0]+t,e[1]+t,e[2]+t)}}else{for(let e=0;e<R;e++){const t=T[e];z(t[2],t[1],t[0])}for(let e=0;e<R;e++){const t=T[e];z(t[0]+k*s,t[1]+k*s,t[2]+k*s)}}n.addGroup(e,r.length/3-e,0)}function B(){const e=r.length/3;let t=0;V(A,t),t+=A.length;for(let n=0,r=M.length;n<r;n++){const e=M[n];V(e,t),t+=e.length}n.addGroup(e,r.length/3-e,1)}function V(e,t){let n=e.length;while(--n>=0){const r=n;let i=n-1;i<0&&(i=e.length-1);for(let e=0,n=s+2*f;e<n;e++){const n=k*e,a=k*(e+1),o=t+r+n,s=t+i+n,l=t+i+a,c=t+r+a;H(o,s,l,c)}}}function U(e,t,n){a.push(e),a.push(t),a.push(n)}function z(e,t,i){W(e),W(t),W(i);const a=r.length/3,o=m.generateTopUV(n,r,a-3,a-2,a-1);j(o[0]),j(o[1]),j(o[2])}function H(e,t,i,a){W(e),W(t),W(a),W(t),W(i),W(a);const o=r.length/3,s=m.generateSideWallUV(n,r,o-6,o-3,o-2,o-1);j(s[0]),j(s[1]),j(s[3]),j(s[1]),j(s[2]),j(s[3])}function W(e){r.push(a[3*e+0]),r.push(a[3*e+1]),r.push(a[3*e+2])}function j(e){i.push(e.x),i.push(e.y)}F(),B()}this.setAttribute("position",new Ki(r,3)),this.setAttribute("uv",new Ki(i,2)),this.computeVertexNormals()}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return lp(t,n,e)}static fromJSON(e,t){const n=[];for(let i=0,a=e.shapes.length;i<a;i++){const r=t[e.shapes[i]];n.push(r)}const r=e.options.extrudePath;return void 0!==r&&(e.options.extrudePath=(new cf[r.type]).fromJSON(r)),new op(n,e.options)}}const sp={generateTopUV:function(e,t,n,r,i){const a=t[3*n],o=t[3*n+1],s=t[3*r],l=t[3*r+1],c=t[3*i],u=t[3*i+1];return[new Yn(a,o),new Yn(s,l),new Yn(c,u)]},generateSideWallUV:function(e,t,n,r,i,a){const o=t[3*n],s=t[3*n+1],l=t[3*n+2],c=t[3*r],u=t[3*r+1],d=t[3*r+2],h=t[3*i],f=t[3*i+1],p=t[3*i+2],m=t[3*a],v=t[3*a+1],g=t[3*a+2];return Math.abs(s-u)<Math.abs(o-c)?[new Yn(o,1-l),new Yn(c,1-d),new Yn(h,1-p),new Yn(m,1-g)]:[new Yn(s,1-l),new Yn(u,1-d),new Yn(f,1-p),new Yn(v,1-g)]}};function lp(e,t,n){if(n.shapes=[],Array.isArray(e))for(let r=0,i=e.length;r<i;r++){const t=e[r];n.shapes.push(t.uuid)}else n.shapes.push(e.uuid);return n.options=Object.assign({},t),void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}class cp extends gf{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],i=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,i,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new cp(e.radius,e.detail)}}class up extends gf{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new up(e.radius,e.detail)}}class dp extends oa{constructor(e=.5,t=1,n=8,r=1,i=0,a=2*Math.PI){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:a},n=Math.max(3,n),r=Math.max(1,r);const o=[],s=[],l=[],c=[];let u=e;const d=(t-e)/r,h=new Sr,f=new Yn;for(let p=0;p<=r;p++){for(let e=0;e<=n;e++){const r=i+e/n*a;h.x=u*Math.cos(r),h.y=u*Math.sin(r),s.push(h.x,h.y,h.z),l.push(0,0,1),f.x=(h.x/t+1)/2,f.y=(h.y/t+1)/2,c.push(f.x,f.y)}u+=d}for(let p=0;p<r;p++){const e=p*(n+1);for(let t=0;t<n;t++){const r=t+e,i=r,a=r+n+1,s=r+n+2,l=r+1;o.push(i,a,l),o.push(a,s,l)}}this.setIndex(o),this.setAttribute("position",new Ki(s,3)),this.setAttribute("normal",new Ki(l,3)),this.setAttribute("uv",new Ki(c,2))}static fromJSON(e){return new dp(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class hp extends oa{constructor(e=new Mf([new Yn(0,.5),new Yn(-.5,-.5),new Yn(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],r=[],i=[],a=[];let o=0,s=0;if(!1===Array.isArray(e))l(e);else for(let c=0;c<e.length;c++)l(e[c]),this.addGroup(o,s,c),o+=s,s=0;function l(e){const o=r.length/3,l=e.extractPoints(t);let c=l.shape;const u=l.holes;!1===rp.isClockWise(c)&&(c=c.reverse());for(let t=0,n=u.length;t<n;t++){const e=u[t];!0===rp.isClockWise(e)&&(u[t]=e.reverse())}const d=rp.triangulateShape(c,u);for(let t=0,n=u.length;t<n;t++){const e=u[t];c=c.concat(e)}for(let t=0,n=c.length;t<n;t++){const e=c[t];r.push(e.x,e.y,0),i.push(0,0,1),a.push(e.x,e.y)}for(let t=0,r=d.length;t<r;t++){const e=d[t],r=e[0]+o,i=e[1]+o,a=e[2]+o;n.push(r,i,a),s+=3}}this.setIndex(n),this.setAttribute("position",new Ki(r,3)),this.setAttribute("normal",new Ki(i,3)),this.setAttribute("uv",new Ki(a,2))}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return fp(t,e)}static fromJSON(e,t){const n=[];for(let r=0,i=e.shapes.length;r<i;r++){const i=t[e.shapes[r]];n.push(i)}return new hp(n,e.curveSegments)}}function fp(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,r=e.length;n<r;n++){const r=e[n];t.shapes.push(r.uuid)}else t.shapes.push(e.uuid);return t}class pp extends oa{constructor(e=1,t=32,n=16,r=0,i=2*Math.PI,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:a,thetaLength:o},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const s=Math.min(a+o,Math.PI);let l=0;const c=[],u=new Sr,d=new Sr,h=[],f=[],p=[],m=[];for(let v=0;v<=n;v++){const h=[],g=v/n;let _=0;0==v&&0==a?_=.5/t:v==n&&s==Math.PI&&(_=-.5/t);for(let n=0;n<=t;n++){const s=n/t;u.x=-e*Math.cos(r+s*i)*Math.sin(a+g*o),u.y=e*Math.cos(a+g*o),u.z=e*Math.sin(r+s*i)*Math.sin(a+g*o),f.push(u.x,u.y,u.z),d.copy(u).normalize(),p.push(d.x,d.y,d.z),m.push(s+_,1-g),h.push(l++)}c.push(h)}for(let v=0;v<n;v++)for(let e=0;e<t;e++){const t=c[v][e+1],r=c[v][e],i=c[v+1][e],o=c[v+1][e+1];(0!==v||a>0)&&h.push(t,r,o),(v!==n-1||s<Math.PI)&&h.push(r,i,o)}this.setIndex(h),this.setAttribute("position",new Ki(f,3)),this.setAttribute("normal",new Ki(p,3)),this.setAttribute("uv",new Ki(m,2))}static fromJSON(e){return new pp(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class mp extends gf{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new mp(e.radius,e.detail)}}class vp extends oa{constructor(e=1,t=.4,n=8,r=6,i=2*Math.PI){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},n=Math.floor(n),r=Math.floor(r);const a=[],o=[],s=[],l=[],c=new Sr,u=new Sr,d=new Sr;for(let h=0;h<=n;h++)for(let a=0;a<=r;a++){const f=a/r*i,p=h/n*Math.PI*2;u.x=(e+t*Math.cos(p))*Math.cos(f),u.y=(e+t*Math.cos(p))*Math.sin(f),u.z=t*Math.sin(p),o.push(u.x,u.y,u.z),c.x=e*Math.cos(f),c.y=e*Math.sin(f),d.subVectors(u,c).normalize(),s.push(d.x,d.y,d.z),l.push(a/r),l.push(h/n)}for(let h=1;h<=n;h++)for(let e=1;e<=r;e++){const t=(r+1)*h+e-1,n=(r+1)*(h-1)+e-1,i=(r+1)*(h-1)+e,o=(r+1)*h+e;a.push(t,n,o),a.push(n,i,o)}this.setIndex(a),this.setAttribute("position",new Ki(o,3)),this.setAttribute("normal",new Ki(s,3)),this.setAttribute("uv",new Ki(l,2))}static fromJSON(e){return new vp(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class gp extends oa{constructor(e=1,t=.4,n=64,r=8,i=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:a},n=Math.floor(n),r=Math.floor(r);const o=[],s=[],l=[],c=[],u=new Sr,d=new Sr,h=new Sr,f=new Sr,p=new Sr,m=new Sr,v=new Sr;for(let _=0;_<=n;++_){const o=_/n*i*Math.PI*2;g(o,i,a,e,h),g(o+.01,i,a,e,f),m.subVectors(f,h),v.addVectors(f,h),p.crossVectors(m,v),v.crossVectors(p,m),p.normalize(),v.normalize();for(let e=0;e<=r;++e){const i=e/r*Math.PI*2,a=-t*Math.cos(i),o=t*Math.sin(i);u.x=h.x+(a*v.x+o*p.x),u.y=h.y+(a*v.y+o*p.y),u.z=h.z+(a*v.z+o*p.z),s.push(u.x,u.y,u.z),d.subVectors(u,h).normalize(),l.push(d.x,d.y,d.z),c.push(_/n),c.push(e/r)}}for(let _=1;_<=n;_++)for(let e=1;e<=r;e++){const t=(r+1)*(_-1)+(e-1),n=(r+1)*_+(e-1),i=(r+1)*_+e,a=(r+1)*(_-1)+e;o.push(t,n,a),o.push(n,i,a)}function g(e,t,n,r,i){const a=Math.cos(e),o=Math.sin(e),s=n/t*e,l=Math.cos(s);i.x=r*(2+l)*.5*a,i.y=r*(2+l)*o*.5,i.z=r*Math.sin(s)*.5}this.setIndex(o),this.setAttribute("position",new Ki(s,3)),this.setAttribute("normal",new Ki(l,3)),this.setAttribute("uv",new Ki(c,2))}static fromJSON(e){return new gp(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class _p extends oa{constructor(e=new sf(new Sr(-1,-1,0),new Sr(-1,1,0),new Sr(1,1,0)),t=64,n=1,r=8,i=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i};const a=e.computeFrenetFrames(t,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const o=new Sr,s=new Sr,l=new Yn;let c=new Sr;const u=[],d=[],h=[],f=[];function p(){for(let e=0;e<t;e++)m(e);m(!1===i?t:0),g(),v()}function m(i){c=e.getPointAt(i/t,c);const l=a.normals[i],h=a.binormals[i];for(let e=0;e<=r;e++){const t=e/r*Math.PI*2,i=Math.sin(t),a=-Math.cos(t);s.x=a*l.x+i*h.x,s.y=a*l.y+i*h.y,s.z=a*l.z+i*h.z,s.normalize(),d.push(s.x,s.y,s.z),o.x=c.x+n*s.x,o.y=c.y+n*s.y,o.z=c.z+n*s.z,u.push(o.x,o.y,o.z)}}function v(){for(let e=1;e<=t;e++)for(let t=1;t<=r;t++){const n=(r+1)*(e-1)+(t-1),i=(r+1)*e+(t-1),a=(r+1)*e+t,o=(r+1)*(e-1)+t;f.push(n,i,o),f.push(i,a,o)}}function g(){for(let e=0;e<=t;e++)for(let n=0;n<=r;n++)l.x=e/t,l.y=n/r,h.push(l.x,l.y)}p(),this.setIndex(f),this.setAttribute("position",new Ki(u,3)),this.setAttribute("normal",new Ki(d,3)),this.setAttribute("uv",new Ki(h,2))}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new _p((new cf[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class yp extends oa{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},null!==e){const t=[],n=new Set,r=new Sr,i=new Sr;if(null!==e.index){const a=e.attributes.position,o=e.index;let s=e.groups;0===s.length&&(s=[{start:0,count:o.count,materialIndex:0}]);for(let e=0,l=s.length;e<l;++e){const l=s[e],c=l.start,u=l.count;for(let e=c,s=c+u;e<s;e+=3)for(let l=0;l<3;l++){const s=o.getX(e+l),c=o.getX(e+(l+1)%3);r.fromBufferAttribute(a,s),i.fromBufferAttribute(a,c),!0===bp(r,i,n)&&(t.push(r.x,r.y,r.z),t.push(i.x,i.y,i.z))}}}else{const a=e.attributes.position;for(let e=0,o=a.count/3;e<o;e++)for(let s=0;s<3;s++){const o=3*e+s,l=3*e+(s+1)%3;r.fromBufferAttribute(a,o),i.fromBufferAttribute(a,l),!0===bp(r,i,n)&&(t.push(r.x,r.y,r.z),t.push(i.x,i.y,i.z))}}this.setAttribute("position",new Ki(t,3))}}}function bp(e,t,n){const r=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`,i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`;return!0!==n.has(r)&&!0!==n.has(i)&&(n.add(r),n.add(i),!0)}var xp=Object.freeze({__proto__:null,BoxGeometry:Aa,BoxBufferGeometry:Aa,CapsuleGeometry:ff,CapsuleBufferGeometry:ff,CircleGeometry:pf,CircleBufferGeometry:pf,ConeGeometry:vf,ConeBufferGeometry:vf,CylinderGeometry:mf,CylinderBufferGeometry:mf,DodecahedronGeometry:_f,DodecahedronBufferGeometry:_f,EdgesGeometry:Sf,ExtrudeGeometry:op,ExtrudeBufferGeometry:op,IcosahedronGeometry:cp,IcosahedronBufferGeometry:cp,LatheGeometry:hf,LatheBufferGeometry:hf,OctahedronGeometry:up,OctahedronBufferGeometry:up,PlaneGeometry:Ka,PlaneBufferGeometry:Ka,PolyhedronGeometry:gf,PolyhedronBufferGeometry:gf,RingGeometry:dp,RingBufferGeometry:dp,ShapeGeometry:hp,ShapeBufferGeometry:hp,SphereGeometry:pp,SphereBufferGeometry:pp,TetrahedronGeometry:mp,TetrahedronBufferGeometry:mp,TorusGeometry:vp,TorusBufferGeometry:vp,TorusKnotGeometry:gp,TorusKnotBufferGeometry:gp,TubeGeometry:_p,TubeBufferGeometry:_p,WireframeGeometry:yp});class wp extends Bi{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new lr(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class Sp extends Da{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Mp extends Bi{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new lr(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new lr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Bt,this.normalScale=new Yn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Ep extends Mp{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Yn(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Mn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new lr(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new lr(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new lr(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!==e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!==e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!==e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!==e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Tp extends Bi{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new lr(16777215),this.specular=new lr(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new lr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Bt,this.normalScale=new Yn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=K,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Ap extends Bi{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new lr(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new lr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Bt,this.normalScale=new Yn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Cp extends Bi{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Bt,this.normalScale=new Yn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class kp extends Bi{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new lr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new lr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=K,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Rp extends Bi{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new lr(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Bt,this.normalScale=new Yn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Lp extends ph{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Ip(e,t,n){return Dp(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)}function Pp(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function Dp(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Op(e){function t(t,n){return e[t]-e[n]}const n=e.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(t),r}function Np(e,t,n){const r=e.length,i=new e.constructor(r);for(let a=0,o=0;o!==r;++a){const r=n[a]*t;for(let n=0;n!==t;++n)i[o++]=e[r+n]}return i}function Fp(e,t,n,r){let i=1,a=e[0];while(void 0!==a&&void 0===a[r])a=e[i++];if(void 0===a)return;let o=a[r];if(void 0!==o)if(Array.isArray(o))do{o=a[r],void 0!==o&&(t.push(a.time),n.push.apply(n,o)),a=e[i++]}while(void 0!==a);else if(void 0!==o.toArray)do{o=a[r],void 0!==o&&(t.push(a.time),o.toArray(n,n.length)),a=e[i++]}while(void 0!==a);else do{o=a[r],void 0!==o&&(t.push(a.time),n.push(o)),a=e[i++]}while(void 0!==a)}function Bp(e,t,n,r,i=30){const a=e.clone();a.name=t;const o=[];for(let l=0;l<a.tracks.length;++l){const e=a.tracks[l],t=e.getValueSize(),s=[],c=[];for(let a=0;a<e.times.length;++a){const o=e.times[a]*i;if(!(o<n||o>=r)){s.push(e.times[a]);for(let n=0;n<t;++n)c.push(e.values[a*t+n])}}0!==s.length&&(e.times=Pp(s,e.times.constructor),e.values=Pp(c,e.values.constructor),o.push(e))}a.tracks=o;let s=1/0;for(let l=0;l<a.tracks.length;++l)s>a.tracks[l].times[0]&&(s=a.tracks[l].times[0]);for(let l=0;l<a.tracks.length;++l)a.tracks[l].shift(-1*s);return a.resetDuration(),a}function Vp(e,t=0,n=e,r=30){r<=0&&(r=30);const i=n.tracks.length,a=t/r;for(let o=0;o<i;++o){const t=n.tracks[o],r=t.ValueTypeName;if("bool"===r||"string"===r)continue;const i=e.tracks.find((function(e){return e.name===t.name&&e.ValueTypeName===r}));if(void 0===i)continue;let s=0;const l=t.getValueSize();t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=l/3);let c=0;const u=i.getValueSize();i.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=u/3);const d=t.times.length-1;let h;if(a<=t.times[0]){const e=s,n=l-s;h=Ip(t.values,e,n)}else if(a>=t.times[d]){const e=d*l+s,n=e+l-s;h=Ip(t.values,e,n)}else{const e=t.createInterpolant(),n=s,r=l-s;e.evaluate(a),h=Ip(e.resultBuffer,n,r)}if("quaternion"===r){const e=(new wr).fromArray(h).normalize().conjugate();e.toArray(h)}const f=i.times.length;for(let e=0;e<f;++e){const t=e*u+c;if("quaternion"===r)wr.multiplyQuaternionsFlat(i.values,t,h,0,i.values,t);else{const e=u-2*c;for(let n=0;n<e;++n)i.values[t+n]-=h[n]}}}return e.blendMode=Rt,e}var Up=Object.freeze({__proto__:null,arraySlice:Ip,convertArray:Pp,isTypedArray:Dp,getKeyframeOrder:Op,sortedArray:Np,flattenJSON:Fp,subclip:Bp,makeClipAdditive:Vp});class zp{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{let a;n:{r:if(!(e<r)){for(let a=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===a)break;if(i=r,r=t[++n],e<r)break t}a=t.length;break n}if(e>=i)break e;{const o=t[1];e<o&&(n=2,i=o);for(let a=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===a)break;if(r=i,i=t[--n-1],e>=i)break t}a=n,n=0}}while(n<a){const r=n+a>>>1;e<t[r]?a=r:n=r+1}if(r=t[n],i=t[n-1],void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r;for(let a=0;a!==r;++a)t[a]=n[i+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Hp extends zp{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Tt,endingEnd:Tt}}intervalChanged_(e,t,n){const r=this.parameterPositions;let i=e-2,a=e+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case At:i=e,o=2*t-n;break;case Ct:i=r.length-2,o=t+r[i]-r[i+1];break;default:i=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case At:a=e,s=2*n-t;break;case Ct:a=1,s=n+r[1]-r[0];break;default:a=e-1,s=t}const l=.5*(n-t),c=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(s-n),this._offsetPrev=i*c,this._offsetNext=a*c}interpolate_(e,t,n,r){const i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=this._offsetPrev,u=this._offsetNext,d=this._weightPrev,h=this._weightNext,f=(n-t)/(r-t),p=f*f,m=p*f,v=-d*m+2*d*p-d*f,g=(1+d)*m+(-1.5-2*d)*p+(-.5+d)*f+1,_=(-1-h)*m+(1.5+h)*p+.5*f,y=h*m-h*p;for(let b=0;b!==o;++b)i[b]=v*a[c+b]+g*a[l+b]+_*a[s+b]+y*a[u+b];return i}}class Wp extends zp{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=(n-t)/(r-t),u=1-c;for(let d=0;d!==o;++d)i[d]=a[l+d]*u+a[s+d]*c;return i}}class jp extends zp{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Gp{constructor(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Pp(t,this.TimeBufferType),this.values=Pp(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:Pp(e.times,Array),values:Pp(e.values,Array)};const t=e.getInterpolation();t!==e.DefaultInterpolation&&(n.interpolation=t)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new jp(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new Wp(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Hp(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case St:t=this.InterpolantFactoryMethodDiscrete;break;case Mt:t=this.InterpolantFactoryMethodLinear;break;case Et:t=this.InterpolantFactoryMethodSmooth;break}if(void 0===t){const t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",t),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return St;case this.InterpolantFactoryMethodLinear:return Mt;case this.InterpolantFactoryMethodSmooth:return Et}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let i=0,a=r-1;while(i!==r&&n[i]<e)++i;while(-1!==a&&n[a]>t)--a;if(++a,0!==i||a!==r){i>=a&&(a=Math.max(a,1),i=a-1);const e=this.getValueSize();this.times=Ip(n,i,a),this.values=Ip(this.values,i*e,a*e)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==i;o++){const t=n[o];if("number"===typeof t&&isNaN(t)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,t),e=!1;break}if(null!==a&&a>t){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,t,a),e=!1;break}a=t}if(void 0!==r&&Dp(r))for(let o=0,s=r.length;o!==s;++o){const t=r[o];if(isNaN(t)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,t),e=!1;break}}return e}optimize(){const e=Ip(this.times),t=Ip(this.values),n=this.getValueSize(),r=this.getInterpolation()===Et,i=e.length-1;let a=1;for(let o=1;o<i;++o){let i=!1;const s=e[o],l=e[o+1];if(s!==l&&(1!==o||s!==e[0]))if(r)i=!0;else{const e=o*n,r=e-n,a=e+n;for(let o=0;o!==n;++o){const n=t[e+o];if(n!==t[r+o]||n!==t[a+o]){i=!0;break}}}if(i){if(o!==a){e[a]=e[o];const r=o*n,i=a*n;for(let e=0;e!==n;++e)t[i+e]=t[r+e]}++a}}if(i>0){e[a]=e[i];for(let e=i*n,r=a*n,o=0;o!==n;++o)t[r+o]=t[e+o];++a}return a!==e.length?(this.times=Ip(e,0,a),this.values=Ip(t,0,a*n)):(this.times=e,this.values=t),this}clone(){const e=Ip(this.times,0),t=Ip(this.values,0),n=this.constructor,r=new n(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Gp.prototype.TimeBufferType=Float32Array,Gp.prototype.ValueBufferType=Float32Array,Gp.prototype.DefaultInterpolation=Mt;class Yp extends Gp{}Yp.prototype.ValueTypeName="bool",Yp.prototype.ValueBufferType=Array,Yp.prototype.DefaultInterpolation=St,Yp.prototype.InterpolantFactoryMethodLinear=void 0,Yp.prototype.InterpolantFactoryMethodSmooth=void 0;class $p extends Gp{}$p.prototype.ValueTypeName="color";class qp extends Gp{}qp.prototype.ValueTypeName="number";class Xp extends zp{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-t)/(r-t);let l=e*o;for(let c=l+o;l!==c;l+=4)wr.slerpFlat(i,0,a,l-o,a,l,s);return i}}class Zp extends Gp{InterpolantFactoryMethodLinear(e){return new Xp(this.times,this.values,this.getValueSize(),e)}}Zp.prototype.ValueTypeName="quaternion",Zp.prototype.DefaultInterpolation=Mt,Zp.prototype.InterpolantFactoryMethodSmooth=void 0;class Kp extends Gp{}Kp.prototype.ValueTypeName="string",Kp.prototype.ValueBufferType=Array,Kp.prototype.DefaultInterpolation=St,Kp.prototype.InterpolantFactoryMethodLinear=void 0,Kp.prototype.InterpolantFactoryMethodSmooth=void 0;class Jp extends Gp{}Jp.prototype.ValueTypeName="vector";class Qp{constructor(e,t=-1,n,r=kt){this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=Sn(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let a=0,o=n.length;a!==o;++a)t.push(tm(n[a]).scale(r));const i=new this(e.name,e.duration,t,e.blendMode);return i.uuid=e.uuid,i}static toJSON(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let i=0,a=n.length;i!==a;++i)t.push(Gp.toJSON(n[i]));return r}static CreateFromMorphTargetSequence(e,t,n,r){const i=t.length,a=[];for(let o=0;o<i;o++){let e=[],s=[];e.push((o+i-1)%i,o,(o+1)%i),s.push(0,1,0);const l=Op(e);e=Np(e,1,l),s=Np(s,1,l),r||0!==e[0]||(e.push(i),s.push(s[0])),a.push(new qp(".morphTargetInfluences["+t[o].name+"]",e,s).scale(1/n))}return new this(e,-1,a)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const t=e;n=t.geometry&&t.geometry.animations||t.animations}for(let r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const r={},i=/^([\w-]*?)([\d]+)$/;for(let o=0,s=e.length;o<s;o++){const t=e[o],n=t.name.match(i);if(n&&n.length>1){const e=n[1];let i=r[e];i||(r[e]=i=[]),i.push(t)}}const a=[];for(const o in r)a.push(this.CreateFromMorphTargetSequence(o,r[o],t,n));return a}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(e,t,n,r,i){if(0!==n.length){const a=[],o=[];Fp(n,a,o,r),0!==a.length&&i.push(new e(t,a,o))}},r=[],i=e.name||"default",a=e.fps||30,o=e.blendMode;let s=e.length||-1;const l=e.hierarchy||[];for(let u=0;u<l.length;u++){const e=l[u].keys;if(e&&0!==e.length)if(e[0].morphTargets){const t={};let n;for(n=0;n<e.length;n++)if(e[n].morphTargets)for(let r=0;r<e[n].morphTargets.length;r++)t[e[n].morphTargets[r]]=-1;for(const i in t){const t=[],a=[];for(let r=0;r!==e[n].morphTargets.length;++r){const r=e[n];t.push(r.time),a.push(r.morphTarget===i?1:0)}r.push(new qp(".morphTargetInfluence["+i+"]",t,a))}s=t.length*a}else{const i=".bones["+t[u].name+"]";n(Jp,i+".position",e,"pos",r),n(Zp,i+".quaternion",e,"rot",r),n(Jp,i+".scale",e,"scl",r)}}if(0===r.length)return null;const c=new this(i,s,r,o);return c}resetDuration(){const e=this.tracks;let t=0;for(let n=0,r=e.length;n!==r;++n){const e=this.tracks[n];t=Math.max(t,e.times[e.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function em(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return qp;case"vector":case"vector2":case"vector3":case"vector4":return Jp;case"color":return $p;case"quaternion":return Zp;case"bool":case"boolean":return Yp;case"string":return Kp}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}function tm(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=em(e.type);if(void 0===e.times){const t=[],n=[];Fp(e.keys,t,n,"value"),e.times=t,e.values=n}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}const nm={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};class rm{constructor(e,t,n){const r=this;let i,a=!1,o=0,s=0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){s++,!1===a&&void 0!==r.onStart&&r.onStart(e,o,s),a=!0},this.itemEnd=function(e){o++,void 0!==r.onProgress&&r.onProgress(e,o,s),o===s&&(a=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return i?i(e):e},this.setURLModifier=function(e){return i=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){const t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(let t=0,n=l.length;t<n;t+=2){const n=l[t],r=l[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return r}return null}}}const im=new rm;class am{constructor(e){this.manager=void 0!==e?e:im,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const om={};class sm extends Error{constructor(e,t){super(e),this.response=t}}class lm extends am{constructor(e){super(e)}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=nm.get(e);if(void 0!==i)return this.manager.itemStart(e),setTimeout((()=>{t&&t(i),this.manager.itemEnd(e)}),0),i;if(void 0!==om[e])return void om[e].push({onLoad:t,onProgress:n,onError:r});om[e]=[],om[e].push({onLoad:t,onProgress:n,onError:r});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,s=this.responseType;fetch(a).then((t=>{if(200===t.status||0===t.status){if(0===t.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"===typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;const n=om[e],r=t.body.getReader(),i=t.headers.get("Content-Length"),a=i?parseInt(i):0,o=0!==a;let s=0;const l=new ReadableStream({start(e){function t(){r.read().then((({done:r,value:i})=>{if(r)e.close();else{s+=i.byteLength;const r=new ProgressEvent("progress",{lengthComputable:o,loaded:s,total:a});for(let e=0,t=n.length;e<t;e++){const t=n[e];t.onProgress&&t.onProgress(r)}e.enqueue(i),t()}}))}t()}});return new Response(l)}throw new sm(`fetch for "${t.url}" responded with ${t.status}: ${t.statusText}`,t)})).then((e=>{switch(s){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then((e=>{const t=new DOMParser;return t.parseFromString(e,o)}));case"json":return e.json();default:if(void 0===o)return e.text();{const t=/charset="?([^;"\s]*)"?/i,n=t.exec(o),r=n&&n[1]?n[1].toLowerCase():void 0,i=new TextDecoder(r);return e.arrayBuffer().then((e=>i.decode(e)))}}})).then((t=>{nm.add(e,t);const n=om[e];delete om[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onLoad&&r.onLoad(t)}})).catch((t=>{const n=om[e];if(void 0===n)throw this.manager.itemError(e),t;delete om[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onError&&r.onError(t)}this.manager.itemError(e)})).finally((()=>{this.manager.itemEnd(e)})),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class cm extends am{constructor(e){super(e)}load(e,t,n,r){const i=this,a=new lm(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)}parse(e){const t=[];for(let n=0;n<e.length;n++){const r=Qp.parse(e[n]);t.push(r)}return t}}class um extends am{constructor(e){super(e)}load(e,t,n,r){const i=this,a=[],o=new Dh,s=new lm(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(i.withCredentials);let l=0;function c(c){s.load(e[c],(function(e){const n=i.parse(e,!0);a[c]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},l+=1,6===l&&(1===n.mipmapCount&&(o.minFilter=be),o.image=a,o.format=n.format,o.needsUpdate=!0,t&&t(o))}),n,r)}if(Array.isArray(e))for(let u=0,d=e.length;u<d;++u)c(u);else s.load(e,(function(e){const n=i.parse(e,!0);if(n.isCubemap){const e=n.mipmaps.length/n.mipmapCount;for(let t=0;t<e;t++){a[t]={mipmaps:[]};for(let e=0;e<n.mipmapCount;e++)a[t].mipmaps.push(n.mipmaps[t*n.mipmapCount+e]),a[t].format=n.format,a[t].width=n.width,a[t].height=n.height}o.image=a}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=be),o.format=n.format,o.needsUpdate=!0,t&&t(o)}),n,r);return o}}class dm extends am{constructor(e){super(e)}load(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,a=nm.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;const o=Kn("img");function s(){c(),nm.add(e,this),t&&t(this),i.manager.itemEnd(e)}function l(t){c(),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}function c(){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1)}return o.addEventListener("load",s,!1),o.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(e),o.src=e,o}}class hm extends am{constructor(e){super(e)}load(e,t,n,r){const i=new Ua,a=new dm(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let o=0;function s(n){a.load(e[n],(function(e){i.images[n]=e,o++,6===o&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(let l=0;l<e.length;++l)s(l);return i}}class fm extends am{constructor(e){super(e)}load(e,t,n,r){const i=this,a=new ih,o=new lm(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(i.withCredentials),o.load(e,(function(e){const n=i.parse(e);n&&(void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:fe,a.wrapT=void 0!==n.wrapT?n.wrapT:fe,a.magFilter=void 0!==n.magFilter?n.magFilter:be,a.minFilter=void 0!==n.minFilter?n.minFilter:be,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.encoding&&(a.encoding=n.encoding),void 0!==n.flipY&&(a.flipY=n.flipY),void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps,a.minFilter=Se),1===n.mipmapCount&&(a.minFilter=be),void 0!==n.generateMipmaps&&(a.generateMipmaps=n.generateMipmaps),a.needsUpdate=!0,t&&t(a,n))}),n,r),a}}class pm extends am{constructor(e){super(e)}load(e,t,n,r){const i=new pr,a=new dm(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,(function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}class mm extends Ei{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new lr(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}class vm extends mm{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Ei.DefaultUp),this.updateMatrix(),this.groundColor=new lr(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const gm=new ei,_m=new Sr,ym=new Sr;class bm{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Yn(512,512),this.map=null,this.mapPass=null,this.matrix=new ei,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new qa,this._frameExtents=new Yn(1,1),this._viewportCount=1,this._viewports=[new mr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;_m.setFromMatrixPosition(e.matrixWorld),t.position.copy(_m),ym.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(ym),t.updateMatrixWorld(),gm.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(gm),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class xm extends bm{constructor(){super(new Na(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=2*wn*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;n===t.fov&&r===t.aspect&&i===t.far||(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class wm extends mm{constructor(e,t,n=0,r=Math.PI/3,i=0,a=1){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Ei.DefaultUp),this.updateMatrix(),this.target=new Ei,this.distance=n,this.angle=r,this.penumbra=i,this.decay=a,this.shadow=new xm}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const Sm=new ei,Mm=new Sr,Em=new Sr;class Tm extends bm{constructor(){super(new Na(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Yn(4,2),this._viewportCount=6,this._viewports=[new mr(2,1,1,1),new mr(0,1,1,1),new mr(3,1,1,1),new mr(1,1,1,1),new mr(3,0,1,1),new mr(1,0,1,1)],this._cubeDirections=[new Sr(1,0,0),new Sr(-1,0,0),new Sr(0,0,1),new Sr(0,0,-1),new Sr(0,1,0),new Sr(0,-1,0)],this._cubeUps=[new Sr(0,1,0),new Sr(0,1,0),new Sr(0,1,0),new Sr(0,1,0),new Sr(0,0,1),new Sr(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),Mm.setFromMatrixPosition(e.matrixWorld),n.position.copy(Mm),Em.copy(n.position),Em.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(Em),n.updateMatrixWorld(),r.makeTranslation(-Mm.x,-Mm.y,-Mm.z),Sm.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Sm)}}class Am extends mm{constructor(e,t,n=0,r=1){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new Tm}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Cm extends bm{constructor(){super(new Fl(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class km extends mm{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ei.DefaultUp),this.updateMatrix(),this.target=new Ei,this.shadow=new Cm}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Rm extends mm{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class Lm extends mm{constructor(e,t,n=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class Im{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Sr)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*i),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],n*r*1.092548),t.addScaledVector(a[5],r*i*1.092548),t.addScaledVector(a[6],.315392*(3*i*i-1)),t.addScaledVector(a[7],n*i*1.092548),t.addScaledVector(a[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){const n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],1.023328*r),t.addScaledVector(a[2],1.023328*i),t.addScaledVector(a[3],1.023328*n),t.addScaledVector(a[4],.858086*n*r),t.addScaledVector(a[5],.858086*r*i),t.addScaledVector(a[6],.743125*i*i-.247708),t.addScaledVector(a[7],.858086*n*i),t.addScaledVector(a[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}toArray(e=[],t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}static getBasisAt(e,t){const n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}class Pm extends mm{constructor(e=new Im,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class Dm extends am{constructor(e){super(e),this.textures={}}load(e,t,n,r){const i=this,a=new lm(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)}parse(e){const t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}const r=Dm.createMaterialFromType(e.type);if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&void 0!==r.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.sheen&&(r.sheen=e.sheen),void 0!==e.sheenColor&&(r.sheenColor=(new lr).setHex(e.sheenColor)),void 0!==e.sheenRoughness&&(r.sheenRoughness=e.sheenRoughness),void 0!==e.emissive&&void 0!==r.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==r.specular&&r.specular.setHex(e.specular),void 0!==e.specularIntensity&&(r.specularIntensity=e.specularIntensity),void 0!==e.specularColor&&void 0!==r.specularColor&&r.specularColor.setHex(e.specularColor),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearcoat&&(r.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(r.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.iridescence&&(r.iridescence=e.iridescence),void 0!==e.iridescenceIOR&&(r.iridescenceIOR=e.iridescenceIOR),void 0!==e.iridescenceThicknessRange&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),void 0!==e.transmission&&(r.transmission=e.transmission),void 0!==e.thickness&&(r.thickness=e.thickness),void 0!==e.attenuationDistance&&(r.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==r.attenuationColor&&r.attenuationColor.setHex(e.attenuationColor),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.shadowSide&&(r.shadowSide=e.shadowSide),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(r.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(r.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(r.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(r.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(r.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(r.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(r.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(r.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),1!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.alphaToCoverage&&(r.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(r.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.toneMapped&&(r.toneMapped=e.toneMapped),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.vertexColors&&("number"===typeof e.vertexColors?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),void 0!==e.uniforms)for(const i in e.uniforms){const t=e.uniforms[i];switch(r.uniforms[i]={},t.type){case"t":r.uniforms[i].value=n(t.value);break;case"c":r.uniforms[i].value=(new lr).setHex(t.value);break;case"v2":r.uniforms[i].value=(new Yn).fromArray(t.value);break;case"v3":r.uniforms[i].value=(new Sr).fromArray(t.value);break;case"v4":r.uniforms[i].value=(new mr).fromArray(t.value);break;case"m3":r.uniforms[i].value=(new $n).fromArray(t.value);break;case"m4":r.uniforms[i].value=(new ei).fromArray(t.value);break;default:r.uniforms[i].value=t.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(const i in e.extensions)r.extensions[i]=e.extensions[i];if(void 0!==e.shading&&(r.flatShading=1===e.shading),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.matcap&&(r.matcap=n(e.matcap)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){let t=e.normalScale;!1===Array.isArray(t)&&(t=[t,t]),r.normalScale=(new Yn).fromArray(t)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.specularIntensityMap&&(r.specularIntensityMap=n(e.specularIntensityMap)),void 0!==e.specularColorMap&&(r.specularColorMap=n(e.specularColorMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(r.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(r.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(r.clearcoatNormalScale=(new Yn).fromArray(e.clearcoatNormalScale)),void 0!==e.iridescenceMap&&(r.iridescenceMap=n(e.iridescenceMap)),void 0!==e.iridescenceThicknessMap&&(r.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),void 0!==e.transmissionMap&&(r.transmissionMap=n(e.transmissionMap)),void 0!==e.thicknessMap&&(r.thicknessMap=n(e.thicknessMap)),void 0!==e.sheenColorMap&&(r.sheenColorMap=n(e.sheenColorMap)),void 0!==e.sheenRoughnessMap&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:wp,SpriteMaterial:Id,RawShaderMaterial:Sp,ShaderMaterial:Da,PointsMaterial:Eh,MeshPhysicalMaterial:Ep,MeshStandardMaterial:Mp,MeshPhongMaterial:Tp,MeshToonMaterial:Ap,MeshNormalMaterial:Cp,MeshLambertMaterial:kp,MeshDepthMaterial:sd,MeshDistanceMaterial:ld,MeshBasicMaterial:Vi,MeshMatcapMaterial:Rp,LineDashedMaterial:Lp,LineBasicMaterial:ph,Material:Bi};return new t[e]}}class Om{static decodeText(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch(n){return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}static resolveURL(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class Nm extends oa{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return(new this.constructor).copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Fm extends am{constructor(e){super(e)}load(e,t,n,r){const i=this,a=new lm(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)}parse(e){const t={},n={};function r(e,n){if(void 0!==t[n])return t[n];const r=e.interleavedBuffers,a=r[n],o=i(e,a.buffer),s=Zn(a.type,o),l=new kd(s,a.stride);return l.uuid=a.uuid,t[n]=l,l}function i(e,t){if(void 0!==n[t])return n[t];const r=e.arrayBuffers,i=r[t],a=new Uint32Array(i).buffer;return n[t]=a,a}const a=e.isInstancedBufferGeometry?new Nm:new oa,o=e.data.index;if(void 0!==o){const e=Zn(o.type,o.array);a.setIndex(new Hi(e,1))}const s=e.data.attributes;for(const h in s){const t=s[h];let n;if(t.isInterleavedBufferAttribute){const i=r(e.data,t.data);n=new Ld(i,t.itemSize,t.offset,t.normalized)}else{const e=Zn(t.type,t.array),r=t.isInstancedBufferAttribute?lh:Hi;n=new r(e,t.itemSize,t.normalized)}void 0!==t.name&&(n.name=t.name),void 0!==t.usage&&n.setUsage(t.usage),void 0!==t.updateRange&&(n.updateRange.offset=t.updateRange.offset,n.updateRange.count=t.updateRange.count),a.setAttribute(h,n)}const l=e.data.morphAttributes;if(l)for(const h in l){const t=l[h],n=[];for(let i=0,a=t.length;i<a;i++){const a=t[i];let o;if(a.isInterleavedBufferAttribute){const t=r(e.data,a.data);o=new Ld(t,a.itemSize,a.offset,a.normalized)}else{const e=Zn(a.type,a.array);o=new Hi(e,a.itemSize,a.normalized)}void 0!==a.name&&(o.name=a.name),n.push(o)}a.morphAttributes[h]=n}const c=e.data.morphTargetsRelative;c&&(a.morphTargetsRelative=!0);const u=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==u)for(let h=0,f=u.length;h!==f;++h){const e=u[h];a.addGroup(e.start,e.count,e.materialIndex)}const d=e.data.boundingSphere;if(void 0!==d){const e=new Sr;void 0!==d.center&&e.fromArray(d.center),a.boundingSphere=new Gr(e,d.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class Bm extends am{constructor(e){super(e)}load(e,t,n,r){const i=this,a=""===this.path?Om.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const o=new lm(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){let a=null;try{a=JSON.parse(n)}catch(s){return void 0!==r&&r(s),void console.error("THREE:ObjectLoader: Can't parse "+e+".",s.message)}const o=a.metadata;void 0!==o&&void 0!==o.type&&"geometry"!==o.type.toLowerCase()?i.parse(a,t):console.error("THREE.ObjectLoader: Can't load "+e)}),n,r)}async loadAsync(e,t){const n=this,r=""===this.path?Om.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const i=new lm(this.manager);i.setPath(this.path),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials);const a=await i.loadAsync(e,t),o=JSON.parse(a),s=o.metadata;if(void 0===s||void 0===s.type||"geometry"===s.type.toLowerCase())throw new Error("THREE.ObjectLoader: Can't load "+e);return await n.parseAsync(o)}parse(e,t){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,(function(){void 0!==t&&t(l)})),o=this.parseTextures(e.textures,a),s=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,s,o,n),c=this.parseSkeletons(e.skeletons,l);if(this.bindSkeletons(l,c),void 0!==t){let e=!1;for(const t in a)if(a[t].data instanceof HTMLImageElement){e=!0;break}!1===e&&t(l)}return l}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,n),i=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,i),o=this.parseMaterials(e.materials,a),s=this.parseObject(e.object,r,o,a,t),l=this.parseSkeletons(e.skeletons,s);return this.bindSkeletons(s,l),s}parseShapes(e){const t={};if(void 0!==e)for(let n=0,r=e.length;n<r;n++){const r=(new Mf).fromJSON(e[n]);t[r.uuid]=r}return t}parseSkeletons(e,t){const n={},r={};if(t.traverse((function(e){e.isBone&&(r[e.uuid]=e)})),void 0!==e)for(let i=0,a=e.length;i<a;i++){const t=(new sh).fromJSON(e[i],r);n[t.uuid]=t}return n}parseGeometries(e,t){const n={};if(void 0!==e){const r=new Fm;for(let i=0,a=e.length;i<a;i++){let a;const o=e[i];switch(o.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(o);break;case"Geometry":console.error("THREE.ObjectLoader: The legacy Geometry type is no longer supported.");break;default:o.type in xp?a=xp[o.type].fromJSON(o,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${o.type}"`)}a.uuid=o.uuid,void 0!==o.name&&(a.name=o.name),!0===a.isBufferGeometry&&void 0!==o.userData&&(a.userData=o.userData),n[o.uuid]=a}}return n}parseMaterials(e,t){const n={},r={};if(void 0!==e){const i=new Dm;i.setTextures(t);for(let t=0,a=e.length;t<a;t++){const a=e[t];if("MultiMaterial"===a.type){const e=[];for(let t=0;t<a.materials.length;t++){const r=a.materials[t];void 0===n[r.uuid]&&(n[r.uuid]=i.parse(r)),e.push(n[r.uuid])}r[a.uuid]=e}else void 0===n[a.uuid]&&(n[a.uuid]=i.parse(a)),r[a.uuid]=n[a.uuid]}}return r}parseAnimations(e){const t={};if(void 0!==e)for(let n=0;n<e.length;n++){const r=e[n],i=Qp.parse(r);t[i.uuid]=i}return t}parseImages(e,t){const n=this,r={};let i;function a(e){return n.manager.itemStart(e),i.load(e,(function(){n.manager.itemEnd(e)}),void 0,(function(){n.manager.itemError(e),n.manager.itemEnd(e)}))}function o(e){if("string"===typeof e){const t=e,r=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:n.resourcePath+t;return a(r)}return e.data?{data:Zn(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){const n=new rm(t);i=new dm(n),i.setCrossOrigin(this.crossOrigin);for(let t=0,i=e.length;t<i;t++){const n=e[t],i=n.url;if(Array.isArray(i)){const e=[];for(let t=0,n=i.length;t<n;t++){const n=i[t],r=o(n);null!==r&&(r instanceof HTMLImageElement?e.push(r):e.push(new ih(r.data,r.width,r.height)))}r[n.uuid]=new dr(e)}else{const e=o(n.url);r[n.uuid]=new dr(e)}}}return r}async parseImagesAsync(e){const t=this,n={};let r;async function i(e){if("string"===typeof e){const n=e,i=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(n)?n:t.resourcePath+n;return await r.loadAsync(i)}return e.data?{data:Zn(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){r=new dm(this.manager),r.setCrossOrigin(this.crossOrigin);for(let t=0,r=e.length;t<r;t++){const r=e[t],a=r.url;if(Array.isArray(a)){const e=[];for(let t=0,n=a.length;t<n;t++){const n=a[t],r=await i(n);null!==r&&(r instanceof HTMLImageElement?e.push(r):e.push(new ih(r.data,r.width,r.height)))}n[r.uuid]=new dr(e)}else{const e=await i(r.url);n[r.uuid]=new dr(e)}}}return n}parseTextures(e,t){function n(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}const r={};if(void 0!==e)for(let i=0,a=e.length;i<a;i++){const a=e[i];void 0===a.image&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),void 0===t[a.image]&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const o=t[a.image],s=o.data;let l;Array.isArray(s)?(l=new Ua,6===s.length&&(l.needsUpdate=!0)):(l=s&&s.data?new ih:new pr,s&&(l.needsUpdate=!0)),l.source=o,l.uuid=a.uuid,void 0!==a.name&&(l.name=a.name),void 0!==a.mapping&&(l.mapping=n(a.mapping,Vm)),void 0!==a.offset&&l.offset.fromArray(a.offset),void 0!==a.repeat&&l.repeat.fromArray(a.repeat),void 0!==a.center&&l.center.fromArray(a.center),void 0!==a.rotation&&(l.rotation=a.rotation),void 0!==a.wrap&&(l.wrapS=n(a.wrap[0],Um),l.wrapT=n(a.wrap[1],Um)),void 0!==a.format&&(l.format=a.format),void 0!==a.type&&(l.type=a.type),void 0!==a.encoding&&(l.encoding=a.encoding),void 0!==a.minFilter&&(l.minFilter=n(a.minFilter,zm)),void 0!==a.magFilter&&(l.magFilter=n(a.magFilter,zm)),void 0!==a.anisotropy&&(l.anisotropy=a.anisotropy),void 0!==a.flipY&&(l.flipY=a.flipY),void 0!==a.premultiplyAlpha&&(l.premultiplyAlpha=a.premultiplyAlpha),void 0!==a.unpackAlignment&&(l.unpackAlignment=a.unpackAlignment),void 0!==a.userData&&(l.userData=a.userData),r[a.uuid]=l}return r}parseObject(e,t,n,r,i){let a,o,s;function l(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function c(e){if(void 0!==e){if(Array.isArray(e)){const t=[];for(let r=0,i=e.length;r<i;r++){const i=e[r];void 0===n[i]&&console.warn("THREE.ObjectLoader: Undefined material",i),t.push(n[i])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}function u(e){return void 0===r[e]&&console.warn("THREE.ObjectLoader: Undefined texture",e),r[e]}switch(e.type){case"Scene":a=new Cd,void 0!==e.background&&(Number.isInteger(e.background)?a.background=new lr(e.background):a.background=u(e.background)),void 0!==e.environment&&(a.environment=u(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?a.fog=new Ad(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(a.fog=new Td(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":a=new Na(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(a.focus=e.focus),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.filmGauge&&(a.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(a.filmOffset=e.filmOffset),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new Fl(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new Rm(e.color,e.intensity);break;case"DirectionalLight":a=new km(e.color,e.intensity);break;case"PointLight":a=new Am(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new Lm(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new wm(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new vm(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=(new Pm).fromJSON(e);break;case"SkinnedMesh":o=l(e.geometry),s=c(e.material),a=new nh(o,s),void 0!==e.bindMode&&(a.bindMode=e.bindMode),void 0!==e.bindMatrix&&a.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(a.skeleton=e.skeleton);break;case"Mesh":o=l(e.geometry),s=c(e.material),a=new Ma(o,s);break;case"InstancedMesh":o=l(e.geometry),s=c(e.material);const t=e.count,n=e.instanceMatrix,r=e.instanceColor;a=new fh(o,s,t),a.instanceMatrix=new lh(new Float32Array(n.array),16),void 0!==r&&(a.instanceColor=new lh(new Float32Array(r.array),r.itemSize));break;case"LOD":a=new Zd;break;case"Line":a=new bh(l(e.geometry),c(e.material));break;case"LineLoop":a=new Mh(l(e.geometry),c(e.material));break;case"LineSegments":a=new Sh(l(e.geometry),c(e.material));break;case"PointCloud":case"Points":a=new Rh(l(e.geometry),c(e.material));break;case"Sprite":a=new Yd(c(e.material));break;case"Group":a=new vd;break;case"Bone":a=new rh;break;default:a=new Ei}if(a.uuid=e.uuid,void 0!==e.name&&(a.name=e.name),void 0!==e.matrix?(a.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(void 0!==e.position&&a.position.fromArray(e.position),void 0!==e.rotation&&a.rotation.fromArray(e.rotation),void 0!==e.quaternion&&a.quaternion.fromArray(e.quaternion),void 0!==e.scale&&a.scale.fromArray(e.scale)),void 0!==e.castShadow&&(a.castShadow=e.castShadow),void 0!==e.receiveShadow&&(a.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(a.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(a.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(a.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&a.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(a.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(a.visible=e.visible),void 0!==e.frustumCulled&&(a.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(a.renderOrder=e.renderOrder),void 0!==e.userData&&(a.userData=e.userData),void 0!==e.layers&&(a.layers.mask=e.layers),void 0!==e.children){const o=e.children;for(let e=0;e<o.length;e++)a.add(this.parseObject(o[e],t,n,r,i))}if(void 0!==e.animations){const t=e.animations;for(let e=0;e<t.length;e++){const n=t[e];a.animations.push(i[n])}}if("LOD"===e.type){void 0!==e.autoUpdate&&(a.autoUpdate=e.autoUpdate);const t=e.levels;for(let e=0;e<t.length;e++){const n=t[e],r=a.getObjectByProperty("uuid",n.object);void 0!==r&&a.addLevel(r,n.distance)}}return a}bindSkeletons(e,t){0!==Object.keys(t).length&&e.traverse((function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){const n=t[e.skeleton];void 0===n?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(n,e.bindMatrix)}}))}}const Vm={UVMapping:oe,CubeReflectionMapping:se,CubeRefractionMapping:le,EquirectangularReflectionMapping:ce,EquirectangularRefractionMapping:ue,CubeUVReflectionMapping:de},Um={RepeatWrapping:he,ClampToEdgeWrapping:fe,MirroredRepeatWrapping:pe},zm={NearestFilter:me,NearestMipmapNearestFilter:ve,NearestMipmapLinearFilter:_e,LinearFilter:be,LinearMipmapNearestFilter:xe,LinearMipmapLinearFilter:Se};class Hm extends am{constructor(e){super(e),this.isImageBitmapLoader=!0,"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,a=nm.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;const o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader,fetch(e,o).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:"none"}))})).then((function(n){nm.add(e,n),t&&t(n),i.manager.itemEnd(e)})).catch((function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}let Wm;const jm={getContext:function(){return void 0===Wm&&(Wm=new(window.AudioContext||window.webkitAudioContext)),Wm},setContext:function(e){Wm=e}};class Gm extends am{constructor(e){super(e)}load(e,t,n,r){const i=this,a=new lm(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(n){try{const e=n.slice(0),r=jm.getContext();r.decodeAudioData(e,(function(e){t(e)}))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)}}class Ym extends Pm{constructor(e,t,n=1){super(void 0,n),this.isHemisphereLightProbe=!0;const r=(new lr).set(e),i=(new lr).set(t),a=new Sr(r.r,r.g,r.b),o=new Sr(i.r,i.g,i.b),s=Math.sqrt(Math.PI),l=s*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(o).multiplyScalar(s),this.sh.coefficients[1].copy(a).sub(o).multiplyScalar(l)}}class $m extends Pm{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const n=(new lr).set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const qm=new ei,Xm=new ei,Zm=new ei;class Km{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Na,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Na,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache,n=t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep;if(n){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Zm.copy(e.projectionMatrix);const n=t.eyeSep/2,r=n*t.near/t.focus,i=t.near*Math.tan(xn*t.fov*.5)/t.zoom;let a,o;Xm.elements[12]=-n,qm.elements[12]=n,a=-i*t.aspect+r,o=i*t.aspect+r,Zm.elements[0]=2*t.near/(o-a),Zm.elements[8]=(o+a)/(o-a),this.cameraL.projectionMatrix.copy(Zm),a=-i*t.aspect-r,o=i*t.aspect-r,Zm.elements[0]=2*t.near/(o-a),Zm.elements[8]=(o+a)/(o-a),this.cameraR.projectionMatrix.copy(Zm)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Xm),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(qm)}}class Jm{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Qm(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=Qm();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function Qm(){return("undefined"===typeof performance?Date:performance).now()}const ev=new Sr,tv=new wr,nv=new Sr,rv=new Sr;class iv extends Ei{constructor(){super(),this.type="AudioListener",this.context=jm.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Jm}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(ev,tv,nv),rv.set(0,0,-1).applyQuaternion(tv),t.positionX){const e=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(ev.x,e),t.positionY.linearRampToValueAtTime(ev.y,e),t.positionZ.linearRampToValueAtTime(ev.z,e),t.forwardX.linearRampToValueAtTime(rv.x,e),t.forwardY.linearRampToValueAtTime(rv.y,e),t.forwardZ.linearRampToValueAtTime(rv.z,e),t.upX.linearRampToValueAtTime(n.x,e),t.upY.linearRampToValueAtTime(n.y,e),t.upZ.linearRampToValueAtTime(n.z,e)}else t.setPosition(ev.x,ev.y,ev.z),t.setOrientation(rv.x,rv.y,rv.z,n.x,n.y,n.z)}}class av extends Ei{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const ov=new Sr,sv=new wr,lv=new Sr,cv=new Sr;class uv extends av{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(ov,sv,lv),cv.set(0,0,1).applyQuaternion(sv);const t=this.panner;if(t.positionX){const e=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(ov.x,e),t.positionY.linearRampToValueAtTime(ov.y,e),t.positionZ.linearRampToValueAtTime(ov.z,e),t.orientationX.linearRampToValueAtTime(cv.x,e),t.orientationY.linearRampToValueAtTime(cv.y,e),t.orientationZ.linearRampToValueAtTime(cv.z,e)}else t.setPosition(ov.x,ov.y,ov.z),t.setOrientation(cv.x,cv.y,cv.z)}}class dv{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class hv{constructor(e,t,n){let r,i,a;switch(this.binding=e,this.valueSize=n,t){case"quaternion":r=this._slerp,i=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":r=this._select,i=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:r=this._lerp,i=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=i,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,r=this.valueSize,i=e*r+r;let a=this.cumulativeWeight;if(0===a){for(let e=0;e!==r;++e)n[i+e]=n[e];a=t}else{a+=t;const e=t/a;this._mixBufferRegion(n,i,0,e,r)}this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){const e=t*this._origIndex;this._mixBufferRegion(n,r,e,1-i,t)}a>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let s=t,l=t+t;s!==l;++s)if(n[s]!==n[s+t]){o.setValue(n,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let i=n,a=r;i!==a;++i)t[i]=t[r+i%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=3*this.valueSize;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,i){if(r>=.5)for(let a=0;a!==i;++a)e[t+a]=e[n+a]}_slerp(e,t,n,r){wr.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,i){const a=this._workIndex*i;wr.multiplyQuaternionsFlat(e,a,e,t,e,n),wr.slerpFlat(e,t,e,t,e,a,r)}_lerp(e,t,n,r,i){const a=1-r;for(let o=0;o!==i;++o){const i=t+o;e[i]=e[i]*a+e[n+o]*r}}_lerpAdditive(e,t,n,r,i){for(let a=0;a!==i;++a){const i=t+a;e[i]=e[i]+e[n+a]*r}}}const fv="\\[\\]\\.:\\/",pv=new RegExp("["+fv+"]","g"),mv="[^"+fv+"]",vv="[^"+fv.replace("\\.","")+"]",gv=/((?:WC+[\/:])*)/.source.replace("WC",mv),_v=/(WCOD+)?/.source.replace("WCOD",vv),yv=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",mv),bv=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",mv),xv=new RegExp("^"+gv+_v+yv+bv+"$"),wv=["material","materials","bones"];class Sv{constructor(e,t,n){const r=n||Mv.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class Mv{constructor(e,t,n){this.path=t,this.parsedPath=n||Mv.parseTrackName(t),this.node=Mv.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new Mv.Composite(e,t,n):new Mv(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(pv,"")}static parseTrackName(e){const t=xv.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){const e=n.nodeName.substring(r+1);-1!==wv.indexOf(e)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=e)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){const n=function(e){for(let r=0;r<e.length;r++){const i=e[r];if(i.name===t||i.uuid===t)return i;const a=n(i.children);if(a)return a}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let i=t.propertyIndex;if(e||(e=Mv.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(n){let r=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===r){r=t;break}break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==r){if(void 0===e[r])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[r]}}const a=e[r];if(void 0===a){const n=t.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n+"."+r+" but it wasn't found.",e)}let o=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?o=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(o=this.Versioning.MatrixWorldNeedsUpdate);let s=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[i]&&(i=e.morphTargetDictionary[i])}s=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=i}else void 0!==a.fromArray&&void 0!==a.toArray?(s=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(s=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[s],this.setValue=this.SetterByBindingTypeAndVersioning[s][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Mv.Composite=Sv,Mv.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Mv.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Mv.prototype.GetterByBindingType=[Mv.prototype._getValue_direct,Mv.prototype._getValue_array,Mv.prototype._getValue_arrayElement,Mv.prototype._getValue_toArray],Mv.prototype.SetterByBindingTypeAndVersioning=[[Mv.prototype._setValue_direct,Mv.prototype._setValue_direct_setNeedsUpdate,Mv.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Mv.prototype._setValue_array,Mv.prototype._setValue_array_setNeedsUpdate,Mv.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Mv.prototype._setValue_arrayElement,Mv.prototype._setValue_arrayElement_setNeedsUpdate,Mv.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Mv.prototype._setValue_fromArray,Mv.prototype._setValue_fromArray_setNeedsUpdate,Mv.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Ev{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Sn(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,a=i.length;let o,s=e.length,l=this.nCachedObjects_;for(let c=0,u=arguments.length;c!==u;++c){const u=arguments[c],d=u.uuid;let h=t[d];if(void 0===h){h=s++,t[d]=h,e.push(u);for(let e=0,t=a;e!==t;++e)i[e].push(new Mv(u,n[e],r[e]))}else if(h<l){o=e[h];const s=--l,c=e[s];t[c.uuid]=h,e[h]=c,t[d]=s,e[s]=u;for(let e=0,t=a;e!==t;++e){const t=i[e],a=t[s];let o=t[h];t[h]=a,void 0===o&&(o=new Mv(u,n[e],r[e])),t[s]=o}}else e[h]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_;for(let a=0,o=arguments.length;a!==o;++a){const o=arguments[a],s=o.uuid,l=t[s];if(void 0!==l&&l>=i){const a=i++,c=e[a];t[c.uuid]=l,e[l]=c,t[s]=a,e[a]=o;for(let e=0,t=r;e!==t;++e){const t=n[e],r=t[a],i=t[l];t[l]=r,t[a]=i}}}this.nCachedObjects_=i}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_,a=e.length;for(let o=0,s=arguments.length;o!==s;++o){const s=arguments[o],l=s.uuid,c=t[l];if(void 0!==c)if(delete t[l],c<i){const o=--i,s=e[o],l=--a,u=e[l];t[s.uuid]=c,e[c]=s,t[u.uuid]=o,e[o]=u,e.pop();for(let e=0,t=r;e!==t;++e){const t=n[e],r=t[o],i=t[l];t[c]=r,t[o]=i,t.pop()}}else{const i=--a,o=e[i];i>0&&(t[o.uuid]=c),e[c]=o,e.pop();for(let e=0,t=r;e!==t;++e){const t=n[e];t[c]=t[i],t.pop()}}}this.nCachedObjects_=i}subscribe_(e,t){const n=this._bindingsIndicesByPath;let r=n[e];const i=this._bindings;if(void 0!==r)return i[r];const a=this._paths,o=this._parsedPaths,s=this._objects,l=s.length,c=this.nCachedObjects_,u=new Array(l);r=i.length,n[e]=r,a.push(e),o.push(t),i.push(u);for(let d=c,h=s.length;d!==h;++d){const n=s[d];u[d]=new Mv(n,e,t)}return u}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){const r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o],l=e[o];t[l]=n,a[n]=s,a.pop(),i[n]=i[o],i.pop(),r[n]=r[o],r.pop()}}}class Tv{constructor(e,t,n=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;const i=t.tracks,a=i.length,o=new Array(a),s={endingStart:Tt,endingEnd:Tt};for(let l=0;l!==a;++l){const e=i[l].createInterpolant(null);o[l]=e,e.settings=s}this._interpolantSettings=s,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=xt,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const n=this._clip.duration,r=e._clip.duration,i=r/n,a=n/r;e.warp(1,i,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const r=this._mixer,i=r.time,a=this.timeScale;let o=this._timeScaleInterpolant;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);const s=o.parameterPositions,l=o.sampleValues;return s[0]=i,s[1]=i+n,l[0]=e/a,l[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled)return void this._updateWeight(e);const i=this._startTime;if(null!==i){const r=(e-i)*n;if(r<0||0===n)return;this._startTime=null,t=n*r}t*=this._updateTimeScale(e);const a=this._updateTime(t),o=this._updateWeight(e);if(o>0){const e=this._interpolants,t=this._propertyBindings;switch(this.blendMode){case Rt:for(let n=0,r=e.length;n!==r;++n)e[n].evaluate(a),t[n].accumulateAdditive(o);break;case kt:default:for(let n=0,i=e.length;n!==i;++n)e[n].evaluate(a),t[n].accumulate(r,o)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(null!==n){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(null!==n){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,i=this._loopCount;const a=n===wt;if(0===e)return-1===i?r:a&&1===(1&i)?t-r:r;if(n===bt){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),r>=t||r<0){const n=Math.floor(r/t);r-=t*n,i+=Math.abs(n);const o=this.repetitions-i;if(o<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===o){const t=e<0;this._setEndings(t,!t,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n})}}else this.time=r;if(a&&1===(1&i))return t-r}return r}_setEndings(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=At,r.endingEnd=At):(r.endingStart=e?this.zeroSlopeAtStart?At:Tt:Ct,r.endingEnd=t?this.zeroSlopeAtEnd?At:Tt:Ct)}_scheduleFading(e,t,n){const r=this._mixer,i=r.time;let a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);const o=a.parameterPositions,s=a.sampleValues;return o[0]=i,s[0]=t,o[1]=i+e,s[1]=n,this}}const Av=new Float32Array(1);class Cv extends _n{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,a=e._propertyBindings,o=e._interpolants,s=n.uuid,l=this._bindingsByRootAndName;let c=l[s];void 0===c&&(c={},l[s]=c);for(let u=0;u!==i;++u){const e=r[u],i=e.name;let l=c[i];if(void 0!==l)++l.referenceCount,a[u]=l;else{if(l=a[u],void 0!==l){null===l._cacheIndex&&(++l.referenceCount,this._addInactiveBinding(l,s,i));continue}const r=t&&t._propertyBindings[u].binding.parsedPath;l=new hv(Mv.create(n,i,r),e.ValueTypeName,e.getValueSize()),++l.referenceCount,this._addInactiveBinding(l,s,i),a[u]=l}o[u].resultBuffer=l.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){const t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===n.useCount++&&(this._lendBinding(n),n.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return null!==t&&t<this._nActiveActions}_addInactiveAction(e,t,n){const r=this._actions,i=this._actionsByClip;let a=i[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=a;else{const t=a.knownActions;e._byClipCacheIndex=t.length,t.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const i=e._clip.uuid,a=this._actionsByClip,o=a[i],s=o.knownActions,l=s[s.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,s[c]=l,s.pop(),e._byClipCacheIndex=null;const u=o.actionByRoot,d=(e._localRoot||this._root).uuid;delete u[d],0===s.length&&delete a[i],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const e=t[n];0===--e.referenceCount&&this._removeInactiveBinding(e)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_addInactiveBinding(e,t,n){const r=this._bindingsByRootAndName,i=this._bindings;let a=r[t];void 0===a&&(a={},r[t]=a),a[n]=e,e._cacheIndex=i.length,i.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,a=this._bindingsByRootAndName,o=a[r],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete o[i],0===Object.keys(o).length&&delete a[r]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return void 0===n&&(n=new Wp(new Float32Array(2),new Float32Array(2),1,Av),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i}clipAction(e,t,n){const r=t||this._root,i=r.uuid;let a="string"===typeof e?Qp.findByName(r,e):e;const o=null!==a?a.uuid:e,s=this._actionsByClip[o];let l=null;if(void 0===n&&(n=null!==a?a.blendMode:kt),void 0!==s){const e=s.actionByRoot[i];if(void 0!==e&&e.blendMode===n)return e;l=s.knownActions[0],null===a&&(a=l._clip)}if(null===a)return null;const c=new Tv(this,a,t,n);return this._bindAction(c,l),this._addInactiveAction(c,o,i),c}existingAction(e,t){const n=t||this._root,r=n.uuid,i="string"===typeof e?Qp.findByName(n,e):e,a=i?i.uuid:e,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),a=this._accuIndex^=1;for(let l=0;l!==n;++l){const n=t[l];n._update(r,e,i,a)}const o=this._bindings,s=this._nActiveBindings;for(let l=0;l!==s;++l)o[l].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){const e=i.knownActions;for(let n=0,r=e.length;n!==r;++n){const r=e[n];this._deactivateAction(r);const i=r._cacheIndex,a=t[t.length-1];r._cacheIndex=null,r._byClipCacheIndex=null,a._cacheIndex=i,t[i]=a,t.pop(),this._removeInactiveBindingsForAction(r)}delete r[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const a in n){const e=n[a].actionByRoot,r=e[t];void 0!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}const r=this._bindingsByRootAndName,i=r[t];if(void 0!==i)for(const a in i){const e=i[a];e.restoreOriginalState(),this._removeInactiveBinding(e)}}uncacheAction(e,t){const n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class kv{constructor(e){"string"===typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new kv(void 0===this.value.clone?this.value:this.value.clone())}}let Rv=0;class Lv extends _n{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Rv++}),this.name="",this.usage=on,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return-1!==t&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,r=t.length;n<r;n++)this.uniforms.push(t[n].clone());return this}clone(){return(new this.constructor).copy(this)}}class Iv extends kd{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class Pv{constructor(e,t,n,r,i){this.isGLBufferAttribute=!0,this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=i,this.version=0}set needsUpdate(e){!0===e&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class Dv{constructor(e,t,n=0,r=1/0){this.ray=new Qr(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new di,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,n=[]){return Nv(e,this,n,t),n.sort(Ov),n}intersectObjects(e,t=!0,n=[]){for(let r=0,i=e.length;r<i;r++)Nv(e[r],this,n,t);return n.sort(Ov),n}}function Ov(e,t){return e.distance-t.distance}function Nv(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===r){const r=e.children;for(let e=0,i=r.length;e<i;e++)Nv(r[e],t,n,!0)}}class Fv{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Mn(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}class Bv{constructor(e=1,t=0,n=0){return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return(new this.constructor).copy(this)}}const Vv=new Yn;class Uv{constructor(e=new Yn(1/0,1/0),t=new Yn(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Vv.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){const t=Vv.copy(e).clamp(this.min,this.max);return t.sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const zv=new Sr,Hv=new Sr;class Wv{constructor(e=new Sr,t=new Sr){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){zv.subVectors(e,this.start),Hv.subVectors(this.end,this.start);const n=Hv.dot(Hv),r=Hv.dot(zv);let i=r/n;return t&&(i=Mn(i,0,1)),i}closestPointToPoint(e,t,n){const r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}}const jv=new Sr;class Gv extends Ei{constructor(e,t){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;const n=new oa,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,o=1,s=32;a<s;a++,o++){const e=a/s*Math.PI*2,t=o/s*Math.PI*2;r.push(Math.cos(e),Math.sin(e),1,Math.cos(t),Math.sin(t),1)}n.setAttribute("position",new Ki(r,3));const i=new ph({fog:!1,toneMapped:!1});this.cone=new Sh(n,i),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),jv.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(jv),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Yv=new Sr,$v=new ei,qv=new ei;class Xv extends Sh{constructor(e){const t=Zv(e),n=new oa,r=[],i=[],a=new lr(0,0,1),o=new lr(0,1,0);for(let l=0;l<t.length;l++){const e=t[l];e.parent&&e.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(a.r,a.g,a.b),i.push(o.r,o.g,o.b))}n.setAttribute("position",new Ki(r,3)),n.setAttribute("color",new Ki(i,3));const s=new ph({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,s),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,r=n.getAttribute("position");qv.copy(this.root.matrixWorld).invert();for(let i=0,a=0;i<t.length;i++){const e=t[i];e.parent&&e.parent.isBone&&($v.multiplyMatrices(qv,e.matrixWorld),Yv.setFromMatrixPosition($v),r.setXYZ(a,Yv.x,Yv.y,Yv.z),$v.multiplyMatrices(qv,e.parent.matrixWorld),Yv.setFromMatrixPosition($v),r.setXYZ(a+1,Yv.x,Yv.y,Yv.z),a+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}function Zv(e){const t=[];!0===e.isBone&&t.push(e);for(let n=0;n<e.children.length;n++)t.push.apply(t,Zv(e.children[n]));return t}class Kv extends Ma{constructor(e,t,n){const r=new pp(t,4,2),i=new Vi({wireframe:!0,fog:!1,toneMapped:!1});super(r,i),this.light=e,this.light.updateMatrixWorld(),this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Jv=new Sr,Qv=new lr,eg=new lr;class tg extends Ei{constructor(e,t,n){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;const r=new up(t);r.rotateY(.5*Math.PI),this.material=new Vi({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const i=r.getAttribute("position"),a=new Float32Array(3*i.count);r.setAttribute("color",new Hi(a,3)),this.add(new Ma(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");Qv.copy(this.light.color),eg.copy(this.light.groundColor);for(let e=0,n=t.count;e<n;e++){const r=e<n/2?Qv:eg;t.setXYZ(e,r.r,r.g,r.b)}t.needsUpdate=!0}e.lookAt(Jv.setFromMatrixPosition(this.light.matrixWorld).negate())}}class ng extends Sh{constructor(e=10,t=10,n=4473924,r=8947848){n=new lr(n),r=new lr(r);const i=t/2,a=e/t,o=e/2,s=[],l=[];for(let d=0,h=0,f=-o;d<=t;d++,f+=a){s.push(-o,0,f,o,0,f),s.push(f,0,-o,f,0,o);const e=d===i?n:r;e.toArray(l,h),h+=3,e.toArray(l,h),h+=3,e.toArray(l,h),h+=3,e.toArray(l,h),h+=3}const c=new oa;c.setAttribute("position",new Ki(s,3)),c.setAttribute("color",new Ki(l,3));const u=new ph({vertexColors:!0,toneMapped:!1});super(c,u),this.type="GridHelper"}}class rg extends Sh{constructor(e=10,t=16,n=8,r=64,i=4473924,a=8947848){i=new lr(i),a=new lr(a);const o=[],s=[];for(let u=0;u<=t;u++){const n=u/t*(2*Math.PI),r=Math.sin(n)*e,l=Math.cos(n)*e;o.push(0,0,0),o.push(r,0,l);const c=1&u?i:a;s.push(c.r,c.g,c.b),s.push(c.r,c.g,c.b)}for(let u=0;u<=n;u++){const t=1&u?i:a,l=e-e/n*u;for(let e=0;e<r;e++){let n=e/r*(2*Math.PI),i=Math.sin(n)*l,a=Math.cos(n)*l;o.push(i,0,a),s.push(t.r,t.g,t.b),n=(e+1)/r*(2*Math.PI),i=Math.sin(n)*l,a=Math.cos(n)*l,o.push(i,0,a),s.push(t.r,t.g,t.b)}}const l=new oa;l.setAttribute("position",new Ki(o,3)),l.setAttribute("color",new Ki(s,3));const c=new ph({vertexColors:!0,toneMapped:!1});super(l,c),this.type="PolarGridHelper"}}const ig=new Sr,ag=new Sr,og=new Sr;class sg extends Ei{constructor(e,t,n){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===t&&(t=1);let r=new oa;r.setAttribute("position",new Ki([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const i=new ph({fog:!1,toneMapped:!1});this.lightPlane=new bh(r,i),this.add(this.lightPlane),r=new oa,r.setAttribute("position",new Ki([0,0,0,0,0,1],3)),this.targetLine=new bh(r,i),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){ig.setFromMatrixPosition(this.light.matrixWorld),ag.setFromMatrixPosition(this.light.target.matrixWorld),og.subVectors(ag,ig),this.lightPlane.lookAt(ag),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(ag),this.targetLine.scale.z=og.length()}}const lg=new Sr,cg=new Oa;class ug extends Sh{constructor(e){const t=new oa,n=new ph({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],i=[],a={};function o(e,t){s(e),s(t)}function s(e){r.push(0,0,0),i.push(0,0,0),void 0===a[e]&&(a[e]=[]),a[e].push(r.length/3-1)}o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4"),t.setAttribute("position",new Ki(r,3)),t.setAttribute("color",new Ki(i,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const l=new lr(16755200),c=new lr(16711680),u=new lr(43775),d=new lr(16777215),h=new lr(3355443);this.setColors(l,c,u,d,h)}setColors(e,t,n,r,i){const a=this.geometry,o=a.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,t.r,t.g,t.b),o.setXYZ(25,t.r,t.g,t.b),o.setXYZ(26,t.r,t.g,t.b),o.setXYZ(27,t.r,t.g,t.b),o.setXYZ(28,t.r,t.g,t.b),o.setXYZ(29,t.r,t.g,t.b),o.setXYZ(30,t.r,t.g,t.b),o.setXYZ(31,t.r,t.g,t.b),o.setXYZ(32,n.r,n.g,n.b),o.setXYZ(33,n.r,n.g,n.b),o.setXYZ(34,n.r,n.g,n.b),o.setXYZ(35,n.r,n.g,n.b),o.setXYZ(36,n.r,n.g,n.b),o.setXYZ(37,n.r,n.g,n.b),o.setXYZ(38,r.r,r.g,r.b),o.setXYZ(39,r.r,r.g,r.b),o.setXYZ(40,i.r,i.g,i.b),o.setXYZ(41,i.r,i.g,i.b),o.setXYZ(42,i.r,i.g,i.b),o.setXYZ(43,i.r,i.g,i.b),o.setXYZ(44,i.r,i.g,i.b),o.setXYZ(45,i.r,i.g,i.b),o.setXYZ(46,i.r,i.g,i.b),o.setXYZ(47,i.r,i.g,i.b),o.setXYZ(48,i.r,i.g,i.b),o.setXYZ(49,i.r,i.g,i.b),o.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,n=1,r=1;cg.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),dg("c",t,e,cg,0,0,-1),dg("t",t,e,cg,0,0,1),dg("n1",t,e,cg,-n,-r,-1),dg("n2",t,e,cg,n,-r,-1),dg("n3",t,e,cg,-n,r,-1),dg("n4",t,e,cg,n,r,-1),dg("f1",t,e,cg,-n,-r,1),dg("f2",t,e,cg,n,-r,1),dg("f3",t,e,cg,-n,r,1),dg("f4",t,e,cg,n,r,1),dg("u1",t,e,cg,.7*n,1.1*r,-1),dg("u2",t,e,cg,.7*-n,1.1*r,-1),dg("u3",t,e,cg,0,2*r,-1),dg("cf1",t,e,cg,-n,0,1),dg("cf2",t,e,cg,n,0,1),dg("cf3",t,e,cg,0,-r,1),dg("cf4",t,e,cg,0,r,1),dg("cn1",t,e,cg,-n,0,-1),dg("cn2",t,e,cg,n,0,-1),dg("cn3",t,e,cg,0,-r,-1),dg("cn4",t,e,cg,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function dg(e,t,n,r,i,a,o){lg.set(i,a,o).unproject(r);const s=t[e];if(void 0!==s){const e=n.getAttribute("position");for(let t=0,n=s.length;t<n;t++)e.setXYZ(s[t],lg.x,lg.y,lg.z)}}const hg=new Tr;class fg extends Sh{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new oa;i.setIndex(new Hi(n,1)),i.setAttribute("position",new Hi(r,3)),super(i,new ph({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&hg.setFromObject(this.object),hg.isEmpty())return;const t=hg.min,n=hg.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}}class pg extends Sh{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],i=new oa;i.setIndex(new Hi(n,1)),i.setAttribute("position",new Ki(r,3)),super(i,new ph({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}}class mg extends bh{constructor(e,t=1,n=16776960){const r=n,i=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new oa;a.setAttribute("position",new Ki(i,3)),a.computeBoundingSphere(),super(a,new ph({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],s=new oa;s.setAttribute("position",new Ki(o,3)),s.computeBoundingSphere(),this.add(new Ma(s,new Vi({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}}const vg=new Sr;let gg,_g;class yg extends Ei{constructor(e=new Sr(0,0,1),t=new Sr(0,0,0),n=1,r=16776960,i=.2*n,a=.2*i){super(),this.type="ArrowHelper",void 0===gg&&(gg=new oa,gg.setAttribute("position",new Ki([0,0,0,0,1,0],3)),_g=new mf(0,.5,1,5,1),_g.translate(0,-.5,0)),this.position.copy(t),this.line=new bh(gg,new ph({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ma(_g,new Vi({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{vg.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(vg,t)}}setLength(e,t=.2*e,n=.2*t){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}}class bg extends Sh{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new oa;r.setAttribute("position",new Ki(t,3)),r.setAttribute("color",new Ki(n,3));const i=new ph({vertexColors:!0,toneMapped:!1});super(r,i),this.type="AxesHelper"}setColors(e,t,n){const r=new lr,i=this.geometry.attributes.color.array;return r.set(e),r.toArray(i,0),r.toArray(i,3),r.set(t),r.toArray(i,6),r.toArray(i,9),r.set(n),r.toArray(i,12),r.toArray(i,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class xg{constructor(){this.type="ShapePath",this.color=new lr,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new df,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}bezierCurveTo(e,t,n,r,i,a){return this.currentPath.bezierCurveTo(e,t,n,r,i,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e,t){function n(e){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n],i=new Mf;i.curves=r.curves,t.push(i)}return t}function r(e,t){const n=t.length;let r=!1;for(let i=n-1,a=0;a<n;i=a++){let n=t[i],o=t[a],s=o.x-n.x,l=o.y-n.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(n=t[a],s=-s,o=t[i],l=-l),e.y<n.y||e.y>o.y)continue;if(e.y===n.y){if(e.x===n.x)return!0}else{const t=l*(e.x-n.x)-s*(e.y-n.y);if(0===t)return!0;if(t<0)continue;r=!r}}else{if(e.y!==n.y)continue;if(o.x<=e.x&&e.x<=n.x||n.x<=e.x&&e.x<=o.x)return!0}}return r}const i=rp.isClockWise,a=this.subPaths;if(0===a.length)return[];if(!0===t)return n(a);let o,s,l;const c=[];if(1===a.length)return s=a[0],l=new Mf,l.curves=s.curves,c.push(l),c;let u=!i(a[0].getPoints());u=e?!u:u;const d=[],h=[];let f,p,m=[],v=0;h[v]=void 0,m[v]=[];for(let g=0,_=a.length;g<_;g++)s=a[g],f=s.getPoints(),o=i(f),o=e?!o:o,o?(!u&&h[v]&&v++,h[v]={s:new Mf,p:f},h[v].s.curves=s.curves,u&&v++,m[v]=[]):m[v].push({h:s,p:f[0]});if(!h[0])return n(a);if(h.length>1){let e=!1,t=0;for(let n=0,r=h.length;n<r;n++)d[n]=[];for(let n=0,i=h.length;n<i;n++){const i=m[n];for(let a=0;a<i.length;a++){const o=i[a];let s=!0;for(let i=0;i<h.length;i++)r(o.p,h[i].p)&&(n!==i&&t++,s?(s=!1,d[i].push(o)):e=!0);s&&d[n].push(o)}}t>0&&!1===e&&(m=d)}for(let g=0,_=h.length;g<_;g++){l=h[g].s,c.push(l),p=m[g];for(let e=0,t=p.length;e<t;e++)l.holes.push(p[e].h)}return c}}const wg=Sg();function Sg(){const e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const e=l-127;e<-27?(r[l]=0,r[256|l]=32768,i[l]=24,i[256|l]=24):e<-14?(r[l]=1024>>-e-14,r[256|l]=1024>>-e-14|32768,i[l]=-e-1,i[256|l]=-e-1):e<=15?(r[l]=e+15<<10,r[256|l]=e+15<<10|32768,i[l]=13,i[256|l]=13):e<128?(r[l]=31744,r[256|l]=64512,i[l]=24,i[256|l]=24):(r[l]=31744,r[256|l]=64512,i[l]=13,i[256|l]=13)}const a=new Uint32Array(2048),o=new Uint32Array(64),s=new Uint32Array(64);for(let l=1;l<1024;++l){let e=l<<13,t=0;while(0===(8388608&e))e<<=1,t-=8388608;e&=-8388609,t+=947912704,a[l]=e|t}for(let l=1024;l<2048;++l)a[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)32!==l&&(s[l]=1024);return{floatView:t,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:a,exponentTable:o,offsetTable:s}}function Mg(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=Mn(e,-65504,65504),wg.floatView[0]=e;const t=wg.uint32View[0],n=t>>23&511;return wg.baseTable[n]+((8388607&t)>>wg.shiftTable[n])}function Eg(e){const t=e>>10;return wg.uint32View[0]=wg.mantissaTable[wg.offsetTable[t]+(1023&e)]+wg.exponentTable[t],wg.floatView[0]}var Tg=Object.freeze({__proto__:null,toHalfFloat:Mg,fromHalfFloat:Eg});class Ag extends oa{constructor(){console.error("THREE.ParametricGeometry has been moved to /examples/jsm/geometries/ParametricGeometry.js"),super()}}class Cg extends oa{constructor(){console.error("THREE.TextGeometry has been moved to /examples/jsm/geometries/TextGeometry.js"),super()}}function kg(){console.error("THREE.FontLoader has been moved to /examples/jsm/loaders/FontLoader.js")}function Rg(){console.error("THREE.Font has been moved to /examples/jsm/loaders/FontLoader.js")}function Lg(){console.error("THREE.ImmediateRenderObject has been removed.")}class Ig extends vr{constructor(e,t,n){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),super(e,t,n),this.samples=4}}class Pg extends gr{constructor(e,t,n,r){console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),super(e,t,n,r)}}class Dg extends yr{constructor(e,t,n,r){console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),super(e,t,n,r)}}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:a}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=a);Symbol.toStringTag;const Og={type:"change"},Ng={type:"start"},Fg={type:"end"};class Bg extends _n{constructor(e,t){super(),void 0===t&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new Sr,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:o.ROTATE,MIDDLE:o.DOLLY,RIGHT:o.PAN},this.touches={ONE:s.ROTATE,TWO:s.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return l.phi},this.getAzimuthalAngle=function(){return l.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(e){e.addEventListener("keydown",ie),this._domElementKeyEvents=e},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(Og),n.update(),i=r.NONE},this.update=function(){const t=new Sr,o=(new wr).setFromUnitVectors(e.up,new Sr(0,1,0)),s=o.clone().invert(),f=new Sr,p=new wr,m=2*Math.PI;return function(){const e=n.object.position;t.copy(e).sub(n.target),t.applyQuaternion(o),l.setFromVector3(t),n.autoRotate&&i===r.NONE&&T(M()),n.enableDamping?(l.theta+=c.theta*n.dampingFactor,l.phi+=c.phi*n.dampingFactor):(l.theta+=c.theta,l.phi+=c.phi);let v=n.minAzimuthAngle,g=n.maxAzimuthAngle;return isFinite(v)&&isFinite(g)&&(v<-Math.PI?v+=m:v>Math.PI&&(v-=m),g<-Math.PI?g+=m:g>Math.PI&&(g-=m),l.theta=v<=g?Math.max(v,Math.min(g,l.theta)):l.theta>(v+g)/2?Math.max(v,l.theta):Math.min(g,l.theta)),l.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,l.phi)),l.makeSafe(),l.radius*=u,l.radius=Math.max(n.minDistance,Math.min(n.maxDistance,l.radius)),!0===n.enableDamping?n.target.addScaledVector(d,n.dampingFactor):n.target.add(d),t.setFromSpherical(l),t.applyQuaternion(s),e.copy(n.target).add(t),n.object.lookAt(n.target),!0===n.enableDamping?(c.theta*=1-n.dampingFactor,c.phi*=1-n.dampingFactor,d.multiplyScalar(1-n.dampingFactor)):(c.set(0,0,0),d.set(0,0,0)),u=1,!!(h||f.distanceToSquared(n.object.position)>a||8*(1-p.dot(n.object.quaternion))>a)&&(n.dispatchEvent(Og),f.copy(n.object.position),p.copy(n.object.quaternion),h=!1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",se),n.domElement.removeEventListener("pointerdown",K),n.domElement.removeEventListener("pointercancel",ee),n.domElement.removeEventListener("wheel",re),n.domElement.removeEventListener("pointermove",J),n.domElement.removeEventListener("pointerup",Q),null!==n._domElementKeyEvents&&n._domElementKeyEvents.removeEventListener("keydown",ie)};const n=this,r={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let i=r.NONE;const a=1e-6,l=new Fv,c=new Fv;let u=1;const d=new Sr;let h=!1;const f=new Yn,p=new Yn,m=new Yn,v=new Yn,g=new Yn,_=new Yn,y=new Yn,b=new Yn,x=new Yn,w=[],S={};function M(){return 2*Math.PI/60/60*n.autoRotateSpeed}function E(){return Math.pow(.95,n.zoomSpeed)}function T(e){c.theta-=e}function A(e){c.phi-=e}const C=function(){const e=new Sr;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),d.add(e)}}(),k=function(){const e=new Sr;return function(t,r){!0===n.screenSpacePanning?e.setFromMatrixColumn(r,1):(e.setFromMatrixColumn(r,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),d.add(e)}}(),R=function(){const e=new Sr;return function(t,r){const i=n.domElement;if(n.object.isPerspectiveCamera){const a=n.object.position;e.copy(a).sub(n.target);let o=e.length();o*=Math.tan(n.object.fov/2*Math.PI/180),C(2*t*o/i.clientHeight,n.object.matrix),k(2*r*o/i.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(C(t*(n.object.right-n.object.left)/n.object.zoom/i.clientWidth,n.object.matrix),k(r*(n.object.top-n.object.bottom)/n.object.zoom/i.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function L(e){n.object.isPerspectiveCamera?u/=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*e)),n.object.updateProjectionMatrix(),h=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function I(e){n.object.isPerspectiveCamera?u*=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/e)),n.object.updateProjectionMatrix(),h=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function P(e){f.set(e.clientX,e.clientY)}function D(e){y.set(e.clientX,e.clientY)}function O(e){v.set(e.clientX,e.clientY)}function N(e){p.set(e.clientX,e.clientY),m.subVectors(p,f).multiplyScalar(n.rotateSpeed);const t=n.domElement;T(2*Math.PI*m.x/t.clientHeight),A(2*Math.PI*m.y/t.clientHeight),f.copy(p),n.update()}function F(e){b.set(e.clientX,e.clientY),x.subVectors(b,y),x.y>0?L(E()):x.y<0&&I(E()),y.copy(b),n.update()}function B(e){g.set(e.clientX,e.clientY),_.subVectors(g,v).multiplyScalar(n.panSpeed),R(_.x,_.y),v.copy(g),n.update()}function V(e){e.deltaY<0?I(E()):e.deltaY>0&&L(E()),n.update()}function U(e){let t=!1;switch(e.code){case n.keys.UP:R(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:R(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:R(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:R(-n.keyPanSpeed,0),t=!0;break}t&&(e.preventDefault(),n.update())}function z(){if(1===w.length)f.set(w[0].pageX,w[0].pageY);else{const e=.5*(w[0].pageX+w[1].pageX),t=.5*(w[0].pageY+w[1].pageY);f.set(e,t)}}function H(){if(1===w.length)v.set(w[0].pageX,w[0].pageY);else{const e=.5*(w[0].pageX+w[1].pageX),t=.5*(w[0].pageY+w[1].pageY);v.set(e,t)}}function W(){const e=w[0].pageX-w[1].pageX,t=w[0].pageY-w[1].pageY,n=Math.sqrt(e*e+t*t);y.set(0,n)}function j(){n.enableZoom&&W(),n.enablePan&&H()}function G(){n.enableZoom&&W(),n.enableRotate&&z()}function Y(e){if(1==w.length)p.set(e.pageX,e.pageY);else{const t=de(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);p.set(n,r)}m.subVectors(p,f).multiplyScalar(n.rotateSpeed);const t=n.domElement;T(2*Math.PI*m.x/t.clientHeight),A(2*Math.PI*m.y/t.clientHeight),f.copy(p)}function $(e){if(1===w.length)g.set(e.pageX,e.pageY);else{const t=de(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);g.set(n,r)}_.subVectors(g,v).multiplyScalar(n.panSpeed),R(_.x,_.y),v.copy(g)}function q(e){const t=de(e),r=e.pageX-t.x,i=e.pageY-t.y,a=Math.sqrt(r*r+i*i);b.set(0,a),x.set(0,Math.pow(b.y/y.y,n.zoomSpeed)),L(x.y),y.copy(b)}function X(e){n.enableZoom&&q(e),n.enablePan&&$(e)}function Z(e){n.enableZoom&&q(e),n.enableRotate&&Y(e)}function K(e){!1!==n.enabled&&(0===w.length&&(n.domElement.setPointerCapture(e.pointerId),n.domElement.addEventListener("pointermove",J),n.domElement.addEventListener("pointerup",Q)),le(e),"touch"===e.pointerType?ae(e):te(e))}function J(e){!1!==n.enabled&&("touch"===e.pointerType?oe(e):ne(e))}function Q(e){ce(e),0===w.length&&(n.domElement.releasePointerCapture(e.pointerId),n.domElement.removeEventListener("pointermove",J),n.domElement.removeEventListener("pointerup",Q)),n.dispatchEvent(Fg),i=r.NONE}function ee(e){ce(e)}function te(e){let t;switch(e.button){case 0:t=n.mouseButtons.LEFT;break;case 1:t=n.mouseButtons.MIDDLE;break;case 2:t=n.mouseButtons.RIGHT;break;default:t=-1}switch(t){case o.DOLLY:if(!1===n.enableZoom)return;D(e),i=r.DOLLY;break;case o.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;O(e),i=r.PAN}else{if(!1===n.enableRotate)return;P(e),i=r.ROTATE}break;case o.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enableRotate)return;P(e),i=r.ROTATE}else{if(!1===n.enablePan)return;O(e),i=r.PAN}break;default:i=r.NONE}i!==r.NONE&&n.dispatchEvent(Ng)}function ne(e){switch(i){case r.ROTATE:if(!1===n.enableRotate)return;N(e);break;case r.DOLLY:if(!1===n.enableZoom)return;F(e);break;case r.PAN:if(!1===n.enablePan)return;B(e);break}}function re(e){!1!==n.enabled&&!1!==n.enableZoom&&i===r.NONE&&(e.preventDefault(),n.dispatchEvent(Ng),V(e),n.dispatchEvent(Fg))}function ie(e){!1!==n.enabled&&!1!==n.enablePan&&U(e)}function ae(e){switch(ue(e),w.length){case 1:switch(n.touches.ONE){case s.ROTATE:if(!1===n.enableRotate)return;z(),i=r.TOUCH_ROTATE;break;case s.PAN:if(!1===n.enablePan)return;H(),i=r.TOUCH_PAN;break;default:i=r.NONE}break;case 2:switch(n.touches.TWO){case s.DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;j(),i=r.TOUCH_DOLLY_PAN;break;case s.DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;G(),i=r.TOUCH_DOLLY_ROTATE;break;default:i=r.NONE}break;default:i=r.NONE}i!==r.NONE&&n.dispatchEvent(Ng)}function oe(e){switch(ue(e),i){case r.TOUCH_ROTATE:if(!1===n.enableRotate)return;Y(e),n.update();break;case r.TOUCH_PAN:if(!1===n.enablePan)return;$(e),n.update();break;case r.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;X(e),n.update();break;case r.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;Z(e),n.update();break;default:i=r.NONE}}function se(e){!1!==n.enabled&&e.preventDefault()}function le(e){w.push(e)}function ce(e){delete S[e.pointerId];for(let t=0;t<w.length;t++)if(w[t].pointerId==e.pointerId)return void w.splice(t,1)}function ue(e){let t=S[e.pointerId];void 0===t&&(t=new Yn,S[e.pointerId]=t),t.set(e.pageX,e.pageY)}function de(e){const t=e.pointerId===w[0].pointerId?w[1]:w[0];return S[t.pointerId]}n.domElement.addEventListener("contextmenu",se),n.domElement.addEventListener("pointerdown",K),n.domElement.addEventListener("pointercancel",ee),n.domElement.addEventListener("wheel",re,{passive:!1}),this.update()}}var Vg=function(){var e=0,t=document.createElement("div");function n(e){return t.appendChild(e.dom),e}function r(n){for(var r=0;r<t.children.length;r++)t.children[r].style.display=r===n?"block":"none";e=n}t.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",t.addEventListener("click",(function(n){n.preventDefault(),r(++e%t.children.length)}),!1);var i=(performance||Date).now(),a=i,o=0,s=n(new Vg.Panel("FPS","#0ff","#002")),l=n(new Vg.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var c=n(new Vg.Panel("MB","#f08","#201"));return r(0),{REVISION:16,dom:t,addPanel:n,showPanel:r,begin:function(){i=(performance||Date).now()},end:function(){o++;var e=(performance||Date).now();if(l.update(e-i,200),e>=a+1e3&&(s.update(1e3*o/(e-a),100),a=e,o=0,c)){var t=performance.memory;c.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){i=this.end()},domElement:t,setMode:r}};Vg.Panel=function(e,t,n){var r=1/0,i=0,a=Math.round,o=a(window.devicePixelRatio||1),s=80*o,l=48*o,c=3*o,u=2*o,d=3*o,h=15*o,f=74*o,p=30*o,m=document.createElement("canvas");m.width=s,m.height=l,m.style.cssText="width:80px;height:48px";var v=m.getContext("2d");return v.font="bold "+9*o+"px Helvetica,Arial,sans-serif",v.textBaseline="top",v.fillStyle=n,v.fillRect(0,0,s,l),v.fillStyle=t,v.fillText(e,c,u),v.fillRect(d,h,f,p),v.fillStyle=n,v.globalAlpha=.9,v.fillRect(d,h,f,p),{dom:m,update:function(l,g){r=Math.min(r,l),i=Math.max(i,l),v.fillStyle=n,v.globalAlpha=1,v.fillRect(0,0,s,h),v.fillStyle=t,v.fillText(a(l)+" "+e+" ("+a(r)+"-"+a(i)+")",c,u),v.drawImage(m,d+o,h,f-o,p,d,h,f-o,p),v.fillRect(d+f-o,h,o,p),v.fillStyle=n,v.globalAlpha=.9,v.fillRect(d+f-o,h,o,a((1-l/g)*p))}}};
/*!
fflate - fast JavaScript compression/decompression
<https://101arrowz.github.io/fflate>
Licensed under MIT. https://github.com/101arrowz/fflate/blob/master/LICENSE
version 0.6.9
*/
var Ug={},zg=function(e){return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},Hg=function(e){return new Worker(e)};try{URL.revokeObjectURL(zg(""))}catch(Aw){zg=function(e){return"data:application/javascript;charset=UTF-8,"+encodeURI(e)},Hg=function(e){return new Worker(e,{type:"module"})}}var Wg=function(e,t,n,r,i){var a=Hg(Ug[t]||(Ug[t]=zg(e)));return a.onerror=function(e){return i(e.error,null)},a.onmessage=function(e){return i(null,e.data)},a.postMessage(n,r),a},jg=Uint8Array,Gg=Uint16Array,Yg=Uint32Array,$g=new jg([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),qg=new jg([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Xg=new jg([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Zg=function(e,t){for(var n=new Gg(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new Yg(n[30]);for(r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return[n,i]},Kg=Zg($g,2),Jg=Kg[0],Qg=Kg[1];Jg[28]=258,Qg[258]=28;for(var e_=Zg(qg,0),t_=e_[0],n_=e_[1],r_=new Gg(32768),i_=0;i_<32768;++i_){var a_=(43690&i_)>>>1|(21845&i_)<<1;a_=(52428&a_)>>>2|(13107&a_)<<2,a_=(61680&a_)>>>4|(3855&a_)<<4,r_[i_]=((65280&a_)>>>8|(255&a_)<<8)>>>1}var o_=function(e,t,n){for(var r=e.length,i=0,a=new Gg(t);i<r;++i)++a[e[i]-1];var o,s=new Gg(t);for(i=0;i<t;++i)s[i]=s[i-1]+a[i-1]<<1;if(n){o=new Gg(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var c=i<<4|e[i],u=t-e[i],d=s[e[i]-1]++<<u,h=d|(1<<u)-1;d<=h;++d)o[r_[d]>>>l]=c}else for(o=new Gg(r),i=0;i<r;++i)e[i]&&(o[i]=r_[s[e[i]-1]++]>>>15-e[i]);return o},s_=new jg(288);for(i_=0;i_<144;++i_)s_[i_]=8;for(i_=144;i_<256;++i_)s_[i_]=9;for(i_=256;i_<280;++i_)s_[i_]=7;for(i_=280;i_<288;++i_)s_[i_]=8;var l_=new jg(32);for(i_=0;i_<32;++i_)l_[i_]=5;var c_=o_(s_,9,0),u_=o_(s_,9,1),d_=o_(l_,5,0),h_=o_(l_,5,1),f_=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},p_=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},m_=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},v_=function(e){return(e/8|0)+(7&e&&1)},g_=function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var r=new(e instanceof Gg?Gg:e instanceof Yg?Yg:jg)(n-t);return r.set(e.subarray(t,n)),r},__=function(e,t,n){var r=e.length;if(!r||n&&!n.l&&r<5)return t||new jg(0);var i=!t||n,a=!n||n.i;n||(n={}),t||(t=new jg(3*r));var o=function(e){var n=t.length;if(e>n){var r=new jg(Math.max(2*n,e));r.set(t),t=r}},s=n.f||0,l=n.p||0,c=n.b||0,u=n.l,d=n.d,h=n.m,f=n.n,p=8*r;do{if(!u){n.f=s=p_(e,l,1);var m=p_(e,l+1,3);if(l+=3,!m){var v=v_(l)+4,g=e[v-4]|e[v-3]<<8,_=v+g;if(_>r){if(a)throw"unexpected EOF";break}i&&o(c+g),t.set(e.subarray(v,_),c),n.b=c+=g,n.p=l=8*_;continue}if(1==m)u=u_,d=h_,h=9,f=5;else{if(2!=m)throw"invalid block type";var y=p_(e,l,31)+257,b=p_(e,l+10,15)+4,x=y+p_(e,l+5,31)+1;l+=14;for(var w=new jg(x),S=new jg(19),M=0;M<b;++M)S[Xg[M]]=p_(e,l+3*M,7);l+=3*b;var E=f_(S),T=(1<<E)-1,A=o_(S,E,1);for(M=0;M<x;){var C=A[p_(e,l,T)];l+=15&C;v=C>>>4;if(v<16)w[M++]=v;else{var k=0,R=0;16==v?(R=3+p_(e,l,3),l+=2,k=w[M-1]):17==v?(R=3+p_(e,l,7),l+=3):18==v&&(R=11+p_(e,l,127),l+=7);while(R--)w[M++]=k}}var L=w.subarray(0,y),I=w.subarray(y);h=f_(L),f=f_(I),u=o_(L,h,1),d=o_(I,f,1)}if(l>p){if(a)throw"unexpected EOF";break}}i&&o(c+131072);for(var P=(1<<h)-1,D=(1<<f)-1,O=l;;O=l){k=u[m_(e,l)&P];var N=k>>>4;if(l+=15&k,l>p){if(a)throw"unexpected EOF";break}if(!k)throw"invalid length/literal";if(N<256)t[c++]=N;else{if(256==N){O=l,u=null;break}var F=N-254;if(N>264){M=N-257;var B=$g[M];F=p_(e,l,(1<<B)-1)+Jg[M],l+=B}var V=d[m_(e,l)&D],U=V>>>4;if(!V)throw"invalid distance";l+=15&V;I=t_[U];if(U>3){B=qg[U];I+=m_(e,l)&(1<<B)-1,l+=B}if(l>p){if(a)throw"unexpected EOF";break}i&&o(c+131072);for(var z=c+F;c<z;c+=4)t[c]=t[c-I],t[c+1]=t[c+1-I],t[c+2]=t[c+2-I],t[c+3]=t[c+3-I];c=z}}n.l=u,n.p=O,n.b=c,u&&(s=1,n.m=h,n.d=d,n.n=f)}while(!s);return c==t.length?t:g_(t,0,c)},y_=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8},b_=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},x_=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,a=n.slice();if(!i)return[C_,0];if(1==i){var o=new jg(n[0].s+1);return o[n[0].s]=1,[o,1]}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001});var s=n[0],l=n[1],c=0,u=1,d=2;n[0]={s:-1,f:s.f+l.f,l:s,r:l};while(u!=i-1)s=n[n[c].f<n[d].f?c++:d++],l=n[c!=u&&n[c].f<n[d].f?c++:d++],n[u++]={s:-1,f:s.f+l.f,l:s,r:l};var h=a[0].s;for(r=1;r<i;++r)a[r].s>h&&(h=a[r].s);var f=new Gg(h+1),p=w_(n[u-1],f,0);if(p>t){r=0;var m=0,v=p-t,g=1<<v;for(a.sort((function(e,t){return f[t.s]-f[e.s]||e.f-t.f}));r<i;++r){var _=a[r].s;if(!(f[_]>t))break;m+=g-(1<<p-f[_]),f[_]=t}m>>>=v;while(m>0){var y=a[r].s;f[y]<t?m-=1<<t-f[y]++-1:++r}for(;r>=0&&m;--r){var b=a[r].s;f[b]==t&&(--f[b],++m)}p=t}return[new jg(f),p]},w_=function(e,t,n){return-1==e.s?Math.max(w_(e.l,t,n+1),w_(e.r,t,n+1)):t[e.s]=n},S_=function(e){var t=e.length;while(t&&!e[--t]);for(var n=new Gg(++t),r=0,i=e[0],a=1,o=function(e){n[r++]=e},s=1;s<=t;++s)if(e[s]==i&&s!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}while(a--)o(i);a=1,i=e[s]}return[n.subarray(0,r),t]},M_=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},E_=function(e,t,n){var r=n.length,i=v_(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var a=0;a<r;++a)e[i+a+4]=n[a];return 8*(i+4+r)},T_=function(e,t,n,r,i,a,o,s,l,c,u){y_(t,u++,n),++i[256];for(var d=x_(i,15),h=d[0],f=d[1],p=x_(a,15),m=p[0],v=p[1],g=S_(h),_=g[0],y=g[1],b=S_(m),x=b[0],w=b[1],S=new Gg(19),M=0;M<_.length;++M)S[31&_[M]]++;for(M=0;M<x.length;++M)S[31&x[M]]++;for(var E=x_(S,7),T=E[0],A=E[1],C=19;C>4&&!T[Xg[C-1]];--C);var k,R,L,I,P=c+5<<3,D=M_(i,s_)+M_(a,l_)+o,O=M_(i,h)+M_(a,m)+o+14+3*C+M_(S,T)+(2*S[16]+3*S[17]+7*S[18]);if(P<=D&&P<=O)return E_(t,u,e.subarray(l,l+c));if(y_(t,u,1+(O<D)),u+=2,O<D){k=o_(h,f,0),R=h,L=o_(m,v,0),I=m;var N=o_(T,A,0);y_(t,u,y-257),y_(t,u+5,w-1),y_(t,u+10,C-4),u+=14;for(M=0;M<C;++M)y_(t,u+3*M,T[Xg[M]]);u+=3*C;for(var F=[_,x],B=0;B<2;++B){var V=F[B];for(M=0;M<V.length;++M){var U=31&V[M];y_(t,u,N[U]),u+=T[U],U>15&&(y_(t,u,V[M]>>>5&127),u+=V[M]>>>12)}}}else k=c_,R=s_,L=d_,I=l_;for(M=0;M<s;++M)if(r[M]>255){U=r[M]>>>18&31;b_(t,u,k[U+257]),u+=R[U+257],U>7&&(y_(t,u,r[M]>>>23&31),u+=$g[U]);var z=31&r[M];b_(t,u,L[z]),u+=I[z],z>3&&(b_(t,u,r[M]>>>5&8191),u+=qg[z])}else b_(t,u,k[r[M]]),u+=R[r[M]];return b_(t,u,k[256]),u+R[256]},A_=new Yg([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),C_=new jg(0),k_=function(e,t,n,r,i,a){var o=e.length,s=new jg(r+o+5*(1+Math.ceil(o/7e3))+i),l=s.subarray(r,s.length-i),c=0;if(!t||o<8)for(var u=0;u<=o;u+=65535){var d=u+65535;d<o?c=E_(l,c,e.subarray(u,d)):(l[u]=a,c=E_(l,c,e.subarray(u,o)))}else{for(var h=A_[t-1],f=h>>>13,p=8191&h,m=(1<<n)-1,v=new Gg(32768),g=new Gg(m+1),_=Math.ceil(n/3),y=2*_,b=function(t){return(e[t]^e[t+1]<<_^e[t+2]<<y)&m},x=new Yg(25e3),w=new Gg(288),S=new Gg(32),M=0,E=0,T=(u=0,0),A=0,C=0;u<o;++u){var k=b(u),R=32767&u,L=g[k];if(v[R]=L,g[k]=R,A<=u){var I=o-u;if((M>7e3||T>24576)&&I>423){c=T_(e,l,0,x,w,S,E,T,C,u-C,c),T=M=E=0,C=u;for(var P=0;P<286;++P)w[P]=0;for(P=0;P<30;++P)S[P]=0}var D=2,O=0,N=p,F=R-L&32767;if(I>2&&k==b(u-F)){var B=Math.min(f,I)-1,V=Math.min(32767,u),U=Math.min(258,I);while(F<=V&&--N&&R!=L){if(e[u+D]==e[u+D-F]){for(var z=0;z<U&&e[u+z]==e[u+z-F];++z);if(z>D){if(D=z,O=F,z>B)break;var H=Math.min(F,z-2),W=0;for(P=0;P<H;++P){var j=u-F+P+32768&32767,G=v[j],Y=j-G+32768&32767;Y>W&&(W=Y,L=j)}}}R=L,L=v[R],F+=R-L+32768&32767}}if(O){x[T++]=268435456|Qg[D]<<18|n_[O];var $=31&Qg[D],q=31&n_[O];E+=$g[$]+qg[q],++w[257+$],++S[q],A=u+D,++M}else x[T++]=e[u],++w[e[u]]}}c=T_(e,l,a,x,w,S,E,T,C,u-C,c),!a&&7&c&&(c=E_(l,c+1,C_))}return g_(s,0,r+v_(c)+i)},R_=function(){for(var e=new Yg(256),t=0;t<256;++t){var n=t,r=9;while(--r)n=(1&n&&3988292384)^n>>>1;e[t]=n}return e}(),L_=function(){var e=-1;return{p:function(t){for(var n=e,r=0;r<t.length;++r)n=R_[255&n^t[r]]^n>>>8;e=n},d:function(){return~e}}},I_=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,a=n.length,o=0;o!=a;){for(var s=Math.min(o+2655,a);o<s;++o)i+=r+=n[o];r=(65535&r)+15*(r>>16),i=(65535&i)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(255&e)<<24|e>>>8<<16|(255&t)<<8|t>>>8}}},P_=function(e,t,n,r,i){return k_(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,r,!i)},D_=function(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n},O_=function(e,t,n){for(var r=e(),i=e.toString(),a=i.slice(i.indexOf("[")+1,i.lastIndexOf("]")).replace(/ /g,"").split(","),o=0;o<r.length;++o){var s=r[o],l=a[o];if("function"==typeof s){t+=";"+l+"=";var c=s.toString();if(s.prototype)if(-1!=c.indexOf("[native code]")){var u=c.indexOf(" ",8)+1;t+=c.slice(u,c.indexOf("(",u))}else for(var d in t+=c,s.prototype)t+=";"+l+".prototype."+d+"="+s.prototype[d].toString();else t+=c}else n[l]=s}return[t,n]},N_=[],F_=function(e){var t=[];for(var n in e)(e[n]instanceof jg||e[n]instanceof Gg||e[n]instanceof Yg)&&t.push((e[n]=new e[n].constructor(e[n])).buffer);return t},B_=function(e,t,n,r){var i;if(!N_[n]){for(var a="",o={},s=e.length-1,l=0;l<s;++l)i=O_(e[l],a,o),a=i[0],o=i[1];N_[n]=O_(e[s],a,o)}var c=D_({},N_[n][1]);return Wg(N_[n][0]+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+t.toString()+"}",n,c,F_(c),r)},V_=function(){return[jg,Gg,Yg,$g,qg,Xg,Jg,t_,u_,h_,r_,o_,f_,p_,m_,v_,g_,__,py,G_,Y_]},U_=function(){return[jg,Gg,Yg,$g,qg,Xg,Qg,n_,c_,s_,d_,l_,r_,A_,C_,o_,y_,b_,x_,w_,S_,M_,E_,T_,v_,g_,k_,P_,uy,G_]},z_=function(){return[ey,ry,Q_,L_,R_]},H_=function(){return[ty,ny]},W_=function(){return[iy,Q_,I_]},j_=function(){return[ay]},G_=function(e){return postMessage(e,[e.buffer])},Y_=function(e){return e&&e.size&&new jg(e.size)},$_=function(e,t,n,r,i,a){var o=B_(n,r,i,(function(e,t){o.terminate(),a(e,t)}));return o.postMessage([e,t],t.consume?[e.buffer]:[]),function(){o.terminate()}},q_=function(e){return e.ondata=function(e,t){return postMessage([e,t],[e.buffer])},function(t){return e.push(t.data[0],t.data[1])}},X_=function(e,t,n,r,i){var a,o=B_(e,r,i,(function(e,n){e?(o.terminate(),t.ondata.call(t,e)):(n[1]&&o.terminate(),t.ondata.call(t,e,n[0],n[1]))}));o.postMessage(n),t.push=function(e,n){if(a)throw"stream finished";if(!t.ondata)throw"no stream handler";o.postMessage([e,a=n],[e.buffer])},t.terminate=function(){o.terminate()}},Z_=function(e,t){return e[t]|e[t+1]<<8},K_=function(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0},J_=function(e,t){return K_(e,t)+4294967296*K_(e,t+4)},Q_=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},ey=function(e,t){var n=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:9==t.level?2:0,e[9]=3,0!=t.mtime&&Q_(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),n){e[3]=8;for(var r=0;r<=n.length;++r)e[r+10]=n.charCodeAt(r)}},ty=function(e){if(31!=e[0]||139!=e[1]||8!=e[2])throw"invalid gzip data";var t=e[3],n=10;4&t&&(n+=e[10]|2+(e[11]<<8));for(var r=(t>>3&1)+(t>>4&1);r>0;r-=!e[n++]);return n+(2&t)},ny=function(e){var t=e.length;return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0},ry=function(e){return 10+(e.filename&&e.filename.length+1||0)},iy=function(e,t){var n=t.level,r=0==n?0:n<6?1:9==n?3:2;e[0]=120,e[1]=r<<6|(r?32-2*r:1)},ay=function(e){if(8!=(15&e[0])||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(32&e[1])throw"invalid zlib data: preset dictionaries not supported"};function oy(e,t){return t||"function"!=typeof e||(t=e,e={}),this.ondata=t,e}var sy=function(){function e(e,t){t||"function"!=typeof e||(t=e,e={}),this.ondata=t,this.o=e||{}}return e.prototype.p=function(e,t){this.ondata(P_(e,this.o,0,0,!t),t)},e.prototype.push=function(e,t){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";this.d=t,this.p(e,t||!1)},e}(),ly=function(){function e(e,t){X_([U_,function(){return[q_,sy]}],this,oy.call(this,e,t),(function(e){var t=new sy(e.data);onmessage=q_(t)}),6)}return e}();function cy(e,t,n){if(n||(n=t,t={}),"function"!=typeof n)throw"no callback";return $_(e,t,[U_],(function(e){return G_(uy(e.data[0],e.data[1]))}),0,n)}function uy(e,t){return P_(e,t||{},0,0)}var dy=function(){function e(e){this.s={},this.p=new jg(0),this.ondata=e}return e.prototype.e=function(e){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";var t=this.p.length,n=new jg(t+e.length);n.set(this.p),n.set(e,t),this.p=n},e.prototype.c=function(e){this.d=this.s.i=e||!1;var t=this.s.b,n=__(this.p,this.o,this.s);this.ondata(g_(n,t,this.s.b),this.d),this.o=g_(n,this.s.b-32768),this.s.b=this.o.length,this.p=g_(this.p,this.s.p/8|0),this.s.p&=7},e.prototype.push=function(e,t){this.e(e),this.c(t)},e}(),hy=function(){function e(e){this.ondata=e,X_([V_,function(){return[q_,dy]}],this,0,(function(){var e=new dy;onmessage=q_(e)}),7)}return e}();function fy(e,t,n){if(n||(n=t,t={}),"function"!=typeof n)throw"no callback";return $_(e,t,[V_],(function(e){return G_(py(e.data[0],Y_(e.data[1])))}),1,n)}function py(e,t){return __(e,t)}var my=function(){function e(e,t){this.c=L_(),this.l=0,this.v=1,sy.call(this,e,t)}return e.prototype.push=function(e,t){sy.prototype.push.call(this,e,t)},e.prototype.p=function(e,t){this.c.p(e),this.l+=e.length;var n=P_(e,this.o,this.v&&ry(this.o),t&&8,!t);this.v&&(ey(n,this.o),this.v=0),t&&(Q_(n,n.length-8,this.c.d()),Q_(n,n.length-4,this.l)),this.ondata(n,t)},e}(),vy=function(){function e(e,t){X_([U_,z_,function(){return[q_,sy,my]}],this,oy.call(this,e,t),(function(e){var t=new my(e.data);onmessage=q_(t)}),8)}return e}();function gy(e,t,n){if(n||(n=t,t={}),"function"!=typeof n)throw"no callback";return $_(e,t,[U_,z_,function(){return[_y]}],(function(e){return G_(_y(e.data[0],e.data[1]))}),2,n)}function _y(e,t){t||(t={});var n=L_(),r=e.length;n.p(e);var i=P_(e,t,ry(t),8),a=i.length;return ey(i,t),Q_(i,a-8,n.d()),Q_(i,a-4,r),i}var yy=function(){function e(e){this.v=1,dy.call(this,e)}return e.prototype.push=function(e,t){if(dy.prototype.e.call(this,e),this.v){var n=this.p.length>3?ty(this.p):4;if(n>=this.p.length&&!t)return;this.p=this.p.subarray(n),this.v=0}if(t){if(this.p.length<8)throw"invalid gzip stream";this.p=this.p.subarray(0,-8)}dy.prototype.c.call(this,t)},e}(),by=function(){function e(e){this.ondata=e,X_([V_,H_,function(){return[q_,dy,yy]}],this,0,(function(){var e=new yy;onmessage=q_(e)}),9)}return e}();function xy(e,t,n){if(n||(n=t,t={}),"function"!=typeof n)throw"no callback";return $_(e,t,[V_,H_,function(){return[wy]}],(function(e){return G_(wy(e.data[0]))}),3,n)}function wy(e,t){return __(e.subarray(ty(e),-8),t||new jg(ny(e)))}var Sy=function(){function e(e,t){this.c=I_(),this.v=1,sy.call(this,e,t)}return e.prototype.push=function(e,t){sy.prototype.push.call(this,e,t)},e.prototype.p=function(e,t){this.c.p(e);var n=P_(e,this.o,this.v&&2,t&&4,!t);this.v&&(iy(n,this.o),this.v=0),t&&Q_(n,n.length-4,this.c.d()),this.ondata(n,t)},e}(),My=function(){function e(e,t){X_([U_,W_,function(){return[q_,sy,Sy]}],this,oy.call(this,e,t),(function(e){var t=new Sy(e.data);onmessage=q_(t)}),10)}return e}();function Ey(e,t,n){if(n||(n=t,t={}),"function"!=typeof n)throw"no callback";return $_(e,t,[U_,W_,function(){return[Ty]}],(function(e){return G_(Ty(e.data[0],e.data[1]))}),4,n)}function Ty(e,t){t||(t={});var n=I_();n.p(e);var r=P_(e,t,2,4);return iy(r,t),Q_(r,r.length-4,n.d()),r}var Ay=function(){function e(e){this.v=1,dy.call(this,e)}return e.prototype.push=function(e,t){if(dy.prototype.e.call(this,e),this.v){if(this.p.length<2&&!t)return;this.p=this.p.subarray(2),this.v=0}if(t){if(this.p.length<4)throw"invalid zlib stream";this.p=this.p.subarray(0,-4)}dy.prototype.c.call(this,t)},e}(),Cy=function(){function e(e){this.ondata=e,X_([V_,j_,function(){return[q_,dy,Ay]}],this,0,(function(){var e=new Ay;onmessage=q_(e)}),11)}return e}();function ky(e,t,n){if(n||(n=t,t={}),"function"!=typeof n)throw"no callback";return $_(e,t,[V_,j_,function(){return[Ry]}],(function(e){return G_(Ry(e.data[0],Y_(e.data[1])))}),5,n)}function Ry(e,t){return __((ay(e),e.subarray(2,-4)),t)}var Ly=function(){function e(e){this.G=yy,this.I=dy,this.Z=Ay,this.ondata=e}return e.prototype.push=function(e,t){if(!this.ondata)throw"no stream handler";if(this.s)this.s.push(e,t);else{if(this.p&&this.p.length){var n=new jg(this.p.length+e.length);n.set(this.p),n.set(e,this.p.length)}else this.p=e;if(this.p.length>2){var r=this,i=function(){r.ondata.apply(r,arguments)};this.s=31==this.p[0]&&139==this.p[1]&&8==this.p[2]?new this.G(i):8!=(15&this.p[0])||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(i):new this.Z(i),this.s.push(this.p,t),this.p=null}}},e}(),Iy=function(){function e(e){this.G=by,this.I=hy,this.Z=Cy,this.ondata=e}return e.prototype.push=function(e,t){Ly.prototype.push.call(this,e,t)},e}();function Py(e,t,n){if(n||(n=t,t={}),"function"!=typeof n)throw"no callback";return 31==e[0]&&139==e[1]&&8==e[2]?xy(e,t,n):8!=(15&e[0])||e[0]>>4>7||(e[0]<<8|e[1])%31?fy(e,t,n):ky(e,t,n)}function Dy(e,t){return 31==e[0]&&139==e[1]&&8==e[2]?wy(e,t):8!=(15&e[0])||e[0]>>4>7||(e[0]<<8|e[1])%31?py(e,t):Ry(e,t)}var Oy=function(e,t,n,r){for(var i in e){var a=e[i],o=t+i;a instanceof jg?n[o]=[a,r]:Array.isArray(a)?n[o]=[a[0],D_(r,a[1])]:Oy(a,o+"/",n,r)}},Ny="undefined"!=typeof TextEncoder&&new TextEncoder,Fy="undefined"!=typeof TextDecoder&&new TextDecoder,By=0;try{Fy.decode(C_,{stream:!0}),By=1}catch(Aw){}var Vy=function(e){for(var t="",n=0;;){var r=e[n++],i=(r>127)+(r>223)+(r>239);if(n+i>e.length)return[t,g_(e,n-1)];i?3==i?(r=((15&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536,t+=String.fromCharCode(55296|r>>10,56320|1023&r)):t+=1&i?String.fromCharCode((31&r)<<6|63&e[n++]):String.fromCharCode((15&r)<<12|(63&e[n++])<<6|63&e[n++]):t+=String.fromCharCode(r)}},Uy=function(){function e(e){this.ondata=e,By?this.t=new TextDecoder:this.p=C_}return e.prototype.push=function(e,t){if(!this.ondata)throw"no callback";if(t=!!t,this.t){if(this.ondata(this.t.decode(e,{stream:!0}),t),t){if(this.t.decode().length)throw"invalid utf-8 data";this.t=null}}else{if(!this.p)throw"stream finished";var n=new jg(this.p.length+e.length);n.set(this.p),n.set(e,this.p.length);var r=Vy(n),i=r[0],a=r[1];if(t){if(a.length)throw"invalid utf-8 data";this.p=null}else this.p=a;this.ondata(i,t)}},e}(),zy=function(){function e(e){this.ondata=e}return e.prototype.push=function(e,t){if(!this.ondata)throw"no callback";if(this.d)throw"stream finished";this.ondata(Hy(e),this.d=t||!1)},e}();function Hy(e,t){if(t){for(var n=new jg(e.length),r=0;r<e.length;++r)n[r]=e.charCodeAt(r);return n}if(Ny)return Ny.encode(e);var i=e.length,a=new jg(e.length+(e.length>>1)),o=0,s=function(e){a[o++]=e};for(r=0;r<i;++r){if(o+5>a.length){var l=new jg(o+8+(i-r<<1));l.set(a),a=l}var c=e.charCodeAt(r);c<128||t?s(c):c<2048?(s(192|c>>6),s(128|63&c)):c>55295&&c<57344?(c=65536+(1047552&c)|1023&e.charCodeAt(++r),s(240|c>>18),s(128|c>>12&63),s(128|c>>6&63),s(128|63&c)):(s(224|c>>12),s(128|c>>6&63),s(128|63&c))}return g_(a,0,o)}function Wy(e,t){if(t){for(var n="",r=0;r<e.length;r+=16384)n+=String.fromCharCode.apply(null,e.subarray(r,r+16384));return n}if(Fy)return Fy.decode(e);var i=Vy(e),a=i[0],o=i[1];if(o.length)throw"invalid utf-8 data";return a}var jy=function(e){return 1==e?3:e<6?2:9==e?1:0},Gy=function(e,t){return t+30+Z_(e,t+26)+Z_(e,t+28)},Yy=function(e,t,n){var r=Z_(e,t+28),i=Wy(e.subarray(t+46,t+46+r),!(2048&Z_(e,t+8))),a=t+46+r,o=K_(e,t+20),s=n&&4294967295==o?$y(e,a):[o,K_(e,t+24),K_(e,t+42)],l=s[0],c=s[1],u=s[2];return[Z_(e,t+10),l,c,i,a+Z_(e,t+30)+Z_(e,t+32),u]},$y=function(e,t){for(;1!=Z_(e,t);t+=4+Z_(e,t+2));return[J_(e,t+12),J_(e,t+4),J_(e,t+20)]},qy=function(e){var t=0;if(e)for(var n in e){var r=e[n].length;if(r>65535)throw"extra field too long";t+=r+4}return t},Xy=function(e,t,n,r,i,a,o,s){var l=r.length,c=n.extra,u=s&&s.length,d=qy(c);Q_(e,t,null!=o?33639248:67324752),t+=4,null!=o&&(e[t++]=20,e[t++]=n.os),e[t]=20,t+=2,e[t++]=n.flag<<1|(null==a&&8),e[t++]=i&&8,e[t++]=255&n.compression,e[t++]=n.compression>>8;var h=new Date(null==n.mtime?Date.now():n.mtime),f=h.getFullYear()-1980;if(f<0||f>119)throw"date not in range 1980-2099";if(Q_(e,t,f<<25|h.getMonth()+1<<21|h.getDate()<<16|h.getHours()<<11|h.getMinutes()<<5|h.getSeconds()>>>1),t+=4,null!=a&&(Q_(e,t,n.crc),Q_(e,t+4,a),Q_(e,t+8,n.size)),Q_(e,t+12,l),Q_(e,t+14,d),t+=16,null!=o&&(Q_(e,t,u),Q_(e,t+6,n.attrs),Q_(e,t+10,o),t+=14),e.set(r,t),t+=l,d)for(var p in c){var m=c[p],v=m.length;Q_(e,t,+p),Q_(e,t+2,v),e.set(m,t+4),t+=4+v}return u&&(e.set(s,t),t+=u),t},Zy=function(e,t,n,r,i){Q_(e,t,101010256),Q_(e,t+8,n),Q_(e,t+10,n),Q_(e,t+12,r),Q_(e,t+16,i)},Ky=function(){function e(e){this.filename=e,this.c=L_(),this.size=0,this.compression=0}return e.prototype.process=function(e,t){this.ondata(null,e,t)},e.prototype.push=function(e,t){if(!this.ondata)throw"no callback - add to ZIP archive before pushing";this.c.p(e),this.size+=e.length,t&&(this.crc=this.c.d()),this.process(e,t||!1)},e}(),Jy=function(){function e(e,t){var n=this;t||(t={}),Ky.call(this,e),this.d=new sy(t,(function(e,t){n.ondata(null,e,t)})),this.compression=8,this.flag=jy(t.level)}return e.prototype.process=function(e,t){try{this.d.push(e,t)}catch(Aw){this.ondata(Aw,null,t)}},e.prototype.push=function(e,t){Ky.prototype.push.call(this,e,t)},e}(),Qy=function(){function e(e,t){var n=this;t||(t={}),Ky.call(this,e),this.d=new ly(t,(function(e,t,r){n.ondata(e,t,r)})),this.compression=8,this.flag=jy(t.level),this.terminate=this.d.terminate}return e.prototype.process=function(e,t){this.d.push(e,t)},e.prototype.push=function(e,t){Ky.prototype.push.call(this,e,t)},e}(),eb=function(){function e(e){this.ondata=e,this.u=[],this.d=1}return e.prototype.add=function(e){var t=this;if(2&this.d)throw"stream finished";var n=Hy(e.filename),r=n.length,i=e.comment,a=i&&Hy(i),o=r!=e.filename.length||a&&i.length!=a.length,s=r+qy(e.extra)+30;if(r>65535)throw"filename too long";var l=new jg(s);Xy(l,0,e,n,o);var c=[l],u=function(){for(var e=0,n=c;e<n.length;e++){var r=n[e];t.ondata(null,r,!1)}c=[]},d=this.d;this.d=0;var h=this.u.length,f=D_(e,{f:n,u:o,o:a,t:function(){e.terminate&&e.terminate()},r:function(){if(u(),d){var e=t.u[h+1];e?e.r():t.d=1}d=1}}),p=0;e.ondata=function(n,r,i){if(n)t.ondata(n,r,i),t.terminate();else if(p+=r.length,c.push(r),i){var a=new jg(16);Q_(a,0,134695760),Q_(a,4,e.crc),Q_(a,8,p),Q_(a,12,e.size),c.push(a),f.c=p,f.b=s+p+16,f.crc=e.crc,f.size=e.size,d&&f.r(),d=1}else d&&u()},this.u.push(f)},e.prototype.end=function(){var e=this;if(2&this.d){if(1&this.d)throw"stream finishing";throw"stream finished"}this.d?this.e():this.u.push({r:function(){1&e.d&&(e.u.splice(-1,1),e.e())},t:function(){}}),this.d=3},e.prototype.e=function(){for(var e=0,t=0,n=0,r=0,i=this.u;r<i.length;r++){var a=i[r];n+=46+a.f.length+qy(a.extra)+(a.o?a.o.length:0)}for(var o=new jg(n+22),s=0,l=this.u;s<l.length;s++){a=l[s];Xy(o,e,a,a.f,a.u,a.c,t,a.o),e+=46+a.f.length+qy(a.extra)+(a.o?a.o.length:0),t+=a.b}Zy(o,e,this.u.length,n,t),this.ondata(null,o,!0),this.d=2},e.prototype.terminate=function(){for(var e=0,t=this.u;e<t.length;e++){var n=t[e];n.t()}this.d=2},e}();function tb(e,t,n){if(n||(n=t,t={}),"function"!=typeof n)throw"no callback";var r={};Oy(e,"",r,t);var i=Object.keys(r),a=i.length,o=0,s=0,l=a,c=new Array(a),u=[],d=function(){for(var e=0;e<u.length;++e)u[e]()},h=function(){var e=new jg(s+22),t=o,r=s-o;s=0;for(var i=0;i<l;++i){var a=c[i];try{var u=a.c.length;Xy(e,s,a,a.f,a.u,u);var d=30+a.f.length+qy(a.extra),h=s+d;e.set(a.c,h),Xy(e,o,a,a.f,a.u,u,s,a.m),o+=16+d+(a.m?a.m.length:0),s=h+u}catch(Aw){return n(Aw,null)}}Zy(e,o,c.length,r,t),n(null,e)};a||h();for(var f=function(e){var t=i[e],l=r[t],f=l[0],p=l[1],m=L_(),v=f.length;m.p(f);var g=Hy(t),_=g.length,y=p.comment,b=y&&Hy(y),x=b&&b.length,w=qy(p.extra),S=0==p.level?0:8,M=function(r,i){if(r)d(),n(r,null);else{var l=i.length;c[e]=D_(p,{size:v,crc:m.d(),c:i,f:g,m:b,u:_!=t.length||b&&y.length!=x,compression:S}),o+=30+_+w+l,s+=76+2*(_+w)+(x||0)+l,--a||h()}};if(_>65535&&M("filename too long",null),S)if(v<16e4)try{M(null,uy(f,p))}catch(Aw){M(Aw,null)}else u.push(cy(f,p,M));else M(null,f)},p=0;p<l;++p)f(p);return d}function nb(e,t){t||(t={});var n={},r=[];Oy(e,"",n,t);var i=0,a=0;for(var o in n){var s=n[o],l=s[0],c=s[1],u=0==c.level?0:8,d=Hy(o),h=d.length,f=c.comment,p=f&&Hy(f),m=p&&p.length,v=qy(c.extra);if(h>65535)throw"filename too long";var g=u?uy(l,c):l,_=g.length,y=L_();y.p(l),r.push(D_(c,{size:l.length,crc:y.d(),c:g,f:d,m:p,u:h!=o.length||p&&f.length!=m,o:i,compression:u})),i+=30+h+v+_,a+=76+2*(h+v)+(m||0)+_}for(var b=new jg(a+22),x=i,w=a-i,S=0;S<r.length;++S){d=r[S];Xy(b,d.o,d,d.f,d.u,d.c.length);var M=30+d.f.length+qy(d.extra);b.set(d.c,d.o+M),Xy(b,i,d,d.f,d.u,d.c.length,d.o,d.m),i+=16+M+(d.m?d.m.length:0)}return Zy(b,i,r.length,w,x),b}var rb=function(){function e(){}return e.prototype.push=function(e,t){this.ondata(null,e,t)},e.compression=0,e}(),ib=function(){function e(){var e=this;this.i=new dy((function(t,n){e.ondata(null,t,n)}))}return e.prototype.push=function(e,t){try{this.i.push(e,t)}catch(Aw){this.ondata(Aw,e,t)}},e.compression=8,e}(),ab=function(){function e(e,t){var n=this;t<32e4?this.i=new dy((function(e,t){n.ondata(null,e,t)})):(this.i=new hy((function(e,t,r){n.ondata(e,t,r)})),this.terminate=this.i.terminate)}return e.prototype.push=function(e,t){this.i.terminate&&(e=g_(e,0)),this.i.push(e,t)},e.compression=8,e}(),ob=function(){function e(e){this.onfile=e,this.k=[],this.o={0:rb},this.p=C_}return e.prototype.push=function(e,t){var n=this;if(!this.onfile)throw"no callback";if(!this.p)throw"stream finished";if(this.c>0){var r=Math.min(this.c,e.length),i=e.subarray(0,r);if(this.c-=r,this.d?this.d.push(i,!this.c):this.k[0].push(i),e=e.subarray(r),e.length)return this.push(e,t)}else{var a=0,o=0,s=void 0,l=void 0;this.p.length?e.length?(l=new jg(this.p.length+e.length),l.set(this.p),l.set(e,this.p.length)):l=this.p:l=e;for(var c=l.length,u=this.c,d=u&&this.d,h=function(){var e,t=K_(l,o);if(67324752==t){a=1,s=o,f.d=null,f.c=0;var r=Z_(l,o+6),i=Z_(l,o+8),d=2048&r,h=8&r,p=Z_(l,o+26),m=Z_(l,o+28);if(c>o+30+p+m){var v=[];f.k.unshift(v),a=2;var g,_=K_(l,o+18),y=K_(l,o+22),b=Wy(l.subarray(o+30,o+=30+p),!d);4294967295==_?(e=h?[-2]:$y(l,o),_=e[0],y=e[1]):h&&(_=-1),o+=m,f.c=_;var x={name:b,compression:i,start:function(){if(!x.ondata)throw"no callback";if(_){var e=n.o[i];if(!e)throw"unknown compression type "+i;g=_<0?new e(b):new e(b,_,y),g.ondata=function(e,t,n){x.ondata(e,t,n)};for(var t=0,r=v;t<r.length;t++){var a=r[t];g.push(a,!1)}n.k[0]==v&&n.c?n.d=g:g.push(C_,!0)}else x.ondata(null,C_,!0)},terminate:function(){g&&g.terminate&&g.terminate()}};_>=0&&(x.size=_,x.originalSize=y),f.onfile(x)}return"break"}if(u){if(134695760==t)return s=o+=12+(-2==u&&8),a=3,f.c=0,"break";if(33639248==t)return s=o-=4,a=3,f.c=0,"break"}},f=this;o<c-4;++o){var p=h();if("break"===p)break}if(this.p=C_,u<0){var m=a?l.subarray(0,s-12-(-2==u&&8)-(134695760==K_(l,s-16)&&4)):l.subarray(0,o);d?d.push(m,!!a):this.k[+(2==a)].push(m)}if(2&a)return this.push(l.subarray(o),t);this.p=l.subarray(o)}if(t){if(this.c)throw"invalid zip file";this.p=null}},e.prototype.register=function(e){this.o[e.compression]=e},e}();function sb(e,t){if("function"!=typeof t)throw"no callback";for(var n=[],r=function(){for(var e=0;e<n.length;++e)n[e]()},i={},a=e.length-22;101010256!=K_(e,a);--a)if(!a||e.length-a>65558)return void t("invalid zip file",null);var o=Z_(e,a+8);o||t(null,{});var s=o,l=K_(e,a+16),c=4294967295==l;if(c){if(a=K_(e,a-12),101075792!=K_(e,a))return void t("invalid zip file",null);s=o=K_(e,a+32),l=K_(e,a+48)}for(var u=function(a){var s=Yy(e,l,c),u=s[0],d=s[1],h=s[2],f=s[3],p=s[4],m=s[5],v=Gy(e,m);l=p;var g=function(e,n){e?(r(),t(e,null)):(i[f]=n,--o||t(null,i))};if(u)if(8==u){var _=e.subarray(v,v+d);if(d<32e4)try{g(null,py(_,new jg(h)))}catch(y){g(y,null)}else n.push(fy(_,{size:h},g))}else g("unknown compression type "+u,null);else g(null,g_(e,v,v+d))},d=0;d<s;++d)u();return r}function lb(e){for(var t={},n=e.length-22;101010256!=K_(e,n);--n)if(!n||e.length-n>65558)throw"invalid zip file";var r=Z_(e,n+8);if(!r)return{};var i=K_(e,n+16),a=4294967295==i;if(a){if(n=K_(e,n-12),101075792!=K_(e,n))throw"invalid zip file";r=K_(e,n+32),i=K_(e,n+48)}for(var o=0;o<r;++o){var s=Yy(e,i,a),l=s[0],c=s[1],u=s[2],d=s[3],h=s[4],f=s[5],p=Gy(e,f);if(i=h,l){if(8!=l)throw"unknown compression type "+l;t[d]=py(e.subarray(p,p+c),new jg(u))}else t[d]=g_(e,p,p+c)}return t}var cb=Object.freeze(Object.defineProperty({__proto__:null,Deflate:sy,AsyncDeflate:ly,deflate:cy,deflateSync:uy,Inflate:dy,AsyncInflate:hy,inflate:fy,inflateSync:py,Gzip:my,AsyncGzip:vy,gzip:gy,gzipSync:_y,Gunzip:yy,AsyncGunzip:by,gunzip:xy,gunzipSync:wy,Zlib:Sy,AsyncZlib:My,zlib:Ey,zlibSync:Ty,Unzlib:Ay,AsyncUnzlib:Cy,unzlib:ky,unzlibSync:Ry,compress:gy,AsyncCompress:vy,compressSync:_y,Compress:my,Decompress:Ly,AsyncDecompress:Iy,decompress:Py,decompressSync:Dy,DecodeUTF8:Uy,EncodeUTF8:zy,strToU8:Hy,strFromU8:Wy,ZipPassThrough:Ky,ZipDeflate:Jy,AsyncZipDeflate:Qy,Zip:eb,zip:tb,zipSync:nb,UnzipPassThrough:rb,UnzipInflate:ib,AsyncUnzipInflate:ab,Unzip:ob,unzip:sb,unzipSync:lb},Symbol.toStringTag,{value:"Module"}));function ub(e,t,n){const r=n.length-e-1;if(t>=n[r])return r-1;if(t<=n[e])return e;let i=e,a=r,o=Math.floor((i+a)/2);while(t<n[o]||t>=n[o+1])t<n[o]?a=o:i=o,o=Math.floor((i+a)/2);return o}function db(e,t,n,r){const i=[],a=[],o=[];i[0]=1;for(let s=1;s<=n;++s){a[s]=t-r[e+1-s],o[s]=r[e+s]-t;let n=0;for(let e=0;e<s;++e){const t=o[e+1],r=a[s-e],l=i[e]/(t+r);i[e]=n+t*l,n=r*l}i[s]=n}return i}function hb(e,t,n,r){const i=ub(e,r,t),a=db(i,r,e,t),o=new mr(0,0,0,0);for(let s=0;s<=e;++s){const t=n[i-e+s],r=a[s],l=t.w*r;o.x+=t.x*l,o.y+=t.y*l,o.z+=t.z*l,o.w+=t.w*r}return o}function fb(e,t,n,r,i){const a=[];for(let d=0;d<=n;++d)a[d]=0;const o=[];for(let d=0;d<=r;++d)o[d]=a.slice(0);const s=[];for(let d=0;d<=n;++d)s[d]=a.slice(0);s[0][0]=1;const l=a.slice(0),c=a.slice(0);for(let d=1;d<=n;++d){l[d]=t-i[e+1-d],c[d]=i[e+d]-t;let n=0;for(let e=0;e<d;++e){const t=c[e+1],r=l[d-e];s[d][e]=t+r;const i=s[e][d-1]/s[d][e];s[e][d]=n+t*i,n=r*i}s[d][d]=n}for(let d=0;d<=n;++d)o[0][d]=s[d][n];for(let d=0;d<=n;++d){let e=0,t=1;const i=[];for(let r=0;r<=n;++r)i[r]=a.slice(0);i[0][0]=1;for(let a=1;a<=r;++a){let r=0;const l=d-a,c=n-a;d>=a&&(i[t][0]=i[e][0]/s[c+1][l],r=i[t][0]*s[l][c]);const u=l>=-1?1:-l,h=d-1<=c?a-1:n-d;for(let n=u;n<=h;++n)i[t][n]=(i[e][n]-i[e][n-1])/s[c+1][l+n],r+=i[t][n]*s[l+n][c];d<=c&&(i[t][a]=-i[e][a-1]/s[c+1][d],r+=i[t][a]*s[d][c]),o[a][d]=r;const f=e;e=t,t=f}}let u=n;for(let d=1;d<=r;++d){for(let e=0;e<=n;++e)o[d][e]*=u;u*=n-d}return o}function pb(e,t,n,r,i){const a=i<e?i:e,o=[],s=ub(e,r,t),l=fb(s,r,e,a,t),c=[];for(let u=0;u<n.length;++u){const e=n[u].clone(),t=e.w;e.x*=t,e.y*=t,e.z*=t,c[u]=e}for(let u=0;u<=a;++u){const t=c[s-e].clone().multiplyScalar(l[u][0]);for(let n=1;n<=e;++n)t.add(c[s-e+n].clone().multiplyScalar(l[u][n]));o[u]=t}for(let u=a+1;u<=i+1;++u)o[u]=new mr(0,0,0);return o}function mb(e,t){let n=1;for(let i=2;i<=e;++i)n*=i;let r=1;for(let i=2;i<=t;++i)r*=i;for(let i=2;i<=e-t;++i)r*=i;return n/r}function vb(e){const t=e.length,n=[],r=[];for(let a=0;a<t;++a){const t=e[a];n[a]=new Sr(t.x,t.y,t.z),r[a]=t.w}const i=[];for(let a=0;a<t;++a){const e=n[a].clone();for(let t=1;t<=a;++t)e.sub(i[a-t].clone().multiplyScalar(mb(a,t)*r[t]));i[a]=e.divideScalar(r[0])}return i}function gb(e,t,n,r,i){const a=pb(e,t,n,r,i);return vb(a)}class _b extends Nh{constructor(e,t,n,r,i){super(),this.degree=e,this.knots=t,this.controlPoints=[],this.startKnot=r||0,this.endKnot=i||this.knots.length-1;for(let a=0;a<n.length;++a){const e=n[a];this.controlPoints[a]=new mr(e.x,e.y,e.z,e.w)}}getPoint(e,t=new Sr){const n=t,r=this.knots[this.startKnot]+e*(this.knots[this.endKnot]-this.knots[this.startKnot]),i=hb(this.degree,this.knots,this.controlPoints,r);return 1!==i.w&&i.divideScalar(i.w),n.set(i.x,i.y,i.z)}getTangent(e,t=new Sr){const n=t,r=this.knots[0]+e*(this.knots[this.knots.length-1]-this.knots[0]),i=gb(this.degree,this.knots,this.controlPoints,r,1);return n.copy(i[1]).normalize(),n}}let yb,bb,xb;class wb extends am{constructor(e){super(e)}load(e,t,n,r){const i=this,a=""===i.path?Om.extractUrlBase(e):i.path,o=new lm(this.manager);o.setPath(i.path),o.setResponseType("arraybuffer"),o.setRequestHeader(i.requestHeader),o.setWithCredentials(i.withCredentials),o.load(e,(function(n){try{t(i.parse(n,a))}catch(Aw){r?r(Aw):console.error(Aw),i.manager.itemError(e)}}),n,r)}parse(e,t){if(Rb(e))yb=(new Ab).parse(e);else{const t=zb(e);if(!Lb(t))throw new Error("THREE.FBXLoader: Unknown format.");if(Ib(t)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+Ib(t));yb=(new Tb).parse(t)}const n=new pm(this.manager).setPath(this.resourcePath||t).setCrossOrigin(this.crossOrigin);return new Sb(n,this.manager).parse(yb)}}class Sb{constructor(e,t){this.textureLoader=e,this.manager=t}parse(){bb=this.parseConnections();const e=this.parseImages(),t=this.parseTextures(e),n=this.parseMaterials(t),r=this.parseDeformers(),i=(new Mb).parse(r);return this.parseScene(r,i,n),xb}parseConnections(){const e=new Map;if("Connections"in yb){const t=yb.Connections.connections;t.forEach((function(t){const n=t[0],r=t[1],i=t[2];e.has(n)||e.set(n,{parents:[],children:[]});const a={ID:r,relationship:i};e.get(n).parents.push(a),e.has(r)||e.set(r,{parents:[],children:[]});const o={ID:n,relationship:i};e.get(r).children.push(o)}))}return e}parseImages(){const e={},t={};if("Video"in yb.Objects){const n=yb.Objects.Video;for(const r in n){const i=n[r],a=parseInt(r);if(e[a]=i.RelativeFilename||i.Filename,"Content"in i){const e=i.Content instanceof ArrayBuffer&&i.Content.byteLength>0,a="string"===typeof i.Content&&""!==i.Content;if(e||a){const e=this.parseImage(n[r]);t[i.RelativeFilename||i.Filename]=e}}}}for(const n in e){const r=e[n];void 0!==t[r]?e[n]=t[r]:e[n]=e[n].split("\\").pop()}return e}parseImage(e){const t=e.Content,n=e.RelativeFilename||e.Filename,r=n.slice(n.lastIndexOf(".")+1).toLowerCase();let i;switch(r){case"bmp":i="image/bmp";break;case"jpg":case"jpeg":i="image/jpeg";break;case"png":i="image/png";break;case"tif":i="image/tiff";break;case"tga":null===this.manager.getHandler(".tga")&&console.warn("FBXLoader: TGA loader not found, skipping ",n),i="image/tga";break;default:return void console.warn('FBXLoader: Image type "'+r+'" is not supported.')}if("string"===typeof t)return"data:"+i+";base64,"+t;{const e=new Uint8Array(t);return window.URL.createObjectURL(new Blob([e],{type:i}))}}parseTextures(e){const t=new Map;if("Texture"in yb.Objects){const n=yb.Objects.Texture;for(const r in n){const i=this.parseTexture(n[r],e);t.set(parseInt(r),i)}}return t}parseTexture(e,t){const n=this.loadTexture(e,t);n.ID=e.id,n.name=e.attrName;const r=e.WrapModeU,i=e.WrapModeV,a=void 0!==r?r.value:0,o=void 0!==i?i.value:0;if(n.wrapS=0===a?he:fe,n.wrapT=0===o?he:fe,"Scaling"in e){const t=e.Scaling.value;n.repeat.x=t[0],n.repeat.y=t[1]}if("Translation"in e){const t=e.Translation.value;n.offset.x=t[0],n.offset.y=t[1]}return n}loadTexture(e,t){let n;const r=this.textureLoader.path,i=bb.get(e.id).children;let a;void 0!==i&&i.length>0&&void 0!==t[i[0].ID]&&(n=t[i[0].ID],0!==n.indexOf("blob:")&&0!==n.indexOf("data:")||this.textureLoader.setPath(void 0));const o=e.FileName.slice(-3).toLowerCase();if("tga"===o){const t=this.manager.getHandler(".tga");null===t?(console.warn("FBXLoader: TGA loader not found, creating placeholder texture for",e.RelativeFilename),a=new pr):(t.setPath(this.textureLoader.path),a=t.load(n))}else"psd"===o?(console.warn("FBXLoader: PSD textures are not supported, creating placeholder texture for",e.RelativeFilename),a=new pr):a=this.textureLoader.load(n);return this.textureLoader.setPath(r),a}parseMaterials(e){const t=new Map;if("Material"in yb.Objects){const n=yb.Objects.Material;for(const r in n){const i=this.parseMaterial(n[r],e);null!==i&&t.set(parseInt(r),i)}}return t}parseMaterial(e,t){const n=e.id,r=e.attrName;let i=e.ShadingModel;if("object"===typeof i&&(i=i.value),!bb.has(n))return null;const a=this.parseParameters(e,t,n);let o;switch(i.toLowerCase()){case"phong":o=new Tp;break;case"lambert":o=new kp;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',i),o=new Tp;break}return o.setValues(a),o.name=r,o}parseParameters(e,t,n){const r={};e.BumpFactor&&(r.bumpScale=e.BumpFactor.value),e.Diffuse?r.color=(new lr).fromArray(e.Diffuse.value):!e.DiffuseColor||"Color"!==e.DiffuseColor.type&&"ColorRGB"!==e.DiffuseColor.type||(r.color=(new lr).fromArray(e.DiffuseColor.value)),e.DisplacementFactor&&(r.displacementScale=e.DisplacementFactor.value),e.Emissive?r.emissive=(new lr).fromArray(e.Emissive.value):!e.EmissiveColor||"Color"!==e.EmissiveColor.type&&"ColorRGB"!==e.EmissiveColor.type||(r.emissive=(new lr).fromArray(e.EmissiveColor.value)),e.EmissiveFactor&&(r.emissiveIntensity=parseFloat(e.EmissiveFactor.value)),e.Opacity&&(r.opacity=parseFloat(e.Opacity.value)),r.opacity<1&&(r.transparent=!0),e.ReflectionFactor&&(r.reflectivity=e.ReflectionFactor.value),e.Shininess&&(r.shininess=e.Shininess.value),e.Specular?r.specular=(new lr).fromArray(e.Specular.value):e.SpecularColor&&"Color"===e.SpecularColor.type&&(r.specular=(new lr).fromArray(e.SpecularColor.value));const i=this;return bb.get(n).children.forEach((function(e){const n=e.relationship;switch(n){case"Bump":r.bumpMap=i.getTexture(t,e.ID);break;case"Maya|TEX_ao_map":r.aoMap=i.getTexture(t,e.ID);break;case"DiffuseColor":case"Maya|TEX_color_map":r.map=i.getTexture(t,e.ID),void 0!==r.map&&(r.map.encoding=Ot);break;case"DisplacementColor":r.displacementMap=i.getTexture(t,e.ID);break;case"EmissiveColor":r.emissiveMap=i.getTexture(t,e.ID),void 0!==r.emissiveMap&&(r.emissiveMap.encoding=Ot);break;case"NormalMap":case"Maya|TEX_normal_map":r.normalMap=i.getTexture(t,e.ID);break;case"ReflectionColor":r.envMap=i.getTexture(t,e.ID),void 0!==r.envMap&&(r.envMap.mapping=ce,r.envMap.encoding=Ot);break;case"SpecularColor":r.specularMap=i.getTexture(t,e.ID),void 0!==r.specularMap&&(r.specularMap.encoding=Ot);break;case"TransparentColor":case"TransparencyFactor":r.alphaMap=i.getTexture(t,e.ID),r.transparent=!0;break;case"AmbientColor":case"ShininessExponent":case"SpecularFactor":case"VectorDisplacementColor":default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",n);break}})),r}getTexture(e,t){return"LayeredTexture"in yb.Objects&&t in yb.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),t=bb.get(t).children[0].ID),e.get(t)}parseDeformers(){const e={},t={};if("Deformer"in yb.Objects){const n=yb.Objects.Deformer;for(const r in n){const i=n[r],a=bb.get(parseInt(r));if("Skin"===i.attrType){const t=this.parseSkeleton(a,n);t.ID=r,a.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),t.geometryID=a.parents[0].ID,e[r]=t}else if("BlendShape"===i.attrType){const e={id:r};e.rawTargets=this.parseMorphTargets(a,n),e.id=r,a.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),t[r]=e}}}return{skeletons:e,morphTargets:t}}parseSkeleton(e,t){const n=[];return e.children.forEach((function(e){const r=t[e.ID];if("Cluster"!==r.attrType)return;const i={ID:e.ID,indices:[],weights:[],transformLink:(new ei).fromArray(r.TransformLink.a)};"Indexes"in r&&(i.indices=r.Indexes.a,i.weights=r.Weights.a),n.push(i)})),{rawBones:n,bones:[]}}parseMorphTargets(e,t){const n=[];for(let r=0;r<e.children.length;r++){const i=e.children[r],a=t[i.ID],o={name:a.attrName,initialWeight:a.DeformPercent,id:a.id,fullWeights:a.FullWeights.a};if("BlendShapeChannel"!==a.attrType)return;o.geoID=bb.get(parseInt(i.ID)).children.filter((function(e){return void 0===e.relationship}))[0].ID,n.push(o)}return n}parseScene(e,t,n){xb=new vd;const r=this.parseModels(e.skeletons,t,n),i=yb.Objects.Model,a=this;r.forEach((function(e){const t=i[e.ID];a.setLookAtProperties(e,t);const n=bb.get(e.ID).parents;n.forEach((function(t){const n=r.get(t.ID);void 0!==n&&n.add(e)})),null===e.parent&&xb.add(e)})),this.bindSkeleton(e.skeletons,t,r),this.createAmbientLight(),xb.traverse((function(e){if(e.userData.transformData){e.parent&&(e.userData.transformData.parentMatrix=e.parent.matrix,e.userData.transformData.parentMatrixWorld=e.parent.matrixWorld);const t=Bb(e.userData.transformData);e.applyMatrix4(t),e.updateWorldMatrix()}}));const o=(new Eb).parse();1===xb.children.length&&xb.children[0].isGroup&&(xb.children[0].animations=o,xb=xb.children[0]),xb.animations=o}parseModels(e,t,n){const r=new Map,i=yb.Objects.Model;for(const a in i){const o=parseInt(a),s=i[a],l=bb.get(o);let c=this.buildSkeleton(l,e,o,s.attrName);if(!c){switch(s.attrType){case"Camera":c=this.createCamera(l);break;case"Light":c=this.createLight(l);break;case"Mesh":c=this.createMesh(l,t,n);break;case"NurbsCurve":c=this.createCurve(l,t);break;case"LimbNode":case"Root":c=new rh;break;case"Null":default:c=new vd;break}c.name=s.attrName?Mv.sanitizeNodeName(s.attrName):"",c.ID=o}this.getTransformData(c,s),r.set(o,c)}return r}buildSkeleton(e,t,n,r){let i=null;return e.parents.forEach((function(e){for(const a in t){const o=t[a];o.rawBones.forEach((function(t,a){if(t.ID===e.ID){const e=i;i=new rh,i.matrixWorld.copy(t.transformLink),i.name=r?Mv.sanitizeNodeName(r):"",i.ID=n,o.bones[a]=i,null!==e&&i.add(e)}}))}})),i}createCamera(e){let t,n;if(e.children.forEach((function(e){const t=yb.Objects.NodeAttribute[e.ID];void 0!==t&&(n=t)})),void 0===n)t=new Ei;else{let e=0;void 0!==n.CameraProjectionType&&1===n.CameraProjectionType.value&&(e=1);let r=1;void 0!==n.NearPlane&&(r=n.NearPlane.value/1e3);let i=1e3;void 0!==n.FarPlane&&(i=n.FarPlane.value/1e3);let a=window.innerWidth,o=window.innerHeight;void 0!==n.AspectWidth&&void 0!==n.AspectHeight&&(a=n.AspectWidth.value,o=n.AspectHeight.value);const s=a/o;let l=45;void 0!==n.FieldOfView&&(l=n.FieldOfView.value);const c=n.FocalLength?n.FocalLength.value:null;switch(e){case 0:t=new Na(l,s,r,i),null!==c&&t.setFocalLength(c);break;case 1:t=new Fl(-a/2,a/2,o/2,-o/2,r,i);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+e+"."),t=new Ei;break}}return t}createLight(e){let t,n;if(e.children.forEach((function(e){const t=yb.Objects.NodeAttribute[e.ID];void 0!==t&&(n=t)})),void 0===n)t=new Ei;else{let e;e=void 0===n.LightType?0:n.LightType.value;let r=16777215;void 0!==n.Color&&(r=(new lr).fromArray(n.Color.value));let i=void 0===n.Intensity?1:n.Intensity.value/100;void 0!==n.CastLightOnObject&&0===n.CastLightOnObject.value&&(i=0);let a=0;void 0!==n.FarAttenuationEnd&&(a=void 0!==n.EnableFarAttenuation&&0===n.EnableFarAttenuation.value?0:n.FarAttenuationEnd.value);const o=1;switch(e){case 0:t=new Am(r,i,a,o);break;case 1:t=new km(r,i);break;case 2:let e=Math.PI/3;void 0!==n.InnerAngle&&(e=Gn.degToRad(n.InnerAngle.value));let s=0;void 0!==n.OuterAngle&&(s=Gn.degToRad(n.OuterAngle.value),s=Math.max(s,1)),t=new wm(r,i,a,e,s,o);break;default:console.warn("THREE.FBXLoader: Unknown light type "+n.LightType.value+", defaulting to a PointLight."),t=new Am(r,i);break}void 0!==n.CastShadows&&1===n.CastShadows.value&&(t.castShadow=!0)}return t}createMesh(e,t,n){let r,i=null,a=null;const o=[];return e.children.forEach((function(e){t.has(e.ID)&&(i=t.get(e.ID)),n.has(e.ID)&&o.push(n.get(e.ID))})),o.length>1?a=o:o.length>0?a=o[0]:(a=new Tp({color:13421772}),o.push(a)),"color"in i.attributes&&o.forEach((function(e){e.vertexColors=!0})),i.FBX_Deformer?(r=new nh(i,a),r.normalizeSkinWeights()):r=new Ma(i,a),r}createCurve(e,t){const n=e.children.reduce((function(e,n){return t.has(n.ID)&&(e=t.get(n.ID)),e}),null),r=new ph({color:3342591,linewidth:1});return new bh(n,r)}getTransformData(e,t){const n={};"InheritType"in t&&(n.inheritType=parseInt(t.InheritType.value)),n.eulerOrder="RotationOrder"in t?Vb(t.RotationOrder.value):"ZYX","Lcl_Translation"in t&&(n.translation=t.Lcl_Translation.value),"PreRotation"in t&&(n.preRotation=t.PreRotation.value),"Lcl_Rotation"in t&&(n.rotation=t.Lcl_Rotation.value),"PostRotation"in t&&(n.postRotation=t.PostRotation.value),"Lcl_Scaling"in t&&(n.scale=t.Lcl_Scaling.value),"ScalingOffset"in t&&(n.scalingOffset=t.ScalingOffset.value),"ScalingPivot"in t&&(n.scalingPivot=t.ScalingPivot.value),"RotationOffset"in t&&(n.rotationOffset=t.RotationOffset.value),"RotationPivot"in t&&(n.rotationPivot=t.RotationPivot.value),e.userData.transformData=n}setLookAtProperties(e,t){if("LookAtProperty"in t){const t=bb.get(e.ID).children;t.forEach((function(t){if("LookAtProperty"===t.relationship){const n=yb.Objects.Model[t.ID];if("Lcl_Translation"in n){const t=n.Lcl_Translation.value;void 0!==e.target?(e.target.position.fromArray(t),xb.add(e.target)):e.lookAt((new Sr).fromArray(t))}}}))}}bindSkeleton(e,t,n){const r=this.parsePoseNodes();for(const i in e){const a=e[i],o=bb.get(parseInt(a.ID)).parents;o.forEach((function(e){if(t.has(e.ID)){const t=e.ID,i=bb.get(t);i.parents.forEach((function(e){if(n.has(e.ID)){const t=n.get(e.ID);t.bind(new sh(a.bones),r[e.ID])}}))}}))}}parsePoseNodes(){const e={};if("Pose"in yb.Objects){const t=yb.Objects.Pose;for(const n in t)if("BindPose"===t[n].attrType&&t[n].NbPoseNodes>0){const r=t[n].PoseNode;Array.isArray(r)?r.forEach((function(t){e[t.Node]=(new ei).fromArray(t.Matrix.a)})):e[r.Node]=(new ei).fromArray(r.Matrix.a)}}return e}createAmbientLight(){if("GlobalSettings"in yb&&"AmbientColor"in yb.GlobalSettings){const e=yb.GlobalSettings.AmbientColor.value,t=e[0],n=e[1],r=e[2];if(0!==t||0!==n||0!==r){const e=new lr(t,n,r);xb.add(new Rm(e,1))}}}}class Mb{parse(e){const t=new Map;if("Geometry"in yb.Objects){const n=yb.Objects.Geometry;for(const r in n){const i=bb.get(parseInt(r)),a=this.parseGeometry(i,n[r],e);t.set(parseInt(r),a)}}return t}parseGeometry(e,t,n){switch(t.attrType){case"Mesh":return this.parseMeshGeometry(e,t,n);case"NurbsCurve":return this.parseNurbsGeometry(t)}}parseMeshGeometry(e,t,n){const r=n.skeletons,i=[],a=e.parents.map((function(e){return yb.Objects.Model[e.ID]}));if(0===a.length)return;const o=e.children.reduce((function(e,t){return void 0!==r[t.ID]&&(e=r[t.ID]),e}),null);e.children.forEach((function(e){void 0!==n.morphTargets[e.ID]&&i.push(n.morphTargets[e.ID])}));const s=a[0],l={};"RotationOrder"in s&&(l.eulerOrder=Vb(s.RotationOrder.value)),"InheritType"in s&&(l.inheritType=parseInt(s.InheritType.value)),"GeometricTranslation"in s&&(l.translation=s.GeometricTranslation.value),"GeometricRotation"in s&&(l.rotation=s.GeometricRotation.value),"GeometricScaling"in s&&(l.scale=s.GeometricScaling.value);const c=Bb(l);return this.genGeometry(t,o,i,c)}genGeometry(e,t,n,r){const i=new oa;e.attrName&&(i.name=e.attrName);const a=this.parseGeoNode(e,t),o=this.genBuffers(a),s=new Ki(o.vertex,3);if(s.applyMatrix4(r),i.setAttribute("position",s),o.colors.length>0&&i.setAttribute("color",new Ki(o.colors,3)),t&&(i.setAttribute("skinIndex",new $i(o.weightsIndices,4)),i.setAttribute("skinWeight",new Ki(o.vertexWeights,4)),i.FBX_Deformer=t),o.normal.length>0){const e=(new $n).getNormalMatrix(r),t=new Ki(o.normal,3);t.applyNormalMatrix(e),i.setAttribute("normal",t)}if(o.uvs.forEach((function(e,t){let n="uv"+(t+1).toString();0===t&&(n="uv"),i.setAttribute(n,new Ki(o.uvs[t],2))})),a.material&&"AllSame"!==a.material.mappingType){let e=o.materialIndex[0],t=0;if(o.materialIndex.forEach((function(n,r){n!==e&&(i.addGroup(t,r-t,e),e=n,t=r)})),i.groups.length>0){const t=i.groups[i.groups.length-1],n=t.start+t.count;n!==o.materialIndex.length&&i.addGroup(n,o.materialIndex.length-n,e)}0===i.groups.length&&i.addGroup(0,o.materialIndex.length,o.materialIndex[0])}return this.addMorphTargets(i,e,n,r),i}parseGeoNode(e,t){const n={};if(n.vertexPositions=void 0!==e.Vertices?e.Vertices.a:[],n.vertexIndices=void 0!==e.PolygonVertexIndex?e.PolygonVertexIndex.a:[],e.LayerElementColor&&(n.color=this.parseVertexColors(e.LayerElementColor[0])),e.LayerElementMaterial&&(n.material=this.parseMaterialIndices(e.LayerElementMaterial[0])),e.LayerElementNormal&&(n.normal=this.parseNormals(e.LayerElementNormal[0])),e.LayerElementUV){n.uv=[];let t=0;while(e.LayerElementUV[t])e.LayerElementUV[t].UV&&n.uv.push(this.parseUVs(e.LayerElementUV[t])),t++}return n.weightTable={},null!==t&&(n.skeleton=t,t.rawBones.forEach((function(e,t){e.indices.forEach((function(r,i){void 0===n.weightTable[r]&&(n.weightTable[r]=[]),n.weightTable[r].push({id:t,weight:e.weights[i]})}))}))),n}genBuffers(e){const t={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]};let n=0,r=0,i=!1,a=[],o=[],s=[],l=[],c=[],u=[];const d=this;return e.vertexIndices.forEach((function(h,f){let p,m=!1;h<0&&(h^=-1,m=!0);let v=[],g=[];if(a.push(3*h,3*h+1,3*h+2),e.color){const t=Ob(f,n,h,e.color);s.push(t[0],t[1],t[2])}if(e.skeleton){if(void 0!==e.weightTable[h]&&e.weightTable[h].forEach((function(e){g.push(e.weight),v.push(e.id)})),g.length>4){i||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),i=!0);const e=[0,0,0,0],t=[0,0,0,0];g.forEach((function(n,r){let i=n,a=v[r];t.forEach((function(t,n,r){if(i>t){r[n]=i,i=t;const o=e[n];e[n]=a,a=o}}))})),v=e,g=t}while(g.length<4)g.push(0),v.push(0);for(let e=0;e<4;++e)c.push(g[e]),u.push(v[e])}if(e.normal){const t=Ob(f,n,h,e.normal);o.push(t[0],t[1],t[2])}e.material&&"AllSame"!==e.material.mappingType&&(p=Ob(f,n,h,e.material)[0]),e.uv&&e.uv.forEach((function(e,t){const r=Ob(f,n,h,e);void 0===l[t]&&(l[t]=[]),l[t].push(r[0]),l[t].push(r[1])})),r++,m&&(d.genFace(t,e,a,p,o,s,l,c,u,r),n++,r=0,a=[],o=[],s=[],l=[],c=[],u=[])})),t}genFace(e,t,n,r,i,a,o,s,l,c){for(let u=2;u<c;u++)e.vertex.push(t.vertexPositions[n[0]]),e.vertex.push(t.vertexPositions[n[1]]),e.vertex.push(t.vertexPositions[n[2]]),e.vertex.push(t.vertexPositions[n[3*(u-1)]]),e.vertex.push(t.vertexPositions[n[3*(u-1)+1]]),e.vertex.push(t.vertexPositions[n[3*(u-1)+2]]),e.vertex.push(t.vertexPositions[n[3*u]]),e.vertex.push(t.vertexPositions[n[3*u+1]]),e.vertex.push(t.vertexPositions[n[3*u+2]]),t.skeleton&&(e.vertexWeights.push(s[0]),e.vertexWeights.push(s[1]),e.vertexWeights.push(s[2]),e.vertexWeights.push(s[3]),e.vertexWeights.push(s[4*(u-1)]),e.vertexWeights.push(s[4*(u-1)+1]),e.vertexWeights.push(s[4*(u-1)+2]),e.vertexWeights.push(s[4*(u-1)+3]),e.vertexWeights.push(s[4*u]),e.vertexWeights.push(s[4*u+1]),e.vertexWeights.push(s[4*u+2]),e.vertexWeights.push(s[4*u+3]),e.weightsIndices.push(l[0]),e.weightsIndices.push(l[1]),e.weightsIndices.push(l[2]),e.weightsIndices.push(l[3]),e.weightsIndices.push(l[4*(u-1)]),e.weightsIndices.push(l[4*(u-1)+1]),e.weightsIndices.push(l[4*(u-1)+2]),e.weightsIndices.push(l[4*(u-1)+3]),e.weightsIndices.push(l[4*u]),e.weightsIndices.push(l[4*u+1]),e.weightsIndices.push(l[4*u+2]),e.weightsIndices.push(l[4*u+3])),t.color&&(e.colors.push(a[0]),e.colors.push(a[1]),e.colors.push(a[2]),e.colors.push(a[3*(u-1)]),e.colors.push(a[3*(u-1)+1]),e.colors.push(a[3*(u-1)+2]),e.colors.push(a[3*u]),e.colors.push(a[3*u+1]),e.colors.push(a[3*u+2])),t.material&&"AllSame"!==t.material.mappingType&&(e.materialIndex.push(r),e.materialIndex.push(r),e.materialIndex.push(r)),t.normal&&(e.normal.push(i[0]),e.normal.push(i[1]),e.normal.push(i[2]),e.normal.push(i[3*(u-1)]),e.normal.push(i[3*(u-1)+1]),e.normal.push(i[3*(u-1)+2]),e.normal.push(i[3*u]),e.normal.push(i[3*u+1]),e.normal.push(i[3*u+2])),t.uv&&t.uv.forEach((function(t,n){void 0===e.uvs[n]&&(e.uvs[n]=[]),e.uvs[n].push(o[n][0]),e.uvs[n].push(o[n][1]),e.uvs[n].push(o[n][2*(u-1)]),e.uvs[n].push(o[n][2*(u-1)+1]),e.uvs[n].push(o[n][2*u]),e.uvs[n].push(o[n][2*u+1])}))}addMorphTargets(e,t,n,r){if(0===n.length)return;e.morphTargetsRelative=!0,e.morphAttributes.position=[];const i=this;n.forEach((function(n){n.rawTargets.forEach((function(n){const a=yb.Objects.Geometry[n.geoID];void 0!==a&&i.genMorphGeometry(e,t,a,r,n.name)}))}))}genMorphGeometry(e,t,n,r,i){const a=void 0!==t.PolygonVertexIndex?t.PolygonVertexIndex.a:[],o=void 0!==n.Vertices?n.Vertices.a:[],s=void 0!==n.Indexes?n.Indexes.a:[],l=3*e.attributes.position.count,c=new Float32Array(l);for(let f=0;f<s.length;f++){const e=3*s[f];c[e]=o[3*f],c[e+1]=o[3*f+1],c[e+2]=o[3*f+2]}const u={vertexIndices:a,vertexPositions:c},d=this.genBuffers(u),h=new Ki(d.vertex,3);h.name=i||n.attrName,h.applyMatrix4(r),e.morphAttributes.position.push(h)}parseNormals(e){const t=e.MappingInformationType,n=e.ReferenceInformationType,r=e.Normals.a;let i=[];return"IndexToDirect"===n&&("NormalIndex"in e?i=e.NormalIndex.a:"NormalsIndex"in e&&(i=e.NormalsIndex.a)),{dataSize:3,buffer:r,indices:i,mappingType:t,referenceType:n}}parseUVs(e){const t=e.MappingInformationType,n=e.ReferenceInformationType,r=e.UV.a;let i=[];return"IndexToDirect"===n&&(i=e.UVIndex.a),{dataSize:2,buffer:r,indices:i,mappingType:t,referenceType:n}}parseVertexColors(e){const t=e.MappingInformationType,n=e.ReferenceInformationType,r=e.Colors.a;let i=[];return"IndexToDirect"===n&&(i=e.ColorIndex.a),{dataSize:4,buffer:r,indices:i,mappingType:t,referenceType:n}}parseMaterialIndices(e){const t=e.MappingInformationType,n=e.ReferenceInformationType;if("NoMappingInformation"===t)return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:n};const r=e.Materials.a,i=[];for(let a=0;a<r.length;++a)i.push(a);return{dataSize:1,buffer:r,indices:i,mappingType:t,referenceType:n}}parseNurbsGeometry(e){if(void 0===_b)return console.error("THREE.FBXLoader: The loader relies on NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry."),new oa;const t=parseInt(e.Order);if(isNaN(t))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",e.Order,e.id),new oa;const n=t-1,r=e.KnotVector.a,i=[],a=e.Points.a;for(let u=0,d=a.length;u<d;u+=4)i.push((new mr).fromArray(a,u));let o,s;if("Closed"===e.Form)i.push(i[0]);else if("Periodic"===e.Form){o=n,s=r.length-1-o;for(let e=0;e<n;++e)i.push(i[e])}const l=new _b(n,r,i,o,s),c=l.getPoints(12*i.length);return(new oa).setFromPoints(c)}}class Eb{parse(){const e=[],t=this.parseClips();if(void 0!==t)for(const n in t){const r=t[n],i=this.addClip(r);e.push(i)}return e}parseClips(){if(void 0===yb.Objects.AnimationCurve)return;const e=this.parseAnimationCurveNodes();this.parseAnimationCurves(e);const t=this.parseAnimationLayers(e),n=this.parseAnimStacks(t);return n}parseAnimationCurveNodes(){const e=yb.Objects.AnimationCurveNode,t=new Map;for(const n in e){const r=e[n];if(null!==r.attrName.match(/S|R|T|DeformPercent/)){const e={id:r.id,attr:r.attrName,curves:{}};t.set(e.id,e)}}return t}parseAnimationCurves(e){const t=yb.Objects.AnimationCurve;for(const n in t){const r={id:t[n].id,times:t[n].KeyTime.a.map(Pb),values:t[n].KeyValueFloat.a},i=bb.get(r.id);if(void 0!==i){const t=i.parents[0].ID,n=i.parents[0].relationship;n.match(/X/)?e.get(t).curves["x"]=r:n.match(/Y/)?e.get(t).curves["y"]=r:n.match(/Z/)?e.get(t).curves["z"]=r:n.match(/d|DeformPercent/)&&e.has(t)&&(e.get(t).curves["morph"]=r)}}}parseAnimationLayers(e){const t=yb.Objects.AnimationLayer,n=new Map;for(const r in t){const t=[],i=bb.get(parseInt(r));if(void 0!==i){const a=i.children;a.forEach((function(n,r){if(e.has(n.ID)){const i=e.get(n.ID);if(void 0!==i.curves.x||void 0!==i.curves.y||void 0!==i.curves.z){if(void 0===t[r]){const e=bb.get(n.ID).parents.filter((function(e){return void 0!==e.relationship}))[0].ID;if(void 0!==e){const i=yb.Objects.Model[e.toString()];if(void 0===i)return void console.warn("THREE.FBXLoader: Encountered a unused curve.",n);const a={modelName:i.attrName?Mv.sanitizeNodeName(i.attrName):"",ID:i.id,initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};xb.traverse((function(e){e.ID===i.id&&(a.transform=e.matrix,e.userData.transformData&&(a.eulerOrder=e.userData.transformData.eulerOrder))})),a.transform||(a.transform=new ei),"PreRotation"in i&&(a.preRotation=i.PreRotation.value),"PostRotation"in i&&(a.postRotation=i.PostRotation.value),t[r]=a}}t[r]&&(t[r][i.attr]=i)}else if(void 0!==i.curves.morph){if(void 0===t[r]){const e=bb.get(n.ID).parents.filter((function(e){return void 0!==e.relationship}))[0].ID,i=bb.get(e).parents[0].ID,a=bb.get(i).parents[0].ID,o=bb.get(a).parents[0].ID,s=yb.Objects.Model[o],l={modelName:s.attrName?Mv.sanitizeNodeName(s.attrName):"",morphName:yb.Objects.Deformer[e].attrName};t[r]=l}t[r][i.attr]=i}}})),n.set(parseInt(r),t)}}return n}parseAnimStacks(e){const t=yb.Objects.AnimationStack,n={};for(const r in t){const i=bb.get(parseInt(r)).children;i.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");const a=e.get(i[0].ID);n[r]={name:t[r].attrName,layer:a}}return n}addClip(e){let t=[];const n=this;return e.layer.forEach((function(e){t=t.concat(n.generateTracks(e))})),new Qp(e.name,-1,t)}generateTracks(e){const t=[];let n=new Sr,r=new wr,i=new Sr;if(e.transform&&e.transform.decompose(n,r,i),n=n.toArray(),r=(new ui).setFromQuaternion(r,e.eulerOrder).toArray(),i=i.toArray(),void 0!==e.T&&Object.keys(e.T.curves).length>0){const r=this.generateVectorTrack(e.modelName,e.T.curves,n,"position");void 0!==r&&t.push(r)}if(void 0!==e.R&&Object.keys(e.R.curves).length>0){const n=this.generateRotationTrack(e.modelName,e.R.curves,r,e.preRotation,e.postRotation,e.eulerOrder);void 0!==n&&t.push(n)}if(void 0!==e.S&&Object.keys(e.S.curves).length>0){const n=this.generateVectorTrack(e.modelName,e.S.curves,i,"scale");void 0!==n&&t.push(n)}if(void 0!==e.DeformPercent){const n=this.generateMorphTrack(e);void 0!==n&&t.push(n)}return t}generateVectorTrack(e,t,n,r){const i=this.getTimesForAllAxes(t),a=this.getKeyframeTrackValues(i,t,n);return new Jp(e+"."+r,i,a)}generateRotationTrack(e,t,n,r,i,a){void 0!==t.x&&(this.interpolateRotations(t.x),t.x.values=t.x.values.map(Gn.degToRad)),void 0!==t.y&&(this.interpolateRotations(t.y),t.y.values=t.y.values.map(Gn.degToRad)),void 0!==t.z&&(this.interpolateRotations(t.z),t.z.values=t.z.values.map(Gn.degToRad));const o=this.getTimesForAllAxes(t),s=this.getKeyframeTrackValues(o,t,n);void 0!==r&&(r=r.map(Gn.degToRad),r.push(a),r=(new ui).fromArray(r),r=(new wr).setFromEuler(r)),void 0!==i&&(i=i.map(Gn.degToRad),i.push(a),i=(new ui).fromArray(i),i=(new wr).setFromEuler(i).invert());const l=new wr,c=new ui,u=[];for(let d=0;d<s.length;d+=3)c.set(s[d],s[d+1],s[d+2],a),l.setFromEuler(c),void 0!==r&&l.premultiply(r),void 0!==i&&l.multiply(i),l.toArray(u,d/3*4);return new Zp(e+".quaternion",o,u)}generateMorphTrack(e){const t=e.DeformPercent.curves.morph,n=t.values.map((function(e){return e/100})),r=xb.getObjectByName(e.modelName).morphTargetDictionary[e.morphName];return new qp(e.modelName+".morphTargetInfluences["+r+"]",t.times,n)}getTimesForAllAxes(e){let t=[];if(void 0!==e.x&&(t=t.concat(e.x.times)),void 0!==e.y&&(t=t.concat(e.y.times)),void 0!==e.z&&(t=t.concat(e.z.times)),t=t.sort((function(e,t){return e-t})),t.length>1){let e=1,n=t[0];for(let r=1;r<t.length;r++){const i=t[r];i!==n&&(t[e]=i,n=i,e++)}t=t.slice(0,e)}return t}getKeyframeTrackValues(e,t,n){const r=n,i=[];let a=-1,o=-1,s=-1;return e.forEach((function(e){if(t.x&&(a=t.x.times.indexOf(e)),t.y&&(o=t.y.times.indexOf(e)),t.z&&(s=t.z.times.indexOf(e)),-1!==a){const e=t.x.values[a];i.push(e),r[0]=e}else i.push(r[0]);if(-1!==o){const e=t.y.values[o];i.push(e),r[1]=e}else i.push(r[1]);if(-1!==s){const e=t.z.values[s];i.push(e),r[2]=e}else i.push(r[2])})),i}interpolateRotations(e){for(let t=1;t<e.values.length;t++){const n=e.values[t-1],r=e.values[t]-n,i=Math.abs(r);if(i>=180){const a=i/180,o=r/a;let s=n+o;const l=e.times[t-1],c=e.times[t]-l,u=c/a;let d=l+u;const h=[],f=[];while(d<e.times[t])h.push(d),d+=u,f.push(s),s+=o;e.times=jb(e.times,t,h),e.values=jb(e.values,t,f)}}}}class Tb{getPrevNode(){return this.nodeStack[this.currentIndent-2]}getCurrentNode(){return this.nodeStack[this.currentIndent-1]}getCurrentProp(){return this.currentProp}pushStack(e){this.nodeStack.push(e),this.currentIndent+=1}popStack(){this.nodeStack.pop(),this.currentIndent-=1}setCurrentProp(e,t){this.currentProp=e,this.currentPropName=t}parse(e){this.currentIndent=0,this.allNodes=new kb,this.nodeStack=[],this.currentProp=[],this.currentPropName="";const t=this,n=e.split(/[\r\n]+/);return n.forEach((function(e,r){const i=e.match(/^[\s\t]*;/),a=e.match(/^[\s\t]*$/);if(i||a)return;const o=e.match("^\\t{"+t.currentIndent+"}(\\w+):(.*){",""),s=e.match("^\\t{"+t.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),l=e.match("^\\t{"+(t.currentIndent-1)+"}}");o?t.parseNodeBegin(e,o):s?t.parseNodeProperty(e,s,n[++r]):l?t.popStack():e.match(/^[^\s\t}]/)&&t.parseNodePropertyContinued(e)})),this.allNodes}parseNodeBegin(e,t){const n=t[1].trim().replace(/^"/,"").replace(/"$/,""),r=t[2].split(",").map((function(e){return e.trim().replace(/^"/,"").replace(/"$/,"")})),i={name:n},a=this.parseNodeAttr(r),o=this.getCurrentNode();0===this.currentIndent?this.allNodes.add(n,i):n in o?("PoseNode"===n?o.PoseNode.push(i):void 0!==o[n].id&&(o[n]={},o[n][o[n].id]=o[n]),""!==a.id&&(o[n][a.id]=i)):"number"===typeof a.id?(o[n]={},o[n][a.id]=i):"Properties70"!==n&&(o[n]="PoseNode"===n?[i]:i),"number"===typeof a.id&&(i.id=a.id),""!==a.name&&(i.attrName=a.name),""!==a.type&&(i.attrType=a.type),this.pushStack(i)}parseNodeAttr(e){let t=e[0];""!==e[0]&&(t=parseInt(e[0]),isNaN(t)&&(t=e[0]));let n="",r="";return e.length>1&&(n=e[1].replace(/^(\w+)::/,""),r=e[2]),{id:t,name:n,type:r}}parseNodeProperty(e,t,n){let r=t[1].replace(/^"/,"").replace(/"$/,"").trim(),i=t[2].replace(/^"/,"").replace(/"$/,"").trim();"Content"===r&&","===i&&(i=n.replace(/"/g,"").replace(/,$/,"").trim());const a=this.getCurrentNode(),o=a.name;if("Properties70"!==o){if("C"===r){const e=i.split(",").slice(1),t=parseInt(e[0]),n=parseInt(e[1]);let o=i.split(",").slice(3);o=o.map((function(e){return e.trim().replace(/^"/,"")})),r="connections",i=[t,n],Hb(i,o),void 0===a[r]&&(a[r]=[])}"Node"===r&&(a.id=i),r in a&&Array.isArray(a[r])?a[r].push(i):"a"!==r?a[r]=i:a.a=i,this.setCurrentProp(a,r),"a"===r&&","!==i.slice(-1)&&(a.a=Ub(i))}else this.parseNodeSpecialProperty(e,r,i)}parseNodePropertyContinued(e){const t=this.getCurrentNode();t.a+=e,","!==e.slice(-1)&&(t.a=Ub(t.a))}parseNodeSpecialProperty(e,t,n){const r=n.split('",').map((function(e){return e.trim().replace(/^\"/,"").replace(/\s/,"_")})),i=r[0],a=r[1],o=r[2],s=r[3];let l=r[4];switch(a){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":l=parseFloat(l);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":l=Ub(l);break}this.getPrevNode()[i]={type:a,type2:o,flag:s,value:l},this.setCurrentProp(this.getPrevNode(),i)}}class Ab{parse(e){const t=new Cb(e);t.skip(23);const n=t.getUint32();if(n<6400)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+n);const r=new kb;while(!this.endOfContent(t)){const e=this.parseNode(t,n);null!==e&&r.add(e.name,e)}return r}endOfContent(e){return e.size()%16===0?(e.getOffset()+160+16&-16)>=e.size():e.getOffset()+160+16>=e.size()}parseNode(e,t){const n={},r=t>=7500?e.getUint64():e.getUint32(),i=t>=7500?e.getUint64():e.getUint32();t>=7500?e.getUint64():e.getUint32();const a=e.getUint8(),o=e.getString(a);if(0===r)return null;const s=[];for(let d=0;d<i;d++)s.push(this.parseProperty(e));const l=s.length>0?s[0]:"",c=s.length>1?s[1]:"",u=s.length>2?s[2]:"";n.singleProperty=1===i&&e.getOffset()===r;while(r>e.getOffset()){const r=this.parseNode(e,t);null!==r&&this.parseSubNode(o,n,r)}return n.propertyList=s,"number"===typeof l&&(n.id=l),""!==c&&(n.attrName=c),""!==u&&(n.attrType=u),""!==o&&(n.name=o),n}parseSubNode(e,t,n){if(!0===n.singleProperty){const e=n.propertyList[0];Array.isArray(e)?(t[n.name]=n,n.a=e):t[n.name]=e}else if("Connections"===e&&"C"===n.name){const e=[];n.propertyList.forEach((function(t,n){0!==n&&e.push(t)})),void 0===t.connections&&(t.connections=[]),t.connections.push(e)}else if("Properties70"===n.name){const e=Object.keys(n);e.forEach((function(e){t[e]=n[e]}))}else if("Properties70"===e&&"P"===n.name){let e=n.propertyList[0],r=n.propertyList[1];const i=n.propertyList[2],a=n.propertyList[3];let o;0===e.indexOf("Lcl ")&&(e=e.replace("Lcl ","Lcl_")),0===r.indexOf("Lcl ")&&(r=r.replace("Lcl ","Lcl_")),o="Color"===r||"ColorRGB"===r||"Vector"===r||"Vector3D"===r||0===r.indexOf("Lcl_")?[n.propertyList[4],n.propertyList[5],n.propertyList[6]]:n.propertyList[4],t[e]={type:r,type2:i,flag:a,value:o}}else void 0===t[n.name]?"number"===typeof n.id?(t[n.name]={},t[n.name][n.id]=n):t[n.name]=n:"PoseNode"===n.name?(Array.isArray(t[n.name])||(t[n.name]=[t[n.name]]),t[n.name].push(n)):void 0===t[n.name][n.id]&&(t[n.name][n.id]=n)}parseProperty(e){const t=e.getString(1);let n;switch(t){case"C":return e.getBoolean();case"D":return e.getFloat64();case"F":return e.getFloat32();case"I":return e.getInt32();case"L":return e.getInt64();case"R":return n=e.getUint32(),e.getArrayBuffer(n);case"S":return n=e.getUint32(),e.getString(n);case"Y":return e.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":const r=e.getUint32(),i=e.getUint32(),a=e.getUint32();if(0===i)switch(t){case"b":case"c":return e.getBooleanArray(r);case"d":return e.getFloat64Array(r);case"f":return e.getFloat32Array(r);case"i":return e.getInt32Array(r);case"l":return e.getInt64Array(r)}"undefined"===typeof cb&&console.error("THREE.FBXLoader: External library fflate.min.js required.");const o=Ry(new Uint8Array(e.getArrayBuffer(a))),s=new Cb(o.buffer);switch(t){case"b":case"c":return s.getBooleanArray(r);case"d":return s.getFloat64Array(r);case"f":return s.getFloat32Array(r);case"i":return s.getInt32Array(r);case"l":return s.getInt64Array(r)}break;default:throw new Error("THREE.FBXLoader: Unknown property type "+t)}}}class Cb{constructor(e,t){this.dv=new DataView(e),this.offset=0,this.littleEndian=void 0===t||t}getOffset(){return this.offset}size(){return this.dv.buffer.byteLength}skip(e){this.offset+=e}getBoolean(){return 1===(1&this.getUint8())}getBooleanArray(e){const t=[];for(let n=0;n<e;n++)t.push(this.getBoolean());return t}getUint8(){const e=this.dv.getUint8(this.offset);return this.offset+=1,e}getInt16(){const e=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}getInt32(){const e=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}getInt32Array(e){const t=[];for(let n=0;n<e;n++)t.push(this.getInt32());return t}getUint32(){const e=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}getInt64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),2147483648&t?(t=4294967295&~t,e=4294967295&~e,4294967295===e&&(t=t+1&4294967295),e=e+1&4294967295,-(4294967296*t+e)):4294967296*t+e}getInt64Array(e){const t=[];for(let n=0;n<e;n++)t.push(this.getInt64());return t}getUint64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),4294967296*t+e}getFloat32(){const e=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}getFloat32Array(e){const t=[];for(let n=0;n<e;n++)t.push(this.getFloat32());return t}getFloat64(){const e=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}getFloat64Array(e){const t=[];for(let n=0;n<e;n++)t.push(this.getFloat64());return t}getArrayBuffer(e){const t=this.dv.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}getString(e){let t=[];for(let r=0;r<e;r++)t[r]=this.getUint8();const n=t.indexOf(0);return n>=0&&(t=t.slice(0,n)),Om.decodeText(new Uint8Array(t))}}class kb{add(e,t){this[e]=t}}function Rb(e){const t="Kaydara FBX Binary  \0";return e.byteLength>=t.length&&t===zb(e,0,t.length)}function Lb(e){const t=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"];let n=0;function r(t){const r=e[t-1];return e=e.slice(n+t),n++,r}for(let i=0;i<t.length;++i){const e=r(1);if(e===t[i])return!1}return!0}function Ib(e){const t=/FBXVersion: (\d+)/,n=e.match(t);if(n){const e=parseInt(n[1]);return e}throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function Pb(e){return e/46186158e3}const Db=[];function Ob(e,t,n,r){let i;switch(r.mappingType){case"ByPolygonVertex":i=e;break;case"ByPolygon":i=t;break;case"ByVertice":i=n;break;case"AllSame":i=r.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+r.mappingType)}"IndexToDirect"===r.referenceType&&(i=r.indices[i]);const a=i*r.dataSize,o=a+r.dataSize;return Wb(Db,r.buffer,a,o)}const Nb=new ui,Fb=new Sr;function Bb(e){const t=new ei,n=new ei,r=new ei,i=new ei,a=new ei,o=new ei,s=new ei,l=new ei,c=new ei,u=new ei,d=new ei,h=new ei,f=e.inheritType?e.inheritType:0;if(e.translation&&t.setPosition(Fb.fromArray(e.translation)),e.preRotation){const t=e.preRotation.map(Gn.degToRad);t.push(e.eulerOrder),n.makeRotationFromEuler(Nb.fromArray(t))}if(e.rotation){const t=e.rotation.map(Gn.degToRad);t.push(e.eulerOrder),r.makeRotationFromEuler(Nb.fromArray(t))}if(e.postRotation){const t=e.postRotation.map(Gn.degToRad);t.push(e.eulerOrder),i.makeRotationFromEuler(Nb.fromArray(t)),i.invert()}e.scale&&a.scale(Fb.fromArray(e.scale)),e.scalingOffset&&s.setPosition(Fb.fromArray(e.scalingOffset)),e.scalingPivot&&o.setPosition(Fb.fromArray(e.scalingPivot)),e.rotationOffset&&l.setPosition(Fb.fromArray(e.rotationOffset)),e.rotationPivot&&c.setPosition(Fb.fromArray(e.rotationPivot)),e.parentMatrixWorld&&(d.copy(e.parentMatrix),u.copy(e.parentMatrixWorld));const p=n.clone().multiply(r).multiply(i),m=new ei;m.extractRotation(u);const v=new ei;v.copyPosition(u);const g=v.clone().invert().multiply(u),_=m.clone().invert().multiply(g),y=a,b=new ei;if(0===f)b.copy(m).multiply(p).multiply(_).multiply(y);else if(1===f)b.copy(m).multiply(_).multiply(p).multiply(y);else{const e=(new ei).scale((new Sr).setFromMatrixScale(d)),t=e.clone().invert(),n=_.clone().multiply(t);b.copy(m).multiply(p).multiply(n).multiply(y)}const x=c.clone().invert(),w=o.clone().invert();let S=t.clone().multiply(l).multiply(c).multiply(n).multiply(r).multiply(i).multiply(x).multiply(s).multiply(o).multiply(a).multiply(w);const M=(new ei).copyPosition(S),E=u.clone().multiply(M);return h.copyPosition(E),S=h.clone().multiply(b),S.premultiply(u.invert()),S}function Vb(e){e=e||0;const t=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return 6===e?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),t[0]):t[e]}function Ub(e){const t=e.split(",").map((function(e){return parseFloat(e)}));return t}function zb(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=e.byteLength),Om.decodeText(new Uint8Array(e,t,n))}function Hb(e,t){for(let n=0,r=e.length,i=t.length;n<i;n++,r++)e[r]=t[n]}function Wb(e,t,n,r){for(let i=n,a=0;i<r;i++,a++)e[a]=t[i];return e}function jb(e,t,n){return e.slice(0,t).concat(n).concat(e.slice(t))}class Gb extends fm{constructor(e){super(e)}parse(e){function t(e){switch(e.image_type){case d:case p:(e.colormap_length>256||24!==e.colormap_size||1!==e.colormap_type)&&console.error("THREE.TGALoader: Invalid type colormap data for indexed type.");break;case h:case f:case m:case v:e.colormap_type&&console.error("THREE.TGALoader: Invalid type colormap data for colormap type.");break;case u:console.error("THREE.TGALoader: No data.");default:console.error('THREE.TGALoader: Invalid type "%s".',e.image_type)}(e.width<=0||e.height<=0)&&console.error("THREE.TGALoader: Invalid image size."),8!==e.pixel_size&&16!==e.pixel_size&&24!==e.pixel_size&&32!==e.pixel_size&&console.error('THREE.TGALoader: Invalid pixel size "%s".',e.pixel_size)}function n(e,t,n,r,i){let a,o;const s=n.pixel_size>>3,l=n.width*n.height*s;if(t&&(o=i.subarray(r,r+=n.colormap_length*(n.colormap_size>>3))),e){let e,t,n;a=new Uint8Array(l);let o=0;const c=new Uint8Array(s);while(o<l)if(e=i[r++],t=1+(127&e),128&e){for(n=0;n<s;++n)c[n]=i[r++];for(n=0;n<t;++n)a.set(c,o+n*s);o+=s*t}else{for(t*=s,n=0;n<t;++n)a[o+n]=i[r++];o+=t}}else a=i.subarray(r,r+=t?n.width*n.height:l);return{pixel_data:a,palettes:o}}function r(e,t,n,r,i,a,o,s,l){const c=l;let u,d,h,f=0;const p=E.width;for(h=t;h!==r;h+=n)for(d=i;d!==o;d+=a,f++)u=s[f],e[4*(d+p*h)+3]=255,e[4*(d+p*h)+2]=c[3*u+0],e[4*(d+p*h)+1]=c[3*u+1],e[4*(d+p*h)+0]=c[3*u+2];return e}function i(e,t,n,r,i,a,o,s){let l,c,u,d=0;const h=E.width;for(u=t;u!==r;u+=n)for(c=i;c!==o;c+=a,d+=2)l=s[d+0]+(s[d+1]<<8),e[4*(c+h*u)+0]=(31744&l)>>7,e[4*(c+h*u)+1]=(992&l)>>2,e[4*(c+h*u)+2]=(31&l)<<3,e[4*(c+h*u)+3]=32768&l?0:255;return e}function a(e,t,n,r,i,a,o,s){let l,c,u=0;const d=E.width;for(c=t;c!==r;c+=n)for(l=i;l!==o;l+=a,u+=3)e[4*(l+d*c)+3]=255,e[4*(l+d*c)+2]=s[u+0],e[4*(l+d*c)+1]=s[u+1],e[4*(l+d*c)+0]=s[u+2];return e}function o(e,t,n,r,i,a,o,s){let l,c,u=0;const d=E.width;for(c=t;c!==r;c+=n)for(l=i;l!==o;l+=a,u+=4)e[4*(l+d*c)+2]=s[u+0],e[4*(l+d*c)+1]=s[u+1],e[4*(l+d*c)+0]=s[u+2],e[4*(l+d*c)+3]=s[u+3];return e}function s(e,t,n,r,i,a,o,s){let l,c,u,d=0;const h=E.width;for(u=t;u!==r;u+=n)for(c=i;c!==o;c+=a,d++)l=s[d],e[4*(c+h*u)+0]=l,e[4*(c+h*u)+1]=l,e[4*(c+h*u)+2]=l,e[4*(c+h*u)+3]=255;return e}function l(e,t,n,r,i,a,o,s){let l,c,u=0;const d=E.width;for(c=t;c!==r;c+=n)for(l=i;l!==o;l+=a,u+=2)e[4*(l+d*c)+0]=s[u+0],e[4*(l+d*c)+1]=s[u+0],e[4*(l+d*c)+2]=s[u+0],e[4*(l+d*c)+3]=s[u+1];return e}function c(e,t,n,c,u){let d,h,f,p,m,v;switch((E.flags&g)>>_){default:case x:d=0,f=1,m=t,h=0,p=1,v=n;break;case y:d=0,f=1,m=t,h=n-1,p=-1,v=-1;break;case w:d=t-1,f=-1,m=-1,h=0,p=1,v=n;break;case b:d=t-1,f=-1,m=-1,h=n-1,p=-1,v=-1;break}if(C)switch(E.pixel_size){case 8:s(e,h,p,v,d,f,m,c);break;case 16:l(e,h,p,v,d,f,m,c);break;default:console.error("THREE.TGALoader: Format not supported.");break}else switch(E.pixel_size){case 8:r(e,h,p,v,d,f,m,c,u);break;case 16:i(e,h,p,v,d,f,m,c);break;case 24:a(e,h,p,v,d,f,m,c);break;case 32:o(e,h,p,v,d,f,m,c);break;default:console.error("THREE.TGALoader: Format not supported.");break}return e}const u=0,d=1,h=2,f=3,p=9,m=10,v=11,g=48,_=4,y=0,b=1,x=2,w=3;e.length<19&&console.error("THREE.TGALoader: Not enough data to contain header.");let S=0;const M=new Uint8Array(e),E={id_length:M[S++],colormap_type:M[S++],image_type:M[S++],colormap_index:M[S++]|M[S++]<<8,colormap_length:M[S++]|M[S++]<<8,colormap_size:M[S++],origin:[M[S++]|M[S++]<<8,M[S++]|M[S++]<<8],width:M[S++]|M[S++]<<8,height:M[S++]|M[S++]<<8,pixel_size:M[S++],flags:M[S++]};t(E),E.id_length+S>e.length&&console.error("THREE.TGALoader: No data."),S+=E.id_length;let T=!1,A=!1,C=!1;switch(E.image_type){case p:T=!0,A=!0;break;case d:A=!0;break;case m:T=!0;break;case h:break;case v:T=!0,C=!0;break;case f:C=!0;break}const k=new Uint8Array(E.width*E.height*4),R=n(T,A,E,S,M);return c(k,E.width,E.height,R.pixel_data,R.palettes),{data:k,width:E.width,height:E.height,flipY:!0,generateMipmaps:!0,minFilter:Se}}}class Yb extends am{constructor(e){super(e)}load(e,t,n,r){const i=this,a=""===i.path?Om.extractUrlBase(e):i.path,o=new lm(i.manager);o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.setWithCredentials(i.withCredentials),o.load(e,(function(n){try{t(i.parse(n,a))}catch(Aw){r?r(Aw):console.error(Aw),i.manager.itemError(e)}}),n,r)}parse(e,t){function n(e,t){const n=[],r=e.childNodes;for(let i=0,a=r.length;i<a;i++){const e=r[i];e.nodeName===t&&n.push(e)}return n}function r(e){if(0===e.length)return[];const t=e.trim().split(/\s+/),n=new Array(t.length);for(let r=0,i=t.length;r<i;r++)n[r]=t[r];return n}function i(e){if(0===e.length)return[];const t=e.trim().split(/\s+/),n=new Array(t.length);for(let r=0,i=t.length;r<i;r++)n[r]=parseFloat(t[r]);return n}function a(e){if(0===e.length)return[];const t=e.trim().split(/\s+/),n=new Array(t.length);for(let r=0,i=t.length;r<i;r++)n[r]=parseInt(t[r]);return n}function o(e){return e.substring(1)}function s(){return"three_default_"+kt++}function l(e){return 0===Object.keys(e).length}function c(e){return{unit:u(n(e,"unit")[0]),upAxis:d(n(e,"up_axis")[0])}}function u(e){return void 0!==e&&!0===e.hasAttribute("meter")?parseFloat(e.getAttribute("meter")):1}function d(e){return void 0!==e?e.textContent:"Y_UP"}function h(e,t,r,i){const a=n(e,t)[0];if(void 0!==a){const e=n(a,r);for(let t=0;t<e.length;t++)i(e[t])}}function f(e,t){for(const n in e){const r=e[n];r.build=t(e[n])}}function p(e,t){return void 0!==e.build||(e.build=t(e)),e.build}function m(e){const t={sources:{},samplers:{},channels:{}};let n=!1;for(let r=0,i=e.childNodes.length;r<i;r++){const i=e.childNodes[r];if(1!==i.nodeType)continue;let a;switch(i.nodeName){case"source":a=i.getAttribute("id"),t.sources[a]=Te(i);break;case"sampler":a=i.getAttribute("id"),t.samplers[a]=g(i);break;case"channel":a=i.getAttribute("target"),t.channels[a]=y(i);break;case"animation":m(i),n=!0;break;default:console.log(i)}}!1===n&&(Rt.animations[e.getAttribute("id")||Gn.generateUUID()]=t)}function g(e){const t={inputs:{}};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"input":const e=o(r.getAttribute("source")),n=r.getAttribute("semantic");t.inputs[n]=e;break}}return t}function y(e){const t={},n=e.getAttribute("target");let r=n.split("/");const i=r.shift();let a=r.shift();const s=-1!==a.indexOf("("),l=-1!==a.indexOf(".");if(l)r=a.split("."),a=r.shift(),t.member=r.shift();else if(s){const e=a.split("(");a=e.shift();for(let t=0;t<e.length;t++)e[t]=parseInt(e[t].replace(/\)/,""));t.indices=e}return t.id=i,t.sid=a,t.arraySyntax=s,t.memberSyntax=l,t.sampler=o(e.getAttribute("source")),t}function b(e){const t=[],n=e.channels,r=e.samplers,i=e.sources;for(const a in n)if(n.hasOwnProperty(a)){const e=n[a],o=r[e.sampler],s=o.inputs.INPUT,l=o.inputs.OUTPUT,c=i[s],u=i[l],d=w(e,c,u);A(d,t)}return t}function x(e){return p(Rt.animations[e],b)}function w(e,t,n){const r=Rt.nodes[e.id],i=dt(r.id),a=r.transforms[e.sid],o=r.matrix.clone().transpose();let s,l,c,u,d,h;const f={};switch(a){case"matrix":for(c=0,u=t.array.length;c<u;c++)if(s=t.array[c],l=c*n.stride,void 0===f[s]&&(f[s]={}),!0===e.arraySyntax){const t=n.array[l],r=e.indices[0]+4*e.indices[1];f[s][r]=t}else for(d=0,h=n.stride;d<h;d++)f[s][d]=n.array[l+d];break;case"translate":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',a);break;case"rotate":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',a);break;case"scale":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',a);break}const p=S(f,o),m={name:i.uuid,keyframes:p};return m}function S(e,t){const n=[];for(const i in e)n.push({time:parseFloat(i),value:e[i]});n.sort(r);for(let i=0;i<16;i++)C(n,i,t.elements[i]);return n;function r(e,t){return e.time-t.time}}const M=new Sr,E=new Sr,T=new wr;function A(e,t){const n=e.keyframes,r=e.name,i=[],a=[],o=[],s=[];for(let l=0,c=n.length;l<c;l++){const e=n[l],t=e.time,r=e.value;et.fromArray(r).transpose(),et.decompose(M,T,E),i.push(t),a.push(M.x,M.y,M.z),o.push(T.x,T.y,T.z,T.w),s.push(E.x,E.y,E.z)}return a.length>0&&t.push(new Jp(r+".position",i,a)),o.length>0&&t.push(new Zp(r+".quaternion",i,o)),s.length>0&&t.push(new Jp(r+".scale",i,s)),t}function C(e,t,n){let r,i,a,o=!0;for(i=0,a=e.length;i<a;i++)r=e[i],void 0===r.value[t]?r.value[t]=null:o=!1;if(!0===o)for(i=0,a=e.length;i<a;i++)r=e[i],r.value[t]=n;else k(e,t)}function k(e,t){let n,r;for(let i=0,a=e.length;i<a;i++){const a=e[i];if(null===a.value[t]){if(n=R(e,i,t),r=L(e,i,t),null===n){a.value[t]=r.value[t];continue}if(null===r){a.value[t]=n.value[t];continue}I(a,n,r,t)}}}function R(e,t,n){while(t>=0){const r=e[t];if(null!==r.value[n])return r;t--}return null}function L(e,t,n){while(t<e.length){const r=e[t];if(null!==r.value[n])return r;t++}return null}function I(e,t,n,r){n.time-t.time!==0?e.value[r]=(e.time-t.time)*(n.value[r]-t.value[r])/(n.time-t.time)+t.value[r]:e.value[r]=t.value[r]}function P(e){const t={name:e.getAttribute("id")||"default",start:parseFloat(e.getAttribute("start")||0),end:parseFloat(e.getAttribute("end")||0),animations:[]};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"instance_animation":t.animations.push(o(r.getAttribute("url")));break}}Rt.clips[e.getAttribute("id")]=t}function D(e){const t=[],n=e.name,r=e.end-e.start||-1,i=e.animations;for(let a=0,o=i.length;a<o;a++){const e=x(i[a]);for(let n=0,r=e.length;n<r;n++)t.push(e[n])}return new Qp(n,r,t)}function O(e){return p(Rt.clips[e],D)}function N(e){const t={};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"skin":t.id=o(r.getAttribute("source")),t.skin=F(r);break;case"morph":t.id=o(r.getAttribute("source")),console.warn("THREE.ColladaLoader: Morph target animation not supported yet.");break}}Rt.controllers[e.getAttribute("id")]=t}function F(e){const t={sources:{}};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"bind_shape_matrix":t.bindShapeMatrix=i(r.textContent);break;case"source":const e=r.getAttribute("id");t.sources[e]=Te(r);break;case"joints":t.joints=B(r);break;case"vertex_weights":t.vertexWeights=V(r);break}}return t}function B(e){const t={inputs:{}};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"input":const e=r.getAttribute("semantic"),n=o(r.getAttribute("source"));t.inputs[e]=n;break}}return t}function V(e){const t={inputs:{}};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"input":const e=r.getAttribute("semantic"),n=o(r.getAttribute("source")),i=parseInt(r.getAttribute("offset"));t.inputs[e]={id:n,offset:i};break;case"vcount":t.vcount=a(r.textContent);break;case"v":t.v=a(r.textContent);break}}return t}function U(e){const t={id:e.id},n=Rt.geometries[t.id];return void 0!==e.skin&&(t.skin=z(e.skin),n.sources.skinIndices=t.skin.indices,n.sources.skinWeights=t.skin.weights),t}function z(e){const t=4,n={joints:[],indices:{array:[],stride:t},weights:{array:[],stride:t}},r=e.sources,i=e.vertexWeights,a=i.vcount,o=i.v,s=i.inputs.JOINT.offset,l=i.inputs.WEIGHT.offset,c=e.sources[e.joints.inputs.JOINT],u=e.sources[e.joints.inputs.INV_BIND_MATRIX],d=r[i.inputs.WEIGHT.id].array;let h,f,p,m=0;for(h=0,p=a.length;h<p;h++){const e=a[h],r=[];for(f=0;f<e;f++){const e=o[m+s],t=o[m+l],n=d[t];r.push({index:e,weight:n}),m+=2}for(r.sort(v),f=0;f<t;f++){const e=r[f];void 0!==e?(n.indices.array.push(e.index),n.weights.array.push(e.weight)):(n.indices.array.push(0),n.weights.array.push(0))}}for(e.bindShapeMatrix?n.bindMatrix=(new ei).fromArray(e.bindShapeMatrix).transpose():n.bindMatrix=(new ei).identity(),h=0,p=c.array.length;h<p;h++){const e=c.array[h],t=(new ei).fromArray(u.array,h*u.stride).transpose();n.joints.push({name:e,boneInverse:t})}return n;function v(e,t){return t.weight-e.weight}}function H(e){return p(Rt.controllers[e],U)}function W(e){const t={init_from:n(e,"init_from")[0].textContent};Rt.images[e.getAttribute("id")]=t}function j(e){return void 0!==e.build?e.build:e.init_from}function G(e){const t=Rt.images[e];return void 0!==t?p(t,j):(console.warn("THREE.ColladaLoader: Couldn't find image with ID:",e),null)}function Y(e){const t={};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"profile_COMMON":t.profile=$(r);break}}Rt.effects[e.getAttribute("id")]=t}function $(e){const t={surfaces:{},samplers:{}};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"newparam":q(r,t);break;case"technique":t.technique=K(r);break;case"extra":t.extra=re(r);break}}return t}function q(e,t){const n=e.getAttribute("sid");for(let r=0,i=e.childNodes.length;r<i;r++){const i=e.childNodes[r];if(1===i.nodeType)switch(i.nodeName){case"surface":t.surfaces[n]=X(i);break;case"sampler2D":t.samplers[n]=Z(i);break}}}function X(e){const t={};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"init_from":t.init_from=r.textContent;break}}return t}function Z(e){const t={};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"source":t.source=r.textContent;break}}return t}function K(e){const t={};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"constant":case"lambert":case"blinn":case"phong":t.type=r.nodeName,t.parameters=J(r);break;case"extra":t.extra=re(r);break}}return t}function J(e){const t={};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"emission":case"diffuse":case"specular":case"bump":case"ambient":case"shininess":case"transparency":t[r.nodeName]=Q(r);break;case"transparent":t[r.nodeName]={opaque:r.hasAttribute("opaque")?r.getAttribute("opaque"):"A_ONE",data:Q(r)};break}}return t}function Q(e){const t={};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"color":t[r.nodeName]=i(r.textContent);break;case"float":t[r.nodeName]=parseFloat(r.textContent);break;case"texture":t[r.nodeName]={id:r.getAttribute("texture"),extra:ee(r)};break}}return t}function ee(e){const t={technique:{}};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"extra":te(r,t);break}}return t}function te(e,t){for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"technique":ne(r,t);break}}}function ne(e,t){for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"repeatU":case"repeatV":case"offsetU":case"offsetV":t.technique[r.nodeName]=parseFloat(r.textContent);break;case"wrapU":case"wrapV":"TRUE"===r.textContent.toUpperCase()?t.technique[r.nodeName]=1:"FALSE"===r.textContent.toUpperCase()?t.technique[r.nodeName]=0:t.technique[r.nodeName]=parseInt(r.textContent);break;case"bump":t[r.nodeName]=ae(r);break}}}function re(e){const t={};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"technique":t.technique=ie(r);break}}return t}function ie(e){const t={};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"double_sided":t[r.nodeName]=parseInt(r.textContent);break;case"bump":t[r.nodeName]=ae(r);break}}return t}function ae(e){const t={};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"texture":t[r.nodeName]={id:r.getAttribute("texture"),texcoord:r.getAttribute("texcoord"),extra:ee(r)};break}}return t}function oe(e){return e}function se(e){return p(Rt.effects[e],oe)}function le(e){const t={name:e.getAttribute("name")};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"instance_effect":t.url=o(r.getAttribute("url"));break}}Rt.materials[e.getAttribute("id")]=t}function ce(e){let t,n=e.slice(2+(e.lastIndexOf(".")-1>>>0));switch(n=n.toLowerCase(),n){case"tga":t=Et;break;default:t=Mt}return t}function ue(e){const t=se(e.url),n=t.profile.technique;let r;switch(n.type){case"phong":case"blinn":r=new Tp;break;case"lambert":r=new kp;break;default:r=new Vi;break}function i(e,n=null){const r=t.profile.samplers[e.id];let i=null;if(void 0!==r){const e=t.profile.surfaces[r.source];i=G(e.init_from)}else console.warn("THREE.ColladaLoader: Undefined sampler. Access image directly (see #12530)."),i=G(e.id);if(null!==i){const t=ce(i);if(void 0!==t){const r=t.load(i),a=e.extra;if(void 0!==a&&void 0!==a.technique&&!1===l(a.technique)){const e=a.technique;r.wrapS=e.wrapU?he:fe,r.wrapT=e.wrapV?he:fe,r.offset.set(e.offsetU||0,e.offsetV||0),r.repeat.set(e.repeatU||1,e.repeatV||1)}else r.wrapS=he,r.wrapT=he;return null!==n&&(r.encoding=n),r}return console.warn("THREE.ColladaLoader: Loader for texture %s not found.",i),null}return console.warn("THREE.ColladaLoader: Couldn't create texture with ID:",e.id),null}r.name=e.name||"";const a=n.parameters;for(const l in a){const e=a[l];switch(l){case"diffuse":e.color&&r.color.fromArray(e.color),e.texture&&(r.map=i(e.texture,Ot));break;case"specular":e.color&&r.specular&&r.specular.fromArray(e.color),e.texture&&(r.specularMap=i(e.texture));break;case"bump":e.texture&&(r.normalMap=i(e.texture));break;case"ambient":e.texture&&(r.lightMap=i(e.texture,Ot));break;case"shininess":e.float&&r.shininess&&(r.shininess=e.float);break;case"emission":e.color&&r.emissive&&r.emissive.fromArray(e.color),e.texture&&(r.emissiveMap=i(e.texture,Ot));break}}r.color.convertSRGBToLinear(),r.specular&&r.specular.convertSRGBToLinear(),r.emissive&&r.emissive.convertSRGBToLinear();let o=a["transparent"],s=a["transparency"];if(void 0===s&&o&&(s={float:1}),void 0===o&&s&&(o={opaque:"A_ONE",data:{color:[1,1,1,1]}}),o&&s)if(o.data.texture)r.transparent=!0;else{const e=o.data.color;switch(o.opaque){case"A_ONE":r.opacity=e[3]*s.float;break;case"RGB_ZERO":r.opacity=1-e[0]*s.float;break;case"A_ZERO":r.opacity=1-e[3]*s.float;break;case"RGB_ONE":r.opacity=e[0]*s.float;break;default:console.warn('THREE.ColladaLoader: Invalid opaque type "%s" of transparent tag.',o.opaque)}r.opacity<1&&(r.transparent=!0)}if(void 0!==n.extra&&void 0!==n.extra.technique){const e=n.extra.technique;for(const t in e){const n=e[t];switch(t){case"double_sided":r.side=1===n?_:v;break;case"bump":r.normalMap=i(n.texture),r.normalScale=new Yn(1,1);break}}}return r}function de(e){return p(Rt.materials[e],ue)}function pe(e){const t={name:e.getAttribute("name")};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"optics":t.optics=me(r);break}}Rt.cameras[e.getAttribute("id")]=t}function me(e){for(let t=0;t<e.childNodes.length;t++){const n=e.childNodes[t];switch(n.nodeName){case"technique_common":return ve(n)}}return{}}function ve(e){const t={};for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];switch(r.nodeName){case"perspective":case"orthographic":t.technique=r.nodeName,t.parameters=ge(r);break}}return t}function ge(e){const t={};for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];switch(r.nodeName){case"xfov":case"yfov":case"xmag":case"ymag":case"znear":case"zfar":case"aspect_ratio":t[r.nodeName]=parseFloat(r.textContent);break}}return t}function _e(e){let t;switch(e.optics.technique){case"perspective":t=new Na(e.optics.parameters.yfov,e.optics.parameters.aspect_ratio,e.optics.parameters.znear,e.optics.parameters.zfar);break;case"orthographic":let n=e.optics.parameters.ymag,r=e.optics.parameters.xmag;const i=e.optics.parameters.aspect_ratio;r=void 0===r?n*i:r,n=void 0===n?r/i:n,r*=.5,n*=.5,t=new Fl(-r,r,n,-n,e.optics.parameters.znear,e.optics.parameters.zfar);break;default:t=new Na;break}return t.name=e.name||"",t}function ye(e){const t=Rt.cameras[e];return void 0!==t?p(t,_e):(console.warn("THREE.ColladaLoader: Couldn't find camera with ID:",e),null)}function be(e){let t={};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"technique_common":t=xe(r);break}}Rt.lights[e.getAttribute("id")]=t}function xe(e){const t={};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"directional":case"point":case"spot":case"ambient":t.technique=r.nodeName,t.parameters=we(r)}}return t}function we(e){const t={};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"color":const e=i(r.textContent);t.color=(new lr).fromArray(e).convertSRGBToLinear();break;case"falloff_angle":t.falloffAngle=parseFloat(r.textContent);break;case"quadratic_attenuation":const n=parseFloat(r.textContent);t.distance=n?Math.sqrt(1/n):0;break}}return t}function Se(e){let t;switch(e.technique){case"directional":t=new km;break;case"point":t=new Am;break;case"spot":t=new wm;break;case"ambient":t=new Rm;break}return e.parameters.color&&t.color.copy(e.parameters.color),e.parameters.distance&&(t.distance=e.parameters.distance),t}function Me(e){const t=Rt.lights[e];return void 0!==t?p(t,Se):(console.warn("THREE.ColladaLoader: Couldn't find light with ID:",e),null)}function Ee(e){const t={name:e.getAttribute("name"),sources:{},vertices:{},primitives:[]},r=n(e,"mesh")[0];if(void 0!==r){for(let e=0;e<r.childNodes.length;e++){const n=r.childNodes[e];if(1!==n.nodeType)continue;const i=n.getAttribute("id");switch(n.nodeName){case"source":t.sources[i]=Te(n);break;case"vertices":t.vertices=Ae(n);break;case"polygons":console.warn("THREE.ColladaLoader: Unsupported primitive type: ",n.nodeName);break;case"lines":case"linestrips":case"polylist":case"triangles":t.primitives.push(Ce(n));break;default:console.log(n)}}Rt.geometries[e.getAttribute("id")]=t}}function Te(e){const t={array:[],stride:3};for(let a=0;a<e.childNodes.length;a++){const o=e.childNodes[a];if(1===o.nodeType)switch(o.nodeName){case"float_array":t.array=i(o.textContent);break;case"Name_array":t.array=r(o.textContent);break;case"technique_common":const e=n(o,"accessor")[0];void 0!==e&&(t.stride=parseInt(e.getAttribute("stride")));break}}return t}function Ae(e){const t={};for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];1===r.nodeType&&(t[r.getAttribute("semantic")]=o(r.getAttribute("source")))}return t}function Ce(e){const t={type:e.nodeName,material:e.getAttribute("material"),count:parseInt(e.getAttribute("count")),inputs:{},stride:0,hasUV:!1};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"input":const e=o(r.getAttribute("source")),n=r.getAttribute("semantic"),i=parseInt(r.getAttribute("offset")),s=parseInt(r.getAttribute("set")),l=s>0?n+s:n;t.inputs[l]={id:e,offset:i},t.stride=Math.max(t.stride,i+1),"TEXCOORD"===n&&(t.hasUV=!0);break;case"vcount":t.vcount=a(r.textContent);break;case"p":t.p=a(r.textContent);break}}return t}function ke(e){const t={};for(let n=0;n<e.length;n++){const r=e[n];void 0===t[r.type]&&(t[r.type]=[]),t[r.type].push(r)}return t}function Re(e){let t=0;for(let n=0,r=e.length;n<r;n++){const r=e[n];!0===r.hasUV&&t++}t>0&&t<e.length&&(e.uvsNeedsFix=!0)}function Le(e){const t={},n=e.sources,r=e.vertices,i=e.primitives;if(0===i.length)return{};const a=ke(i);for(const o in a){const e=a[o];Re(e),t[o]=Ie(e,n,r)}return t}function Ie(e,t,n){const r={},i={array:[],stride:0},a={array:[],stride:0},o={array:[],stride:0},s={array:[],stride:0},l={array:[],stride:0},c={array:[],stride:4},u={array:[],stride:4},d=new oa,h=[];let f=0;for(let p=0;p<e.length;p++){const r=e[p],m=r.inputs;let v=0;switch(r.type){case"lines":case"linestrips":v=2*r.count;break;case"triangles":v=3*r.count;break;case"polylist":for(let e=0;e<r.count;e++){const t=r.vcount[e];switch(t){case 3:v+=3;break;case 4:v+=6;break;default:v+=3*(t-2);break}}break;default:console.warn("THREE.ColladaLoader: Unknow primitive type:",r.type)}d.addGroup(f,v,p),f+=v,r.material&&h.push(r.material);for(const d in m){const h=m[d];switch(d){case"VERTEX":for(const d in n){const f=n[d];switch(d){case"POSITION":const n=i.array.length;if(Pe(r,t[f],h.offset,i.array),i.stride=t[f].stride,t.skinWeights&&t.skinIndices&&(Pe(r,t.skinIndices,h.offset,c.array),Pe(r,t.skinWeights,h.offset,u.array)),!1===r.hasUV&&!0===e.uvsNeedsFix){const e=(i.array.length-n)/i.stride;for(let t=0;t<e;t++)o.array.push(0,0)}break;case"NORMAL":Pe(r,t[f],h.offset,a.array),a.stride=t[f].stride;break;case"COLOR":Pe(r,t[f],h.offset,l.array),l.stride=t[f].stride;break;case"TEXCOORD":Pe(r,t[f],h.offset,o.array),o.stride=t[f].stride;break;case"TEXCOORD1":Pe(r,t[f],h.offset,s.array),o.stride=t[f].stride;break;default:console.warn('THREE.ColladaLoader: Semantic "%s" not handled in geometry build process.',d)}}break;case"NORMAL":Pe(r,t[h.id],h.offset,a.array),a.stride=t[h.id].stride;break;case"COLOR":Pe(r,t[h.id],h.offset,l.array,!0),l.stride=t[h.id].stride;break;case"TEXCOORD":Pe(r,t[h.id],h.offset,o.array),o.stride=t[h.id].stride;break;case"TEXCOORD1":Pe(r,t[h.id],h.offset,s.array),s.stride=t[h.id].stride;break}}}return i.array.length>0&&d.setAttribute("position",new Ki(i.array,i.stride)),a.array.length>0&&d.setAttribute("normal",new Ki(a.array,a.stride)),l.array.length>0&&d.setAttribute("color",new Ki(l.array,l.stride)),o.array.length>0&&d.setAttribute("uv",new Ki(o.array,o.stride)),s.array.length>0&&d.setAttribute("uv2",new Ki(s.array,s.stride)),c.array.length>0&&d.setAttribute("skinIndex",new Ki(c.array,c.stride)),u.array.length>0&&d.setAttribute("skinWeight",new Ki(u.array,u.stride)),r.data=d,r.type=e[0].type,r.materialKeys=h,r}function Pe(e,t,n,r,i=!1){const a=e.p,o=e.stride,s=e.vcount;function l(e){let t=a[e+n]*u;const o=t+u;for(;t<o;t++)r.push(c[t]);if(i){const e=r.length-u-1;Tt.setRGB(r[e+0],r[e+1],r[e+2]).convertSRGBToLinear(),r[e+0]=Tt.r,r[e+1]=Tt.g,r[e+2]=Tt.b}}const c=t.array,u=t.stride;if(void 0!==e.vcount){let e=0;for(let t=0,n=s.length;t<n;t++){const n=s[t];if(4===n){const t=e+0*o,n=e+1*o,r=e+2*o,i=e+3*o;l(t),l(n),l(i),l(n),l(r),l(i)}else if(3===n){const t=e+0*o,n=e+1*o,r=e+2*o;l(t),l(n),l(r)}else if(n>4)for(let t=1,r=n-2;t<=r;t++){const n=e+0*o,r=e+o*t,i=e+o*(t+1);l(n),l(r),l(i)}e+=o*n}}else for(let d=0,h=a.length;d<h;d+=o)l(d)}function De(e){return p(Rt.geometries[e],Le)}function Oe(e){const t={name:e.getAttribute("name")||"",joints:{},links:[]};for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"technique_common":Be(r,t);break}}Rt.kinematicsModels[e.getAttribute("id")]=t}function Ne(e){return void 0!==e.build?e.build:e}function Fe(e){return p(Rt.kinematicsModels[e],Ne)}function Be(e,t){for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"joint":t.joints[r.getAttribute("sid")]=Ve(r);break;case"link":t.links.push(ze(r));break}}}function Ve(e){let t;for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"prismatic":case"revolute":t=Ue(r);break}}return t}function Ue(e){const t={sid:e.getAttribute("sid"),name:e.getAttribute("name")||"",axis:new Sr,limits:{min:0,max:0},type:e.nodeName,static:!1,zeroPosition:0,middlePosition:0};for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"axis":const e=i(r.textContent);t.axis.fromArray(e);break;case"limits":const n=r.getElementsByTagName("max")[0],a=r.getElementsByTagName("min")[0];t.limits.max=parseFloat(n.textContent),t.limits.min=parseFloat(a.textContent);break}}return t.limits.min>=t.limits.max&&(t.static=!0),t.middlePosition=(t.limits.min+t.limits.max)/2,t}function ze(e){const t={sid:e.getAttribute("sid"),name:e.getAttribute("name")||"",attachments:[],transforms:[]};for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"attachment_full":t.attachments.push(He(r));break;case"matrix":case"translate":case"rotate":t.transforms.push(We(r));break}}return t}function He(e){const t={joint:e.getAttribute("joint").split("/").pop(),transforms:[],links:[]};for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"link":t.links.push(ze(r));break;case"matrix":case"translate":case"rotate":t.transforms.push(We(r));break}}return t}function We(e){const t={type:e.nodeName},n=i(e.textContent);switch(t.type){case"matrix":t.obj=new ei,t.obj.fromArray(n).transpose();break;case"translate":t.obj=new Sr,t.obj.fromArray(n);break;case"rotate":t.obj=new Sr,t.obj.fromArray(n),t.angle=Gn.degToRad(n[3]);break}return t}function je(e){const t={name:e.getAttribute("name")||"",rigidBodies:{}};for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"rigid_body":t.rigidBodies[r.getAttribute("name")]={},Ge(r,t.rigidBodies[r.getAttribute("name")]);break}}Rt.physicsModels[e.getAttribute("id")]=t}function Ge(e,t){for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"technique_common":Ye(r,t);break}}}function Ye(e,t){for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"inertia":t.inertia=i(r.textContent);break;case"mass":t.mass=i(r.textContent)[0];break}}}function $e(e){const t={bindJointAxis:[]};for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"bind_joint_axis":t.bindJointAxis.push(qe(r));break}}Rt.kinematicsScenes[o(e.getAttribute("url"))]=t}function qe(e){const t={target:e.getAttribute("target").split("/").pop()};for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"axis":const e=r.getElementsByTagName("param")[0];t.axis=e.textContent;const n=t.axis.split("inst_").pop().split("axis")[0];t.jointIndex=n.substring(0,n.length-1);break}}return t}function Xe(e){return void 0!==e.build?e.build:e}function Ze(e){return p(Rt.kinematicsScenes[e],Xe)}function Ke(){const e=Object.keys(Rt.kinematicsModels)[0],t=Object.keys(Rt.kinematicsScenes)[0],n=Object.keys(Rt.visualScenes)[0];if(void 0===e||void 0===t)return;const r=Fe(e),i=Ze(t),a=mt(n),o=i.bindJointAxis,s={};for(let u=0,d=o.length;u<d;u++){const e=o[u],t=bt.querySelector('[sid="'+e.target+'"]');if(t){const n=t.parentElement;l(e.jointIndex,n)}}function l(e,t){const n=t.getAttribute("name"),i=r.joints[e];a.traverse((function(r){r.name===n&&(s[e]={object:r,transforms:Je(t),joint:i,position:i.zeroPosition})}))}const c=new ei;Ct={joints:r&&r.joints,getJointValue:function(e){const t=s[e];if(t)return t.position;console.warn("THREE.ColladaLoader: Joint "+e+" doesn't exist.")},setJointValue:function(e,t){const n=s[e];if(n){const r=n.joint;if(t>r.limits.max||t<r.limits.min)console.warn("THREE.ColladaLoader: Joint "+e+" value "+t+" outside of limits (min: "+r.limits.min+", max: "+r.limits.max+").");else if(r.static)console.warn("THREE.ColladaLoader: Joint "+e+" is static.");else{const i=n.object,a=r.axis,o=n.transforms;et.identity();for(let n=0;n<o.length;n++){const i=o[n];if(i.sid&&-1!==i.sid.indexOf(e))switch(r.type){case"revolute":et.multiply(c.makeRotationAxis(a,Gn.degToRad(t)));break;case"prismatic":et.multiply(c.makeTranslation(a.x*t,a.y*t,a.z*t));break;default:console.warn("THREE.ColladaLoader: Unknown joint type: "+r.type);break}else switch(i.type){case"matrix":et.multiply(i.obj);break;case"translate":et.multiply(c.makeTranslation(i.obj.x,i.obj.y,i.obj.z));break;case"scale":et.scale(i.obj);break;case"rotate":et.multiply(c.makeRotationAxis(i.obj,i.angle));break}}i.matrix.copy(et),i.matrix.decompose(i.position,i.quaternion,i.scale),s[e].position=t}}else console.log("THREE.ColladaLoader: "+e+" does not exist.")}}}function Je(e){const t=[],n=bt.querySelector('[id="'+e.id+'"]');for(let r=0;r<n.childNodes.length;r++){const e=n.childNodes[r];if(1!==e.nodeType)continue;let a,o;switch(e.nodeName){case"matrix":a=i(e.textContent);const n=(new ei).fromArray(a).transpose();t.push({sid:e.getAttribute("sid"),type:e.nodeName,obj:n});break;case"translate":case"scale":a=i(e.textContent),o=(new Sr).fromArray(a),t.push({sid:e.getAttribute("sid"),type:e.nodeName,obj:o});break;case"rotate":a=i(e.textContent),o=(new Sr).fromArray(a);const r=Gn.degToRad(a[3]);t.push({sid:e.getAttribute("sid"),type:e.nodeName,obj:o,angle:r});break}}return t}function Qe(e){const t=e.getElementsByTagName("node");for(let n=0;n<t.length;n++){const e=t[n];!1===e.hasAttribute("id")&&e.setAttribute("id",s())}}const et=new ei,tt=new Sr;function nt(e){const t={name:e.getAttribute("name")||"",type:e.getAttribute("type"),id:e.getAttribute("id"),sid:e.getAttribute("sid"),matrix:new ei,nodes:[],instanceCameras:[],instanceControllers:[],instanceLights:[],instanceGeometries:[],instanceNodes:[],transforms:{}};for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];if(1!==r.nodeType)continue;let a;switch(r.nodeName){case"node":t.nodes.push(r.getAttribute("id")),nt(r);break;case"instance_camera":t.instanceCameras.push(o(r.getAttribute("url")));break;case"instance_controller":t.instanceControllers.push(rt(r));break;case"instance_light":t.instanceLights.push(o(r.getAttribute("url")));break;case"instance_geometry":t.instanceGeometries.push(rt(r));break;case"instance_node":t.instanceNodes.push(o(r.getAttribute("url")));break;case"matrix":a=i(r.textContent),t.matrix.multiply(et.fromArray(a).transpose()),t.transforms[r.getAttribute("sid")]=r.nodeName;break;case"translate":a=i(r.textContent),tt.fromArray(a),t.matrix.multiply(et.makeTranslation(tt.x,tt.y,tt.z)),t.transforms[r.getAttribute("sid")]=r.nodeName;break;case"rotate":a=i(r.textContent);const e=Gn.degToRad(a[3]);t.matrix.multiply(et.makeRotationAxis(tt.fromArray(a),e)),t.transforms[r.getAttribute("sid")]=r.nodeName;break;case"scale":a=i(r.textContent),t.matrix.scale(tt.fromArray(a)),t.transforms[r.getAttribute("sid")]=r.nodeName;break;case"extra":break;default:console.log(r)}}return ut(t.id)?console.warn("THREE.ColladaLoader: There is already a node with ID %s. Exclude current node from further processing.",t.id):Rt.nodes[t.id]=t,t}function rt(e){const t={id:o(e.getAttribute("url")),materials:{},skeletons:[]};for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];switch(r.nodeName){case"bind_material":const e=r.getElementsByTagName("instance_material");for(let n=0;n<e.length;n++){const r=e[n],i=r.getAttribute("symbol"),a=r.getAttribute("target");t.materials[i]=o(a)}break;case"skeleton":t.skeletons.push(o(r.textContent));break}}return t}function it(e,t){const n=[],r=[];let i,a,o;for(i=0;i<e.length;i++){const r=e[i];let a;if(ut(r))a=dt(r),at(a,t,n);else if(pt(r)){const e=Rt.visualScenes[r],i=e.children;for(let r=0;r<i.length;r++){const e=i[r];if("JOINT"===e.type){const r=dt(e.id);at(r,t,n)}}}else console.error("THREE.ColladaLoader: Unable to find root bone of skeleton with ID:",r)}for(i=0;i<t.length;i++)for(a=0;a<n.length;a++)if(o=n[a],o.bone.name===t[i].name){r[i]=o,o.processed=!0;break}for(i=0;i<n.length;i++)o=n[i],!1===o.processed&&(r.push(o),o.processed=!0);const s=[],l=[];for(i=0;i<r.length;i++)o=r[i],s.push(o.bone),l.push(o.boneInverse);return new sh(s,l)}function at(e,t,n){e.traverse((function(e){if(!0===e.isBone){let r;for(let n=0;n<t.length;n++){const i=t[n];if(i.name===e.name){r=i.boneInverse;break}}void 0===r&&(r=new ei),n.push({bone:e,boneInverse:r,processed:!1})}}))}function ot(e){const t=[],n=e.matrix,r=e.nodes,i=e.type,a=e.instanceCameras,o=e.instanceControllers,s=e.instanceLights,l=e.instanceGeometries,c=e.instanceNodes;for(let d=0,h=r.length;d<h;d++)t.push(dt(r[d]));for(let d=0,h=a.length;d<h;d++){const e=ye(a[d]);null!==e&&t.push(e.clone())}for(let d=0,h=o.length;d<h;d++){const e=o[d],n=H(e.id),r=De(n.id),i=ct(r,e.materials),a=e.skeletons,s=n.skin.joints,l=it(a,s);for(let o=0,c=i.length;o<c;o++){const e=i[o];e.isSkinnedMesh&&(e.bind(l,n.skin.bindMatrix),e.normalizeSkinWeights()),t.push(e)}}for(let d=0,h=s.length;d<h;d++){const e=Me(s[d]);null!==e&&t.push(e.clone())}for(let d=0,h=l.length;d<h;d++){const e=l[d],n=De(e.id),r=ct(n,e.materials);for(let i=0,a=r.length;i<a;i++)t.push(r[i])}for(let d=0,h=c.length;d<h;d++)t.push(dt(c[d]).clone());let u;if(0===r.length&&1===t.length)u=t[0];else{u="JOINT"===i?new rh:new vd;for(let e=0;e<t.length;e++)u.add(t[e])}return u.name="JOINT"===i?e.sid:e.name,u.matrix.copy(n),u.matrix.decompose(u.position,u.quaternion,u.scale),u}const st=new Vi({color:16711935});function lt(e,t){const n=[];for(let r=0,i=e.length;r<i;r++){const i=t[e[r]];void 0===i?(console.warn("THREE.ColladaLoader: Material with key %s not found. Apply fallback material.",e[r]),n.push(st)):n.push(de(i))}return n}function ct(e,t){const n=[];for(const r in e){const i=e[r],a=lt(i.materialKeys,t);0===a.length&&("lines"===r||"linestrips"===r?a.push(new ph):a.push(new Tp));const o=void 0!==i.data.attributes.skinIndex,s=1===a.length?a[0]:a;let l;switch(r){case"lines":l=new Sh(i.data,s);break;case"linestrips":l=new bh(i.data,s);break;case"triangles":case"polylist":l=o?new nh(i.data,s):new Ma(i.data,s);break}n.push(l)}return n}function ut(e){return void 0!==Rt.nodes[e]}function dt(e){return p(Rt.nodes[e],ot)}function ht(e){const t={name:e.getAttribute("name"),children:[]};Qe(e);const r=n(e,"node");for(let n=0;n<r.length;n++)t.children.push(nt(r[n]));Rt.visualScenes[e.getAttribute("id")]=t}function ft(e){const t=new vd;t.name=e.name;const n=e.children;for(let r=0;r<n.length;r++){const e=n[r];t.add(dt(e.id))}return t}function pt(e){return void 0!==Rt.visualScenes[e]}function mt(e){return p(Rt.visualScenes[e],ft)}function vt(e){const t=n(e,"instance_visual_scene")[0];return mt(o(t.getAttribute("url")))}function gt(){const e=Rt.clips;if(!0===l(e)){if(!1===l(Rt.animations)){const e=[];for(const t in Rt.animations){const n=x(t);for(let t=0,r=n.length;t<r;t++)e.push(n[t])}At.push(new Qp("default",-1,e))}}else for(const t in e)At.push(O(t))}function _t(e){let t="";const n=[e];while(n.length){const e=n.shift();e.nodeType===Node.TEXT_NODE?t+=e.textContent:(t+="\n",n.push.apply(n,e.childNodes))}return t.trim()}if(0===e.length)return{scene:new Cd};const yt=(new DOMParser).parseFromString(e,"application/xml"),bt=n(yt,"COLLADA")[0],xt=yt.getElementsByTagName("parsererror")[0];if(void 0!==xt){const e=n(xt,"div")[0];let t;return t=e?e.textContent:_t(xt),console.error("THREE.ColladaLoader: Failed to parse collada file.\n",t),null}const wt=bt.getAttribute("version");console.log("THREE.ColladaLoader: File version",wt);const St=c(n(bt,"asset")[0]),Mt=new pm(this.manager);let Et;Mt.setPath(this.resourcePath||t).setCrossOrigin(this.crossOrigin),Gb&&(Et=new Gb(this.manager),Et.setPath(this.resourcePath||t));const Tt=new lr,At=[];let Ct={},kt=0;const Rt={animations:{},clips:{},controllers:{},images:{},effects:{},materials:{},cameras:{},lights:{},geometries:{},nodes:{},visualScenes:{},kinematicsModels:{},physicsModels:{},kinematicsScenes:{}};h(bt,"library_animations","animation",m),h(bt,"library_animation_clips","animation_clip",P),h(bt,"library_controllers","controller",N),h(bt,"library_images","image",W),h(bt,"library_effects","effect",Y),h(bt,"library_materials","material",le),h(bt,"library_cameras","camera",pe),h(bt,"library_lights","light",be),h(bt,"library_geometries","geometry",Ee),h(bt,"library_nodes","node",nt),h(bt,"library_visual_scenes","visual_scene",ht),h(bt,"library_kinematics_models","kinematics_model",Oe),h(bt,"library_physics_models","physics_model",je),h(bt,"scene","instance_kinematics_scene",$e),f(Rt.animations,b),f(Rt.clips,D),f(Rt.controllers,U),f(Rt.images,j),f(Rt.effects,oe),f(Rt.materials,ue),f(Rt.cameras,_e),f(Rt.lights,Se),f(Rt.geometries,Le),f(Rt.visualScenes,ft),gt(),Ke();const Lt=vt(n(bt,"scene")[0]);return Lt.animations=At,"Z_UP"===St.upAxis&&(console.warn("THREE.ColladaLoader: You are loading an asset with a Z-UP coordinate system. The loader just rotates the asset to transform it into Y-UP. The vertex data are not converted, see #24289."),Lt.quaternion.setFromEuler(new ui(-Math.PI/2,0,0))),Lt.scale.multiplyScalar(St.unit),{get animations(){return console.warn("THREE.ColladaLoader: Please access animations over scene.animations now."),At},kinematics:Ct,library:Rt,scene:Lt}}}class $b extends am{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register((function(e){return new Qb(e)})),this.register((function(e){return new ox(e)})),this.register((function(e){return new sx(e)})),this.register((function(e){return new tx(e)})),this.register((function(e){return new nx(e)})),this.register((function(e){return new rx(e)})),this.register((function(e){return new ix(e)})),this.register((function(e){return new Jb(e)})),this.register((function(e){return new ax(e)})),this.register((function(e){return new ex(e)})),this.register((function(e){return new Zb(e)})),this.register((function(e){return new lx(e)}))}load(e,t,n,r){const i=this;let a;a=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:Om.extractUrlBase(e),this.manager.itemStart(e);const o=function(t){r?r(t):console.error(t),i.manager.itemError(e),i.manager.itemEnd(e)},s=new lm(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,(function(n){try{i.parse(n,a,(function(n){t(n),i.manager.itemEnd(e)}),o)}catch(Aw){o(Aw)}}),n,o)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}unregister(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,n,r){let i;const a={},o={};if("string"===typeof e)i=e;else{const t=Om.decodeText(new Uint8Array(e,0,4));if(t===cx){try{a[Xb.KHR_BINARY_GLTF]=new hx(e)}catch(c){return void(r&&r(c))}i=a[Xb.KHR_BINARY_GLTF].content}else i=Om.decodeText(new Uint8Array(e))}const s=JSON.parse(i);if(void 0===s.asset||s.asset.version[0]<2)return void(r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const l=new Vx(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const e=this.pluginCallbacks[u](l);o[e.name]=e,a[e.name]=!0}if(s.extensionsUsed)for(let u=0;u<s.extensionsUsed.length;++u){const e=s.extensionsUsed[u],t=s.extensionsRequired||[];switch(e){case Xb.KHR_MATERIALS_UNLIT:a[e]=new Kb;break;case Xb.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:a[e]=new vx;break;case Xb.KHR_DRACO_MESH_COMPRESSION:a[e]=new fx(s,this.dracoLoader);break;case Xb.KHR_TEXTURE_TRANSFORM:a[e]=new px;break;case Xb.KHR_MESH_QUANTIZATION:a[e]=new gx;break;default:t.indexOf(e)>=0&&void 0===o[e]&&console.warn('THREE.GLTFLoader: Unknown extension "'+e+'".')}}l.setExtensions(a),l.setPlugins(o),l.parse(n,r)}parseAsync(e,t){const n=this;return new Promise((function(r,i){n.parse(e,t,r,i)}))}}function qb(){let e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}const Xb={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class Zb{constructor(e){this.parser=e,this.name=Xb.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let n=0,r=t.length;n<r;n++){const r=t[n];r.extensions&&r.extensions[this.name]&&void 0!==r.extensions[this.name].light&&e._addNodeRef(this.cache,r.extensions[this.name].light)}}_loadLight(e){const t=this.parser,n="light:"+e;let r=t.cache.get(n);if(r)return r;const i=t.json,a=i.extensions&&i.extensions[this.name]||{},o=a.lights||[],s=o[e];let l;const c=new lr(16777215);void 0!==s.color&&c.fromArray(s.color);const u=void 0!==s.range?s.range:0;switch(s.type){case"directional":l=new km(c),l.target.position.set(0,0,-1),l.add(l.target);break;case"point":l=new Am(c),l.distance=u;break;case"spot":l=new wm(c),l.distance=u,s.spot=s.spot||{},s.spot.innerConeAngle=void 0!==s.spot.innerConeAngle?s.spot.innerConeAngle:0,s.spot.outerConeAngle=void 0!==s.spot.outerConeAngle?s.spot.outerConeAngle:Math.PI/4,l.angle=s.spot.outerConeAngle,l.penumbra=1-s.spot.innerConeAngle/s.spot.outerConeAngle,l.target.position.set(0,0,-1),l.add(l.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+s.type)}return l.position.set(0,0,0),l.decay=2,void 0!==s.intensity&&(l.intensity=s.intensity),l.name=t.createUniqueName(s.name||"light_"+e),r=Promise.resolve(l),t.cache.add(n,r),r}createNodeAttachment(e){const t=this,n=this.parser,r=n.json,i=r.nodes[e],a=i.extensions&&i.extensions[this.name]||{},o=a.light;return void 0===o?null:this._loadLight(o).then((function(e){return n._getNodeRef(t.cache,o,e)}))}}class Kb{constructor(){this.name=Xb.KHR_MATERIALS_UNLIT}getMaterialType(){return Vi}extendParams(e,t,n){const r=[];e.color=new lr(1,1,1),e.opacity=1;const i=t.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){const t=i.baseColorFactor;e.color.fromArray(t),e.opacity=t[3]}void 0!==i.baseColorTexture&&r.push(n.assignTexture(e,"map",i.baseColorTexture,Ot))}return Promise.all(r)}}class Jb{constructor(e){this.parser=e,this.name=Xb.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=r.extensions[this.name].emissiveStrength;return void 0!==i&&(t.emissiveIntensity=i),Promise.resolve()}}class Qb{constructor(e){this.parser=e,this.name=Xb.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const t=this.parser,n=t.json.materials[e];return n.extensions&&n.extensions[this.name]?Ep:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],a=r.extensions[this.name];if(void 0!==a.clearcoatFactor&&(t.clearcoat=a.clearcoatFactor),void 0!==a.clearcoatTexture&&i.push(n.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),void 0!==a.clearcoatRoughnessFactor&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),void 0!==a.clearcoatRoughnessTexture&&i.push(n.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),void 0!==a.clearcoatNormalTexture&&(i.push(n.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),void 0!==a.clearcoatNormalTexture.scale)){const e=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Yn(e,e)}return Promise.all(i)}}class ex{constructor(e){this.parser=e,this.name=Xb.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const t=this.parser,n=t.json.materials[e];return n.extensions&&n.extensions[this.name]?Ep:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],a=r.extensions[this.name];return void 0!==a.iridescenceFactor&&(t.iridescence=a.iridescenceFactor),void 0!==a.iridescenceTexture&&i.push(n.assignTexture(t,"iridescenceMap",a.iridescenceTexture)),void 0!==a.iridescenceIor&&(t.iridescenceIOR=a.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==a.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),void 0!==a.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),void 0!==a.iridescenceThicknessTexture&&i.push(n.assignTexture(t,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(i)}}class tx{constructor(e){this.parser=e,this.name=Xb.KHR_MATERIALS_SHEEN}getMaterialType(e){const t=this.parser,n=t.json.materials[e];return n.extensions&&n.extensions[this.name]?Ep:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[];t.sheenColor=new lr(0,0,0),t.sheenRoughness=0,t.sheen=1;const a=r.extensions[this.name];return void 0!==a.sheenColorFactor&&t.sheenColor.fromArray(a.sheenColorFactor),void 0!==a.sheenRoughnessFactor&&(t.sheenRoughness=a.sheenRoughnessFactor),void 0!==a.sheenColorTexture&&i.push(n.assignTexture(t,"sheenColorMap",a.sheenColorTexture,Ot)),void 0!==a.sheenRoughnessTexture&&i.push(n.assignTexture(t,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(i)}}class nx{constructor(e){this.parser=e,this.name=Xb.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const t=this.parser,n=t.json.materials[e];return n.extensions&&n.extensions[this.name]?Ep:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],a=r.extensions[this.name];return void 0!==a.transmissionFactor&&(t.transmission=a.transmissionFactor),void 0!==a.transmissionTexture&&i.push(n.assignTexture(t,"transmissionMap",a.transmissionTexture)),Promise.all(i)}}class rx{constructor(e){this.parser=e,this.name=Xb.KHR_MATERIALS_VOLUME}getMaterialType(e){const t=this.parser,n=t.json.materials[e];return n.extensions&&n.extensions[this.name]?Ep:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],a=r.extensions[this.name];t.thickness=void 0!==a.thicknessFactor?a.thicknessFactor:0,void 0!==a.thicknessTexture&&i.push(n.assignTexture(t,"thicknessMap",a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||0;const o=a.attenuationColor||[1,1,1];return t.attenuationColor=new lr(o[0],o[1],o[2]),Promise.all(i)}}class ix{constructor(e){this.parser=e,this.name=Xb.KHR_MATERIALS_IOR}getMaterialType(e){const t=this.parser,n=t.json.materials[e];return n.extensions&&n.extensions[this.name]?Ep:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=r.extensions[this.name];return t.ior=void 0!==i.ior?i.ior:1.5,Promise.resolve()}}class ax{constructor(e){this.parser=e,this.name=Xb.KHR_MATERIALS_SPECULAR}getMaterialType(e){const t=this.parser,n=t.json.materials[e];return n.extensions&&n.extensions[this.name]?Ep:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],a=r.extensions[this.name];t.specularIntensity=void 0!==a.specularFactor?a.specularFactor:1,void 0!==a.specularTexture&&i.push(n.assignTexture(t,"specularIntensityMap",a.specularTexture));const o=a.specularColorFactor||[1,1,1];return t.specularColor=new lr(o[0],o[1],o[2]),void 0!==a.specularColorTexture&&i.push(n.assignTexture(t,"specularColorMap",a.specularColorTexture,Ot)),Promise.all(i)}}class ox{constructor(e){this.parser=e,this.name=Xb.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const i=r.extensions[this.name],a=t.options.ktx2Loader;if(!a){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,i.source,a)}}class sx{constructor(e){this.parser=e,this.name=Xb.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[t])return null;const a=i.extensions[t],o=r.images[a.source];let s=n.textureLoader;if(o.uri){const e=n.options.manager.getHandler(o.uri);null!==e&&(s=e)}return this.detectSupport().then((function(i){if(i)return n.loadTextureImage(e,a.source,s);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)}))}detectSupport(){return this.isSupported||(this.isSupported=new Promise((function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}class lx{constructor(e){this.name=Xb.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){const e=n.extensions[this.name],r=this.parser.getDependency("buffer",e.buffer),i=this.parser.options.meshoptDecoder;if(!i||!i.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([r,i.ready]).then((function(t){const n=e.byteOffset||0,r=e.byteLength||0,a=e.count,o=e.byteStride,s=new ArrayBuffer(a*o),l=new Uint8Array(t[0],n,r);return i.decodeGltfBuffer(new Uint8Array(s),a,o,l,e.mode,e.filter),s}))}return null}}const cx="glTF",ux=12,dx={JSON:1313821514,BIN:5130562};class hx{constructor(e){this.name=Xb.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,ux);if(this.header={magic:Om.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==cx)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const n=this.header.length-ux,r=new DataView(e,ux);let i=0;while(i<n){const t=r.getUint32(i,!0);i+=4;const n=r.getUint32(i,!0);if(i+=4,n===dx.JSON){const n=new Uint8Array(e,ux+i,t);this.content=Om.decodeText(n)}else if(n===dx.BIN){const n=ux+i;this.body=e.slice(n,n+t)}i+=t}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class fx{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Xb.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const n=this.json,r=this.dracoLoader,i=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,o={},s={},l={};for(const c in a){const e=Tx[c]||c.toLowerCase();o[e]=a[c]}for(const c in e.attributes){const t=Tx[c]||c.toLowerCase();if(void 0!==a[c]){const r=n.accessors[e.attributes[c]],i=wx[r.componentType];l[t]=i,s[t]=!0===r.normalized}}return t.getDependency("bufferView",i).then((function(e){return new Promise((function(t){r.decodeDracoFile(e,(function(e){for(const t in e.attributes){const n=e.attributes[t],r=s[t];void 0!==r&&(n.normalized=r)}t(e)}),o,l)}))}))}}class px{constructor(){this.name=Xb.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),void 0===t.offset&&void 0===t.rotation&&void 0===t.scale||(e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class mx extends Mp{constructor(e){super(),this.isGLTFSpecularGlossinessMaterial=!0;const t=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),n=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),r=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),i=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),a=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),o={specular:{value:(new lr).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=o,this.onBeforeCompile=function(e){for(const t in o)e.uniforms[t]=o[t];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",t).replace("#include <metalnessmap_pars_fragment>",n).replace("#include <roughnessmap_fragment>",r).replace("#include <metalnessmap_fragment>",i).replace("#include <lights_physical_fragment>",a)},Object.defineProperties(this,{specular:{get:function(){return o.specular.value},set:function(e){o.specular.value=e}},specularMap:{get:function(){return o.specularMap.value},set:function(e){o.specularMap.value=e,e?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return o.glossiness.value},set:function(e){o.glossiness.value=e}},glossinessMap:{get:function(){return o.glossinessMap.value},set:function(e){o.glossinessMap.value=e,e?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}copy(e){return super.copy(e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class vx{constructor(){this.name=Xb.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity"]}getMaterialType(){return mx}extendParams(e,t,n){const r=t.extensions[this.name];e.color=new lr(1,1,1),e.opacity=1;const i=[];if(Array.isArray(r.diffuseFactor)){const t=r.diffuseFactor;e.color.fromArray(t),e.opacity=t[3]}if(void 0!==r.diffuseTexture&&i.push(n.assignTexture(e,"map",r.diffuseTexture,Ot)),e.emissive=new lr(0,0,0),e.glossiness=void 0!==r.glossinessFactor?r.glossinessFactor:1,e.specular=new lr(1,1,1),Array.isArray(r.specularFactor)&&e.specular.fromArray(r.specularFactor),void 0!==r.specularGlossinessTexture){const t=r.specularGlossinessTexture;i.push(n.assignTexture(e,"glossinessMap",t)),i.push(n.assignTexture(e,"specularMap",t,Ot))}return Promise.all(i)}createMaterial(e){const t=new mx(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=void 0===e.emissiveIntensity?1:e.emissiveIntensity,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=Bt,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t}}class gx{constructor(){this.name=Xb.KHR_MESH_QUANTIZATION}}class _x extends zp{constructor(e,t,n,r){super(e,t,n,r)}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r*3+r;for(let a=0;a!==r;a++)t[a]=n[i+a];return t}interpolate_(e,t,n,r){const i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=2*o,l=3*o,c=r-t,u=(n-t)/c,d=u*u,h=d*u,f=e*l,p=f-l,m=-2*h+3*d,v=h-d,g=1-m,_=v-d+u;for(let y=0;y!==o;y++){const e=a[p+y+o],t=a[p+y+s]*c,n=a[f+y+o],r=a[f+y]*c;i[y]=g*e+_*t+m*n+v*r}return i}}const yx=new wr;class bx extends _x{interpolate_(e,t,n,r){const i=super.interpolate_(e,t,n,r);return yx.fromArray(i).normalize().toArray(i),i}}const xx={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},wx={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Sx={9728:me,9729:be,9984:ve,9985:xe,9986:_e,9987:Se},Mx={33071:fe,33648:pe,10497:he},Ex={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Tx={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Ax={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Cx={CUBICSPLINE:void 0,LINEAR:Mt,STEP:St},kx={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Rx(e){return void 0===e["DefaultMaterial"]&&(e["DefaultMaterial"]=new Mp({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:v})),e["DefaultMaterial"]}function Lx(e,t,n){for(const r in n.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function Ix(e,t){void 0!==t.extras&&("object"===typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function Px(e,t,n){let r=!1,i=!1,a=!1;for(let c=0,u=t.length;c<u;c++){const e=t[c];if(void 0!==e.POSITION&&(r=!0),void 0!==e.NORMAL&&(i=!0),void 0!==e.COLOR_0&&(a=!0),r&&i&&a)break}if(!r&&!i&&!a)return Promise.resolve(e);const o=[],s=[],l=[];for(let c=0,u=t.length;c<u;c++){const u=t[c];if(r){const t=void 0!==u.POSITION?n.getDependency("accessor",u.POSITION):e.attributes.position;o.push(t)}if(i){const t=void 0!==u.NORMAL?n.getDependency("accessor",u.NORMAL):e.attributes.normal;s.push(t)}if(a){const t=void 0!==u.COLOR_0?n.getDependency("accessor",u.COLOR_0):e.attributes.color;l.push(t)}}return Promise.all([Promise.all(o),Promise.all(s),Promise.all(l)]).then((function(t){const n=t[0],o=t[1],s=t[2];return r&&(e.morphAttributes.position=n),i&&(e.morphAttributes.normal=o),a&&(e.morphAttributes.color=s),e.morphTargetsRelative=!0,e}))}function Dx(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(let n=0,r=t.weights.length;n<r;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){const n=t.extras.targetNames;if(e.morphTargetInfluences.length===n.length){e.morphTargetDictionary={};for(let t=0,r=n.length;t<r;t++)e.morphTargetDictionary[n[t]]=t}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Ox(e){const t=e.extensions&&e.extensions[Xb.KHR_DRACO_MESH_COMPRESSION];let n;return n=t?"draco:"+t.bufferView+":"+t.indices+":"+Nx(t.attributes):e.indices+":"+Nx(e.attributes)+":"+e.mode,n}function Nx(e){let t="";const n=Object.keys(e).sort();for(let r=0,i=n.length;r<i;r++)t+=n[r]+":"+e[n[r]]+";";return t}function Fx(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Bx(e){return e.search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/)?"image/jpeg":e.search(/\.webp($|\?)/i)>0||0===e.search(/^data\:image\/webp/)?"image/webp":"image/png"}class Vx{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new qb,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};const n=!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),r=navigator.userAgent.indexOf("Firefox")>-1,i=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1;"undefined"===typeof createImageBitmap||n||r&&i<98?this.textureLoader=new pm(this.options.manager):this.textureLoader=new Hm(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new lm(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const n=this,r=this.json,i=this.extensions;this.cache.removeAll(),this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])})).then((function(t){const a={scene:t[0][r.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:r.asset,parser:n,userData:{}};Lx(i,a,r),Ix(a,r),Promise.all(n._invokeAll((function(e){return e.afterRoot&&e.afterRoot(a)}))).then((function(){e(a)}))})).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[];for(let r=0,i=t.length;r<i;r++){const n=t[r].joints;for(let t=0,r=n.length;t<r;t++)e[n[t]].isBone=!0}for(let r=0,i=e.length;r<i;r++){const t=e[r];void 0!==t.mesh&&(this._addNodeRef(this.meshCache,t.mesh),void 0!==t.skin&&(n[t.mesh].isSkinnedMesh=!0)),void 0!==t.camera&&this._addNodeRef(this.cameraCache,t.camera)}}_addNodeRef(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,n){if(e.refs[t]<=1)return n;const r=n.clone(),i=(e,t)=>{const n=this.associations.get(e);null!=n&&this.associations.set(t,n);for(const[r,a]of e.children.entries())i(a,t.children[r])};return i(n,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let n=0;n<t.length;n++){const r=e(t[n]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const n=[];for(let r=0;r<t.length;r++){const i=e(t[r]);i&&n.push(i)}return n}getDependency(e,t){const n=e+":"+t;let r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this.loadNode(t);break;case"mesh":r=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":r=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne((function(e){return e.loadAnimation&&e.loadAnimation(t)}));break;case"camera":r=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(n,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const n=this,r=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(r.map((function(t,r){return n.getDependency(e,r)}))),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[Xb.KHR_BINARY_GLTF].body);const r=this.options;return new Promise((function(e,i){n.load(Om.resolveURL(t.uri,r.path),e,void 0,(function(){i(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){const n=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+n)}))}loadAccessor(e){const t=this,n=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse)return Promise.resolve(null);const i=[];return void 0!==r.bufferView?i.push(this.getDependency("bufferView",r.bufferView)):i.push(null),void 0!==r.sparse&&(i.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(i).then((function(e){const i=e[0],a=Ex[r.type],o=wx[r.componentType],s=o.BYTES_PER_ELEMENT,l=s*a,c=r.byteOffset||0,u=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,d=!0===r.normalized;let h,f;if(u&&u!==l){const e=Math.floor(c/u),n="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+e+":"+r.count;let l=t.cache.get(n);l||(h=new o(i,e*u,r.count*u/s),l=new kd(h,u/s),t.cache.add(n,l)),f=new Ld(l,a,c%u/s,d)}else h=null===i?new o(r.count*a):new o(i,c,r.count*a),f=new Hi(h,a,d);if(void 0!==r.sparse){const t=Ex.SCALAR,n=wx[r.sparse.indices.componentType],s=r.sparse.indices.byteOffset||0,l=r.sparse.values.byteOffset||0,c=new n(e[1],s,r.sparse.count*t),u=new o(e[2],l,r.sparse.count*a);null!==i&&(f=new Hi(f.array.slice(),f.itemSize,f.normalized));for(let e=0,r=c.length;e<r;e++){const t=c[e];if(f.setX(t,u[e*a]),a>=2&&f.setY(t,u[e*a+1]),a>=3&&f.setZ(t,u[e*a+2]),a>=4&&f.setW(t,u[e*a+3]),a>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return f}))}loadTexture(e){const t=this.json,n=this.options,r=t.textures[e],i=r.source,a=t.images[i];let o=this.textureLoader;if(a.uri){const e=n.manager.getHandler(a.uri);null!==e&&(o=e)}return this.loadTextureImage(e,i,o)}loadTextureImage(e,t,n){const r=this,i=this.json,a=i.textures[e],o=i.images[t],s=(o.uri||o.bufferView)+":"+a.sampler;if(this.textureCache[s])return this.textureCache[s];const l=this.loadImageSource(t,n).then((function(t){t.flipY=!1,a.name&&(t.name=a.name);const n=i.samplers||{},o=n[a.sampler]||{};return t.magFilter=Sx[o.magFilter]||be,t.minFilter=Sx[o.minFilter]||Se,t.wrapS=Mx[o.wrapS]||he,t.wrapT=Mx[o.wrapT]||he,r.associations.set(t,{textures:e}),t})).catch((function(){return null}));return this.textureCache[s]=l,l}loadImageSource(e,t){const n=this,r=this.json,i=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then((e=>e.clone()));const a=r.images[e],o=self.URL||self.webkitURL;let s=a.uri||"",l=!1;if(void 0!==a.bufferView)s=n.getDependency("bufferView",a.bufferView).then((function(e){l=!0;const t=new Blob([e],{type:a.mimeType});return s=o.createObjectURL(t),s}));else if(void 0===a.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const c=Promise.resolve(s).then((function(e){return new Promise((function(n,r){let a=n;!0===t.isImageBitmapLoader&&(a=function(e){const t=new pr(e);t.needsUpdate=!0,n(t)}),t.load(Om.resolveURL(e,i.path),a,void 0,r)}))})).then((function(e){return!0===l&&o.revokeObjectURL(s),e.userData.mimeType=a.mimeType||Bx(a.uri),e})).catch((function(e){throw console.error("THREE.GLTFLoader: Couldn't load texture",s),e}));return this.sourceCache[e]=c,c}assignTexture(e,t,n,r){const i=this;return this.getDependency("texture",n.index).then((function(a){if(void 0===n.texCoord||0==n.texCoord||"aoMap"===t&&1==n.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+n.texCoord+" for texture "+t+" not yet supported."),i.extensions[Xb.KHR_TEXTURE_TRANSFORM]){const e=void 0!==n.extensions?n.extensions[Xb.KHR_TEXTURE_TRANSFORM]:void 0;if(e){const t=i.associations.get(a);a=i.extensions[Xb.KHR_TEXTURE_TRANSFORM].extendTexture(a,e),i.associations.set(a,t)}}return void 0!==r&&(a.encoding=r),e[t]=a,a}))}assignFinalMaterial(e){const t=e.geometry;let n=e.material;const r=void 0===t.attributes.tangent,i=void 0!==t.attributes.color,a=void 0===t.attributes.normal;if(e.isPoints){const e="PointsMaterial:"+n.uuid;let t=this.cache.get(e);t||(t=new Eh,Bi.prototype.copy.call(t,n),t.color.copy(n.color),t.map=n.map,t.sizeAttenuation=!1,this.cache.add(e,t)),n=t}else if(e.isLine){const e="LineBasicMaterial:"+n.uuid;let t=this.cache.get(e);t||(t=new ph,Bi.prototype.copy.call(t,n),t.color.copy(n.color),this.cache.add(e,t)),n=t}if(r||i||a){let e="ClonedMaterial:"+n.uuid+":";n.isGLTFSpecularGlossinessMaterial&&(e+="specular-glossiness:"),r&&(e+="derivative-tangents:"),i&&(e+="vertex-colors:"),a&&(e+="flat-shading:");let t=this.cache.get(e);t||(t=n.clone(),i&&(t.vertexColors=!0),a&&(t.flatShading=!0),r&&(t.normalScale&&(t.normalScale.y*=-1),t.clearcoatNormalScale&&(t.clearcoatNormalScale.y*=-1)),this.cache.add(e,t),this.associations.set(t,this.associations.get(n))),n=t}n.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),e.material=n}getMaterialType(){return Mp}loadMaterial(e){const t=this,n=this.json,r=this.extensions,i=n.materials[e];let a;const o={},s=i.extensions||{},l=[];if(s[Xb.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const e=r[Xb.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];a=e.getMaterialType(),l.push(e.extendParams(o,i,t))}else if(s[Xb.KHR_MATERIALS_UNLIT]){const e=r[Xb.KHR_MATERIALS_UNLIT];a=e.getMaterialType(),l.push(e.extendParams(o,i,t))}else{const n=i.pbrMetallicRoughness||{};if(o.color=new lr(1,1,1),o.opacity=1,Array.isArray(n.baseColorFactor)){const e=n.baseColorFactor;o.color.fromArray(e),o.opacity=e[3]}void 0!==n.baseColorTexture&&l.push(t.assignTexture(o,"map",n.baseColorTexture,Ot)),o.metalness=void 0!==n.metallicFactor?n.metallicFactor:1,o.roughness=void 0!==n.roughnessFactor?n.roughnessFactor:1,void 0!==n.metallicRoughnessTexture&&(l.push(t.assignTexture(o,"metalnessMap",n.metallicRoughnessTexture)),l.push(t.assignTexture(o,"roughnessMap",n.metallicRoughnessTexture))),a=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),l.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,o)}))))}!0===i.doubleSided&&(o.side=_);const c=i.alphaMode||kx.OPAQUE;if(c===kx.BLEND?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,c===kx.MASK&&(o.alphaTest=void 0!==i.alphaCutoff?i.alphaCutoff:.5)),void 0!==i.normalTexture&&a!==Vi&&(l.push(t.assignTexture(o,"normalMap",i.normalTexture)),o.normalScale=new Yn(1,1),void 0!==i.normalTexture.scale)){const e=i.normalTexture.scale;o.normalScale.set(e,e)}return void 0!==i.occlusionTexture&&a!==Vi&&(l.push(t.assignTexture(o,"aoMap",i.occlusionTexture)),void 0!==i.occlusionTexture.strength&&(o.aoMapIntensity=i.occlusionTexture.strength)),void 0!==i.emissiveFactor&&a!==Vi&&(o.emissive=(new lr).fromArray(i.emissiveFactor)),void 0!==i.emissiveTexture&&a!==Vi&&l.push(t.assignTexture(o,"emissiveMap",i.emissiveTexture,Ot)),Promise.all(l).then((function(){let n;return n=a===mx?r[Xb.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(o):new a(o),i.name&&(n.name=i.name),Ix(n,i),t.associations.set(n,{materials:e}),i.extensions&&Lx(r,n,i),n}))}createUniqueName(e){const t=Mv.sanitizeNodeName(e||"");let n=t;for(let r=1;this.nodeNamesUsed[n];++r)n=t+"_"+r;return this.nodeNamesUsed[n]=!0,n}loadGeometries(e){const t=this,n=this.extensions,r=this.primitiveCache;function i(e){return n[Xb.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return Hx(n,e,t)}))}const a=[];for(let o=0,s=e.length;o<s;o++){const n=e[o],s=Ox(n),l=r[s];if(l)a.push(l.promise);else{let e;e=n.extensions&&n.extensions[Xb.KHR_DRACO_MESH_COMPRESSION]?i(n):Hx(new oa,n,t),r[s]={primitive:n,promise:e},a.push(e)}}return Promise.all(a)}loadMesh(e){const t=this,n=this.json,r=this.extensions,i=n.meshes[e],a=i.primitives,o=[];for(let s=0,l=a.length;s<l;s++){const e=void 0===a[s].material?Rx(this.cache):this.getDependency("material",a[s].material);o.push(e)}return o.push(t.loadGeometries(a)),Promise.all(o).then((function(n){const o=n.slice(0,n.length-1),s=n[n.length-1],l=[];for(let u=0,d=s.length;u<d;u++){const n=s[u],c=a[u];let d;const h=o[u];if(c.mode===xx.TRIANGLES||c.mode===xx.TRIANGLE_STRIP||c.mode===xx.TRIANGLE_FAN||void 0===c.mode)d=!0===i.isSkinnedMesh?new nh(n,h):new Ma(n,h),!0!==d.isSkinnedMesh||d.geometry.attributes.skinWeight.normalized||d.normalizeSkinWeights(),c.mode===xx.TRIANGLE_STRIP?d.geometry=Wx(d.geometry,It):c.mode===xx.TRIANGLE_FAN&&(d.geometry=Wx(d.geometry,Pt));else if(c.mode===xx.LINES)d=new Sh(n,h);else if(c.mode===xx.LINE_STRIP)d=new bh(n,h);else if(c.mode===xx.LINE_LOOP)d=new Mh(n,h);else{if(c.mode!==xx.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+c.mode);d=new Rh(n,h)}Object.keys(d.geometry.morphAttributes).length>0&&Dx(d,i),d.name=t.createUniqueName(i.name||"mesh_"+e),Ix(d,i),c.extensions&&Lx(r,d,c),t.assignFinalMaterial(d),l.push(d)}for(let r=0,i=l.length;r<i;r++)t.associations.set(l[r],{meshes:e,primitives:r});if(1===l.length)return l[0];const c=new vd;t.associations.set(c,{meshes:e});for(let e=0,t=l.length;e<t;e++)c.add(l[e]);return c}))}loadCamera(e){let t;const n=this.json.cameras[e],r=n[n.type];if(r)return"perspective"===n.type?t=new Na(Gn.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(t=new Fl(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),Ix(t,n),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(e){const t=this.json.skins[e],n={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",t.inverseBindMatrices).then((function(e){return n.inverseBindMatrices=e,n}))}loadAnimation(e){const t=this.json,n=t.animations[e],r=[],i=[],a=[],o=[],s=[];for(let l=0,c=n.channels.length;l<c;l++){const e=n.channels[l],t=n.samplers[e.sampler],c=e.target,u=void 0!==c.node?c.node:c.id,d=void 0!==n.parameters?n.parameters[t.input]:t.input,h=void 0!==n.parameters?n.parameters[t.output]:t.output;r.push(this.getDependency("node",u)),i.push(this.getDependency("accessor",d)),a.push(this.getDependency("accessor",h)),o.push(t),s.push(c)}return Promise.all([Promise.all(r),Promise.all(i),Promise.all(a),Promise.all(o),Promise.all(s)]).then((function(t){const r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=[];for(let e=0,n=r.length;e<n;e++){const t=r[e],n=i[e],c=a[e],u=o[e],d=s[e];if(void 0===t)continue;let h;switch(t.updateMatrix(),Ax[d.path]){case Ax.weights:h=qp;break;case Ax.rotation:h=Zp;break;case Ax.position:case Ax.scale:default:h=Jp;break}const f=t.name?t.name:t.uuid,p=void 0!==u.interpolation?Cx[u.interpolation]:Mt,m=[];Ax[d.path]===Ax.weights?t.traverse((function(e){e.morphTargetInfluences&&m.push(e.name?e.name:e.uuid)})):m.push(f);let v=c.array;if(c.normalized){const e=Fx(v.constructor),t=new Float32Array(v.length);for(let n=0,r=v.length;n<r;n++)t[n]=v[n]*e;v=t}for(let e=0,r=m.length;e<r;e++){const t=new h(m[e]+"."+Ax[d.path],n.array,v,p);"CUBICSPLINE"===u.interpolation&&(t.createInterpolant=function(e){const t=this instanceof Zp?bx:_x;return new t(this.times,this.values,this.getValueSize()/3,e)},t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),l.push(t)}}const c=n.name?n.name:"animation_"+e;return new Qp(c,void 0,l)}))}createNodeMesh(e){const t=this.json,n=this,r=t.nodes[e];return void 0===r.mesh?null:n.getDependency("mesh",r.mesh).then((function(e){const t=n._getNodeRef(n.meshCache,r.mesh,e);return void 0!==r.weights&&t.traverse((function(e){if(e.isMesh)for(let t=0,n=r.weights.length;t<n;t++)e.morphTargetInfluences[t]=r.weights[t]})),t}))}loadNode(e){const t=this.json,n=this.extensions,r=this,i=t.nodes[e],a=i.name?r.createUniqueName(i.name):"";return function(){const t=[],n=r._invokeOne((function(t){return t.createNodeMesh&&t.createNodeMesh(e)}));return n&&t.push(n),void 0!==i.camera&&t.push(r.getDependency("camera",i.camera).then((function(e){return r._getNodeRef(r.cameraCache,i.camera,e)}))),r._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){t.push(e)})),Promise.all(t)}().then((function(t){let o;if(o=!0===i.isBone?new rh:t.length>1?new vd:1===t.length?t[0]:new Ei,o!==t[0])for(let e=0,n=t.length;e<n;e++)o.add(t[e]);if(i.name&&(o.userData.name=i.name,o.name=a),Ix(o,i),i.extensions&&Lx(n,o,i),void 0!==i.matrix){const e=new ei;e.fromArray(i.matrix),o.applyMatrix4(e)}else void 0!==i.translation&&o.position.fromArray(i.translation),void 0!==i.rotation&&o.quaternion.fromArray(i.rotation),void 0!==i.scale&&o.scale.fromArray(i.scale);return r.associations.has(o)||r.associations.set(o,{}),r.associations.get(o).nodes=e,o}))}loadScene(e){const t=this.json,n=this.extensions,r=this.json.scenes[e],i=this,a=new vd;r.name&&(a.name=i.createUniqueName(r.name)),Ix(a,r),r.extensions&&Lx(n,a,r);const o=r.nodes||[],s=[];for(let l=0,c=o.length;l<c;l++)s.push(Ux(o[l],a,t,i));return Promise.all(s).then((function(){const e=e=>{const t=new Map;for(const[n,r]of i.associations)(n instanceof Bi||n instanceof pr)&&t.set(n,r);return e.traverse((e=>{const n=i.associations.get(e);null!=n&&t.set(e,n)})),t};return i.associations=e(a),a}))}}function Ux(e,t,n,r){const i=n.nodes[e];return r.getDependency("node",e).then((function(e){if(void 0===i.skin)return e;let t;return r.getDependency("skin",i.skin).then((function(e){t=e;const n=[];for(let i=0,a=t.joints.length;i<a;i++)n.push(r.getDependency("node",t.joints[i]));return Promise.all(n)})).then((function(n){return e.traverse((function(e){if(!e.isMesh)return;const r=[],i=[];for(let a=0,o=n.length;a<o;a++){const e=n[a];if(e){r.push(e);const n=new ei;void 0!==t.inverseBindMatrices&&n.fromArray(t.inverseBindMatrices.array,16*a),i.push(n)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[a])}e.bind(new sh(r,i),e.matrixWorld)})),e}))})).then((function(e){t.add(e);const a=[];if(i.children){const t=i.children;for(let i=0,o=t.length;i<o;i++){const o=t[i];a.push(Ux(o,e,n,r))}}return Promise.all(a)}))}function zx(e,t,n){const r=t.attributes,i=new Tr;if(void 0===r.POSITION)return;{const e=n.json.accessors[r.POSITION],t=e.min,a=e.max;if(void 0===t||void 0===a)return void console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(i.set(new Sr(t[0],t[1],t[2]),new Sr(a[0],a[1],a[2])),e.normalized){const t=Fx(wx[e.componentType]);i.min.multiplyScalar(t),i.max.multiplyScalar(t)}}const a=t.targets;if(void 0!==a){const e=new Sr,t=new Sr;for(let r=0,i=a.length;r<i;r++){const i=a[r];if(void 0!==i.POSITION){const r=n.json.accessors[i.POSITION],a=r.min,o=r.max;if(void 0!==a&&void 0!==o){if(t.setX(Math.max(Math.abs(a[0]),Math.abs(o[0]))),t.setY(Math.max(Math.abs(a[1]),Math.abs(o[1]))),t.setZ(Math.max(Math.abs(a[2]),Math.abs(o[2]))),r.normalized){const e=Fx(wx[r.componentType]);t.multiplyScalar(e)}e.max(t)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(e)}e.boundingBox=i;const o=new Gr;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,e.boundingSphere=o}function Hx(e,t,n){const r=t.attributes,i=[];function a(t,r){return n.getDependency("accessor",t).then((function(t){e.setAttribute(r,t)}))}for(const o in r){const t=Tx[o]||o.toLowerCase();t in e.attributes||i.push(a(r[o],t))}if(void 0!==t.indices&&!e.index){const r=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));i.push(r)}return Ix(e,t),zx(e,t,n),Promise.all(i).then((function(){return void 0!==t.targets?Px(e,t.targets,n):e}))}function Wx(e,t){let n=e.getIndex();if(null===n){const t=[],r=e.getAttribute("position");if(void 0===r)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(let e=0;e<r.count;e++)t.push(e);e.setIndex(t),n=e.getIndex()}const r=n.count-2,i=[];if(t===Pt)for(let o=1;o<=r;o++)i.push(n.getX(0)),i.push(n.getX(o)),i.push(n.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(n.getX(o)),i.push(n.getX(o+1)),i.push(n.getX(o+2))):(i.push(n.getX(o+2)),i.push(n.getX(o+1)),i.push(n.getX(o)));i.length/3!==r&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const a=e.clone();return a.setIndex(i),a}const jx=/^[og]\s*(.+)?/,Gx=/^mtllib /,Yx=/^usemtl /,$x=/^usemap /,qx=/\s+/,Xx=new Sr,Zx=new Sr,Kx=new Sr,Jx=new Sr,Qx=new Sr,ew=new lr;function tw(){const e={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(e,t){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=e,void(this.object.fromDeclaration=!1!==t);const n=this.object&&"function"===typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"===typeof this.object._finalize&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:!1!==t,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(e,t){const n=this._finalize(!1);n&&(n.inherited||n.groupCount<=0)&&this.materials.splice(n.index,1);const r={index:this.materials.length,name:e||"",mtllib:Array.isArray(t)&&t.length>0?t[t.length-1]:"",smooth:void 0!==n?n.smooth:this.smooth,groupStart:void 0!==n?n.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(e){const t={index:"number"===typeof e?e:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return t.clone=this.clone.bind(t),t}};return this.materials.push(r),r},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(e){const t=this.currentMaterial();if(t&&-1===t.groupEnd&&(t.groupEnd=this.geometry.vertices.length/3,t.groupCount=t.groupEnd-t.groupStart,t.inherited=!1),e&&this.materials.length>1)for(let n=this.materials.length-1;n>=0;n--)this.materials[n].groupCount<=0&&this.materials.splice(n,1);return e&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),t}},n&&n.name&&"function"===typeof n.clone){const e=n.clone(0);e.inherited=!0,this.object.materials.push(e)}this.objects.push(this.object)},finalize:function(){this.object&&"function"===typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(e,t){const n=parseInt(e,10);return 3*(n>=0?n-1:n+t/3)},parseNormalIndex:function(e,t){const n=parseInt(e,10);return 3*(n>=0?n-1:n+t/3)},parseUVIndex:function(e,t){const n=parseInt(e,10);return 2*(n>=0?n-1:n+t/2)},addVertex:function(e,t,n){const r=this.vertices,i=this.object.geometry.vertices;i.push(r[e+0],r[e+1],r[e+2]),i.push(r[t+0],r[t+1],r[t+2]),i.push(r[n+0],r[n+1],r[n+2])},addVertexPoint:function(e){const t=this.vertices,n=this.object.geometry.vertices;n.push(t[e+0],t[e+1],t[e+2])},addVertexLine:function(e){const t=this.vertices,n=this.object.geometry.vertices;n.push(t[e+0],t[e+1],t[e+2])},addNormal:function(e,t,n){const r=this.normals,i=this.object.geometry.normals;i.push(r[e+0],r[e+1],r[e+2]),i.push(r[t+0],r[t+1],r[t+2]),i.push(r[n+0],r[n+1],r[n+2])},addFaceNormal:function(e,t,n){const r=this.vertices,i=this.object.geometry.normals;Xx.fromArray(r,e),Zx.fromArray(r,t),Kx.fromArray(r,n),Qx.subVectors(Kx,Zx),Jx.subVectors(Xx,Zx),Qx.cross(Jx),Qx.normalize(),i.push(Qx.x,Qx.y,Qx.z),i.push(Qx.x,Qx.y,Qx.z),i.push(Qx.x,Qx.y,Qx.z)},addColor:function(e,t,n){const r=this.colors,i=this.object.geometry.colors;void 0!==r[e]&&i.push(r[e+0],r[e+1],r[e+2]),void 0!==r[t]&&i.push(r[t+0],r[t+1],r[t+2]),void 0!==r[n]&&i.push(r[n+0],r[n+1],r[n+2])},addUV:function(e,t,n){const r=this.uvs,i=this.object.geometry.uvs;i.push(r[e+0],r[e+1]),i.push(r[t+0],r[t+1]),i.push(r[n+0],r[n+1])},addDefaultUV:function(){const e=this.object.geometry.uvs;e.push(0,0),e.push(0,0),e.push(0,0)},addUVLine:function(e){const t=this.uvs,n=this.object.geometry.uvs;n.push(t[e+0],t[e+1])},addFace:function(e,t,n,r,i,a,o,s,l){const c=this.vertices.length;let u=this.parseVertexIndex(e,c),d=this.parseVertexIndex(t,c),h=this.parseVertexIndex(n,c);if(this.addVertex(u,d,h),this.addColor(u,d,h),void 0!==o&&""!==o){const e=this.normals.length;u=this.parseNormalIndex(o,e),d=this.parseNormalIndex(s,e),h=this.parseNormalIndex(l,e),this.addNormal(u,d,h)}else this.addFaceNormal(u,d,h);if(void 0!==r&&""!==r){const e=this.uvs.length;u=this.parseUVIndex(r,e),d=this.parseUVIndex(i,e),h=this.parseUVIndex(a,e),this.addUV(u,d,h),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(e){this.object.geometry.type="Points";const t=this.vertices.length;for(let n=0,r=e.length;n<r;n++){const r=this.parseVertexIndex(e[n],t);this.addVertexPoint(r),this.addColor(r)}},addLineGeometry:function(e,t){this.object.geometry.type="Line";const n=this.vertices.length,r=this.uvs.length;for(let i=0,a=e.length;i<a;i++)this.addVertexLine(this.parseVertexIndex(e[i],n));for(let i=0,a=t.length;i<a;i++)this.addUVLine(this.parseUVIndex(t[i],r))}};return e.startObject("",!1),e}class nw extends am{constructor(e){super(e),this.materials=null}load(e,t,n,r){const i=this,a=new lm(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(n){try{t(i.parse(n))}catch(Aw){r?r(Aw):console.error(Aw),i.manager.itemError(e)}}),n,r)}setMaterials(e){return this.materials=e,this}parse(e){const t=new tw;-1!==e.indexOf("\r\n")&&(e=e.replace(/\r\n/g,"\n")),-1!==e.indexOf("\\\n")&&(e=e.replace(/\\\n/g,""));const n=e.split("\n");let r=[];for(let o=0,s=n.length;o<s;o++){const e=n[o].trimStart();if(0===e.length)continue;const i=e.charAt(0);if("#"!==i)if("v"===i){const n=e.split(qx);switch(n[0]){case"v":t.vertices.push(parseFloat(n[1]),parseFloat(n[2]),parseFloat(n[3])),n.length>=7?(ew.setRGB(parseFloat(n[4]),parseFloat(n[5]),parseFloat(n[6])).convertSRGBToLinear(),t.colors.push(ew.r,ew.g,ew.b)):t.colors.push(void 0,void 0,void 0);break;case"vn":t.normals.push(parseFloat(n[1]),parseFloat(n[2]),parseFloat(n[3]));break;case"vt":t.uvs.push(parseFloat(n[1]),parseFloat(n[2]));break}}else if("f"===i){const n=e.slice(1).trim(),r=n.split(qx),i=[];for(let e=0,t=r.length;e<t;e++){const t=r[e];if(t.length>0){const e=t.split("/");i.push(e)}}const a=i[0];for(let e=1,o=i.length-1;e<o;e++){const n=i[e],r=i[e+1];t.addFace(a[0],n[0],r[0],a[1],n[1],r[1],a[2],n[2],r[2])}}else if("l"===i){const n=e.substring(1).trim().split(" ");let r=[];const i=[];if(-1===e.indexOf("/"))r=n;else for(let e=0,t=n.length;e<t;e++){const t=n[e].split("/");""!==t[0]&&r.push(t[0]),""!==t[1]&&i.push(t[1])}t.addLineGeometry(r,i)}else if("p"===i){const n=e.slice(1).trim(),r=n.split(" ");t.addPointGeometry(r)}else if(null!==(r=jx.exec(e))){const e=(" "+r[0].slice(1).trim()).slice(1);t.startObject(e)}else if(Yx.test(e))t.object.startMaterial(e.substring(7).trim(),t.materialLibraries);else if(Gx.test(e))t.materialLibraries.push(e.substring(7).trim());else if($x.test(e))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if("s"===i){if(r=e.split(" "),r.length>1){const e=r[1].trim().toLowerCase();t.object.smooth="0"!==e&&"off"!==e}else t.object.smooth=!0;const n=t.object.currentMaterial();n&&(n.smooth=t.object.smooth)}else{if("\0"===e)continue;console.warn('THREE.OBJLoader: Unexpected line: "'+e+'"')}}t.finalize();const i=new vd;i.materialLibraries=[].concat(t.materialLibraries);const a=!(1===t.objects.length&&0===t.objects[0].geometry.vertices.length);if(!0===a)for(let o=0,s=t.objects.length;o<s;o++){const e=t.objects[o],n=e.geometry,r=e.materials,a="Line"===n.type,s="Points"===n.type;let l=!1;if(0===n.vertices.length)continue;const c=new oa;c.setAttribute("position",new Ki(n.vertices,3)),n.normals.length>0&&c.setAttribute("normal",new Ki(n.normals,3)),n.colors.length>0&&(l=!0,c.setAttribute("color",new Ki(n.colors,3))),!0===n.hasUVIndices&&c.setAttribute("uv",new Ki(n.uvs,2));const u=[];for(let i=0,o=r.length;i<o;i++){const e=r[i],n=e.name+"_"+e.smooth+"_"+l;let o=t.materials[n];if(null!==this.materials)if(o=this.materials.create(e.name),!a||!o||o instanceof ph){if(s&&o&&!(o instanceof Eh)){const e=new Eh({size:10,sizeAttenuation:!1});Bi.prototype.copy.call(e,o),e.color.copy(o.color),e.map=o.map,o=e}}else{const e=new ph;Bi.prototype.copy.call(e,o),e.color.copy(o.color),o=e}void 0===o&&(o=a?new ph:s?new Eh({size:1,sizeAttenuation:!1}):new Tp,o.name=e.name,o.flatShading=!e.smooth,o.vertexColors=l,t.materials[n]=o),u.push(o)}let d;if(u.length>1){for(let e=0,t=r.length;e<t;e++){const t=r[e];c.addGroup(t.groupStart,t.groupCount,e)}d=a?new Sh(c,u):s?new Rh(c,u):new Ma(c,u)}else d=a?new Sh(c,u[0]):s?new Rh(c,u[0]):new Ma(c,u[0]);d.name=e.name,i.add(d)}else if(t.vertices.length>0){const e=new Eh({size:1,sizeAttenuation:!1}),n=new oa;n.setAttribute("position",new Ki(t.vertices,3)),t.colors.length>0&&void 0!==t.colors[0]&&(n.setAttribute("color",new Ki(t.colors,3)),e.vertexColors=!0);const r=new Rh(n,e);i.add(r)}return i}}class rw extends um{constructor(e){super(e)}parse(e,t){const n={mipmaps:[],width:0,height:0,format:null,mipmapCount:1},r=542327876,i=131072,a=512,o=1024,s=2048,l=4096,c=8192,u=16384,d=32768;function h(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}function f(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)}function p(e,t,n,r){const i=n*r*4,a=new Uint8Array(e,t,i),o=new Uint8Array(i);let s=0,l=0;for(let c=0;c<r;c++)for(let e=0;e<n;e++){const e=a[l];l++;const t=a[l];l++;const n=a[l];l++;const r=a[l];l++,o[s]=n,s++,o[s]=t,s++,o[s]=e,s++,o[s]=r,s++}return o}const m=h("DXT1"),v=h("DXT3"),g=h("DXT5"),_=h("ETC1"),y=31,b=0,x=1,w=2,S=3,M=4,E=7,T=21,A=22,C=23,k=24,R=25,L=26,I=28,P=new Int32Array(e,0,y);if(P[b]!==r)return console.error("THREE.DDSLoader.parse: Invalid magic number in DDS header."),n;let D;const O=P[T];let N=!1;switch(O){case m:D=8,n.format=qe;break;case v:D=16,n.format=Ze;break;case g:D=16,n.format=Ke;break;case _:D=8,n.format=nt;break;default:if(!(32===P[A]&&16711680&P[C]&&65280&P[k]&&255&P[R]&&4278190080&P[L]))return console.error("THREE.DDSLoader.parse: Unsupported FourCC code ",f(O)),n;N=!0,D=64,n.format=Be}n.mipmapCount=1,P[w]&i&&!1!==t&&(n.mipmapCount=Math.max(1,P[E]));const F=P[I];if(n.isCubemap=!!(F&a),n.isCubemap&&(!(F&o)||!(F&s)||!(F&l)||!(F&c)||!(F&u)||!(F&d)))return console.error("THREE.DDSLoader.parse: Incomplete cubemap faces"),n;n.width=P[M],n.height=P[S];let B=P[x]+4;const V=n.isCubemap?6:1;for(let U=0;U<V;U++){let t=n.width,r=n.height;for(let i=0;i<n.mipmapCount;i++){let i,a;N?(i=p(e,B,t,r),a=i.length):(a=Math.max(4,t)/4*Math.max(4,r)/4*D,i=new Uint8Array(e,B,a));const o={data:i,width:t,height:r};n.mipmaps.push(o),B+=a,t=Math.max(t>>1,1),r=Math.max(r>>1,1)}}return n}}class iw{constructor(e,t,n){const r=this;let i,a=!1,o=0,s=0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){s++,!1===a&&void 0!==r.onStart&&r.onStart(e,o,s),a=!0},this.itemEnd=function(e){o++,void 0!==r.onProgress&&r.onProgress(e,o,s),o===s&&(a=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return i?i(e):e},this.setURLModifier=function(e){return i=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){const t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(let t=0,n=l.length;t<n;t+=2){const n=l[t],r=l[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return r}return null}}}const aw=new lr;class ow extends am{constructor(e){super(e),this.propertyNameMapping={}}load(e,t,n,r){const i=this,a=new lm(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(n){try{t(i.parse(n))}catch(Aw){r?r(Aw):console.error(Aw),i.manager.itemError(e)}}),n,r)}setPropertyNameMapping(e){this.propertyNameMapping=e}parse(e){function t(e){const t=/^ply([\s\S]*)end_header(\r\n|\r|\n)/;let n="",r=0;const i=t.exec(e);null!==i&&(n=i[1],r=new Blob([i[0]]).size);const a={comments:[],elements:[],headerLength:r,objInfo:""},o=n.split(/\r\n|\r|\n/);let s;function l(e,t){const n={type:e[0]};return"list"===n.type?(n.name=e[3],n.countType=e[1],n.itemType=e[2]):n.name=e[1],n.name in t&&(n.name=t[n.name]),n}for(let c=0;c<o.length;c++){let e=o[c];if(e=e.trim(),""===e)continue;const t=e.split(/\s+/),n=t.shift();switch(e=t.join(" "),n){case"format":a.format=t[0],a.version=t[1];break;case"comment":a.comments.push(e);break;case"element":void 0!==s&&a.elements.push(s),s={},s.name=t[0],s.count=parseInt(t[1]),s.properties=[];break;case"property":s.properties.push(l(t,d.propertyNameMapping));break;case"obj_info":a.objInfo=e;break;default:console.log("unhandled",n,t)}}return void 0!==s&&a.elements.push(s),a}function n(e,t){switch(t){case"char":case"uchar":case"short":case"ushort":case"int":case"uint":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":return parseInt(e);case"float":case"double":case"float32":case"float64":return parseFloat(e)}}function r(e,t){const r=t.split(/\s+/),i={};for(let a=0;a<e.length;a++)if("list"===e[a].type){const t=[],o=n(r.shift(),e[a].countType);for(let i=0;i<o;i++)t.push(n(r.shift(),e[a].itemType));i[e[a].name]=t}else i[e[a].name]=n(r.shift(),e[a].type);return i}function i(e,t){const n={indices:[],vertices:[],normals:[],uvs:[],faceVertexUvs:[],colors:[]};let i;const s=/end_header\s([\s\S]*)$/;let l="";null!==(i=s.exec(e))&&(l=i[1]);const c=l.split(/\r\n|\r|\n/);let u=0,d=0;for(let a=0;a<c.length;a++){let e=c[a];if(e=e.trim(),""===e)continue;d>=t.elements[u].count&&(u++,d=0);const i=r(t.elements[u].properties,e);o(n,t.elements[u].name,i),d++}return a(n)}function a(e){let t=new oa;return e.indices.length>0&&t.setIndex(e.indices),t.setAttribute("position",new Ki(e.vertices,3)),e.normals.length>0&&t.setAttribute("normal",new Ki(e.normals,3)),e.uvs.length>0&&t.setAttribute("uv",new Ki(e.uvs,2)),e.colors.length>0&&t.setAttribute("color",new Ki(e.colors,3)),e.faceVertexUvs.length>0&&(t=t.toNonIndexed(),t.setAttribute("uv",new Ki(e.faceVertexUvs,2))),t.computeBoundingSphere(),t}function o(e,t,n){function r(e){for(let t=0,r=e.length;t<r;t++){const r=e[t];if(r in n)return r}return null}const i=r(["x","px","posx"])||"x",a=r(["y","py","posy"])||"y",o=r(["z","pz","posz"])||"z",s=r(["nx","normalx"]),l=r(["ny","normaly"]),c=r(["nz","normalz"]),u=r(["s","u","texture_u","tx"]),d=r(["t","v","texture_v","ty"]),h=r(["red","diffuse_red","r","diffuse_r"]),f=r(["green","diffuse_green","g","diffuse_g"]),p=r(["blue","diffuse_blue","b","diffuse_b"]);if("vertex"===t)e.vertices.push(n[i],n[a],n[o]),null!==s&&null!==l&&null!==c&&e.normals.push(n[s],n[l],n[c]),null!==u&&null!==d&&e.uvs.push(n[u],n[d]),null!==h&&null!==f&&null!==p&&(aw.setRGB(n[h]/255,n[f]/255,n[p]/255).convertSRGBToLinear(),e.colors.push(aw.r,aw.g,aw.b));else if("face"===t){const t=n.vertex_indices||n.vertex_index,r=n.texcoord;3===t.length?(e.indices.push(t[0],t[1],t[2]),r&&6===r.length&&(e.faceVertexUvs.push(r[0],r[1]),e.faceVertexUvs.push(r[2],r[3]),e.faceVertexUvs.push(r[4],r[5]))):4===t.length&&(e.indices.push(t[0],t[1],t[3]),e.indices.push(t[1],t[2],t[3]))}}function s(e,t,n,r){switch(n){case"int8":case"char":return[e.getInt8(t),1];case"uint8":case"uchar":return[e.getUint8(t),1];case"int16":case"short":return[e.getInt16(t,r),2];case"uint16":case"ushort":return[e.getUint16(t,r),2];case"int32":case"int":return[e.getInt32(t,r),4];case"uint32":case"uint":return[e.getUint32(t,r),4];case"float32":case"float":return[e.getFloat32(t,r),4];case"float64":case"double":return[e.getFloat64(t,r),8]}}function l(e,t,n,r){const i={};let a,o=0;for(let l=0;l<n.length;l++)if("list"===n[l].type){const c=[];a=s(e,t+o,n[l].countType,r);const u=a[0];o+=a[1];for(let i=0;i<u;i++)a=s(e,t+o,n[l].itemType,r),c.push(a[0]),o+=a[1];i[n[l].name]=c}else a=s(e,t+o,n[l].type,r),i[n[l].name]=a[0],o+=a[1];return[i,o]}function c(e,t){const n={indices:[],vertices:[],normals:[],uvs:[],faceVertexUvs:[],colors:[]},r="binary_little_endian"===t.format,i=new DataView(e,t.headerLength);let s,c=0;for(let a=0;a<t.elements.length;a++)for(let e=0;e<t.elements[a].count;e++){s=l(i,c,t.elements[a].properties,r),c+=s[1];const e=s[0];o(n,t.elements[a].name,e)}return a(n)}let u;const d=this;if(e instanceof ArrayBuffer){const n=Om.decodeText(new Uint8Array(e)),r=t(n);u="ascii"===r.format?i(n,r):c(e,r)}else u=i(e,t(e));return u}}class sw extends am{constructor(e){super(e)}load(e,t,n,r){const i=this,a=new lm(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(n){try{t(i.parse(n))}catch(Aw){r?r(Aw):console.error(Aw),i.manager.itemError(e)}}),n,r)}parse(e){function t(e){const t=new DataView(e),r=50,i=t.getUint32(80,!0),a=84+i*r;if(a===t.byteLength)return!0;const o=[115,111,108,105,100];for(let s=0;s<5;s++)if(n(o,t,s))return!1;return!0}function n(e,t,n){for(let r=0,i=e.length;r<i;r++)if(e[r]!==t.getUint8(n+r))return!1;return!0}function r(e){const t=new DataView(e),n=t.getUint32(80,!0);let r,i,a,o,s,l,c,u,d=!1;for(let g=0;g<70;g++)1129270351==t.getUint32(g,!1)&&82==t.getUint8(g+4)&&61==t.getUint8(g+5)&&(d=!0,o=new Float32Array(3*n*3),s=t.getUint8(g+6)/255,l=t.getUint8(g+7)/255,c=t.getUint8(g+8)/255,u=t.getUint8(g+9)/255);const h=84,f=50,p=new oa,m=new Float32Array(3*n*3),v=new Float32Array(3*n*3);for(let g=0;g<n;g++){const e=h+g*f,n=t.getFloat32(e,!0),u=t.getFloat32(e+4,!0),p=t.getFloat32(e+8,!0);if(d){const n=t.getUint16(e+48,!0);0===(32768&n)?(r=(31&n)/31,i=(n>>5&31)/31,a=(n>>10&31)/31):(r=s,i=l,a=c)}for(let s=1;s<=3;s++){const l=e+12*s,c=3*g*3+3*(s-1);m[c]=t.getFloat32(l,!0),m[c+1]=t.getFloat32(l+4,!0),m[c+2]=t.getFloat32(l+8,!0),v[c]=n,v[c+1]=u,v[c+2]=p,d&&(o[c]=r,o[c+1]=i,o[c+2]=a)}}return p.setAttribute("position",new Hi(m,3)),p.setAttribute("normal",new Hi(v,3)),d&&(p.setAttribute("color",new Hi(o,3)),p.hasColors=!0,p.alpha=u),p}function i(e){const t=new oa,n=/solid([\s\S]*?)endsolid/g,r=/facet([\s\S]*?)endfacet/g;let i=0;const a=/[\s]+([+-]?(?:\d*)(?:\.\d*)?(?:[eE][+-]?\d+)?)/.source,o=new RegExp("vertex"+a+a+a,"g"),s=new RegExp("normal"+a+a+a,"g"),l=[],c=[],u=new Sr;let d,h=0,f=0,p=0;while(null!==(d=n.exec(e))){f=p;const e=d[0];while(null!==(d=r.exec(e))){let e=0,t=0;const n=d[0];while(null!==(d=s.exec(n)))u.x=parseFloat(d[1]),u.y=parseFloat(d[2]),u.z=parseFloat(d[3]),t++;while(null!==(d=o.exec(n)))l.push(parseFloat(d[1]),parseFloat(d[2]),parseFloat(d[3])),c.push(u.x,u.y,u.z),e++,p++;1!==t&&console.error("THREE.STLLoader: Something isn't right with the normal of face number "+i),3!==e&&console.error("THREE.STLLoader: Something isn't right with the vertices of face number "+i),i++}const n=f,a=p-f;t.addGroup(n,a,h),h++}return t.setAttribute("position",new Ki(l,3)),t.setAttribute("normal",new Ki(c,3)),t}function a(e){return"string"!==typeof e?Om.decodeText(new Uint8Array(e)):e}function o(e){if("string"===typeof e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=255&e.charCodeAt(n);return t.buffer||t}return e}const s=o(e);return t(s)?r(s):i(a(e))}}class lw extends am{constructor(e){super(e)}load(e,t,n,r){const i=this,a=""===this.path?Om.extractUrlBase(e):this.path,o=new lm(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){try{t(i.parse(n,a))}catch(Aw){r?r(Aw):console.error(Aw),i.manager.itemError(e)}}),n,r)}setMaterialOptions(e){return this.materialOptions=e,this}parse(e,t){const n=e.split("\n");let r={};const i=/\s+/,a={};for(let s=0;s<n.length;s++){let e=n[s];if(e=e.trim(),0===e.length||"#"===e.charAt(0))continue;const t=e.indexOf(" ");let o=t>=0?e.substring(0,t):e;o=o.toLowerCase();let l=t>=0?e.substring(t+1):"";if(l=l.trim(),"newmtl"===o)r={name:l},a[l]=r;else if("ka"===o||"kd"===o||"ks"===o||"ke"===o){const e=l.split(i,3);r[o]=[parseFloat(e[0]),parseFloat(e[1]),parseFloat(e[2])]}else r[o]=l}const o=new cw(this.resourcePath||t,this.materialOptions);return o.setCrossOrigin(this.crossOrigin),o.setManager(this.manager),o.setMaterials(a),o}}class cw{constructor(e="",t={}){this.baseUrl=e,this.options=t,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.crossOrigin="anonymous",this.side=void 0!==this.options.side?this.options.side:v,this.wrap=void 0!==this.options.wrap?this.options.wrap:he}setCrossOrigin(e){return this.crossOrigin=e,this}setManager(e){this.manager=e}setMaterials(e){this.materialsInfo=this.convert(e),this.materials={},this.materialsArray=[],this.nameLookup={}}convert(e){if(!this.options)return e;const t={};for(const n in e){const r=e[n],i={};t[n]=i;for(const e in r){let t=!0,n=r[e];const a=e.toLowerCase();switch(a){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(n=[n[0]/255,n[1]/255,n[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===n[0]&&0===n[1]&&0===n[2]&&(t=!1);break}t&&(i[a]=n)}}return t}preload(){for(const e in this.materialsInfo)this.create(e)}getIndex(e){return this.nameLookup[e]}getAsArray(){let e=0;for(const t in this.materialsInfo)this.materialsArray[e]=this.create(t),this.nameLookup[t]=e,e++;return this.materialsArray}create(e){return void 0===this.materials[e]&&this.createMaterial_(e),this.materials[e]}createMaterial_(e){const t=this,n=this.materialsInfo[e],r={name:e,side:this.side};function i(e,t){return"string"!==typeof t||""===t?"":/^https?:\/\//i.test(t)?t:e+t}function a(e,n){if(r[e])return;const a=t.getTextureParams(n,r),o=t.loadTexture(i(t.baseUrl,a.url));o.repeat.copy(a.scale),o.offset.copy(a.offset),o.wrapS=t.wrap,o.wrapT=t.wrap,"map"!==e&&"emissiveMap"!==e||(o.encoding=Ot),r[e]=o}for(const o in n){const e=n[o];let t;if(""!==e)switch(o.toLowerCase()){case"kd":r.color=(new lr).fromArray(e).convertSRGBToLinear();break;case"ks":r.specular=(new lr).fromArray(e).convertSRGBToLinear();break;case"ke":r.emissive=(new lr).fromArray(e).convertSRGBToLinear();break;case"map_kd":a("map",e);break;case"map_ks":a("specularMap",e);break;case"map_ke":a("emissiveMap",e);break;case"norm":a("normalMap",e);break;case"map_bump":case"bump":a("bumpMap",e);break;case"map_d":a("alphaMap",e),r.transparent=!0;break;case"ns":r.shininess=parseFloat(e);break;case"d":t=parseFloat(e),t<1&&(r.opacity=t,r.transparent=!0);break;case"tr":t=parseFloat(e),this.options&&this.options.invertTrProperty&&(t=1-t),t>0&&(r.opacity=1-t,r.transparent=!0);break}}return this.materials[e]=new Tp(r),this.materials[e]}getTextureParams(e,t){const n={scale:new Yn(1,1),offset:new Yn(0,0)},r=e.split(/\s+/);let i;return i=r.indexOf("-bm"),i>=0&&(t.bumpScale=parseFloat(r[i+1]),r.splice(i,2)),i=r.indexOf("-s"),i>=0&&(n.scale.set(parseFloat(r[i+1]),parseFloat(r[i+2])),r.splice(i,4)),i=r.indexOf("-o"),i>=0&&(n.offset.set(parseFloat(r[i+1]),parseFloat(r[i+2])),r.splice(i,4)),n.url=r.join(" ").trim(),n}loadTexture(e,t,n,r,i){const a=void 0!==this.manager?this.manager:im;let o=a.getHandler(e);null===o&&(o=new pm(a)),o.setCrossOrigin&&o.setCrossOrigin(this.crossOrigin);const s=o.load(e,n,r,i);return void 0!==t&&(s.mapping=t),s}}const uw=new WeakMap;class dw extends am{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,n,r){const i=new lm(this.manager);i.setPath(this.path),i.setResponseType("arraybuffer"),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(e,(e=>{const n={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(e,n).then(t).catch(r)}),n,r)}decodeDracoFile(e,t,n,r){const i={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!n};this.decodeGeometry(e,i).then(t)}decodeGeometry(e,t){for(const s in t.attributeTypes){const e=t.attributeTypes[s];void 0!==e.BYTES_PER_ELEMENT&&(t.attributeTypes[s]=e.name)}const n=JSON.stringify(t);if(uw.has(e)){const t=uw.get(e);if(t.key===n)return t.promise;if(0===e.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const i=this.workerNextTaskID++,a=e.byteLength,o=this._getWorker(i,a).then((n=>(r=n,new Promise(((n,a)=>{r._callbacks[i]={resolve:n,reject:a},r.postMessage({type:"decode",id:i,taskConfig:t,buffer:e},[e])}))))).then((e=>this._createGeometry(e.geometry)));return o.catch((()=>!0)).then((()=>{r&&i&&this._releaseTask(r,i)})),uw.set(e,{key:n,promise:o}),o}_createGeometry(e){const t=new oa;e.index&&t.setIndex(new Hi(e.index.array,1));for(let n=0;n<e.attributes.length;n++){const r=e.attributes[n],i=r.name,a=r.array,o=r.itemSize;t.setAttribute(i,new Hi(a,o))}return t}_loadLibrary(e,t){const n=new lm(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise(((t,r)=>{n.load(e,t,void 0,r)}))}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e="object"!==typeof WebAssembly||"js"===this.decoderConfig.type,t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then((t=>{const n=t[0];e||(this.decoderConfig.wasmBinary=t[1]);const r=hw.toString(),i=["/* draco decoder */",n,"","/* worker */",r.substring(r.indexOf("{")+1,r.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([i]))})),this.decoderPending}_getWorker(e,t){return this._initDecoder().then((()=>{if(this.workerPool.length<this.workerLimit){const e=new Worker(this.workerSourceURL);e._callbacks={},e._taskCosts={},e._taskLoad=0,e.postMessage({type:"init",decoderConfig:this.decoderConfig}),e.onmessage=function(t){const n=t.data;switch(n.type){case"decode":e._callbacks[n.id].resolve(n);break;case"error":e._callbacks[n.id].reject(n);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+n.type+'"')}},this.workerPool.push(e)}else this.workerPool.sort((function(e,t){return e._taskLoad>t._taskLoad?-1:1}));const n=this.workerPool[this.workerPool.length-1];return n._taskCosts[e]=t,n._taskLoad+=t,n}))}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map((e=>e._taskLoad)))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function hw(){let e,t;function n(e,t,n,a){const o=a.attributeIDs,s=a.attributeTypes;let l,c;const u=t.GetEncodedGeometryType(n);if(u===e.TRIANGULAR_MESH)l=new e.Mesh,c=t.DecodeBufferToMesh(n,l);else{if(u!==e.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");l=new e.PointCloud,c=t.DecodeBufferToPointCloud(n,l)}if(!c.ok()||0===l.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+c.error_msg());const d={index:null,attributes:[]};for(const r in o){const n=self[s[r]];let c,u;if(a.useUniqueIDs)u=o[r],c=t.GetAttributeByUniqueId(l,u);else{if(u=t.GetAttributeId(l,e[o[r]]),-1===u)continue;c=t.GetAttribute(l,u)}d.attributes.push(i(e,t,l,r,n,c))}return u===e.TRIANGULAR_MESH&&(d.index=r(e,t,l)),e.destroy(l),d}function r(e,t,n){const r=n.num_faces(),i=3*r,a=4*i,o=e._malloc(a);t.GetTrianglesUInt32Array(n,a,o);const s=new Uint32Array(e.HEAPF32.buffer,o,i).slice();return e._free(o),{array:s,itemSize:1}}function i(e,t,n,r,i,o){const s=o.num_components(),l=n.num_points(),c=l*s,u=c*i.BYTES_PER_ELEMENT,d=a(e,i),h=e._malloc(u);t.GetAttributeDataArrayForAllPoints(n,o,d,u,h);const f=new i(e.HEAPF32.buffer,h,c).slice();return e._free(h),{name:r,array:f,itemSize:s}}function a(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32}}onmessage=function(r){const i=r.data;switch(i.type){case"init":e=i.decoderConfig,t=new Promise((function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)}));break;case"decode":const r=i.buffer,a=i.taskConfig;t.then((e=>{const t=e.draco,o=new t.Decoder,s=new t.DecoderBuffer;s.Init(new Int8Array(r),r.byteLength);try{const e=n(t,o,s,a),r=e.attributes.map((e=>e.array.buffer));e.index&&r.push(e.index.array.buffer),self.postMessage({type:"decode",id:i.id,geometry:e},r)}catch(l){console.error(l),self.postMessage({type:"error",id:i.id,error:l.message})}finally{t.destroy(s),t.destroy(o)}}));break}}}const fw=new Tr,pw=new iw;function mw(e){return fw.setFromObject(e),fw.getSize(new Sr)}function vw(e){return fw.setFromObject(e),fw.getCenter(new Sr)}function gw(e){const t=e.split(".");if(t.length<=1)return"";{let e=t.pop();return e=e.toLowerCase(),e}}function _w(e,t,n,r){let i;i=t||gw(e),"glb"===i&&(i="gltf");let a={loader:null,getObject:null};switch(i){case"dae":a={loader:new Yb(pw),getObject:e=>e.scene};break;case"fbx":a={loader:new wb(pw)};break;case"gltf":a={loader:new $b(pw),getObject:e=>{const t=e.scene;return e.animations&&(t.animations=e.animations),t}},bw(n,a,r);break;case"obj":a={loader:new nw(pw)};break;case"ply":a={loader:new ow(pw),getObject:e=>(e.computeVertexNormals(),new Ma(e,new Mp))};break;case"stl":a={loader:new sw(pw),getObject:e=>new Ma(e,new Tp)};break;case"json":a={loader:new Bm(pw)};break}return a}function yw(){const e=new lw(pw);return e}function bw(e,t,n){if(e){const e=new dw;e.setDecoderPath(n||"assets/draco/gltf/"),e.setDecoderConfig({type:"js"}),t.loader.setDRACOLoader(e)}}pw.addHandler(/\.dds$/i,new rw),pw.addHandler(/\.tga$/i,new Gb);var xw=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n};const ww=(0,r.aZ)({name:"vue3dLoader"}),Sw=(0,r.aZ)({...ww,props:{filePath:null,fileType:null,width:null,height:null,position:null,rotation:null,scale:null,lights:{default:()=>[{type:"AmbientLight",color:11184810},{type:"DirectionalLight",position:{x:1,y:1,z:1},color:16777215,intensity:.8}]},cameraPosition:{default:()=>({x:0,y:0,z:0})},cameraRotation:null,cameraUp:null,cameraLookAt:null,backgroundColor:{default:()=>16777215},backgroundAlpha:{default:()=>1},controlsOptions:null,crossOrigin:{default:"anonymous"},requestHeader:null,outputEncoding:{default:()=>"linear"},webGLRendererOptions:{default:()=>({})},mtlPath:{default:""},showFps:{type:Boolean,default:!1},textureImage:{default:""},clearScene:{type:Boolean,default:!1},parallelLoad:{type:Boolean,default:!1},labels:{default:()=>[]},autoPlay:{type:Boolean,default:!0},enableDraco:{type:Boolean,default:!1},dracoDir:null,intersectRecursive:{type:Boolean,default:!1},enableDamping:{type:Boolean},dampingFactor:null,verticalCtrl:{type:[Boolean,Object],default:!1},horizontalCtrl:{type:[Boolean,Object],default:!1}},emits:["mousedown","mousemove","mouseup","click","dblclick","load","process","error"],setup(e,{emit:t}){const n=e;let a=null;const o=new Dv,s=new Yn,l=new Na(45,1,1,1e5),c=new Jm;let u=new Cd,d=null,h=null,f={},p=[],m=null,v=0,g=null,_=null,y=null;const b=(0,i.iH)({width:n.width||0,height:n.height||0}),x=(0,i.iH)(0),w=(0,i.iH)(!1),S=(0,i.iH)(!1),M=(0,i.iH)(null),E=(0,i.iH)(null);function T(){A(),C()}function A(){v&&cancelAnimationFrame(v),h&&h.dispose(),f&&Object.keys(f).length>0&&(f.dispose(),f={});const e=M.value;e.removeEventListener("mousedown",I,!1),e.removeEventListener("mousemove",P,!1),e.removeEventListener("mouseup",D,!1),e.removeEventListener("click",O,!1),e.removeEventListener("dblclick",N,!1),window.removeEventListener("resize",L,!1),a=null,d=null,u&&u.clear()}function C(){const{filePath:e,outputEncoding:t,webGLRendererOptions:r,showFps:i,enableDamping:a,dampingFactor:o}=n;e&&"object"===typeof e&&(S.value=!0);const s=M.value;k(s),L();const c={antialias:!0,alpha:!0},p=Object.assign({},c,r,{canvas:E.value});if(!h){h=new Md(p),h.shadowMap.enabled=!0;const e="linear"===t?Dt:Ot;h.outputEncoding=e}(!f||Object.keys(f).length<=0)&&(f=new Bg(l,s),a&&(f.enableDamping=!0,void 0!=o&&(f.dampingFactor=o))),he(),d=new Ei,u.add(d),j(),B(),R(!0),s.addEventListener("mousedown",I,!1),s.addEventListener("mouseup",D,!1),s.addEventListener("click",O,!1),s.addEventListener("dblclick",N,!1),window.addEventListener("resize",L,!1),i&&(g=Vg(),s.appendChild(g.dom)),Z()}function k(e){const{width:t,height:r}=n;t&&(e.style.width=`${t}px`),r&&(e.style.height=`${r}px`)}function R(e){const t=M.value;e?t.addEventListener("mousemove",P,!1):t.removeEventListener("mousemove",P,!1)}function L(){const{width:e,height:t}=n;e&&t||(0,r.Y3)((()=>{const n=M.value;b.value={width:e||n.offsetWidth,height:t||n.offsetHeight}}))}function I(e){R(!1);const n=F(e.clientX,e.clientY);t("mousedown",e,n)}function P(e){const n=F(e.clientX,e.clientY);t("mousemove",e,n)}function D(e){const n=F(e.clientX,e.clientY);t("mouseup",e,n),R(!0)}function O(e){const n=F(e.clientX,e.clientY);t("click",e,n)}function N(e){const n=F(e.clientX,e.clientY);t("dblclick",e,n)}function F(e,t){const r=re();if(!r||!M.value)return null;const i=M.value.getBoundingClientRect();e-=i.left,t-=i.top,s.x=e/b.value.width*2-1,s.y=-t/b.value.height*2+1,o.setFromCamera(s,l);const a=o.intersectObject(r,n.intersectRecursive);return(a&&a.length)>0?a[0]:null}function B(){U(),z(),H(),W()}function V(){if(!a)return;const e=S.value?le(a):null,{position:t,rotation:r,scale:i}=n;t&&(t instanceof Array?null!=e?a.position.set(t[e].x,t[e].y,t[e].z):a.position.set(0,0,0):a.position.set(t.x,t.y,t.z)),r&&(r instanceof Array?null!=e?a.rotation.set(r[e].x,r[e].y,r[e].z):a.rotation.set(0,0,0):a.rotation.set(r.x,r.y,r.z)),i&&(i instanceof Array?null!=e?a.scale.set(i[e].x,i[e].y,i[e].z):a.scale.set(1,1,1):a.scale.set(i.x,i.y,i.z))}function U(){const{backgroundColor:e,backgroundAlpha:t}=n;h.setSize(b.value.width,b.value.height),h.setPixelRatio(window.devicePixelRatio||1),h.setClearColor(new lr(e).getHex()),h.setClearAlpha(t)}function z(e){const{cameraPosition:t,cameraRotation:r,cameraUp:i,cameraLookAt:o}=n;if(l.aspect=b.value.width/b.value.height,l.updateProjectionMatrix(),!e)if(o&&i)l.position.set(t.x,t.y,t.z),r&&l.rotation.set(r.x,r.y,r.z),l.up.set(i.x,i.y,i.z),l.lookAt(new Sr(o.x,o.y,o.z));else{if(!a)return;const e=mw(a).length();l.position.set(t.x,t.y,t.z),r&&l.rotation.set(r.x,r.y,r.z),0===t.x&&0===t.y&&0===t.z&&(l.position.z=e),l.lookAt(new Sr)}}function H(){const{lights:e}=n;u.remove(...p),p=[],e.forEach((e=>{if(!e.type)return;const t=e.type.toLowerCase();let n=null;if("ambient"===t||"ambientlight"===t){const t=0===e.color?e.color:e.color||4210752,r=0===e.intensity?e.intensity:e.intensity||1;n=new Rm(t,r)}if("point"===t||"pointlight"===t){const t=0===e.color?e.color:e.color||16777215,r=0===e.intensity?e.intensity:e.intensity||1,i=e.distance||0,a=0===e.decay?e.decay:e.decay||1;n=new Am(t,r,i,a),e.position&&n.position.copy(e.position)}if("directional"===t||"directionallight"===t){const t=0===e.color?e.color:e.color||16777215,r=0===e.intensity?e.intensity:e.intensity||1;n=new km(t,r),e.position&&n.position.copy(e.position),e.target&&n.target.copy(e.target)}if("hemisphere"===t||"hemispherelight"===t){const t=0===e.skyColor?e.skyColor:e.skyColor||16777215,r=0===e.groundColor?e.groundColor:e.groundColor||16777215,i=0===e.intensity?e.intensity:e.intensity||1;n=new vm(t,r,i),e.position&&n.position.copy(e.position)}n&&(p.push(n),u.add(n))}))}function W(){const{controlsOptions:e}=n;e&&Object.assign(f,e)}function j(){const{filePath:e,parallelLoad:t}=n;t&&S?e.forEach(((e,t)=>{G(t)})):G()}function G(e){const{filePath:t,fileType:r,crossOrigin:i,requestHeader:o,mtlPath:s,enableDraco:l,dracoDir:c}=n;if(!t)return;const u=e||x.value,h=S.value?t[u]:t,f="string"===typeof r?r:r?r[u]:"",p=_w(h,f,l,c);m=p.loader;const v=p.getObject?p.getObject:q;if(a&&0===u&&d.remove(a),o&&m.setRequestHeader(o),i&&m.setCrossOrigin(i),s){const e="object"===typeof s;if(e){if(!s[u])return void Y(h,v,u);$(h,v,u)}else $(h,v,u)}else Y(h,v,u)}function Y(e,r,i){const{textureImage:o,parallelLoad:s}=n;m.load(e,((...n)=>{const s=r(...n);if(a=s,X(a,e),o){const e="string"===typeof o?o:o[i];e&&ee(a,e)}ie(),t("load",d)}),(e=>{s||Q(e);const n=x.value+1;t("process",e,n)}),(e=>{t("error",e)}))}function $(e,t,r){const{crossOrigin:i,requestHeader:a,mtlPath:o}=n,s=yw();i&&s.setCrossOrigin(i),a&&s.setRequestHeader(a);const l="string"===typeof o?o:o[r],c=/^(.*\/)([^/]*)$/.exec(l),u=c[1],d=c[2];s.setPath(u).load(d,(n=>{n.preload(),m.setMaterials(n),Y(e,t,r)}))}function q(e){return e}function X(e,t){const n=vw(a);w.value||(d.position.copy(n.negate()),w.value=!0),a=e;let r=t.split("/");r=r[r.length-1],a.fileName=r,d.add(a),z(),V(),ce()}function Z(){v=requestAnimationFrame(Z),J();const e=c.getDelta();_&&_ instanceof Cv&&_.update(e),_&&_ instanceof Array&&_.forEach((t=>{t.update(e)})),f&&f.update(),K()}function K(){h.render(u,l)}function J(){const{showFps:e}=n;e&&g.update()}function Q(e){const{filePath:t}=n;let i=Math.floor(e.loaded/e.total*100);100===i&&(S.value&&t.length>x.value?(0,r.Y3)((()=>{x.value++,x.value!==t.length?G():x.value=0})):x.value=0)}function ee(e,n){y||(y=new pm),e.traverse((e=>{e.isMesh&&y.load(n,(t=>{e.material.map=t,e.material.needsUpdate=!0}),(()=>{}),(e=>{t("error",e)}))}))}function te(){d.clear()}function ne(e,t){const n=re();n&&(S.value?n.children.forEach((n=>{const r=le(n),i="scale"===e?1:0;t[r]?n[e].set(t[r].x,t[r].y,t[r].z):n[e].set(i,i,i)})):n[e].set(t.x,t.y,t.z))}function re(){return S.value?d:a}function ie(){const{filePath:e}=n;S.value?x.value===e.length-1&&ae():ae()}function ae(){const{labels:e}=n;if(!e||e.length<=0)return;const t=S.value?d:a,r=e=>{y||(y=new pm);const t=y.load(e);return t},i=(e,t)=>{const n=se(e,t),r=new pr(n);return r.needsUpdate=!0,r};e.forEach((e=>{const n=e.image?r(e.image):i(e.text,e.textStyle||{}),a=new Id({map:n,color:e.spriteMaterialColor||16777215}),o=new Yd(a);e.scale?o.scale.set(e.scale.x||1,e.scale.y||1,e.scale.z||0):o.scale.set(1,1,0),e.position&&o.position.set(e.position.x,e.position.y,e.position.z),e.sid&&(o.sid=e.sid),t.add(o)}))}function oe(){d.children.forEach((e=>{if(e instanceof vd){const t=e.children.filter((e=>e instanceof Yd?null:e));e.children=t}}))}function se(e,t){const n=(e,t,n,r,i,a)=>{e.beginPath(),e.moveTo(t+a,n),e.lineTo(t+r-a,n),e.quadraticCurveTo(t+r,n,t+r,n+a),e.lineTo(t+r,n+i-a),e.quadraticCurveTo(t+r,n+i,t+r-a,n+i),e.lineTo(t+a,n+i),e.quadraticCurveTo(t,n+i,t,n+i-a),e.lineTo(t,n+a),e.quadraticCurveTo(t,n,t+a,n),e.closePath(),e.fill(),e.stroke()},r=t.fontFamily||"Arial",i=0===t.fontSize||t.fontSize?t.fontSize:18,a=t.color||"#ffffff",o=t.fontWeight||"normal",s=0===t.borderWidth||t.borderWidth?t.borderWidth:4,l=t.borderColor||"rgba(0,0,0,1)",c=0===t.borderRadius||t.borderRadius?t.borderRadius:4,u=t.backgroundColor||"rgba(255, 255, 255, 1)",d=document.createElement("canvas"),h=d.getContext("2d");if(h){h.font=`${o} ${i}px ${r}`;const t=h.measureText(e),d=t.width;h.fillStyle=u,h.strokeStyle=l,h.lineWidth=s,n(h,s/2,s/2,d+s,1.4*i+s,c),h.fillStyle=a,h.fillText(e,s,i+s)}return d}function le(e){const{filePath:t}=n;let r;return t instanceof Array&&(r=t.map(((t,n)=>{if(t.indexOf(e.fileName)>-1)return n})).filter((e=>void 0!=e))[0]),r}function ce(){const e=re();e&&(S.value?de(e):ue(e))}function ue(e){const{autoPlay:t}=n;_=new Cv(e),e.animations&&e.animations.length>0&&e.animations.forEach((e=>{if(e){const n=_.clipAction(e);t?n.play():n.stop()}}))}function de(e){const{autoPlay:t}=n;_=[],e.children.forEach(((e,n)=>{_.push(new Cv(e)),e.animations&&e.animations.length>0&&e.animations.forEach((e=>{if(e){const r=_[n].clipAction(e);t?r.play():r.stop()}}))}))}function he(){if(!f)return;const{verticalCtrl:e,horizontalCtrl:t}=n;e&&"boolean"===typeof e&&(f.minAzimuthAngle=-2*Math.PI,f.maxAzimuthAngle=-2*Math.PI),e&&"object"===typeof e&&(f.minAzimuthAngle=e.min,f.maxAzimuthAngle=e.max),t&&"boolean"===typeof t&&(f.minPolarAngle=1,f.maxPolarAngle=1),t&&"object"===typeof t&&(f.minPolarAngle=t.min,f.maxPolarAngle=t.max)}return(0,r.bv)((()=>{C()})),(0,r.Jd)((()=>{A()})),(0,r.YP)([()=>n.filePath,()=>n.fileType,()=>n.mtlPath,()=>n.clearScene,()=>n.backgroundAlpha,()=>n.backgroundColor],(e=>{(e[0]||e[1])&&T(),e[2]&&j(),e[3]&&te(),(e[4]||e[5])&&U()})),(0,r.YP)([()=>n.rotation,()=>n.position,()=>n.scale,()=>n.lights],(e=>{const t=["rotation","position","scale"];e.forEach(((e,n)=>{n<3&&e?ne(t[n],e):H()}))}),{deep:!0}),(0,r.YP)([()=>b],(()=>{z(!0),U()}),{deep:!0}),(0,r.YP)([()=>n.controlsOptions],(()=>{W()}),{deep:!0}),(0,r.YP)([()=>n.cameraRotation,()=>n.cameraPosition],(()=>{z()}),{deep:!0}),(0,r.YP)([()=>n.labels],(()=>{oe(),ae()}),{deep:!0}),(0,r.YP)([()=>n.autoPlay],(()=>{ce()})),(0,r.YP)([()=>n.width,()=>n.height],(()=>{b.value={width:n.width||0,height:n.height||0}})),(e,t)=>((0,r.wg)(),(0,r.iD)("div",{ref_key:"containerElement",ref:M,class:"viewer-container"},[(0,r._)("canvas",{ref_key:"canvasElement",ref:E,class:"viewer-canvas"},null,512)],512))}});var Mw=xw(Sw,[["__scopeId","data-v-9cab67fa"]]);const Ew=e=>{e.component(Mw.name,Mw)};var Tw={install:Ew,vue3dLoader:Mw}},8249:function(e,t,n){"use strict";n.d(t,{J:function(){return Ht}});n(7658);var r=n(3396);
/*!
  * vue-draggable-next v2.1.0
  * (c) 2021 Anish George
  * @license MIT
  */
/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function u(e,t){if(null==e)return{};var n,r,i=c(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var d="1.14.0";function h(e){if("undefined"!==typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var f=h(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),p=h(/Edge/i),m=h(/firefox/i),v=h(/safari/i)&&!h(/chrome/i)&&!h(/android/i),g=h(/iP(ad|od|hone)/i),_=h(/chrome/i)&&h(/android/i),y={capture:!1,passive:!1};function b(e,t,n){e.addEventListener(t,n,!f&&y)}function x(e,t,n){e.removeEventListener(t,n,!f&&y)}function w(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(n){return!1}return!1}}function S(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function M(e,t,n,r){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&w(e,t):w(e,t))||r&&e===n)return e;if(e===n)break}while(e=S(e))}return null}var E,T=/\s+/g;function A(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(T," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(T," ")}}function C(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||-1!==t.indexOf("webkit")||(t="-webkit-"+t),r[t]=n+("string"===typeof n?"":"px")}}function k(e,t){var n="";if("string"===typeof e)n=e;else do{var r=C(e,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function R(e,t,n){if(e){var r=e.getElementsByTagName(t),i=0,a=r.length;if(n)for(;i<a;i++)n(r[i],i);return r}return[]}function L(){var e=document.scrollingElement;return e||document.documentElement}function I(e,t,n,r,i){if(e.getBoundingClientRect||e===window){var a,o,s,l,c,u,d;if(e!==window&&e.parentNode&&e!==L()?(a=e.getBoundingClientRect(),o=a.top,s=a.left,l=a.bottom,c=a.right,u=a.height,d=a.width):(o=0,s=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!f))do{if(i&&i.getBoundingClientRect&&("none"!==C(i,"transform")||n&&"static"!==C(i,"position"))){var h=i.getBoundingClientRect();o-=h.top+parseInt(C(i,"border-top-width")),s-=h.left+parseInt(C(i,"border-left-width")),l=o+a.height,c=s+a.width;break}}while(i=i.parentNode);if(r&&e!==window){var p=k(i||e),m=p&&p.a,v=p&&p.d;p&&(o/=v,s/=m,d/=m,u/=v,l=o+u,c=s+d)}return{top:o,left:s,bottom:l,right:c,width:d,height:u}}}function P(e,t,n){var r=V(e,!0),i=I(e)[t];while(r){var a=I(r)[n],o=void 0;if(o="top"===n||"left"===n?i>=a:i<=a,!o)return r;if(r===L())break;r=V(r,!1)}return!1}function D(e,t,n,r){var i=0,a=0,o=e.children;while(a<o.length){if("none"!==o[a].style.display&&o[a]!==Xe.ghost&&(r||o[a]!==Xe.dragged)&&M(o[a],n.draggable,e,!1)){if(i===t)return o[a];i++}a++}return null}function O(e,t){var n=e.lastElementChild;while(n&&(n===Xe.ghost||"none"===C(n,"display")||t&&!w(n,t)))n=n.previousElementSibling;return n||null}function N(e,t){var n=0;if(!e||!e.parentNode)return-1;while(e=e.previousElementSibling)"TEMPLATE"===e.nodeName.toUpperCase()||e===Xe.clone||t&&!w(e,t)||n++;return n}function F(e){var t=0,n=0,r=L();if(e)do{var i=k(e),a=i.a,o=i.d;t+=e.scrollLeft*a,n+=e.scrollTop*o}while(e!==r&&(e=e.parentNode));return[t,n]}function B(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n);return-1}function V(e,t){if(!e||!e.getBoundingClientRect)return L();var n=e,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=C(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return L();if(r||t)return n;r=!0}}}while(n=n.parentNode);return L()}function U(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function z(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function H(e,t){return function(){if(!E){var n=arguments,r=this;1===n.length?e.call(r,n[0]):e.apply(r,n),E=setTimeout((function(){E=void 0}),t)}}}function W(){clearTimeout(E),E=void 0}function j(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function G(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var Y="Sortable"+(new Date).getTime();function $(){var e,t=[];return{captureAnimationState:function(){if(t=[],this.options.animation){var e=[].slice.call(this.el.children);e.forEach((function(e){if("none"!==C(e,"display")&&e!==Xe.ghost){t.push({target:e,rect:I(e)});var n=a({},t[t.length-1].rect);if(e.thisAnimationDuration){var r=k(e,!0);r&&(n.top-=r.f,n.left-=r.e)}e.fromRect=n}}))}},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(B(t,{target:e}),1)},animateAll:function(n){var r=this;if(!this.options.animation)return clearTimeout(e),void("function"===typeof n&&n());var i=!1,a=0;t.forEach((function(e){var t=0,n=e.target,o=n.fromRect,s=I(n),l=n.prevFromRect,c=n.prevToRect,u=e.rect,d=k(n,!0);d&&(s.top-=d.f,s.left-=d.e),n.toRect=s,n.thisAnimationDuration&&z(l,s)&&!z(o,s)&&(u.top-s.top)/(u.left-s.left)===(o.top-s.top)/(o.left-s.left)&&(t=X(u,l,c,r.options)),z(s,o)||(n.prevFromRect=o,n.prevToRect=s,t||(t=r.options.animation),r.animate(n,u,s,t)),t&&(i=!0,a=Math.max(a,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),i?e=setTimeout((function(){"function"===typeof n&&n()}),a):"function"===typeof n&&n(),t=[]},animate:function(e,t,n,r){if(r){C(e,"transition",""),C(e,"transform","");var i=k(this.el),a=i&&i.a,o=i&&i.d,s=(t.left-n.left)/(a||1),l=(t.top-n.top)/(o||1);e.animatingX=!!s,e.animatingY=!!l,C(e,"transform","translate3d("+s+"px,"+l+"px,0)"),this.forRepaintDummy=q(e),C(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),C(e,"transform","translate3d(0,0,0)"),"number"===typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){C(e,"transition",""),C(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),r)}}}}function q(e){return e.offsetWidth}function X(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}var Z=[],K={initializeByDefault:!0},J={mount:function(e){for(var t in K)K.hasOwnProperty(t)&&!(t in e)&&(e[t]=K[t]);Z.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),Z.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var i=e+"Global";Z.forEach((function(r){t[r.pluginName]&&(t[r.pluginName][i]&&t[r.pluginName][i](a({sortable:t},n)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](a({sortable:t},n)))}))},initializePlugins:function(e,t,n,r){for(var i in Z.forEach((function(r){var i=r.pluginName;if(e.options[i]||r.initializeByDefault){var a=new r(e,t,e.options);a.sortable=e,a.options=e.options,e[i]=a,l(n,a.defaults)}})),e.options)if(e.options.hasOwnProperty(i)){var a=this.modifyOption(e,i,e.options[i]);"undefined"!==typeof a&&(e.options[i]=a)}},getEventProperties:function(e,t){var n={};return Z.forEach((function(r){"function"===typeof r.eventProperties&&l(n,r.eventProperties.call(t[r.pluginName],e))})),n},modifyOption:function(e,t,n){var r;return Z.forEach((function(i){e[i.pluginName]&&i.optionListeners&&"function"===typeof i.optionListeners[t]&&(r=i.optionListeners[t].call(e[i.pluginName],n))})),r}};function Q(e){var t=e.sortable,n=e.rootEl,r=e.name,i=e.targetEl,o=e.cloneEl,s=e.toEl,l=e.fromEl,c=e.oldIndex,u=e.newIndex,d=e.oldDraggableIndex,h=e.newDraggableIndex,m=e.originalEvent,v=e.putSortable,g=e.extraEventProperties;if(t=t||n&&n[Y],t){var _,y=t.options,b="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||f||p?(_=document.createEvent("Event"),_.initEvent(r,!0,!0)):_=new CustomEvent(r,{bubbles:!0,cancelable:!0}),_.to=s||n,_.from=l||n,_.item=i||n,_.clone=o,_.oldIndex=c,_.newIndex=u,_.oldDraggableIndex=d,_.newDraggableIndex=h,_.originalEvent=m,_.pullMode=v?v.lastPutMode:void 0;var x=a(a({},g),J.getEventProperties(r,t));for(var w in x)_[w]=x[w];n&&n.dispatchEvent(_),y[b]&&y[b].call(t,_)}}var ee=["evt"],te=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evt,i=u(n,ee);J.pluginEvent.bind(Xe)(e,t,a({dragEl:re,parentEl:ie,ghostEl:ae,rootEl:oe,nextEl:se,lastDownEl:le,cloneEl:ce,cloneHidden:ue,dragStarted:Se,putSortable:ve,activeSortable:Xe.active,originalEvent:r,oldIndex:de,oldDraggableIndex:fe,newIndex:he,newDraggableIndex:pe,hideGhostForTarget:Ge,unhideGhostForTarget:Ye,cloneNowHidden:function(){ue=!0},cloneNowShown:function(){ue=!1},dispatchSortableEvent:function(e){ne({sortable:t,name:e,originalEvent:r})}},i))};function ne(e){Q(a({putSortable:ve,cloneEl:ce,targetEl:re,rootEl:oe,oldIndex:de,oldDraggableIndex:fe,newIndex:he,newDraggableIndex:pe},e))}var re,ie,ae,oe,se,le,ce,ue,de,he,fe,pe,me,ve,ge,_e,ye,be,xe,we,Se,Me,Ee,Te,Ae,Ce=!1,ke=!1,Re=[],Le=!1,Ie=!1,Pe=[],De=!1,Oe=[],Ne="undefined"!==typeof document,Fe=g,Be=p||f?"cssFloat":"float",Ve=Ne&&!_&&!g&&"draggable"in document.createElement("div"),Ue=function(){if(Ne){if(f)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),ze=function(e,t){var n=C(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=D(e,0,t),a=D(e,1,t),o=i&&C(i),s=a&&C(a),l=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+I(i).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+I(a).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&o["float"]&&"none"!==o["float"]){var u="left"===o["float"]?"left":"right";return!a||"both"!==s.clear&&s.clear!==u?"horizontal":"vertical"}return i&&("block"===o.display||"flex"===o.display||"table"===o.display||"grid"===o.display||l>=r&&"none"===n[Be]||a&&"none"===n[Be]&&l+c>r)?"vertical":"horizontal"},He=function(e,t,n){var r=n?e.left:e.top,i=n?e.right:e.bottom,a=n?e.width:e.height,o=n?t.left:t.top,s=n?t.right:t.bottom,l=n?t.width:t.height;return r===o||i===s||r+a/2===o+l/2},We=function(e,t){var n;return Re.some((function(r){var i=r[Y].options.emptyInsertThreshold;if(i&&!O(r)){var a=I(r),o=e>=a.left-i&&e<=a.right+i,s=t>=a.top-i&&t<=a.bottom+i;return o&&s?n=r:void 0}})),n},je=function(e){function t(e,n){return function(r,i,a,o){var s=r.options.group.name&&i.options.group.name&&r.options.group.name===i.options.group.name;if(null==e&&(n||s))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"===typeof e)return t(e(r,i,a,o),n)(r,i,a,o);var l=(n?r:i).options.group.name;return!0===e||"string"===typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var n={},r=e.group;r&&"object"==o(r)||(r={name:r}),n.name=r.name,n.checkPull=t(r.pull,!0),n.checkPut=t(r.put),n.revertClone=r.revertClone,e.group=n},Ge=function(){!Ue&&ae&&C(ae,"display","none")},Ye=function(){!Ue&&ae&&C(ae,"display","")};Ne&&document.addEventListener("click",(function(e){if(ke)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),ke=!1,!1}),!0);var $e=function(e){if(re){e=e.touches?e.touches[0]:e;var t=We(e.clientX,e.clientY);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[Y]._onDragOver(n)}}},qe=function(e){re&&re.parentNode[Y]._isOutsideThisEl(e.target)};function Xe(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=l({},t),e[Y]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return ze(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Xe.supportPointer&&"PointerEvent"in window&&!v,emptyInsertThreshold:5};for(var r in J.initializePlugins(this,e,n),n)!(r in t)&&(t[r]=n[r]);for(var i in je(t),this)"_"===i.charAt(0)&&"function"===typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&Ve,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?b(e,"pointerdown",this._onTapStart):(b(e,"mousedown",this._onTapStart),b(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(b(e,"dragover",this),b(e,"dragenter",this)),Re.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),l(this,$())}function Ze(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Ke(e,t,n,r,i,a,o,s){var l,c,u=e[Y],d=u.options.onMove;return!window.CustomEvent||f||p?(l=document.createEvent("Event"),l.initEvent("move",!0,!0)):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=n,l.draggedRect=r,l.related=i||t,l.relatedRect=a||I(t),l.willInsertAfter=s,l.originalEvent=o,e.dispatchEvent(l),d&&(c=d.call(u,l,o)),c}function Je(e){e.draggable=!1}function Qe(){De=!1}function et(e,t,n){var r=I(D(n.el,0,n.options,!0)),i=10;return t?e.clientX<r.left-i||e.clientY<r.top&&e.clientX<r.right:e.clientY<r.top-i||e.clientY<r.bottom&&e.clientX<r.left}function tt(e,t,n){var r=I(O(n.el,n.options.draggable)),i=10;return t?e.clientX>r.right+i||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+i}function nt(e,t,n,r,i,a,o,s){var l=r?e.clientY:e.clientX,c=r?n.height:n.width,u=r?n.top:n.left,d=r?n.bottom:n.right,h=!1;if(!o)if(s&&Te<c*i){if(!Le&&(1===Ee?l>u+c*a/2:l<d-c*a/2)&&(Le=!0),Le)h=!0;else if(1===Ee?l<u+Te:l>d-Te)return-Ee}else if(l>u+c*(1-i)/2&&l<d-c*(1-i)/2)return rt(t);return h=h||o,h&&(l<u+c*a/2||l>d-c*a/2)?l>u+c/2?1:-1:0}function rt(e){return N(re)<N(e)?1:-1}function it(e){var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;while(n--)r+=t.charCodeAt(n);return r.toString(36)}function at(e){Oe.length=0;var t=e.getElementsByTagName("input"),n=t.length;while(n--){var r=t[n];r.checked&&Oe.push(r)}}function ot(e){return setTimeout(e,0)}function st(e){return clearTimeout(e)}Xe.prototype={constructor:Xe,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(Me=null)},_getDirection:function(e,t){return"function"===typeof this.options.direction?this.options.direction.call(this,e,t,re):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,i=r.preventOnFilter,a=e.type,o=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(o||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,c=r.filter;if(at(n),!re&&!(/mousedown|pointerdown/.test(a)&&0!==e.button||r.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!v||!s||"SELECT"!==s.tagName.toUpperCase())&&(s=M(s,r.draggable,n,!1),(!s||!s.animated)&&le!==s)){if(de=N(s),fe=N(s,r.draggable),"function"===typeof c){if(c.call(this,e,s,this))return ne({sortable:t,rootEl:l,name:"filter",targetEl:s,toEl:n,fromEl:n}),te("filter",t,{evt:e}),void(i&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(r){if(r=M(l,r.trim(),n,!1),r)return ne({sortable:t,rootEl:r,name:"filter",targetEl:s,fromEl:n,toEl:n}),te("filter",t,{evt:e}),!0})),c))return void(i&&e.cancelable&&e.preventDefault());r.handle&&!M(l,r.handle,n,!1)||this._prepareDragStart(e,o,s)}}},_prepareDragStart:function(e,t,n){var r,i=this,a=i.el,o=i.options,s=a.ownerDocument;if(n&&!re&&n.parentNode===a){var l=I(n);if(oe=a,re=n,ie=re.parentNode,se=re.nextSibling,le=n,me=o.group,Xe.dragged=re,ge={target:re,clientX:(t||e).clientX,clientY:(t||e).clientY},xe=ge.clientX-l.left,we=ge.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,re.style["will-change"]="all",r=function(){te("delayEnded",i,{evt:e}),Xe.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!m&&i.nativeDraggable&&(re.draggable=!0),i._triggerDragStart(e,t),ne({sortable:i,name:"choose",originalEvent:e}),A(re,o.chosenClass,!0))},o.ignore.split(",").forEach((function(e){R(re,e.trim(),Je)})),b(s,"dragover",$e),b(s,"mousemove",$e),b(s,"touchmove",$e),b(s,"mouseup",i._onDrop),b(s,"touchend",i._onDrop),b(s,"touchcancel",i._onDrop),m&&this.nativeDraggable&&(this.options.touchStartThreshold=4,re.draggable=!0),te("delayStart",this,{evt:e}),!o.delay||o.delayOnTouchOnly&&!t||this.nativeDraggable&&(p||f))r();else{if(Xe.eventCanceled)return void this._onDrop();b(s,"mouseup",i._disableDelayedDrag),b(s,"touchend",i._disableDelayedDrag),b(s,"touchcancel",i._disableDelayedDrag),b(s,"mousemove",i._delayedDragTouchMoveHandler),b(s,"touchmove",i._delayedDragTouchMoveHandler),o.supportPointer&&b(s,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(r,o.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){re&&Je(re),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;x(e,"mouseup",this._disableDelayedDrag),x(e,"touchend",this._disableDelayedDrag),x(e,"touchcancel",this._disableDelayedDrag),x(e,"mousemove",this._delayedDragTouchMoveHandler),x(e,"touchmove",this._delayedDragTouchMoveHandler),x(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?b(document,"pointermove",this._onTouchMove):b(document,t?"touchmove":"mousemove",this._onTouchMove):(b(re,"dragend",this),b(oe,"dragstart",this._onDragStart));try{document.selection?ot((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(e,t){if(Ce=!1,oe&&re){te("dragStarted",this,{evt:t}),this.nativeDraggable&&b(document,"dragover",qe);var n=this.options;!e&&A(re,n.dragClass,!1),A(re,n.ghostClass,!0),Xe.active=this,e&&this._appendGhost(),ne({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(_e){this._lastX=_e.clientX,this._lastY=_e.clientY,Ge();var e=document.elementFromPoint(_e.clientX,_e.clientY),t=e;while(e&&e.shadowRoot){if(e=e.shadowRoot.elementFromPoint(_e.clientX,_e.clientY),e===t)break;t=e}if(re.parentNode[Y]._isOutsideThisEl(e),t)do{if(t[Y]){var n=void 0;if(n=t[Y]._onDragOver({clientX:_e.clientX,clientY:_e.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Ye()}},_onTouchMove:function(e){if(ge){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,i=e.touches?e.touches[0]:e,a=ae&&k(ae,!0),o=ae&&a&&a.a,s=ae&&a&&a.d,l=Fe&&Ae&&F(Ae),c=(i.clientX-ge.clientX+r.x)/(o||1)+(l?l[0]-Pe[0]:0)/(o||1),u=(i.clientY-ge.clientY+r.y)/(s||1)+(l?l[1]-Pe[1]:0)/(s||1);if(!Xe.active&&!Ce){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(ae){a?(a.e+=c-(ye||0),a.f+=u-(be||0)):a={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");C(ae,"webkitTransform",d),C(ae,"mozTransform",d),C(ae,"msTransform",d),C(ae,"transform",d),ye=c,be=u,_e=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!ae){var e=this.options.fallbackOnBody?document.body:oe,t=I(re,!0,Fe,!0,e),n=this.options;if(Fe){Ae=e;while("static"===C(Ae,"position")&&"none"===C(Ae,"transform")&&Ae!==document)Ae=Ae.parentNode;Ae!==document.body&&Ae!==document.documentElement?(Ae===document&&(Ae=L()),t.top+=Ae.scrollTop,t.left+=Ae.scrollLeft):Ae=L(),Pe=F(Ae)}ae=re.cloneNode(!0),A(ae,n.ghostClass,!1),A(ae,n.fallbackClass,!0),A(ae,n.dragClass,!0),C(ae,"transition",""),C(ae,"transform",""),C(ae,"box-sizing","border-box"),C(ae,"margin",0),C(ae,"top",t.top),C(ae,"left",t.left),C(ae,"width",t.width),C(ae,"height",t.height),C(ae,"opacity","0.8"),C(ae,"position",Fe?"absolute":"fixed"),C(ae,"zIndex","100000"),C(ae,"pointerEvents","none"),Xe.ghost=ae,e.appendChild(ae),C(ae,"transform-origin",xe/parseInt(ae.style.width)*100+"% "+we/parseInt(ae.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,i=n.options;te("dragStart",this,{evt:e}),Xe.eventCanceled?this._onDrop():(te("setupClone",this),Xe.eventCanceled||(ce=G(re),ce.draggable=!1,ce.style["will-change"]="",this._hideClone(),A(ce,this.options.chosenClass,!1),Xe.clone=ce),n.cloneId=ot((function(){te("clone",n),Xe.eventCanceled||(n.options.removeCloneOnHide||oe.insertBefore(ce,re),n._hideClone(),ne({sortable:n,name:"clone"}))})),!t&&A(re,i.dragClass,!0),t?(ke=!0,n._loopId=setInterval(n._emulateDragOver,50)):(x(document,"mouseup",n._onDrop),x(document,"touchend",n._onDrop),x(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",i.setData&&i.setData.call(n,r,re)),b(document,"drop",n),C(re,"transform","translateZ(0)")),Ce=!0,n._dragStartId=ot(n._dragStarted.bind(n,t,e)),b(document,"selectstart",n),Se=!0,v&&C(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,r,i,o=this.el,s=e.target,l=this.options,c=l.group,u=Xe.active,d=me===c,h=l.sort,f=ve||u,p=this,m=!1;if(!De){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),s=M(s,l.draggable,o,!0),B("dragOver"),Xe.eventCanceled)return m;if(re.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||p._ignoreWhileAnimating===s)return U(!1);if(ke=!1,u&&!l.disabled&&(d?h||(r=ie!==oe):ve===this||(this.lastPutMode=me.checkPull(this,u,re,e))&&c.checkPut(this,u,re,e))){if(i="vertical"===this._getDirection(e,s),t=I(re),B("dragOverValid"),Xe.eventCanceled)return m;if(r)return ie=oe,V(),this._hideClone(),B("revert"),Xe.eventCanceled||(se?oe.insertBefore(re,se):oe.appendChild(re)),U(!0);var v=O(o,l.draggable);if(!v||tt(e,i,this)&&!v.animated){if(v===re)return U(!1);if(v&&o===e.target&&(s=v),s&&(n=I(s)),!1!==Ke(oe,o,re,t,s,n,e,!!s))return V(),o.appendChild(re),ie=o,z(),U(!0)}else if(v&&et(e,i,this)){var g=D(o,0,l,!0);if(g===re)return U(!1);if(s=g,n=I(s),!1!==Ke(oe,o,re,t,s,n,e,!1))return V(),o.insertBefore(re,g),ie=o,z(),U(!0)}else if(s.parentNode===o){n=I(s);var _,y,b=0,x=re.parentNode!==o,w=!He(re.animated&&re.toRect||t,s.animated&&s.toRect||n,i),S=i?"top":"left",E=P(s,"top","top")||P(re,"top","top"),T=E?E.scrollTop:void 0;if(Me!==s&&(_=n[S],Le=!1,Ie=!w&&l.invertSwap||x),b=nt(e,s,n,i,w?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,Ie,Me===s),0!==b){var k=N(re);do{k-=b,y=ie.children[k]}while(y&&("none"===C(y,"display")||y===ae))}if(0===b||y===s)return U(!1);Me=s,Ee=b;var R=s.nextElementSibling,L=!1;L=1===b;var F=Ke(oe,o,re,t,s,n,e,L);if(!1!==F)return 1!==F&&-1!==F||(L=1===F),De=!0,setTimeout(Qe,30),V(),L&&!R?o.appendChild(re):s.parentNode.insertBefore(re,L?R:s),E&&j(E,0,T-E.scrollTop),ie=re.parentNode,void 0===_||Ie||(Te=Math.abs(_-I(s)[S])),z(),U(!0)}if(o.contains(re))return U(!1)}return!1}function B(l,c){te(l,p,a({evt:e,isOwner:d,axis:i?"vertical":"horizontal",revert:r,dragRect:t,targetRect:n,canSort:h,fromSortable:f,target:s,completed:U,onMove:function(n,r){return Ke(oe,o,re,t,n,I(n),e,r)},changed:z},c))}function V(){B("dragOverAnimationCapture"),p.captureAnimationState(),p!==f&&f.captureAnimationState()}function U(t){return B("dragOverCompleted",{insertion:t}),t&&(d?u._hideClone():u._showClone(p),p!==f&&(A(re,ve?ve.options.ghostClass:u.options.ghostClass,!1),A(re,l.ghostClass,!0)),ve!==p&&p!==Xe.active?ve=p:p===Xe.active&&ve&&(ve=null),f===p&&(p._ignoreWhileAnimating=s),p.animateAll((function(){B("dragOverAnimationComplete"),p._ignoreWhileAnimating=null})),p!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(s===re&&!re.animated||s===o&&!s.animated)&&(Me=null),l.dragoverBubble||e.rootEl||s===document||(re.parentNode[Y]._isOutsideThisEl(e.target),!t&&$e(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function z(){he=N(re),pe=N(re,l.draggable),ne({sortable:p,name:"change",toEl:o,newIndex:he,newDraggableIndex:pe,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){x(document,"mousemove",this._onTouchMove),x(document,"touchmove",this._onTouchMove),x(document,"pointermove",this._onTouchMove),x(document,"dragover",$e),x(document,"mousemove",$e),x(document,"touchmove",$e)},_offUpEvents:function(){var e=this.el.ownerDocument;x(e,"mouseup",this._onDrop),x(e,"touchend",this._onDrop),x(e,"pointerup",this._onDrop),x(e,"touchcancel",this._onDrop),x(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;he=N(re),pe=N(re,n.draggable),te("drop",this,{evt:e}),ie=re&&re.parentNode,he=N(re),pe=N(re,n.draggable),Xe.eventCanceled||(Ce=!1,Ie=!1,Le=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),st(this.cloneId),st(this._dragStartId),this.nativeDraggable&&(x(document,"drop",this),x(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),v&&C(document.body,"user-select",""),C(re,"transform",""),e&&(Se&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),ae&&ae.parentNode&&ae.parentNode.removeChild(ae),(oe===ie||ve&&"clone"!==ve.lastPutMode)&&ce&&ce.parentNode&&ce.parentNode.removeChild(ce),re&&(this.nativeDraggable&&x(re,"dragend",this),Je(re),re.style["will-change"]="",Se&&!Ce&&A(re,ve?ve.options.ghostClass:this.options.ghostClass,!1),A(re,this.options.chosenClass,!1),ne({sortable:this,name:"unchoose",toEl:ie,newIndex:null,newDraggableIndex:null,originalEvent:e}),oe!==ie?(he>=0&&(ne({rootEl:ie,name:"add",toEl:ie,fromEl:oe,originalEvent:e}),ne({sortable:this,name:"remove",toEl:ie,originalEvent:e}),ne({rootEl:ie,name:"sort",toEl:ie,fromEl:oe,originalEvent:e}),ne({sortable:this,name:"sort",toEl:ie,originalEvent:e})),ve&&ve.save()):he!==de&&he>=0&&(ne({sortable:this,name:"update",toEl:ie,originalEvent:e}),ne({sortable:this,name:"sort",toEl:ie,originalEvent:e})),Xe.active&&(null!=he&&-1!==he||(he=de,pe=fe),ne({sortable:this,name:"end",toEl:ie,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){te("nulling",this),oe=re=ie=ae=se=ce=le=ue=ge=_e=Se=he=pe=de=fe=Me=Ee=ve=me=Xe.dragged=Xe.ghost=Xe.clone=Xe.active=null,Oe.forEach((function(e){e.checked=!0})),Oe.length=ye=be=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":re&&(this._onDragOver(e),Ze(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e,t=[],n=this.el.children,r=0,i=n.length,a=this.options;r<i;r++)e=n[r],M(e,a.draggable,this.el,!1)&&t.push(e.getAttribute(a.dataIdAttr)||it(e));return t},sort:function(e,t){var n={},r=this.el;this.toArray().forEach((function(e,t){var i=r.children[t];M(i,this.options.draggable,r,!1)&&(n[e]=i)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(r.removeChild(n[e]),r.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return M(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var r=J.modifyOption(this,e,t);n[e]="undefined"!==typeof r?r:t,"group"===e&&je(n)},destroy:function(){te("destroy",this);var e=this.el;e[Y]=null,x(e,"mousedown",this._onTapStart),x(e,"touchstart",this._onTapStart),x(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(x(e,"dragover",this),x(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Re.splice(Re.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ue){if(te("hideClone",this),Xe.eventCanceled)return;C(ce,"display","none"),this.options.removeCloneOnHide&&ce.parentNode&&ce.parentNode.removeChild(ce),ue=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(ue){if(te("showClone",this),Xe.eventCanceled)return;re.parentNode!=oe||this.options.group.revertClone?se?oe.insertBefore(ce,se):oe.appendChild(ce):oe.insertBefore(ce,re),this.options.group.revertClone&&this.animate(re,ce),C(ce,"display",""),ue=!1}}else this._hideClone()}},Ne&&b(document,"touchmove",(function(e){(Xe.active||Ce)&&e.cancelable&&e.preventDefault()})),Xe.utils={on:b,off:x,css:C,find:R,is:function(e,t){return!!M(e,t,e,!1)},extend:U,throttle:H,closest:M,toggleClass:A,clone:G,index:N,nextTick:ot,cancelNextTick:st,detectDirection:ze,getChild:D},Xe.get=function(e){return e[Y]},Xe.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Xe.utils=a(a({},Xe.utils),e.utils)),J.mount(e)}))},Xe.create=function(e,t){return new Xe(e,t)},Xe.version=d;var lt,ct,ut,dt,ht,ft,pt=[],mt=!1;function vt(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"===typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?b(document,"dragover",this._handleAutoScroll):this.options.supportPointer?b(document,"pointermove",this._handleFallbackAutoScroll):t.touches?b(document,"touchmove",this._handleFallbackAutoScroll):b(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?x(document,"dragover",this._handleAutoScroll):(x(document,"pointermove",this._handleFallbackAutoScroll),x(document,"touchmove",this._handleFallbackAutoScroll),x(document,"mousemove",this._handleFallbackAutoScroll)),_t(),gt(),W()},nulling:function(){ht=ct=lt=mt=ft=ut=dt=null,pt.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,r=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,a=document.elementFromPoint(r,i);if(ht=e,t||this.options.forceAutoScrollFallback||p||f||v){yt(e,this.options,a,t);var o=V(a,!0);!mt||ft&&r===ut&&i===dt||(ft&&_t(),ft=setInterval((function(){var a=V(document.elementFromPoint(r,i),!0);a!==o&&(o=a,gt()),yt(e,n.options,a,t)}),10),ut=r,dt=i)}else{if(!this.options.bubbleScroll||V(a,!0)===L())return void gt();yt(e,this.options,V(a,!1),!1)}}},l(e,{pluginName:"scroll",initializeByDefault:!0})}function gt(){pt.forEach((function(e){clearInterval(e.pid)})),pt=[]}function _t(){clearInterval(ft)}var yt=H((function(e,t,n,r){if(t.scroll){var i,a=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,l=t.scrollSpeed,c=L(),u=!1;ct!==n&&(ct=n,gt(),lt=t.scroll,i=t.scrollFn,!0===lt&&(lt=V(n,!0)));var d=0,h=lt;do{var f=h,p=I(f),m=p.top,v=p.bottom,g=p.left,_=p.right,y=p.width,b=p.height,x=void 0,w=void 0,S=f.scrollWidth,M=f.scrollHeight,E=C(f),T=f.scrollLeft,A=f.scrollTop;f===c?(x=y<S&&("auto"===E.overflowX||"scroll"===E.overflowX||"visible"===E.overflowX),w=b<M&&("auto"===E.overflowY||"scroll"===E.overflowY||"visible"===E.overflowY)):(x=y<S&&("auto"===E.overflowX||"scroll"===E.overflowX),w=b<M&&("auto"===E.overflowY||"scroll"===E.overflowY));var k=x&&(Math.abs(_-a)<=s&&T+y<S)-(Math.abs(g-a)<=s&&!!T),R=w&&(Math.abs(v-o)<=s&&A+b<M)-(Math.abs(m-o)<=s&&!!A);if(!pt[d])for(var P=0;P<=d;P++)pt[P]||(pt[P]={});pt[d].vx==k&&pt[d].vy==R&&pt[d].el===f||(pt[d].el=f,pt[d].vx=k,pt[d].vy=R,clearInterval(pt[d].pid),0==k&&0==R||(u=!0,pt[d].pid=setInterval(function(){r&&0===this.layer&&Xe.active._onTouchMove(ht);var t=pt[this.layer].vy?pt[this.layer].vy*l:0,n=pt[this.layer].vx?pt[this.layer].vx*l:0;"function"===typeof i&&"continue"!==i.call(Xe.dragged.parentNode[Y],n,t,e,ht,pt[this.layer].el)||j(pt[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&h!==c&&(h=V(h,!1)));mt=u}}),30),bt=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,i=e.activeSortable,a=e.dispatchSortableEvent,o=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var l=n||i;o();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);s(),l&&!l.el.contains(u)&&(a("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function xt(){}function wt(){}function St(){return"undefined"!==typeof window?window.console:n.g.console}xt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=D(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:bt},l(xt,{pluginName:"revertOnSpill"}),wt.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable,r=n||this.sortable;r.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),r.animateAll()},drop:bt},l(wt,{pluginName:"removeOnSpill"}),Xe.mount(new vt),Xe.mount(wt,xt);const Mt=St();function Et(e){const t=Object.create(null);return function(n){const r=t[n];return r||(t[n]=e(n))}}const Tt=/-(\w)/g,At=Et((e=>e.replace(Tt,((e,t)=>t?t.toUpperCase():""))));function Ct(e){null!==e.parentElement&&e.parentElement.removeChild(e)}function kt(e,t,n){const r=0===n?e.children[0]:e.children[n-1].nextSibling;e.insertBefore(t,r)}function Rt(e,t){return Object.values(e).indexOf(t)}function Lt(e,t,n,r){if(!e)return[];const i=Object.values(e),a=t.length-r,o=[...t].map(((e,t)=>t>=a?i.length:i.indexOf(e)));return o}function It(e,t){this.$nextTick((()=>this.$emit(e.toLowerCase(),t)))}function Pt(e){return t=>{null!==this.realList&&this["onDrag"+e](t),It.call(this,e,t)}}function Dt(e){return["transition-group","TransitionGroup"].includes(e)}function Ot(e){if(!e||1!==e.length)return!1;const[{type:t}]=e;return!!t&&Dt(t.name)}function Nt(e,t){return t?{...t.props,...t.attrs}:e}const Ft=["Start","Add","Remove","Update","End"],Bt=["Choose","Unchoose","Sort","Filter","Clone"],Vt=["Move",...Ft,...Bt].map((e=>"on"+e));let Ut=null;const zt={options:Object,list:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:e=>e},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null},component:{type:String,default:null},modelValue:{type:Array,required:!1,default:null}},Ht=(0,r.aZ)({name:"VueDraggableNext",inheritAttrs:!1,emits:["update:modelValue","move","change",...Ft.map((e=>e.toLowerCase())),...Bt.map((e=>e.toLowerCase()))],props:zt,data(){return{transitionMode:!1,noneFunctionalComponentMode:!1,headerOffset:0,footerOffset:0,_sortable:{},visibleIndexes:[],context:{}}},render(){const e=this.$slots.default?this.$slots.default():null,t=Nt(this.$attrs,this.componentData);return e?(this.transitionMode=Ot(e),(0,r.h)(this.getTag(),t,e)):(0,r.h)(this.getTag(),t,[])},created(){null!==this.list&&null!==this.modelValue&&Mt.error("list props are mutually exclusive! Please set one.")},mounted(){const e={};Ft.forEach((t=>{e["on"+t]=Pt.call(this,t)})),Bt.forEach((t=>{e["on"+t]=It.bind(this,t)}));const t=Object.keys(this.$attrs).reduce(((e,t)=>(e[At(t)]=this.$attrs[t],e)),{}),n=Object.assign({},t,e,{onMove:(e,t)=>this.onDragMove(e,t)});!("draggable"in n)&&(n.draggable=">*");const r=1===this.$el.nodeType?this.$el:this.$el.parentElement;this._sortable=new Xe(r,n),r.__draggable_component__=this,this.computeIndexes()},beforeUnmount(){try{void 0!==this._sortable&&this._sortable.destroy()}catch(e){}},computed:{realList(){return this.list?this.list:this.modelValue}},watch:{$attrs:{handler(e){this.updateOptions(e)},deep:!0},realList(){this.computeIndexes()}},methods:{getTag(){return this.component?(0,r.up)(this.component):this.tag},updateOptions(e){for(var t in e){const n=At(t);-1===Vt.indexOf(n)&&this._sortable.option(n,e[t])}},getChildrenNodes(){return this.$el.children},computeIndexes(){this.$nextTick((()=>{this.visibleIndexes=Lt(this.getChildrenNodes(),this.$el.children,this.transitionMode,this.footerOffset)}))},getUnderlyingVm(e){const t=Rt(this.getChildrenNodes()||[],e);if(-1===t)return null;const n=this.realList[t];return{index:t,element:n}},emitChanges(e){this.$nextTick((()=>{this.$emit("change",e)}))},alterList(e){if(this.list)return void e(this.list);const t=[...this.modelValue];e(t),this.$emit("update:modelValue",t)},spliceList(){const e=e=>e.splice(...arguments);this.alterList(e)},updatePosition(e,t){const n=n=>n.splice(t,0,n.splice(e,1)[0]);this.alterList(n)},getVmIndex(e){const t=this.visibleIndexes,n=t.length;return e>n-1?n:t[e]},getComponent(){return this.$slots.default?this.$slots.default()[0].componentInstance:null},resetTransitionData(e){if(!this.noTransitionOnDrag||!this.transitionMode)return;var t=this.getChildrenNodes();t[e].data=null;const n=this.getComponent();n.children=[],n.kept=void 0},onDragStart(e){this.context=this.getUnderlyingVm(e.item),this.context&&(e.item._underlying_vm_=this.clone(this.context.element),Ut=e.item)},onDragAdd(e){const t=e.item._underlying_vm_;if(void 0===t)return;Ct(e.item);const n=this.getVmIndex(e.newIndex);this.spliceList(n,0,t),this.computeIndexes();const r={element:t,newIndex:n};this.emitChanges({added:r})},onDragRemove(e){if(kt(this.$el,e.item,e.oldIndex),"clone"===e.pullMode)return void Ct(e.clone);if(!this.context)return;const t=this.context.index;this.spliceList(t,1);const n={element:this.context.element,oldIndex:t};this.resetTransitionData(t),this.emitChanges({removed:n})},onDragUpdate(e){Ct(e.item),kt(e.from,e.item,e.oldIndex);const t=this.context.index,n=this.getVmIndex(e.newIndex);this.updatePosition(t,n);const r={element:this.context.element,oldIndex:t,newIndex:n};this.emitChanges({moved:r})},updateProperty(e,t){e.hasOwnProperty(t)&&(e[t]+=this.headerOffset)},onDragMove(e,t){const n=this.move;if(!n||!this.realList)return!0;const r=this.getRelatedContextFromMoveEvent(e),i=this.context,a=this.computeFutureIndex(r,e);Object.assign(i,{futureIndex:a});const o=Object.assign({},e,{relatedContext:r,draggedContext:i});return n(o,t)},onDragEnd(){this.computeIndexes(),Ut=null},getTrargetedComponent(e){return e.__draggable_component__},getRelatedContextFromMoveEvent({to:e,related:t}){const n=this.getTrargetedComponent(e);if(!n)return{component:n};const r=n.realList,i={list:r,component:n};if(e!==t&&r&&n.getUnderlyingVm){const e=n.getUnderlyingVm(t);if(e)return Object.assign(e,i)}return i},computeFutureIndex(e,t){const n=[...t.to.children].filter((e=>"none"!==e.style["display"]));if(0===n.length)return 0;const r=n.indexOf(t.related),i=e.component.getVmIndex(r),a=-1!==n.indexOf(Ut);return a||!t.willInsertAfter?i:i+1}}})},5658:function(e,t,n){"use strict";n.d(t,{o:function(){return Mn}});n(7658);
/*!
  * shared v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */
const r="undefined"!==typeof window;const i="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag,a=e=>i?Symbol(e):e,o=(e,t,n)=>s({l:e,k:t,s:n}),s=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),l=e=>"number"===typeof e&&isFinite(e),c=e=>"[object Date]"===E(e),u=e=>"[object RegExp]"===E(e),d=e=>T(e)&&0===Object.keys(e).length;function h(e,t){"undefined"!==typeof console&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const f=Object.assign;let p;const m=()=>p||(p="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{});function v(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const g=Object.prototype.hasOwnProperty;function _(e,t){return g.call(e,t)}const y=Array.isArray,b=e=>"function"===typeof e,x=e=>"string"===typeof e,w=e=>"boolean"===typeof e,S=e=>null!==e&&"object"===typeof e,M=Object.prototype.toString,E=e=>M.call(e),T=e=>"[object Object]"===E(e),A=e=>null==e?"":y(e)||T(e)&&e.toString===M?JSON.stringify(e,null,2):String(e);n(1703);
/*!
  * message-compiler v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */
const C={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,__EXTEND_POINT__:15};C.EXPECTED_TOKEN,C.INVALID_TOKEN_IN_PLACEHOLDER,C.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,C.UNKNOWN_ESCAPE_SEQUENCE,C.INVALID_UNICODE_ESCAPE_SEQUENCE,C.UNBALANCED_CLOSING_BRACE,C.UNTERMINATED_CLOSING_BRACE,C.EMPTY_PLACEHOLDER,C.NOT_ALLOW_NEST_PLACEHOLDER,C.INVALID_LINKED_FORMAT,C.MUST_HAVE_MESSAGES_IN_PLURAL,C.UNEXPECTED_EMPTY_LINKED_MODIFIER,C.UNEXPECTED_EMPTY_LINKED_KEY,C.UNEXPECTED_LEXICAL_ANALYSIS;function k(e,t,n={}){const{domain:r,messages:i,args:a}=n,o=e,s=new SyntaxError(String(o));return s.code=e,t&&(s.location=t),s.domain=r,s}function R(e){throw e}function L(e,t,n){return{line:e,column:t,offset:n}}function I(e,t,n){const r={start:e,end:t};return null!=n&&(r.source=n),r}const P=" ",D="\r",O="\n",N=String.fromCharCode(8232),F=String.fromCharCode(8233);function B(e){const t=e;let n=0,r=1,i=1,a=0;const o=e=>t[e]===D&&t[e+1]===O,s=e=>t[e]===O,l=e=>t[e]===F,c=e=>t[e]===N,u=e=>o(e)||s(e)||l(e)||c(e),d=()=>n,h=()=>r,f=()=>i,p=()=>a,m=e=>o(e)||l(e)||c(e)?O:t[e],v=()=>m(n),g=()=>m(n+a);function _(){return a=0,u(n)&&(r++,i=0),o(n)&&n++,n++,i++,t[n]}function y(){return o(n+a)&&a++,a++,t[n+a]}function b(){n=0,r=1,i=1,a=0}function x(e=0){a=e}function w(){const e=n+a;while(e!==n)_();a=0}return{index:d,line:h,column:f,peekOffset:p,charAt:m,currentChar:v,currentPeek:g,next:_,peek:y,reset:b,resetPeek:x,skipToPeek:w}}const V=void 0,U="'",z="tokenizer";function H(e,t={}){const n=!1!==t.location,r=B(e),i=()=>r.index(),a=()=>L(r.line(),r.column(),r.index()),o=a(),s=i(),l={currentType:14,offset:s,startLoc:o,endLoc:o,lastType:14,lastOffset:s,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},c=()=>l,{onError:u}=t;function d(e,t,n,...r){const i=c();if(t.column+=n,t.offset+=n,u){const n=I(i.startLoc,t),a=k(e,n,{domain:z,args:r});u(a)}}function h(e,t,r){e.endLoc=a(),e.currentType=t;const i={type:t};return n&&(i.loc=I(e.startLoc,e.endLoc)),null!=r&&(i.value=r),i}const f=e=>h(e,14);function p(e,t){return e.currentChar()===t?(e.next(),t):(d(C.EXPECTED_TOKEN,a(),0,t),"")}function m(e){let t="";while(e.currentPeek()===P||e.currentPeek()===O)t+=e.currentPeek(),e.peek();return t}function v(e){const t=m(e);return e.skipToPeek(),t}function g(e){if(e===V)return!1;const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||95===t}function _(e){if(e===V)return!1;const t=e.charCodeAt(0);return t>=48&&t<=57}function y(e,t){const{currentType:n}=t;if(2!==n)return!1;m(e);const r=g(e.currentPeek());return e.resetPeek(),r}function b(e,t){const{currentType:n}=t;if(2!==n)return!1;m(e);const r="-"===e.currentPeek()?e.peek():e.currentPeek(),i=_(r);return e.resetPeek(),i}function x(e,t){const{currentType:n}=t;if(2!==n)return!1;m(e);const r=e.currentPeek()===U;return e.resetPeek(),r}function w(e,t){const{currentType:n}=t;if(8!==n)return!1;m(e);const r="."===e.currentPeek();return e.resetPeek(),r}function S(e,t){const{currentType:n}=t;if(9!==n)return!1;m(e);const r=g(e.currentPeek());return e.resetPeek(),r}function M(e,t){const{currentType:n}=t;if(8!==n&&12!==n)return!1;m(e);const r=":"===e.currentPeek();return e.resetPeek(),r}function E(e,t){const{currentType:n}=t;if(10!==n)return!1;const r=()=>{const t=e.currentPeek();return"{"===t?g(e.peek()):!("@"===t||"%"===t||"|"===t||":"===t||"."===t||t===P||!t)&&(t===O?(e.peek(),r()):g(t))},i=r();return e.resetPeek(),i}function T(e){m(e);const t="|"===e.currentPeek();return e.resetPeek(),t}function A(e){const t=m(e),n="%"===e.currentPeek()&&"{"===e.peek();return e.resetPeek(),{isModulo:n,hasSpace:t.length>0}}function R(e,t=!0){const n=(t=!1,r="",i=!1)=>{const a=e.currentPeek();return"{"===a?"%"!==r&&t:"@"!==a&&a?"%"===a?(e.peek(),n(t,"%",!0)):"|"===a?!("%"!==r&&!i)||!(r===P||r===O):a===P?(e.peek(),n(!0,P,i)):a!==O||(e.peek(),n(!0,O,i)):"%"===r||t},r=n();return t&&e.resetPeek(),r}function D(e,t){const n=e.currentChar();return n===V?V:t(n)?(e.next(),n):null}function N(e){const t=e=>{const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||t>=48&&t<=57||95===t||36===t};return D(e,t)}function F(e){const t=e=>{const t=e.charCodeAt(0);return t>=48&&t<=57};return D(e,t)}function H(e){const t=e=>{const t=e.charCodeAt(0);return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102};return D(e,t)}function W(e){let t="",n="";while(t=F(e))n+=t;return n}function j(e){v(e);const t=e.currentChar();return"%"!==t&&d(C.EXPECTED_TOKEN,a(),0,t),e.next(),"%"}function G(e){let t="";while(1){const n=e.currentChar();if("{"===n||"}"===n||"@"===n||"|"===n||!n)break;if("%"===n){if(!R(e))break;t+=n,e.next()}else if(n===P||n===O)if(R(e))t+=n,e.next();else{if(T(e))break;t+=n,e.next()}else t+=n,e.next()}return t}function Y(e){v(e);let t="",n="";while(t=N(e))n+=t;return e.currentChar()===V&&d(C.UNTERMINATED_CLOSING_BRACE,a(),0),n}function $(e){v(e);let t="";return"-"===e.currentChar()?(e.next(),t+=`-${W(e)}`):t+=W(e),e.currentChar()===V&&d(C.UNTERMINATED_CLOSING_BRACE,a(),0),t}function q(e){v(e),p(e,"'");let t="",n="";const r=e=>e!==U&&e!==O;while(t=D(e,r))n+="\\"===t?X(e):t;const i=e.currentChar();return i===O||i===V?(d(C.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,a(),0),i===O&&(e.next(),p(e,"'")),n):(p(e,"'"),n)}function X(e){const t=e.currentChar();switch(t){case"\\":case"'":return e.next(),`\\${t}`;case"u":return Z(e,t,4);case"U":return Z(e,t,6);default:return d(C.UNKNOWN_ESCAPE_SEQUENCE,a(),0,t),""}}function Z(e,t,n){p(e,t);let r="";for(let i=0;i<n;i++){const n=H(e);if(!n){d(C.INVALID_UNICODE_ESCAPE_SEQUENCE,a(),0,`\\${t}${r}${e.currentChar()}`);break}r+=n}return`\\${t}${r}`}function K(e){v(e);let t="",n="";const r=e=>"{"!==e&&"}"!==e&&e!==P&&e!==O;while(t=D(e,r))n+=t;return n}function J(e){let t="",n="";while(t=N(e))n+=t;return n}function Q(e){const t=(n=!1,r)=>{const i=e.currentChar();return"{"!==i&&"%"!==i&&"@"!==i&&"|"!==i&&i?i===P?r:i===O?(r+=i,e.next(),t(n,r)):(r+=i,e.next(),t(!0,r)):r};return t(!1,"")}function ee(e){v(e);const t=p(e,"|");return v(e),t}function te(e,t){let n=null;const r=e.currentChar();switch(r){case"{":return t.braceNest>=1&&d(C.NOT_ALLOW_NEST_PLACEHOLDER,a(),0),e.next(),n=h(t,2,"{"),v(e),t.braceNest++,n;case"}":return t.braceNest>0&&2===t.currentType&&d(C.EMPTY_PLACEHOLDER,a(),0),e.next(),n=h(t,3,"}"),t.braceNest--,t.braceNest>0&&v(e),t.inLinked&&0===t.braceNest&&(t.inLinked=!1),n;case"@":return t.braceNest>0&&d(C.UNTERMINATED_CLOSING_BRACE,a(),0),n=ne(e,t)||f(t),t.braceNest=0,n;default:let r=!0,i=!0,o=!0;if(T(e))return t.braceNest>0&&d(C.UNTERMINATED_CLOSING_BRACE,a(),0),n=h(t,1,ee(e)),t.braceNest=0,t.inLinked=!1,n;if(t.braceNest>0&&(5===t.currentType||6===t.currentType||7===t.currentType))return d(C.UNTERMINATED_CLOSING_BRACE,a(),0),t.braceNest=0,re(e,t);if(r=y(e,t))return n=h(t,5,Y(e)),v(e),n;if(i=b(e,t))return n=h(t,6,$(e)),v(e),n;if(o=x(e,t))return n=h(t,7,q(e)),v(e),n;if(!r&&!i&&!o)return n=h(t,13,K(e)),d(C.INVALID_TOKEN_IN_PLACEHOLDER,a(),0,n.value),v(e),n;break}return n}function ne(e,t){const{currentType:n}=t;let r=null;const i=e.currentChar();switch(8!==n&&9!==n&&12!==n&&10!==n||i!==O&&i!==P||d(C.INVALID_LINKED_FORMAT,a(),0),i){case"@":return e.next(),r=h(t,8,"@"),t.inLinked=!0,r;case".":return v(e),e.next(),h(t,9,".");case":":return v(e),e.next(),h(t,10,":");default:return T(e)?(r=h(t,1,ee(e)),t.braceNest=0,t.inLinked=!1,r):w(e,t)||M(e,t)?(v(e),ne(e,t)):S(e,t)?(v(e),h(t,12,J(e))):E(e,t)?(v(e),"{"===i?te(e,t)||r:h(t,11,Q(e))):(8===n&&d(C.INVALID_LINKED_FORMAT,a(),0),t.braceNest=0,t.inLinked=!1,re(e,t))}}function re(e,t){let n={type:14};if(t.braceNest>0)return te(e,t)||f(t);if(t.inLinked)return ne(e,t)||f(t);const r=e.currentChar();switch(r){case"{":return te(e,t)||f(t);case"}":return d(C.UNBALANCED_CLOSING_BRACE,a(),0),e.next(),h(t,3,"}");case"@":return ne(e,t)||f(t);default:if(T(e))return n=h(t,1,ee(e)),t.braceNest=0,t.inLinked=!1,n;const{isModulo:r,hasSpace:i}=A(e);if(r)return i?h(t,0,G(e)):h(t,4,j(e));if(R(e))return h(t,0,G(e));break}return n}function ie(){const{currentType:e,offset:t,startLoc:n,endLoc:o}=l;return l.lastType=e,l.lastOffset=t,l.lastStartLoc=n,l.lastEndLoc=o,l.offset=i(),l.startLoc=a(),r.currentChar()===V?h(l,14):re(r,l)}return{nextToken:ie,currentOffset:i,currentPosition:a,context:c}}const W="parser",j=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function G(e,t,n){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const e=parseInt(t||n,16);return e<=55295||e>=57344?String.fromCodePoint(e):"�"}}}function Y(e={}){const t=!1!==e.location,{onError:n}=e;function r(e,t,r,i,...a){const o=e.currentPosition();if(o.offset+=i,o.column+=i,n){const e=I(r,o),i=k(t,e,{domain:W,args:a});n(i)}}function i(e,n,r){const i={type:e,start:n,end:n};return t&&(i.loc={start:r,end:r}),i}function a(e,n,r,i){e.end=n,i&&(e.type=i),t&&e.loc&&(e.loc.end=r)}function o(e,t){const n=e.context(),r=i(3,n.offset,n.startLoc);return r.value=t,a(r,e.currentOffset(),e.currentPosition()),r}function s(e,t){const n=e.context(),{lastOffset:r,lastStartLoc:o}=n,s=i(5,r,o);return s.index=parseInt(t,10),e.nextToken(),a(s,e.currentOffset(),e.currentPosition()),s}function l(e,t){const n=e.context(),{lastOffset:r,lastStartLoc:o}=n,s=i(4,r,o);return s.key=t,e.nextToken(),a(s,e.currentOffset(),e.currentPosition()),s}function c(e,t){const n=e.context(),{lastOffset:r,lastStartLoc:o}=n,s=i(9,r,o);return s.value=t.replace(j,G),e.nextToken(),a(s,e.currentOffset(),e.currentPosition()),s}function u(e){const t=e.nextToken(),n=e.context(),{lastOffset:o,lastStartLoc:s}=n,l=i(8,o,s);return 12!==t.type?(r(e,C.UNEXPECTED_EMPTY_LINKED_MODIFIER,n.lastStartLoc,0),l.value="",a(l,o,s),{nextConsumeToken:t,node:l}):(null==t.value&&r(e,C.UNEXPECTED_LEXICAL_ANALYSIS,n.lastStartLoc,0,$(t)),l.value=t.value||"",a(l,e.currentOffset(),e.currentPosition()),{node:l})}function d(e,t){const n=e.context(),r=i(7,n.offset,n.startLoc);return r.value=t,a(r,e.currentOffset(),e.currentPosition()),r}function h(e){const t=e.context(),n=i(6,t.offset,t.startLoc);let o=e.nextToken();if(9===o.type){const t=u(e);n.modifier=t.node,o=t.nextConsumeToken||e.nextToken()}switch(10!==o.type&&r(e,C.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,$(o)),o=e.nextToken(),2===o.type&&(o=e.nextToken()),o.type){case 11:null==o.value&&r(e,C.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,$(o)),n.key=d(e,o.value||"");break;case 5:null==o.value&&r(e,C.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,$(o)),n.key=l(e,o.value||"");break;case 6:null==o.value&&r(e,C.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,$(o)),n.key=s(e,o.value||"");break;case 7:null==o.value&&r(e,C.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,$(o)),n.key=c(e,o.value||"");break;default:r(e,C.UNEXPECTED_EMPTY_LINKED_KEY,t.lastStartLoc,0);const u=e.context(),h=i(7,u.offset,u.startLoc);return h.value="",a(h,u.offset,u.startLoc),n.key=h,a(n,u.offset,u.startLoc),{nextConsumeToken:o,node:n}}return a(n,e.currentOffset(),e.currentPosition()),{node:n}}function p(e){const t=e.context(),n=1===t.currentType?e.currentOffset():t.offset,u=1===t.currentType?t.endLoc:t.startLoc,d=i(2,n,u);d.items=[];let f=null;do{const n=f||e.nextToken();switch(f=null,n.type){case 0:null==n.value&&r(e,C.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,$(n)),d.items.push(o(e,n.value||""));break;case 6:null==n.value&&r(e,C.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,$(n)),d.items.push(s(e,n.value||""));break;case 5:null==n.value&&r(e,C.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,$(n)),d.items.push(l(e,n.value||""));break;case 7:null==n.value&&r(e,C.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,$(n)),d.items.push(c(e,n.value||""));break;case 8:const i=h(e);d.items.push(i.node),f=i.nextConsumeToken||null;break}}while(14!==t.currentType&&1!==t.currentType);const p=1===t.currentType?t.lastOffset:e.currentOffset(),m=1===t.currentType?t.lastEndLoc:e.currentPosition();return a(d,p,m),d}function m(e,t,n,o){const s=e.context();let l=0===o.items.length;const c=i(1,t,n);c.cases=[],c.cases.push(o);do{const t=p(e);l||(l=0===t.items.length),c.cases.push(t)}while(14!==s.currentType);return l&&r(e,C.MUST_HAVE_MESSAGES_IN_PLURAL,n,0),a(c,e.currentOffset(),e.currentPosition()),c}function v(e){const t=e.context(),{offset:n,startLoc:r}=t,i=p(e);return 14===t.currentType?i:m(e,n,r,i)}function g(n){const o=H(n,f({},e)),s=o.context(),l=i(0,s.offset,s.startLoc);return t&&l.loc&&(l.loc.source=n),l.body=v(o),14!==s.currentType&&r(o,C.UNEXPECTED_LEXICAL_ANALYSIS,s.lastStartLoc,0,n[s.offset]||""),a(l,o.currentOffset(),o.currentPosition()),l}return{parse:g}}function $(e){if(14===e.type)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"…":t}function q(e,t={}){const n={ast:e,helpers:new Set},r=()=>n,i=e=>(n.helpers.add(e),e);return{context:r,helper:i}}function X(e,t){for(let n=0;n<e.length;n++)Z(e[n],t)}function Z(e,t){switch(e.type){case 1:X(e.cases,t),t.helper("plural");break;case 2:X(e.items,t);break;case 6:const n=e;Z(n.key,t),t.helper("linked"),t.helper("type");break;case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function K(e,t={}){const n=q(e);n.helper("normalize"),e.body&&Z(e.body,n);const r=n.context();e.helpers=Array.from(r.helpers)}function J(e,t){const{sourceMap:n,filename:r,breakLineCode:i,needIndent:a}=t,o={source:e.loc.source,filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:i,needIndent:a,indentLevel:0},s=()=>o;function l(e,t){o.code+=e}function c(e,t=!0){const n=t?i:"";l(a?n+"  ".repeat(e):n)}function u(e=!0){const t=++o.indentLevel;e&&c(t)}function d(e=!0){const t=--o.indentLevel;e&&c(t)}function h(){c(o.indentLevel)}const f=e=>`_${e}`,p=()=>o.needIndent;return{context:s,push:l,indent:u,deindent:d,newline:h,helper:f,needIndent:p}}function Q(e,t){const{helper:n}=e;e.push(`${n("linked")}(`),re(e,t.key),t.modifier?(e.push(", "),re(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function ee(e,t){const{helper:n,needIndent:r}=e;e.push(`${n("normalize")}([`),e.indent(r());const i=t.items.length;for(let a=0;a<i;a++){if(re(e,t.items[a]),a===i-1)break;e.push(", ")}e.deindent(r()),e.push("])")}function te(e,t){const{helper:n,needIndent:r}=e;if(t.cases.length>1){e.push(`${n("plural")}([`),e.indent(r());const i=t.cases.length;for(let n=0;n<i;n++){if(re(e,t.cases[n]),n===i-1)break;e.push(", ")}e.deindent(r()),e.push("])")}}function ne(e,t){t.body?re(e,t.body):e.push("null")}function re(e,t){const{helper:n}=e;switch(t.type){case 0:ne(e,t);break;case 1:te(e,t);break;case 2:ee(e,t);break;case 6:Q(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${n("interpolate")}(${n("list")}(${t.index}))`,t);break;case 4:e.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break;default:0}}const ie=(e,t={})=>{const n=x(t.mode)?t.mode:"normal",r=x(t.filename)?t.filename:"message.intl",i=!!t.sourceMap,a=null!=t.breakLineCode?t.breakLineCode:"arrow"===n?";":"\n",o=t.needIndent?t.needIndent:"arrow"!==n,s=e.helpers||[],l=J(e,{mode:n,filename:r,sourceMap:i,breakLineCode:a,needIndent:o});l.push("normal"===n?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(o),s.length>0&&(l.push(`const { ${s.map((e=>`${e}: _${e}`)).join(", ")} } = ctx`),l.newline()),l.push("return "),re(l,e),l.deindent(o),l.push("}");const{code:c,map:u}=l.context();return{ast:e,code:c,map:u?u.toJSON():void 0}};function ae(e,t={}){const n=f({},t),r=Y(n),i=r.parse(e);return K(i,n),ie(i,n)}
/*!
  * devtools-if v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */
const oe={I18nInit:"i18n:init",FunctionTranslate:"function:translate"},se=[];se[0]={["w"]:[0],["i"]:[3,0],["["]:[4],["o"]:[7]},se[1]={["w"]:[1],["."]:[2],["["]:[4],["o"]:[7]},se[2]={["w"]:[2],["i"]:[3,0],["0"]:[3,0]},se[3]={["i"]:[3,0],["0"]:[3,0],["w"]:[1,1],["."]:[2,1],["["]:[4,1],["o"]:[7,1]},se[4]={["'"]:[5,0],['"']:[6,0],["["]:[4,2],["]"]:[1,3],["o"]:8,["l"]:[4,0]},se[5]={["'"]:[4,0],["o"]:8,["l"]:[5,0]},se[6]={['"']:[4,0],["o"]:8,["l"]:[6,0]};const le=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function ce(e){return le.test(e)}function ue(e){const t=e.charCodeAt(0),n=e.charCodeAt(e.length-1);return t!==n||34!==t&&39!==t?e:e.slice(1,-1)}function de(e){if(void 0===e||null===e)return"o";const t=e.charCodeAt(0);switch(t){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function he(e){const t=e.trim();return("0"!==e.charAt(0)||!isNaN(parseInt(e)))&&(ce(t)?ue(t):"*"+t)}function fe(e){const t=[];let n,r,i,a,o,s,l,c=-1,u=0,d=0;const h=[];function f(){const t=e[c+1];if(5===u&&"'"===t||6===u&&'"'===t)return c++,i="\\"+t,h[0](),!0}h[0]=()=>{void 0===r?r=i:r+=i},h[1]=()=>{void 0!==r&&(t.push(r),r=void 0)},h[2]=()=>{h[0](),d++},h[3]=()=>{if(d>0)d--,u=4,h[0]();else{if(d=0,void 0===r)return!1;if(r=he(r),!1===r)return!1;h[1]()}};while(null!==u)if(c++,n=e[c],"\\"!==n||!f()){if(a=de(n),l=se[u],o=l[a]||l["l"]||8,8===o)return;if(u=o[0],void 0!==o[1]&&(s=h[o[1]],s&&(i=n,!1===s())))return;if(7===u)return t}}const pe=new Map;function me(e,t){return S(e)?e[t]:null}function ve(e,t){if(!S(e))return null;let n=pe.get(t);if(n||(n=fe(t),n&&pe.set(t,n)),!n)return null;const r=n.length;let i=e,a=0;while(a<r){const e=i[n[a]];if(void 0===e)return null;i=e,a++}return i}const ge=e=>e,_e=e=>"",ye="text",be=e=>0===e.length?"":e.join(""),xe=A;function we(e,t){return e=Math.abs(e),2===t?e?e>1?1:0:1:e?Math.min(e,2):0}function Se(e){const t=l(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(l(e.named.count)||l(e.named.n))?l(e.named.count)?e.named.count:l(e.named.n)?e.named.n:t:t}function Me(e,t){t.count||(t.count=e),t.n||(t.n=e)}function Ee(e={}){const t=e.locale,n=Se(e),r=S(e.pluralRules)&&x(t)&&b(e.pluralRules[t])?e.pluralRules[t]:we,i=S(e.pluralRules)&&x(t)&&b(e.pluralRules[t])?we:void 0,a=e=>e[r(n,e.length,i)],o=e.list||[],s=e=>o[e],c=e.named||{};l(e.pluralIndex)&&Me(n,c);const u=e=>c[e];function d(t){const n=b(e.messages)?e.messages(t):!!S(e.messages)&&e.messages[t];return n||(e.parent?e.parent.message(t):_e)}const h=t=>e.modifiers?e.modifiers[t]:ge,f=T(e.processor)&&b(e.processor.normalize)?e.processor.normalize:be,p=T(e.processor)&&b(e.processor.interpolate)?e.processor.interpolate:xe,m=T(e.processor)&&x(e.processor.type)?e.processor.type:ye,v=(e,...t)=>{const[n,r]=t;let i="text",a="";1===t.length?S(n)?(a=n.modifier||a,i=n.type||i):x(n)&&(a=n||a):2===t.length&&(x(n)&&(a=n||a),x(r)&&(i=r||i));let o=d(e)(g);return"vnode"===i&&y(o)&&a&&(o=o[0]),a?h(a)(o,i):o},g={["list"]:s,["named"]:u,["plural"]:a,["linked"]:v,["message"]:d,["type"]:m,["interpolate"]:p,["normalize"]:f};return g}let Te=null;function Ae(e){Te=e}function Ce(e,t,n){Te&&Te.emit(oe.I18nInit,{timestamp:Date.now(),i18n:e,version:t,meta:n})}const ke=Re(oe.FunctionTranslate);function Re(e){return t=>Te&&Te.emit(e,t)}const Le={NOT_FOUND_KEY:1,FALLBACK_TO_TRANSLATE:2,CANNOT_FORMAT_NUMBER:3,FALLBACK_TO_NUMBER_FORMAT:4,CANNOT_FORMAT_DATE:5,FALLBACK_TO_DATE_FORMAT:6,__EXTEND_POINT__:7};Le.NOT_FOUND_KEY,Le.FALLBACK_TO_TRANSLATE,Le.CANNOT_FORMAT_NUMBER,Le.FALLBACK_TO_NUMBER_FORMAT,Le.CANNOT_FORMAT_DATE,Le.FALLBACK_TO_DATE_FORMAT;function Ie(e,t,n){return[...new Set([n,...y(t)?t:S(t)?Object.keys(t):x(t)?[t]:[n]])]}function Pe(e,t,n){const r=x(n)?n:Ve,i=e;i.__localeChainCache||(i.__localeChainCache=new Map);let a=i.__localeChainCache.get(r);if(!a){a=[];let e=[n];while(y(e))e=De(a,e,t);const o=y(t)||!T(t)?t:t["default"]?t["default"]:null;e=x(o)?[o]:o,y(e)&&De(a,e,!1),i.__localeChainCache.set(r,a)}return a}function De(e,t,n){let r=!0;for(let i=0;i<t.length&&w(r);i++){const a=t[i];x(a)&&(r=Oe(e,t[i],n))}return r}function Oe(e,t,n){let r;const i=t.split("-");do{const t=i.join("-");r=Ne(e,t,n),i.splice(-1,1)}while(i.length&&!0===r);return r}function Ne(e,t,n){let r=!1;if(!e.includes(t)&&(r=!0,t)){r="!"!==t[t.length-1];const i=t.replace(/!/g,"");e.push(i),(y(n)||T(n))&&n[i]&&(r=n[i])}return r}const Fe="9.2.2",Be=-1,Ve="en-US",Ue="",ze=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function He(){return{upper:(e,t)=>"text"===t&&x(e)?e.toUpperCase():"vnode"===t&&S(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>"text"===t&&x(e)?e.toLowerCase():"vnode"===t&&S(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>"text"===t&&x(e)?ze(e):"vnode"===t&&S(e)&&"__v_isVNode"in e?ze(e.children):e}}let We,je,Ge;function Ye(e){We=e}function $e(e){je=e}function qe(e){Ge=e}let Xe=null;const Ze=e=>{Xe=e},Ke=()=>Xe;let Je=null;const Qe=e=>{Je=e},et=()=>Je;let tt=0;function nt(e={}){const t=x(e.version)?e.version:Fe,n=x(e.locale)?e.locale:Ve,r=y(e.fallbackLocale)||T(e.fallbackLocale)||x(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:n,i=T(e.messages)?e.messages:{[n]:{}},a=T(e.datetimeFormats)?e.datetimeFormats:{[n]:{}},o=T(e.numberFormats)?e.numberFormats:{[n]:{}},s=f({},e.modifiers||{},He()),l=e.pluralRules||{},c=b(e.missing)?e.missing:null,d=!w(e.missingWarn)&&!u(e.missingWarn)||e.missingWarn,p=!w(e.fallbackWarn)&&!u(e.fallbackWarn)||e.fallbackWarn,m=!!e.fallbackFormat,v=!!e.unresolving,g=b(e.postTranslation)?e.postTranslation:null,_=T(e.processor)?e.processor:null,M=!w(e.warnHtmlMessage)||e.warnHtmlMessage,E=!!e.escapeParameter,A=b(e.messageCompiler)?e.messageCompiler:We,C=b(e.messageResolver)?e.messageResolver:je||me,k=b(e.localeFallbacker)?e.localeFallbacker:Ge||Ie,R=S(e.fallbackContext)?e.fallbackContext:void 0,L=b(e.onWarn)?e.onWarn:h,I=e,P=S(I.__datetimeFormatters)?I.__datetimeFormatters:new Map,D=S(I.__numberFormatters)?I.__numberFormatters:new Map,O=S(I.__meta)?I.__meta:{};tt++;const N={version:t,cid:tt,locale:n,fallbackLocale:r,messages:i,modifiers:s,pluralRules:l,missing:c,missingWarn:d,fallbackWarn:p,fallbackFormat:m,unresolving:v,postTranslation:g,processor:_,warnHtmlMessage:M,escapeParameter:E,messageCompiler:A,messageResolver:C,localeFallbacker:k,fallbackContext:R,onWarn:L,__meta:O};return N.datetimeFormats=a,N.numberFormats=o,N.__datetimeFormatters=P,N.__numberFormatters=D,__INTLIFY_PROD_DEVTOOLS__&&Ce(N,t,O),N}function rt(e,t,n,r,i){const{missing:a,onWarn:o}=e;if(null!==a){const r=a(e,n,t,i);return x(r)?r:t}return t}function it(e,t,n){const r=e;r.__localeChainCache=new Map,e.localeFallbacker(e,n,t)}const at=e=>e;let ot=Object.create(null);function st(e,t={}){{const n=t.onCacheKey||at,r=n(e),i=ot[r];if(i)return i;let a=!1;const o=t.onError||R;t.onError=e=>{a=!0,o(e)};const{code:s}=ae(e,t),l=new Function(`return ${s}`)();return a?l:ot[r]=l}}let lt=C.__EXTEND_POINT__;const ct=()=>++lt,ut={INVALID_ARGUMENT:lt,INVALID_DATE_ARGUMENT:ct(),INVALID_ISO_DATE_ARGUMENT:ct(),__EXTEND_POINT__:ct()};function dt(e){return k(e,null,void 0)}ut.INVALID_ARGUMENT,ut.INVALID_DATE_ARGUMENT,ut.INVALID_ISO_DATE_ARGUMENT;const ht=()=>"",ft=e=>b(e);function pt(e,...t){const{fallbackFormat:n,postTranslation:r,unresolving:i,messageCompiler:a,fallbackLocale:o,messages:s}=e,[l,c]=yt(...t),u=w(c.missingWarn)?c.missingWarn:e.missingWarn,d=w(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn,h=w(c.escapeParameter)?c.escapeParameter:e.escapeParameter,p=!!c.resolvedMessage,m=x(c.default)||w(c.default)?w(c.default)?a?l:()=>l:c.default:n?a?l:()=>l:"",v=n||""!==m,g=x(c.locale)?c.locale:e.locale;h&&mt(c);let[_,y,b]=p?[l,g,s[g]||{}]:vt(e,l,g,o,d,u),S=_,M=l;if(p||x(S)||ft(S)||v&&(S=m,M=S),!p&&(!x(S)&&!ft(S)||!x(y)))return i?Be:l;let E=!1;const T=()=>{E=!0},A=ft(S)?S:gt(e,l,y,S,M,T);if(E)return S;const C=xt(e,y,b,c),k=Ee(C),R=_t(e,A,k),L=r?r(R,l):R;if(__INTLIFY_PROD_DEVTOOLS__){const t={timestamp:Date.now(),key:x(l)?l:ft(S)?S.key:"",locale:y||(ft(S)?S.locale:""),format:x(S)?S:ft(S)?S.source:"",message:L};t.meta=f({},e.__meta,Ke()||{}),ke(t)}return L}function mt(e){y(e.list)?e.list=e.list.map((e=>x(e)?v(e):e)):S(e.named)&&Object.keys(e.named).forEach((t=>{x(e.named[t])&&(e.named[t]=v(e.named[t]))}))}function vt(e,t,n,r,i,a){const{messages:o,onWarn:s,messageResolver:l,localeFallbacker:c}=e,u=c(e,r,n);let d,h={},f=null,p=n,m=null;const v="translate";for(let g=0;g<u.length;g++){d=m=u[g],h=o[d]||{};if(null===(f=l(h,t))&&(f=h[t]),x(f)||b(f))break;const n=rt(e,t,d,a,v);n!==t&&(f=n),p=m}return[f,d,h]}function gt(e,t,n,r,i,a){const{messageCompiler:o,warnHtmlMessage:s}=e;if(ft(r)){const e=r;return e.locale=e.locale||n,e.key=e.key||t,e}if(null==o){const e=()=>r;return e.locale=n,e.key=t,e}const l=o(r,bt(e,n,i,r,s,a));return l.locale=n,l.key=t,l.source=r,l}function _t(e,t,n){const r=t(n);return r}function yt(...e){const[t,n,r]=e,i={};if(!x(t)&&!l(t)&&!ft(t))throw dt(ut.INVALID_ARGUMENT);const a=l(t)?String(t):(ft(t),t);return l(n)?i.plural=n:x(n)?i.default=n:T(n)&&!d(n)?i.named=n:y(n)&&(i.list=n),l(r)?i.plural=r:x(r)?i.default=r:T(r)&&f(i,r),[a,i]}function bt(e,t,n,r,i,a){return{warnHtmlMessage:i,onError:e=>{throw a&&a(e),e},onCacheKey:e=>o(t,n,e)}}function xt(e,t,n,r){const{modifiers:i,pluralRules:a,messageResolver:o,fallbackLocale:s,fallbackWarn:c,missingWarn:u,fallbackContext:d}=e,h=r=>{let i=o(n,r);if(null==i&&d){const[,,e]=vt(d,r,t,s,c,u);i=o(e,r)}if(x(i)){let n=!1;const a=()=>{n=!0},o=gt(e,r,t,i,r,a);return n?ht:o}return ft(i)?i:ht},f={locale:t,modifiers:i,pluralRules:a,messages:h};return e.processor&&(f.processor=e.processor),r.list&&(f.list=r.list),r.named&&(f.named=r.named),l(r.plural)&&(f.pluralIndex=r.plural),f}const wt="undefined"!==typeof Intl;wt&&Intl.DateTimeFormat,wt&&Intl.NumberFormat;function St(e,...t){const{datetimeFormats:n,unresolving:r,fallbackLocale:i,onWarn:a,localeFallbacker:o}=e,{__datetimeFormatters:s}=e;const[l,c,u,h]=Et(...t),p=w(u.missingWarn)?u.missingWarn:e.missingWarn,m=(w(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn,!!u.part),v=x(u.locale)?u.locale:e.locale,g=o(e,i,v);if(!x(l)||""===l)return new Intl.DateTimeFormat(v,h).format(c);let _,y={},b=null,S=v,M=null;const E="datetime format";for(let d=0;d<g.length;d++){if(_=M=g[d],y=n[_]||{},b=y[l],T(b))break;rt(e,l,_,p,E),S=M}if(!T(b)||!x(_))return r?Be:l;let A=`${_}__${l}`;d(h)||(A=`${A}__${JSON.stringify(h)}`);let C=s.get(A);return C||(C=new Intl.DateTimeFormat(_,f({},b,h)),s.set(A,C)),m?C.formatToParts(c):C.format(c)}const Mt=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function Et(...e){const[t,n,r,i]=e,a={};let o,s={};if(x(t)){const e=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!e)throw dt(ut.INVALID_ISO_DATE_ARGUMENT);const n=e[3]?e[3].trim().startsWith("T")?`${e[1].trim()}${e[3].trim()}`:`${e[1].trim()}T${e[3].trim()}`:e[1].trim();o=new Date(n);try{o.toISOString()}catch(u){throw dt(ut.INVALID_ISO_DATE_ARGUMENT)}}else if(c(t)){if(isNaN(t.getTime()))throw dt(ut.INVALID_DATE_ARGUMENT);o=t}else{if(!l(t))throw dt(ut.INVALID_ARGUMENT);o=t}return x(n)?a.key=n:T(n)&&Object.keys(n).forEach((e=>{Mt.includes(e)?s[e]=n[e]:a[e]=n[e]})),x(r)?a.locale=r:T(r)&&(s=r),T(i)&&(s=i),[a.key||"",o,a,s]}function Tt(e,t,n){const r=e;for(const i in n){const e=`${t}__${i}`;r.__datetimeFormatters.has(e)&&r.__datetimeFormatters.delete(e)}}function At(e,...t){const{numberFormats:n,unresolving:r,fallbackLocale:i,onWarn:a,localeFallbacker:o}=e,{__numberFormatters:s}=e;const[l,c,u,h]=kt(...t),p=w(u.missingWarn)?u.missingWarn:e.missingWarn,m=(w(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn,!!u.part),v=x(u.locale)?u.locale:e.locale,g=o(e,i,v);if(!x(l)||""===l)return new Intl.NumberFormat(v,h).format(c);let _,y={},b=null,S=v,M=null;const E="number format";for(let d=0;d<g.length;d++){if(_=M=g[d],y=n[_]||{},b=y[l],T(b))break;rt(e,l,_,p,E),S=M}if(!T(b)||!x(_))return r?Be:l;let A=`${_}__${l}`;d(h)||(A=`${A}__${JSON.stringify(h)}`);let C=s.get(A);return C||(C=new Intl.NumberFormat(_,f({},b,h)),s.set(A,C)),m?C.formatToParts(c):C.format(c)}const Ct=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function kt(...e){const[t,n,r,i]=e,a={};let o={};if(!l(t))throw dt(ut.INVALID_ARGUMENT);const s=t;return x(n)?a.key=n:T(n)&&Object.keys(n).forEach((e=>{Ct.includes(e)?o[e]=n[e]:a[e]=n[e]})),x(r)?a.locale=r:T(r)&&(o=r),T(i)&&(o=i),[a.key||"",s,a,o]}function Rt(e,t,n){const r=e;for(const i in n){const e=`${t}__${i}`;r.__numberFormatters.has(e)&&r.__numberFormatters.delete(e)}}"boolean"!==typeof __INTLIFY_PROD_DEVTOOLS__&&(m().__INTLIFY_PROD_DEVTOOLS__=!1);var Lt=n(3396),It=n(4870);
/*!
  * vue-i18n v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */
const Pt="9.2.2";function Dt(){let e=!1;"boolean"!==typeof __VUE_I18N_FULL_INSTALL__&&(e=!0,m().__VUE_I18N_FULL_INSTALL__=!0),"boolean"!==typeof __VUE_I18N_LEGACY_API__&&(e=!0,m().__VUE_I18N_LEGACY_API__=!0),"boolean"!==typeof __INTLIFY_PROD_DEVTOOLS__&&(m().__INTLIFY_PROD_DEVTOOLS__=!1)}let Ot=Le.__EXTEND_POINT__;const Nt=()=>++Ot,Ft={FALLBACK_TO_ROOT:Ot,NOT_SUPPORTED_PRESERVE:Nt(),NOT_SUPPORTED_FORMATTER:Nt(),NOT_SUPPORTED_PRESERVE_DIRECTIVE:Nt(),NOT_SUPPORTED_GET_CHOICE_INDEX:Nt(),COMPONENT_NAME_LEGACY_COMPATIBLE:Nt(),NOT_FOUND_PARENT_SCOPE:Nt()};Ft.FALLBACK_TO_ROOT,Ft.NOT_SUPPORTED_PRESERVE,Ft.NOT_SUPPORTED_FORMATTER,Ft.NOT_SUPPORTED_PRESERVE_DIRECTIVE,Ft.NOT_SUPPORTED_GET_CHOICE_INDEX,Ft.COMPONENT_NAME_LEGACY_COMPATIBLE,Ft.NOT_FOUND_PARENT_SCOPE;let Bt=C.__EXTEND_POINT__;const Vt=()=>++Bt,Ut={UNEXPECTED_RETURN_TYPE:Bt,INVALID_ARGUMENT:Vt(),MUST_BE_CALL_SETUP_TOP:Vt(),NOT_INSLALLED:Vt(),NOT_AVAILABLE_IN_LEGACY_MODE:Vt(),REQUIRED_VALUE:Vt(),INVALID_VALUE:Vt(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:Vt(),NOT_INSLALLED_WITH_PROVIDE:Vt(),UNEXPECTED_ERROR:Vt(),NOT_COMPATIBLE_LEGACY_VUE_I18N:Vt(),BRIDGE_SUPPORT_VUE_2_ONLY:Vt(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:Vt(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:Vt(),__EXTEND_POINT__:Vt()};function zt(e,...t){return k(e,null,void 0)}Ut.UNEXPECTED_RETURN_TYPE,Ut.INVALID_ARGUMENT,Ut.MUST_BE_CALL_SETUP_TOP,Ut.NOT_INSLALLED,Ut.UNEXPECTED_ERROR,Ut.NOT_AVAILABLE_IN_LEGACY_MODE,Ut.REQUIRED_VALUE,Ut.INVALID_VALUE,Ut.CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN,Ut.NOT_INSLALLED_WITH_PROVIDE,Ut.NOT_COMPATIBLE_LEGACY_VUE_I18N,Ut.BRIDGE_SUPPORT_VUE_2_ONLY,Ut.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION,Ut.NOT_AVAILABLE_COMPOSITION_IN_LEGACY;const Ht=a("__transrateVNode"),Wt=a("__datetimeParts"),jt=a("__numberParts"),Gt=a("__setPluralRules");a("__intlifyMeta");const Yt=a("__injectWithOption");function $t(e){if(!S(e))return e;for(const t in e)if(_(e,t))if(t.includes(".")){const n=t.split("."),r=n.length-1;let i=e;for(let e=0;e<r;e++)n[e]in i||(i[n[e]]={}),i=i[n[e]];i[n[r]]=e[t],delete e[t],S(i[n[r]])&&$t(i[n[r]])}else S(e[t])&&$t(e[t]);return e}function qt(e,t){const{messages:n,__i18n:r,messageResolver:i,flatJson:a}=t,o=T(n)?n:y(r)?{}:{[e]:{}};if(y(r)&&r.forEach((e=>{if("locale"in e&&"resource"in e){const{locale:t,resource:n}=e;t?(o[t]=o[t]||{},Zt(n,o[t])):Zt(n,o)}else x(e)&&Zt(JSON.parse(e),o)})),null==i&&a)for(const s in o)_(o,s)&&$t(o[s]);return o}const Xt=e=>!S(e)||y(e);function Zt(e,t){if(Xt(e)||Xt(t))throw zt(Ut.INVALID_VALUE);for(const n in e)_(e,n)&&(Xt(e[n])||Xt(t[n])?t[n]=e[n]:Zt(e[n],t[n]))}function Kt(e){return e.type}function Jt(e,t,n){let r=S(t.messages)?t.messages:{};"__i18nGlobal"in n&&(r=qt(e.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const i=Object.keys(r);if(i.length&&i.forEach((t=>{e.mergeLocaleMessage(t,r[t])})),S(t.datetimeFormats)){const n=Object.keys(t.datetimeFormats);n.length&&n.forEach((n=>{e.mergeDateTimeFormat(n,t.datetimeFormats[n])}))}if(S(t.numberFormats)){const n=Object.keys(t.numberFormats);n.length&&n.forEach((n=>{e.mergeNumberFormat(n,t.numberFormats[n])}))}}function Qt(e){return(0,Lt.Wm)(Lt.xv,null,e,0)}const en="__INTLIFY_META__";let tn=0;function nn(e){return(t,n,r,i)=>e(n,r,(0,Lt.FN)()||void 0,i)}const rn=()=>{const e=(0,Lt.FN)();let t=null;return e&&(t=Kt(e)[en])?{[en]:t}:null};function an(e={},t){const{__root:n}=e,i=void 0===n;let a=!w(e.inheritLocale)||e.inheritLocale;const o=(0,It.iH)(n&&a?n.locale.value:x(e.locale)?e.locale:Ve),s=(0,It.iH)(n&&a?n.fallbackLocale.value:x(e.fallbackLocale)||y(e.fallbackLocale)||T(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:o.value),c=(0,It.iH)(qt(o.value,e)),d=(0,It.iH)(T(e.datetimeFormats)?e.datetimeFormats:{[o.value]:{}}),h=(0,It.iH)(T(e.numberFormats)?e.numberFormats:{[o.value]:{}});let p=n?n.missingWarn:!w(e.missingWarn)&&!u(e.missingWarn)||e.missingWarn,m=n?n.fallbackWarn:!w(e.fallbackWarn)&&!u(e.fallbackWarn)||e.fallbackWarn,v=n?n.fallbackRoot:!w(e.fallbackRoot)||e.fallbackRoot,g=!!e.fallbackFormat,_=b(e.missing)?e.missing:null,M=b(e.missing)?nn(e.missing):null,E=b(e.postTranslation)?e.postTranslation:null,A=n?n.warnHtmlMessage:!w(e.warnHtmlMessage)||e.warnHtmlMessage,C=!!e.escapeParameter;const k=n?n.modifiers:T(e.modifiers)?e.modifiers:{};let R,L=e.pluralRules||n&&n.pluralRules;const I=()=>{i&&Qe(null);const t={version:Pt,locale:o.value,fallbackLocale:s.value,messages:c.value,modifiers:k,pluralRules:L,missing:null===M?void 0:M,missingWarn:p,fallbackWarn:m,fallbackFormat:g,unresolving:!0,postTranslation:null===E?void 0:E,warnHtmlMessage:A,escapeParameter:C,messageResolver:e.messageResolver,__meta:{framework:"vue"}};t.datetimeFormats=d.value,t.numberFormats=h.value,t.__datetimeFormatters=T(R)?R.__datetimeFormatters:void 0,t.__numberFormatters=T(R)?R.__numberFormatters:void 0;const n=nt(t);return i&&Qe(n),n};function P(){return[o.value,s.value,c.value,d.value,h.value]}R=I(),it(R,o.value,s.value);const D=(0,Lt.Fl)({get:()=>o.value,set:e=>{o.value=e,R.locale=o.value}}),O=(0,Lt.Fl)({get:()=>s.value,set:e=>{s.value=e,R.fallbackLocale=s.value,it(R,o.value,e)}}),N=(0,Lt.Fl)((()=>c.value)),F=(0,Lt.Fl)((()=>d.value)),B=(0,Lt.Fl)((()=>h.value));function V(){return b(E)?E:null}function U(e){E=e,R.postTranslation=e}function z(){return _}function H(e){null!==e&&(M=nn(e)),_=e,R.missing=M}const W=(e,t,r,a,o,s)=>{let c;if(P(),__INTLIFY_PROD_DEVTOOLS__)try{Ze(rn()),i||(R.fallbackContext=n?et():void 0),c=e(R)}finally{Ze(null),i||(R.fallbackContext=void 0)}else c=e(R);if(l(c)&&c===Be){const[e,r]=t();return n&&v?a(n):o(e)}if(s(c))return c;throw zt(Ut.UNEXPECTED_RETURN_TYPE)};function j(...e){return W((t=>Reflect.apply(pt,null,[t,...e])),(()=>yt(...e)),"translate",(t=>Reflect.apply(t.t,t,[...e])),(e=>e),(e=>x(e)))}function G(...e){const[t,n,r]=e;if(r&&!S(r))throw zt(Ut.INVALID_ARGUMENT);return j(t,n,f({resolvedMessage:!0},r||{}))}function Y(...e){return W((t=>Reflect.apply(St,null,[t,...e])),(()=>Et(...e)),"datetime format",(t=>Reflect.apply(t.d,t,[...e])),(()=>Ue),(e=>x(e)))}function $(...e){return W((t=>Reflect.apply(At,null,[t,...e])),(()=>kt(...e)),"number format",(t=>Reflect.apply(t.n,t,[...e])),(()=>Ue),(e=>x(e)))}function q(e){return e.map((e=>x(e)||l(e)||w(e)?Qt(String(e)):e))}const X=e=>e,Z={normalize:q,interpolate:X,type:"vnode"};function K(...e){return W((t=>{let n;const r=t;try{r.processor=Z,n=Reflect.apply(pt,null,[r,...e])}finally{r.processor=null}return n}),(()=>yt(...e)),"translate",(t=>t[Ht](...e)),(e=>[Qt(e)]),(e=>y(e)))}function J(...e){return W((t=>Reflect.apply(At,null,[t,...e])),(()=>kt(...e)),"number format",(t=>t[jt](...e)),(()=>[]),(e=>x(e)||y(e)))}function Q(...e){return W((t=>Reflect.apply(St,null,[t,...e])),(()=>Et(...e)),"datetime format",(t=>t[Wt](...e)),(()=>[]),(e=>x(e)||y(e)))}function ee(e){L=e,R.pluralRules=L}function te(e,t){const n=x(t)?t:o.value,r=ie(n);return null!==R.messageResolver(r,e)}function ne(e){let t=null;const n=Pe(R,s.value,o.value);for(let r=0;r<n.length;r++){const i=c.value[n[r]]||{},a=R.messageResolver(i,e);if(null!=a){t=a;break}}return t}function re(e){const t=ne(e);return null!=t?t:n&&n.tm(e)||{}}function ie(e){return c.value[e]||{}}function ae(e,t){c.value[e]=t,R.messages=c.value}function oe(e,t){c.value[e]=c.value[e]||{},Zt(t,c.value[e]),R.messages=c.value}function se(e){return d.value[e]||{}}function le(e,t){d.value[e]=t,R.datetimeFormats=d.value,Tt(R,e,t)}function ce(e,t){d.value[e]=f(d.value[e]||{},t),R.datetimeFormats=d.value,Tt(R,e,t)}function ue(e){return h.value[e]||{}}function de(e,t){h.value[e]=t,R.numberFormats=h.value,Rt(R,e,t)}function he(e,t){h.value[e]=f(h.value[e]||{},t),R.numberFormats=h.value,Rt(R,e,t)}tn++,n&&r&&((0,Lt.YP)(n.locale,(e=>{a&&(o.value=e,R.locale=e,it(R,o.value,s.value))})),(0,Lt.YP)(n.fallbackLocale,(e=>{a&&(s.value=e,R.fallbackLocale=e,it(R,o.value,s.value))})));const fe={id:tn,locale:D,fallbackLocale:O,get inheritLocale(){return a},set inheritLocale(e){a=e,e&&n&&(o.value=n.locale.value,s.value=n.fallbackLocale.value,it(R,o.value,s.value))},get availableLocales(){return Object.keys(c.value).sort()},messages:N,get modifiers(){return k},get pluralRules(){return L||{}},get isGlobal(){return i},get missingWarn(){return p},set missingWarn(e){p=e,R.missingWarn=p},get fallbackWarn(){return m},set fallbackWarn(e){m=e,R.fallbackWarn=m},get fallbackRoot(){return v},set fallbackRoot(e){v=e},get fallbackFormat(){return g},set fallbackFormat(e){g=e,R.fallbackFormat=g},get warnHtmlMessage(){return A},set warnHtmlMessage(e){A=e,R.warnHtmlMessage=e},get escapeParameter(){return C},set escapeParameter(e){C=e,R.escapeParameter=e},t:j,getLocaleMessage:ie,setLocaleMessage:ae,mergeLocaleMessage:oe,getPostTranslationHandler:V,setPostTranslationHandler:U,getMissingHandler:z,setMissingHandler:H,[Gt]:ee};return fe.datetimeFormats=F,fe.numberFormats=B,fe.rt=G,fe.te=te,fe.tm=re,fe.d=Y,fe.n=$,fe.getDateTimeFormat=se,fe.setDateTimeFormat=le,fe.mergeDateTimeFormat=ce,fe.getNumberFormat=ue,fe.setNumberFormat=de,fe.mergeNumberFormat=he,fe[Yt]=e.__injectWithOption,fe[Ht]=K,fe[Wt]=Q,fe[jt]=J,fe}function on(e){const t=x(e.locale)?e.locale:Ve,n=x(e.fallbackLocale)||y(e.fallbackLocale)||T(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:t,r=b(e.missing)?e.missing:void 0,i=!w(e.silentTranslationWarn)&&!u(e.silentTranslationWarn)||!e.silentTranslationWarn,a=!w(e.silentFallbackWarn)&&!u(e.silentFallbackWarn)||!e.silentFallbackWarn,o=!w(e.fallbackRoot)||e.fallbackRoot,s=!!e.formatFallbackMessages,l=T(e.modifiers)?e.modifiers:{},c=e.pluralizationRules,d=b(e.postTranslation)?e.postTranslation:void 0,h=!x(e.warnHtmlInMessage)||"off"!==e.warnHtmlInMessage,p=!!e.escapeParameterHtml,m=!w(e.sync)||e.sync;let v=e.messages;if(T(e.sharedMessages)){const t=e.sharedMessages,n=Object.keys(t);v=n.reduce(((e,n)=>{const r=e[n]||(e[n]={});return f(r,t[n]),e}),v||{})}const{__i18n:g,__root:_,__injectWithOption:S}=e,M=e.datetimeFormats,E=e.numberFormats,A=e.flatJson;return{locale:t,fallbackLocale:n,messages:v,flatJson:A,datetimeFormats:M,numberFormats:E,missing:r,missingWarn:i,fallbackWarn:a,fallbackRoot:o,fallbackFormat:s,modifiers:l,pluralRules:c,postTranslation:d,warnHtmlMessage:h,escapeParameter:p,messageResolver:e.messageResolver,inheritLocale:m,__i18n:g,__root:_,__injectWithOption:S}}function sn(e={},t){{const t=an(on(e)),n={id:t.id,get locale(){return t.locale.value},set locale(e){t.locale.value=e},get fallbackLocale(){return t.fallbackLocale.value},set fallbackLocale(e){t.fallbackLocale.value=e},get messages(){return t.messages.value},get datetimeFormats(){return t.datetimeFormats.value},get numberFormats(){return t.numberFormats.value},get availableLocales(){return t.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(e){},get missing(){return t.getMissingHandler()},set missing(e){t.setMissingHandler(e)},get silentTranslationWarn(){return w(t.missingWarn)?!t.missingWarn:t.missingWarn},set silentTranslationWarn(e){t.missingWarn=w(e)?!e:e},get silentFallbackWarn(){return w(t.fallbackWarn)?!t.fallbackWarn:t.fallbackWarn},set silentFallbackWarn(e){t.fallbackWarn=w(e)?!e:e},get modifiers(){return t.modifiers},get formatFallbackMessages(){return t.fallbackFormat},set formatFallbackMessages(e){t.fallbackFormat=e},get postTranslation(){return t.getPostTranslationHandler()},set postTranslation(e){t.setPostTranslationHandler(e)},get sync(){return t.inheritLocale},set sync(e){t.inheritLocale=e},get warnHtmlInMessage(){return t.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(e){t.warnHtmlMessage="off"!==e},get escapeParameterHtml(){return t.escapeParameter},set escapeParameterHtml(e){t.escapeParameter=e},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(e){},get pluralizationRules(){return t.pluralRules||{}},__composer:t,t(...e){const[n,r,i]=e,a={};let o=null,s=null;if(!x(n))throw zt(Ut.INVALID_ARGUMENT);const l=n;return x(r)?a.locale=r:y(r)?o=r:T(r)&&(s=r),y(i)?o=i:T(i)&&(s=i),Reflect.apply(t.t,t,[l,o||s||{},a])},rt(...e){return Reflect.apply(t.rt,t,[...e])},tc(...e){const[n,r,i]=e,a={plural:1};let o=null,s=null;if(!x(n))throw zt(Ut.INVALID_ARGUMENT);const c=n;return x(r)?a.locale=r:l(r)?a.plural=r:y(r)?o=r:T(r)&&(s=r),x(i)?a.locale=i:y(i)?o=i:T(i)&&(s=i),Reflect.apply(t.t,t,[c,o||s||{},a])},te(e,n){return t.te(e,n)},tm(e){return t.tm(e)},getLocaleMessage(e){return t.getLocaleMessage(e)},setLocaleMessage(e,n){t.setLocaleMessage(e,n)},mergeLocaleMessage(e,n){t.mergeLocaleMessage(e,n)},d(...e){return Reflect.apply(t.d,t,[...e])},getDateTimeFormat(e){return t.getDateTimeFormat(e)},setDateTimeFormat(e,n){t.setDateTimeFormat(e,n)},mergeDateTimeFormat(e,n){t.mergeDateTimeFormat(e,n)},n(...e){return Reflect.apply(t.n,t,[...e])},getNumberFormat(e){return t.getNumberFormat(e)},setNumberFormat(e,n){t.setNumberFormat(e,n)},mergeNumberFormat(e,n){t.mergeNumberFormat(e,n)},getChoiceIndex(e,t){return-1},__onComponentInstanceCreated(t){const{componentInstanceCreatedListener:r}=e;r&&r(t,n)}};return n}}const ln={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>"parent"===e||"global"===e,default:"parent"},i18n:{type:Object}};function cn({slots:e},t){if(1===t.length&&"default"===t[0]){const t=e.default?e.default():[];return t.reduce(((e,t)=>[...e,...y(t.children)?t.children:[t]]),[])}return t.reduce(((t,n)=>{const r=e[n];return r&&(t[n]=r()),t}),{})}function un(e){return Lt.HY}const dn={name:"i18n-t",props:f({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>l(e)||!isNaN(e)}},ln),setup(e,t){const{slots:n,attrs:r}=t,i=e.i18n||En({useScope:e.scope,__useComponent:!0});return()=>{const a=Object.keys(n).filter((e=>"_"!==e)),o={};e.locale&&(o.locale=e.locale),void 0!==e.plural&&(o.plural=x(e.plural)?+e.plural:e.plural);const s=cn(t,a),l=i[Ht](e.keypath,s,o),c=f({},r),u=x(e.tag)||S(e.tag)?e.tag:un();return(0,Lt.h)(u,c,l)}}};function hn(e){return y(e)&&!x(e[0])}function fn(e,t,n,r){const{slots:i,attrs:a}=t;return()=>{const t={part:!0};let o={};e.locale&&(t.locale=e.locale),x(e.format)?t.key=e.format:S(e.format)&&(x(e.format.key)&&(t.key=e.format.key),o=Object.keys(e.format).reduce(((t,r)=>n.includes(r)?f({},t,{[r]:e.format[r]}):t),{}));const s=r(e.value,t,o);let l=[t.key];y(s)?l=s.map(((e,t)=>{const n=i[e.type],r=n?n({[e.type]:e.value,index:t,parts:s}):[e.value];return hn(r)&&(r[0].key=`${e.type}-${t}`),r})):x(s)&&(l=[s]);const c=f({},a),u=x(e.tag)||S(e.tag)?e.tag:un();return(0,Lt.h)(u,c,l)}}const pn={name:"i18n-n",props:f({value:{type:Number,required:!0},format:{type:[String,Object]}},ln),setup(e,t){const n=e.i18n||En({useScope:"parent",__useComponent:!0});return fn(e,t,Ct,((...e)=>n[jt](...e)))}},mn={name:"i18n-d",props:f({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},ln),setup(e,t){const n=e.i18n||En({useScope:"parent",__useComponent:!0});return fn(e,t,Mt,((...e)=>n[Wt](...e)))}};function vn(e,t){const n=e;if("composition"===e.mode)return n.__getInstance(t)||e.global;{const r=n.__getInstance(t);return null!=r?r.__composer:e.global.__composer}}function gn(e){const t=t=>{const{instance:n,modifiers:r,value:i}=t;if(!n||!n.$)throw zt(Ut.UNEXPECTED_ERROR);const a=vn(e,n.$);const o=_n(i);return[Reflect.apply(a.t,a,[...yn(o)]),a]},n=(n,i)=>{const[a,o]=t(i);r&&e.global===o&&(n.__i18nWatcher=(0,Lt.YP)(o.locale,(()=>{i.instance&&i.instance.$forceUpdate()}))),n.__composer=o,n.textContent=a},i=e=>{r&&e.__i18nWatcher&&(e.__i18nWatcher(),e.__i18nWatcher=void 0,delete e.__i18nWatcher),e.__composer&&(e.__composer=void 0,delete e.__composer)},a=(e,{value:t})=>{if(e.__composer){const n=e.__composer,r=_n(t);e.textContent=Reflect.apply(n.t,n,[...yn(r)])}},o=e=>{const[n]=t(e);return{textContent:n}};return{created:n,unmounted:i,beforeUpdate:a,getSSRProps:o}}function _n(e){if(x(e))return{path:e};if(T(e)){if(!("path"in e))throw zt(Ut.REQUIRED_VALUE,"path");return e}throw zt(Ut.INVALID_VALUE)}function yn(e){const{path:t,locale:n,args:r,choice:i,plural:a}=e,o={},s=r||{};return x(n)&&(o.locale=n),l(i)&&(o.plural=i),l(a)&&(o.plural=a),[t,s,o]}function bn(e,t,...n){const r=T(n[0])?n[0]:{},i=!!r.useI18nComponentName,a=!w(r.globalInstall)||r.globalInstall;a&&(e.component(i?"i18n":dn.name,dn),e.component(pn.name,pn),e.component(mn.name,mn)),e.directive("t",gn(t))}function xn(e,t,n){return{beforeCreate(){const r=(0,Lt.FN)();if(!r)throw zt(Ut.UNEXPECTED_ERROR);const i=this.$options;if(i.i18n){const n=i.i18n;i.__i18n&&(n.__i18n=i.__i18n),n.__root=t,this===this.$root?this.$i18n=wn(e,n):(n.__injectWithOption=!0,this.$i18n=sn(n))}else i.__i18n?this===this.$root?this.$i18n=wn(e,i):this.$i18n=sn({__i18n:i.__i18n,__injectWithOption:!0,__root:t}):this.$i18n=e;i.__i18nGlobal&&Jt(t,i,i),e.__onComponentInstanceCreated(this.$i18n),n.__setInstance(r,this.$i18n),this.$t=(...e)=>this.$i18n.t(...e),this.$rt=(...e)=>this.$i18n.rt(...e),this.$tc=(...e)=>this.$i18n.tc(...e),this.$te=(e,t)=>this.$i18n.te(e,t),this.$d=(...e)=>this.$i18n.d(...e),this.$n=(...e)=>this.$i18n.n(...e),this.$tm=e=>this.$i18n.tm(e)},mounted(){0},unmounted(){const e=(0,Lt.FN)();if(!e)throw zt(Ut.UNEXPECTED_ERROR);delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,n.__deleteInstance(e),delete this.$i18n}}}function wn(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[Gt](t.pluralizationRules||e.pluralizationRules);const n=qt(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(n).forEach((t=>e.mergeLocaleMessage(t,n[t]))),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach((n=>e.mergeDateTimeFormat(n,t.datetimeFormats[n]))),t.numberFormats&&Object.keys(t.numberFormats).forEach((n=>e.mergeNumberFormat(n,t.numberFormats[n]))),e}const Sn=a("global-vue-i18n");function Mn(e={},t){const n=__VUE_I18N_LEGACY_API__&&w(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,r=!w(e.globalInjection)||e.globalInjection,i=!__VUE_I18N_LEGACY_API__||!n||!!e.allowComposition,o=new Map,[s,l]=Tn(e,n),c=a("");function u(e){return o.get(e)||null}function d(e,t){o.set(e,t)}function h(e){o.delete(e)}{const e={get mode(){return __VUE_I18N_LEGACY_API__&&n?"legacy":"composition"},get allowComposition(){return i},async install(t,...i){t.__VUE_I18N_SYMBOL__=c,t.provide(t.__VUE_I18N_SYMBOL__,e),!n&&r&&On(t,e.global),__VUE_I18N_FULL_INSTALL__&&bn(t,e,...i),__VUE_I18N_LEGACY_API__&&n&&t.mixin(xn(l,l.__composer,e));const a=t.unmount;t.unmount=()=>{e.dispose(),a()}},get global(){return l},dispose(){s.stop()},__instances:o,__getInstance:u,__setInstance:d,__deleteInstance:h};return e}}function En(e={}){const t=(0,Lt.FN)();if(null==t)throw zt(Ut.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&null!=t.appContext.app&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw zt(Ut.NOT_INSLALLED);const n=An(t),r=kn(n),i=Kt(t),a=Cn(e,i);if(__VUE_I18N_LEGACY_API__&&"legacy"===n.mode&&!e.__useComponent){if(!n.allowComposition)throw zt(Ut.NOT_AVAILABLE_IN_LEGACY_MODE);return In(t,a,r,e)}if("global"===a)return Jt(r,e,i),r;if("parent"===a){let i=Rn(n,t,e.__useComponent);return null==i&&(i=r),i}const o=n;let s=o.__getInstance(t);if(null==s){const n=f({},e);"__i18n"in i&&(n.__i18n=i.__i18n),r&&(n.__root=r),s=an(n),Ln(o,t,s),o.__setInstance(t,s)}return s}function Tn(e,t,n){const r=(0,It.B)();{const n=__VUE_I18N_LEGACY_API__&&t?r.run((()=>sn(e))):r.run((()=>an(e)));if(null==n)throw zt(Ut.UNEXPECTED_ERROR);return[r,n]}}function An(e){{const t=(0,Lt.f3)(e.isCE?Sn:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw zt(e.isCE?Ut.NOT_INSLALLED_WITH_PROVIDE:Ut.UNEXPECTED_ERROR);return t}}function Cn(e,t){return d(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function kn(e){return"composition"===e.mode?e.global:e.global.__composer}function Rn(e,t,n=!1){let r=null;const i=t.root;let a=t.parent;while(null!=a){const t=e;if("composition"===e.mode)r=t.__getInstance(a);else if(__VUE_I18N_LEGACY_API__){const e=t.__getInstance(a);null!=e&&(r=e.__composer,n&&r&&!r[Yt]&&(r=null))}if(null!=r)break;if(i===a)break;a=a.parent}return r}function Ln(e,t,n){(0,Lt.bv)((()=>{0}),t),(0,Lt.Ah)((()=>{e.__deleteInstance(t)}),t)}function In(e,t,n,r={}){const i="local"===t,a=(0,It.XI)(null);if(i&&e.proxy&&!e.proxy.$options.i18n&&!e.proxy.$options.__i18n)throw zt(Ut.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const o=!w(r.inheritLocale)||r.inheritLocale,s=(0,It.iH)(i&&o?n.locale.value:x(r.locale)?r.locale:Ve),l=(0,It.iH)(i&&o?n.fallbackLocale.value:x(r.fallbackLocale)||y(r.fallbackLocale)||T(r.fallbackLocale)||!1===r.fallbackLocale?r.fallbackLocale:s.value),c=(0,It.iH)(qt(s.value,r)),d=(0,It.iH)(T(r.datetimeFormats)?r.datetimeFormats:{[s.value]:{}}),h=(0,It.iH)(T(r.numberFormats)?r.numberFormats:{[s.value]:{}}),f=i?n.missingWarn:!w(r.missingWarn)&&!u(r.missingWarn)||r.missingWarn,p=i?n.fallbackWarn:!w(r.fallbackWarn)&&!u(r.fallbackWarn)||r.fallbackWarn,m=i?n.fallbackRoot:!w(r.fallbackRoot)||r.fallbackRoot,v=!!r.fallbackFormat,g=b(r.missing)?r.missing:null,_=b(r.postTranslation)?r.postTranslation:null,S=i?n.warnHtmlMessage:!w(r.warnHtmlMessage)||r.warnHtmlMessage,M=!!r.escapeParameter,E=i?n.modifiers:T(r.modifiers)?r.modifiers:{},A=r.pluralRules||i&&n.pluralRules;function C(){return[s.value,l.value,c.value,d.value,h.value]}const k=(0,Lt.Fl)({get:()=>a.value?a.value.locale.value:s.value,set:e=>{a.value&&(a.value.locale.value=e),s.value=e}}),R=(0,Lt.Fl)({get:()=>a.value?a.value.fallbackLocale.value:l.value,set:e=>{a.value&&(a.value.fallbackLocale.value=e),l.value=e}}),L=(0,Lt.Fl)((()=>a.value?a.value.messages.value:c.value)),I=(0,Lt.Fl)((()=>d.value)),P=(0,Lt.Fl)((()=>h.value));function D(){return a.value?a.value.getPostTranslationHandler():_}function O(e){a.value&&a.value.setPostTranslationHandler(e)}function N(){return a.value?a.value.getMissingHandler():g}function F(e){a.value&&a.value.setMissingHandler(e)}function B(e){return C(),e()}function V(...e){return a.value?B((()=>Reflect.apply(a.value.t,null,[...e]))):B((()=>""))}function U(...e){return a.value?Reflect.apply(a.value.rt,null,[...e]):""}function z(...e){return a.value?B((()=>Reflect.apply(a.value.d,null,[...e]))):B((()=>""))}function H(...e){return a.value?B((()=>Reflect.apply(a.value.n,null,[...e]))):B((()=>""))}function W(e){return a.value?a.value.tm(e):{}}function j(e,t){return!!a.value&&a.value.te(e,t)}function G(e){return a.value?a.value.getLocaleMessage(e):{}}function Y(e,t){a.value&&(a.value.setLocaleMessage(e,t),c.value[e]=t)}function $(e,t){a.value&&a.value.mergeLocaleMessage(e,t)}function q(e){return a.value?a.value.getDateTimeFormat(e):{}}function X(e,t){a.value&&(a.value.setDateTimeFormat(e,t),d.value[e]=t)}function Z(e,t){a.value&&a.value.mergeDateTimeFormat(e,t)}function K(e){return a.value?a.value.getNumberFormat(e):{}}function J(e,t){a.value&&(a.value.setNumberFormat(e,t),h.value[e]=t)}function Q(e,t){a.value&&a.value.mergeNumberFormat(e,t)}const ee={get id(){return a.value?a.value.id:-1},locale:k,fallbackLocale:R,messages:L,datetimeFormats:I,numberFormats:P,get inheritLocale(){return a.value?a.value.inheritLocale:o},set inheritLocale(e){a.value&&(a.value.inheritLocale=e)},get availableLocales(){return a.value?a.value.availableLocales:Object.keys(c.value)},get modifiers(){return a.value?a.value.modifiers:E},get pluralRules(){return a.value?a.value.pluralRules:A},get isGlobal(){return!!a.value&&a.value.isGlobal},get missingWarn(){return a.value?a.value.missingWarn:f},set missingWarn(e){a.value&&(a.value.missingWarn=e)},get fallbackWarn(){return a.value?a.value.fallbackWarn:p},set fallbackWarn(e){a.value&&(a.value.missingWarn=e)},get fallbackRoot(){return a.value?a.value.fallbackRoot:m},set fallbackRoot(e){a.value&&(a.value.fallbackRoot=e)},get fallbackFormat(){return a.value?a.value.fallbackFormat:v},set fallbackFormat(e){a.value&&(a.value.fallbackFormat=e)},get warnHtmlMessage(){return a.value?a.value.warnHtmlMessage:S},set warnHtmlMessage(e){a.value&&(a.value.warnHtmlMessage=e)},get escapeParameter(){return a.value?a.value.escapeParameter:M},set escapeParameter(e){a.value&&(a.value.escapeParameter=e)},t:V,getPostTranslationHandler:D,setPostTranslationHandler:O,getMissingHandler:N,setMissingHandler:F,rt:U,d:z,n:H,tm:W,te:j,getLocaleMessage:G,setLocaleMessage:Y,mergeLocaleMessage:$,getDateTimeFormat:q,setDateTimeFormat:X,mergeDateTimeFormat:Z,getNumberFormat:K,setNumberFormat:J,mergeNumberFormat:Q};function te(e){e.locale.value=s.value,e.fallbackLocale.value=l.value,Object.keys(c.value).forEach((t=>{e.mergeLocaleMessage(t,c.value[t])})),Object.keys(d.value).forEach((t=>{e.mergeDateTimeFormat(t,d.value[t])})),Object.keys(h.value).forEach((t=>{e.mergeNumberFormat(t,h.value[t])})),e.escapeParameter=M,e.fallbackFormat=v,e.fallbackRoot=m,e.fallbackWarn=p,e.missingWarn=f,e.warnHtmlMessage=S}return(0,Lt.wF)((()=>{if(null==e.proxy||null==e.proxy.$i18n)throw zt(Ut.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const n=a.value=e.proxy.$i18n.__composer;"global"===t?(s.value=n.locale.value,l.value=n.fallbackLocale.value,c.value=n.messages.value,d.value=n.datetimeFormats.value,h.value=n.numberFormats.value):i&&te(n)})),ee}const Pn=["locale","fallbackLocale","availableLocales"],Dn=["t","rt","d","n","tm"];function On(e,t){const n=Object.create(null);Pn.forEach((e=>{const r=Object.getOwnPropertyDescriptor(t,e);if(!r)throw zt(Ut.UNEXPECTED_ERROR);const i=(0,It.dq)(r.value)?{get(){return r.value.value},set(e){r.value.value=e}}:{get(){return r.get&&r.get()}};Object.defineProperty(n,e,i)})),e.config.globalProperties.$i18n=n,Dn.forEach((n=>{const r=Object.getOwnPropertyDescriptor(t,n);if(!r||!r.value)throw zt(Ut.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${n}`,r)}))}if(Ye(st),$e(ve),qe(Pe),Dt(),__INTLIFY_PROD_DEVTOOLS__){const e=m();e.__INTLIFY__=!0,Ae(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}},89:function(e,t){"use strict";t.Z=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n}},70:function(e,t,n){"use strict";n.d(t,{ZP:function(){return Ft}});n(8675),n(3408),n(4590),n(7658),n(1703);function r(e,t){return function(){return e.apply(t,arguments)}}const{toString:i}=Object.prototype,{getPrototypeOf:a}=Object,o=(e=>t=>{const n=i.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),s=e=>(e=e.toLowerCase(),t=>o(t)===e),l=e=>t=>typeof t===e,{isArray:c}=Array,u=l("undefined");function d(e){return null!==e&&!u(e)&&null!==e.constructor&&!u(e.constructor)&&m(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const h=s("ArrayBuffer");function f(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&h(e.buffer),t}const p=l("string"),m=l("function"),v=l("number"),g=e=>null!==e&&"object"===typeof e,_=e=>!0===e||!1===e,y=e=>{if("object"!==o(e))return!1;const t=a(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},b=s("Date"),x=s("File"),w=s("Blob"),S=s("FileList"),M=e=>g(e)&&m(e.pipe),E=e=>{const t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||i.call(e)===t||m(e.toString)&&e.toString()===t)},T=s("URLSearchParams"),A=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function C(e,t,{allOwnKeys:n=!1}={}){if(null===e||"undefined"===typeof e)return;let r,i;if("object"!==typeof e&&(e=[e]),c(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let o;for(r=0;r<a;r++)o=i[r],t.call(null,e[o],o,e)}}function k(){const e={},t=(t,n)=>{y(e[n])&&y(t)?e[n]=k(e[n],t):y(t)?e[n]=k({},t):c(t)?e[n]=t.slice():e[n]=t};for(let n=0,r=arguments.length;n<r;n++)arguments[n]&&C(arguments[n],t);return e}const R=(e,t,n,{allOwnKeys:i}={})=>(C(t,((t,i)=>{n&&m(t)?e[i]=r(t,n):e[i]=t}),{allOwnKeys:i}),e),L=e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),I=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},P=(e,t,n,r)=>{let i,o,s;const l={};if(t=t||{},null==e)return t;do{i=Object.getOwnPropertyNames(e),o=i.length;while(o-- >0)s=i[o],r&&!r(s,e,t)||l[s]||(t[s]=e[s],l[s]=!0);e=!1!==n&&a(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},D=(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},O=e=>{if(!e)return null;if(c(e))return e;let t=e.length;if(!v(t))return null;const n=new Array(t);while(t-- >0)n[t]=e[t];return n},N=(e=>t=>e&&t instanceof e)("undefined"!==typeof Uint8Array&&a(Uint8Array)),F=(e,t)=>{const n=e&&e[Symbol.iterator],r=n.call(e);let i;while((i=r.next())&&!i.done){const n=i.value;t.call(e,n[0],n[1])}},B=(e,t)=>{let n;const r=[];while(null!==(n=e.exec(t)))r.push(n);return r},V=s("HTMLFormElement"),U=e=>e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),z=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),H=s("RegExp"),W=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};C(n,((n,i)=>{!1!==t(n,i,e)&&(r[i]=n)})),Object.defineProperties(e,r)},j=e=>{W(e,((t,n)=>{const r=e[n];m(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not read-only method '"+n+"'")}))}))},G=(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return c(e)?r(e):r(String(e).split(t)),n},Y=()=>{},$=(e,t)=>(e=+e,Number.isFinite(e)?e:t);var q={isArray:c,isArrayBuffer:h,isBuffer:d,isFormData:E,isArrayBufferView:f,isString:p,isNumber:v,isBoolean:_,isObject:g,isPlainObject:y,isUndefined:u,isDate:b,isFile:x,isBlob:w,isRegExp:H,isFunction:m,isStream:M,isURLSearchParams:T,isTypedArray:N,isFileList:S,forEach:C,merge:k,extend:R,trim:A,stripBOM:L,inherits:I,toFlatObject:P,kindOf:o,kindOfTest:s,endsWith:D,toArray:O,forEachEntry:F,matchAll:B,isHTMLForm:V,hasOwnProperty:z,hasOwnProp:z,reduceDescriptors:W,freezeMethods:j,toObjectSet:G,toCamelCase:U,noop:Y,toFiniteNumber:$};n(541);function X(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}q.inherits(X,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Z=X.prototype,K={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{K[e]={value:e}})),Object.defineProperties(X,K),Object.defineProperty(Z,"isAxiosError",{value:!0}),X.from=(e,t,n,r,i,a)=>{const o=Object.create(Z);return q.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),X.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};var J=X,Q=n(6237),ee=Q;function te(e){return q.isPlainObject(e)||q.isArray(e)}function ne(e){return q.endsWith(e,"[]")?e.slice(0,-2):e}function re(e,t,n){return e?e.concat(t).map((function(e,t){return e=ne(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}function ie(e){return q.isArray(e)&&!e.some(te)}const ae=q.toFlatObject(q,{},null,(function(e){return/^is[A-Z]/.test(e)}));function oe(e){return e&&q.isFunction(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator]}function se(e,t,n){if(!q.isObject(e))throw new TypeError("target must be an object");t=t||new(ee||FormData),n=q.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!q.isUndefined(t[e])}));const r=n.metaTokens,i=n.visitor||u,a=n.dots,o=n.indexes,s=n.Blob||"undefined"!==typeof Blob&&Blob,l=s&&oe(t);if(!q.isFunction(i))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(q.isDate(e))return e.toISOString();if(!l&&q.isBlob(e))throw new J("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(e)||q.isTypedArray(e)?l&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,n,i){let s=e;if(e&&!i&&"object"===typeof e)if(q.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(q.isArray(e)&&ie(e)||q.isFileList(e)||q.endsWith(n,"[]")&&(s=q.toArray(e)))return n=ne(n),s.forEach((function(e,r){!q.isUndefined(e)&&null!==e&&t.append(!0===o?re([n],r,a):null===o?n:n+"[]",c(e))})),!1;return!!te(e)||(t.append(re(i,n,a),c(e)),!1)}const d=[],h=Object.assign(ae,{defaultVisitor:u,convertValue:c,isVisitable:te});function f(e,n){if(!q.isUndefined(e)){if(-1!==d.indexOf(e))throw Error("Circular reference detected in "+n.join("."));d.push(e),q.forEach(e,(function(e,r){const a=!(q.isUndefined(e)||null===e)&&i.call(t,e,q.isString(r)?r.trim():r,n,h);!0===a&&f(e,n?n.concat(r):[r])})),d.pop()}}if(!q.isObject(e))throw new TypeError("data must be an object");return f(e),t}var le=se;function ce(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function ue(e,t){this._pairs=[],e&&le(e,this,t)}const de=ue.prototype;de.append=function(e,t){this._pairs.push([e,t])},de.toString=function(e){const t=e?function(t){return e.call(this,t,ce)}:ce;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var he=ue;function fe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function pe(e,t,n){if(!t)return e;const r=n&&n.encode||fe,i=n&&n.serialize;let a;if(a=i?i(t,n):q.isURLSearchParams(t)?t.toString():new he(t,n).toString(r),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}class me{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){q.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}var ve=me,ge={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_e="undefined"!==typeof URLSearchParams?URLSearchParams:he,ye=FormData;const be=(()=>{let e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)})();var xe={isBrowser:!0,classes:{URLSearchParams:_e,FormData:ye,Blob:Blob},isStandardBrowserEnv:be,protocols:["http","https","file","blob","url","data"]};function we(e,t){return le(e,new xe.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return xe.isNode&&q.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}function Se(e){return q.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}function Me(e){const t={},n=Object.keys(e);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],t[a]=e[a];return t}function Ee(e){function t(e,n,r,i){let a=e[i++];const o=Number.isFinite(+a),s=i>=e.length;if(a=!a&&q.isArray(r)?r.length:a,s)return q.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o;r[a]&&q.isObject(r[a])||(r[a]=[]);const l=t(e,n,r[a],i);return l&&q.isArray(r[a])&&(r[a]=Me(r[a])),!o}if(q.isFormData(e)&&q.isFunction(e.entries)){const n={};return q.forEachEntry(e,((e,r)=>{t(Se(e),r,n,0)})),n}return null}var Te=Ee;n(2801);function Ae(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new J("Request failed with status code "+n.status,[J.ERR_BAD_REQUEST,J.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}var Ce=xe.isStandardBrowserEnv?function(){return{write:function(e,t,n,r,i,a){const o=[];o.push(e+"="+encodeURIComponent(t)),q.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),q.isString(r)&&o.push("path="+r),q.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function ke(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Re(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function Le(e,t){return e&&!ke(t)?Re(e,t):t}var Ie=xe.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=q.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return function(){return!0}}();function Pe(e,t,n){J.call(this,null==e?"canceled":e,J.ERR_CANCELED,t,n),this.name="CanceledError"}q.inherits(Pe,J,{__CANCEL__:!0});var De=Pe;function Oe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}const Ne=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var Fe=e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&Ne[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t};const Be=Symbol("internals"),Ve=Symbol("defaults");function Ue(e){return e&&String(e).trim().toLowerCase()}function ze(e){return!1===e||null==e?e:q.isArray(e)?e.map(ze):String(e)}function He(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;while(r=n.exec(e))t[r[1]]=r[2];return t}function We(e,t,n,r){return q.isFunction(r)?r.call(this,t,n):q.isString(t)?q.isString(r)?-1!==t.indexOf(r):q.isRegExp(r)?r.test(t):void 0:void 0}function je(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}function Ge(e,t){const n=q.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}function Ye(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;while(i-- >0)if(r=n[i],t===r.toLowerCase())return r;return null}function $e(e,t){e&&this.set(e),this[Ve]=t||null}Object.assign($e.prototype,{set:function(e,t,n){const r=this;function i(e,t,n){const i=Ue(t);if(!i)throw new Error("header name must be a non-empty string");const a=Ye(r,i);(!a||!0===n||!1!==r[a]&&!1!==n)&&(r[a||t]=ze(e))}return q.isPlainObject(e)?q.forEach(e,((e,n)=>{i(e,n,t)})):i(t,e,n),this},get:function(e,t){if(e=Ue(e),!e)return;const n=Ye(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return He(e);if(q.isFunction(t))return t.call(this,e,n);if(q.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}},has:function(e,t){if(e=Ue(e),e){const n=Ye(this,e);return!(!n||t&&!We(this,this[n],n,t))}return!1},delete:function(e,t){const n=this;let r=!1;function i(e){if(e=Ue(e),e){const i=Ye(n,e);!i||t&&!We(n,n[i],i,t)||(delete n[i],r=!0)}}return q.isArray(e)?e.forEach(i):i(e),r},clear:function(){return Object.keys(this).forEach(this.delete.bind(this))},normalize:function(e){const t=this,n={};return q.forEach(this,((r,i)=>{const a=Ye(n,i);if(a)return t[a]=ze(r),void delete t[i];const o=e?je(i):String(i).trim();o!==i&&delete t[i],t[o]=ze(r),n[o]=!0})),this},toJSON:function(e){const t=Object.create(null);return q.forEach(Object.assign({},this[Ve]||null,this),((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&q.isArray(n)?n.join(", "):n)})),t}}),Object.assign($e,{from:function(e){return q.isString(e)?new this(Fe(e)):e instanceof this?e:new this(e)},accessor:function(e){const t=this[Be]=this[Be]={accessors:{}},n=t.accessors,r=this.prototype;function i(e){const t=Ue(e);n[t]||(Ge(r,e),n[t]=!0)}return q.isArray(e)?e.forEach(i):i(e),this}}),$e.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]),q.freezeMethods($e.prototype),q.freezeMethods($e);var qe=$e;function Xe(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,a=0,o=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),c=r[o];i||(i=l),n[a]=s,r[a]=l;let u=o,d=0;while(u!==a)d+=n[u++],u%=e;if(a=(a+1)%e,a===o&&(o=(o+1)%e),l-i<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}}var Ze=Xe;function Ke(e,t){let n=0;const r=Ze(50,250);return i=>{const a=i.loaded,o=i.lengthComputable?i.total:void 0,s=a-n,l=r(s),c=a<=o;n=a;const u={loaded:a,total:o,progress:o?a/o:void 0,bytes:s,rate:l||void 0,estimated:l&&o&&c?(o-a)/l:void 0};u[t?"download":"upload"]=!0,e(u)}}function Je(e){return new Promise((function(t,n){let r=e.data;const i=qe.from(e.headers).normalize(),a=e.responseType;let o;function s(){e.cancelToken&&e.cancelToken.unsubscribe(o),e.signal&&e.signal.removeEventListener("abort",o)}q.isFormData(r)&&xe.isStandardBrowserEnv&&i.setContentType(!1);let l=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(t+":"+n))}const c=Le(e.baseURL,e.url);function u(){if(!l)return;const r=qe.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders()),i=a&&"text"!==a&&"json"!==a?l.response:l.responseText,o={data:i,status:l.status,statusText:l.statusText,headers:r,config:e,request:l};Ae((function(e){t(e),s()}),(function(e){n(e),s()}),o),l=null}if(l.open(e.method.toUpperCase(),pe(c,e.params,e.paramsSerializer),!0),l.timeout=e.timeout,"onloadend"in l?l.onloadend=u:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(u)},l.onabort=function(){l&&(n(new J("Request aborted",J.ECONNABORTED,e,l)),l=null)},l.onerror=function(){n(new J("Network Error",J.ERR_NETWORK,e,l)),l=null},l.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||ge;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new J(t,r.clarifyTimeoutError?J.ETIMEDOUT:J.ECONNABORTED,e,l)),l=null},xe.isStandardBrowserEnv){const t=(e.withCredentials||Ie(c))&&e.xsrfCookieName&&Ce.read(e.xsrfCookieName);t&&i.set(e.xsrfHeaderName,t)}void 0===r&&i.setContentType(null),"setRequestHeader"in l&&q.forEach(i.toJSON(),(function(e,t){l.setRequestHeader(t,e)})),q.isUndefined(e.withCredentials)||(l.withCredentials=!!e.withCredentials),a&&"json"!==a&&(l.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&l.addEventListener("progress",Ke(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",Ke(e.onUploadProgress)),(e.cancelToken||e.signal)&&(o=t=>{l&&(n(!t||t.type?new De(null,e,l):t),l.abort(),l=null)},e.cancelToken&&e.cancelToken.subscribe(o),e.signal&&(e.signal.aborted?o():e.signal.addEventListener("abort",o)));const d=Oe(c);d&&-1===xe.protocols.indexOf(d)?n(new J("Unsupported protocol "+d+":",J.ERR_BAD_REQUEST,e)):l.send(r||null)}))}const Qe={http:Je,xhr:Je};var et={getAdapter:e=>{if(q.isString(e)){const t=Qe[e];if(!e)throw Error(q.hasOwnProp(e)?`Adapter '${e}' is not available in the build`:`Can not resolve adapter '${e}'`);return t}if(!q.isFunction(e))throw new TypeError("adapter is not a function");return e},adapters:Qe};const tt={"Content-Type":"application/x-www-form-urlencoded"};function nt(){let e;return"undefined"!==typeof XMLHttpRequest?e=et.getAdapter("xhr"):"undefined"!==typeof process&&"process"===q.kindOf(process)&&(e=et.getAdapter("http")),e}function rt(e,t,n){if(q.isString(e))try{return(t||JSON.parse)(e),q.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}const it={transitional:ge,adapter:nt(),transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=q.isObject(e);i&&q.isHTMLForm(e)&&(e=new FormData(e));const a=q.isFormData(e);if(a)return r&&r?JSON.stringify(Te(e)):e;if(q.isArrayBuffer(e)||q.isBuffer(e)||q.isStream(e)||q.isFile(e)||q.isBlob(e))return e;if(q.isArrayBufferView(e))return e.buffer;if(q.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return we(e,this.formSerializer).toString();if((o=q.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return le(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),rt(e)):e}],transformResponse:[function(e){const t=this.transitional||it.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&q.isString(e)&&(n&&!this.responseType||r)){const n=t&&t.silentJSONParsing,a=!n&&r;try{return JSON.parse(e)}catch(i){if(a){if("SyntaxError"===i.name)throw J.from(i,J.ERR_BAD_RESPONSE,this,null,this.response);throw i}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:xe.classes.FormData,Blob:xe.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};q.forEach(["delete","get","head"],(function(e){it.headers[e]={}})),q.forEach(["post","put","patch"],(function(e){it.headers[e]=q.merge(tt)}));var at=it;function ot(e,t){const n=this||at,r=t||n,i=qe.from(r.headers);let a=r.data;return q.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function st(e){return!(!e||!e.__CANCEL__)}function lt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new De}function ct(e){lt(e),e.headers=qe.from(e.headers),e.data=ot.call(e,e.transformRequest);const t=e.adapter||at.adapter;return t(e).then((function(t){return lt(e),t.data=ot.call(e,e.transformResponse,t),t.headers=qe.from(t.headers),t}),(function(t){return st(t)||(lt(e),t&&t.response&&(t.response.data=ot.call(e,e.transformResponse,t.response),t.response.headers=qe.from(t.response.headers))),Promise.reject(t)}))}function ut(e,t){t=t||{};const n={};function r(e,t){return q.isPlainObject(e)&&q.isPlainObject(t)?q.merge(e,t):q.isPlainObject(t)?q.merge({},t):q.isArray(t)?t.slice():t}function i(n){return q.isUndefined(t[n])?q.isUndefined(e[n])?void 0:r(void 0,e[n]):r(e[n],t[n])}function a(e){if(!q.isUndefined(t[e]))return r(void 0,t[e])}function o(n){return q.isUndefined(t[n])?q.isUndefined(e[n])?void 0:r(void 0,e[n]):r(void 0,t[n])}function s(n){return n in t?r(e[n],t[n]):n in e?r(void 0,e[n]):void 0}const l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s};return q.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){const t=l[e]||i,r=t(e);q.isUndefined(r)&&t!==s||(n[e]=r)})),n}const dt="1.1.3",ht={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{ht[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const ft={};function pt(e,t,n){if("object"!==typeof e)throw new J("options must be an object",J.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;while(i-- >0){const a=r[i],o=t[a];if(o){const t=e[a],n=void 0===t||o(t,a,e);if(!0!==n)throw new J("option "+a+" must be "+n,J.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new J("Unknown option "+a,J.ERR_BAD_OPTION)}}ht.transitional=function(e,t,n){function r(e,t){return"[Axios v"+dt+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,a)=>{if(!1===e)throw new J(r(i," has been removed"+(t?" in "+t:"")),J.ERR_DEPRECATED);return t&&!ft[i]&&(ft[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var mt={assertOptions:pt,validators:ht};const vt=mt.validators;class gt{constructor(e){this.defaults=e,this.interceptors={request:new ve,response:new ve}}request(e,t){"string"===typeof e?(t=t||{},t.url=e):t=e||{},t=ut(this.defaults,t);const{transitional:n,paramsSerializer:r}=t;void 0!==n&&mt.assertOptions(n,{silentJSONParsing:vt.transitional(vt.boolean),forcedJSONParsing:vt.transitional(vt.boolean),clarifyTimeoutError:vt.transitional(vt.boolean)},!1),void 0!==r&&mt.assertOptions(r,{encode:vt.function,serialize:vt.function},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();const i=t.headers&&q.merge(t.headers.common,t.headers[t.method]);i&&q.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),t.headers=new qe(t.headers,i);const a=[];let o=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const s=[];let l;this.interceptors.response.forEach((function(e){s.push(e.fulfilled,e.rejected)}));let c,u=0;if(!o){const e=[ct.bind(this),void 0];e.unshift.apply(e,a),e.push.apply(e,s),c=e.length,l=Promise.resolve(t);while(u<c)l=l.then(e[u++],e[u++]);return l}c=a.length;let d=t;u=0;while(u<c){const e=a[u++],t=a[u++];try{d=e(d)}catch(h){t.call(this,h);break}}try{l=ct.call(this,d)}catch(h){return Promise.reject(h)}u=0,c=s.length;while(u<c)l=l.then(s[u++],s[u++]);return l}getUri(e){e=ut(this.defaults,e);const t=Le(e.baseURL,e.url);return pe(t,e.params,e.paramsSerializer)}}q.forEach(["delete","get","head","options"],(function(e){gt.prototype[e]=function(t,n){return this.request(ut(n||{},{method:e,url:t,data:(n||{}).data}))}})),q.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(ut(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}gt.prototype[e]=t(),gt.prototype[e+"Form"]=t(!0)}));var _t=gt;class yt{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;while(t-- >0)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new De(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;const t=new yt((function(t){e=t}));return{token:t,cancel:e}}}var bt=yt;function xt(e){return function(t){return e.apply(null,t)}}function wt(e){return q.isObject(e)&&!0===e.isAxiosError}function St(e){const t=new _t(e),n=r(_t.prototype.request,t);return q.extend(n,_t.prototype,t,{allOwnKeys:!0}),q.extend(n,t,null,{allOwnKeys:!0}),n.create=function(t){return St(ut(e,t))},n}const Mt=St(at);Mt.Axios=_t,Mt.CanceledError=De,Mt.CancelToken=bt,Mt.isCancel=st,Mt.VERSION=dt,Mt.toFormData=le,Mt.AxiosError=J,Mt.Cancel=Mt.CanceledError,Mt.all=function(e){return Promise.all(e)},Mt.spread=xt,Mt.isAxiosError=wt,Mt.formToJSON=e=>Te(q.isHTMLForm(e)?new FormData(e):e);var Et=Mt;const{Axios:Tt,AxiosError:At,CanceledError:Ct,isCancel:kt,CancelToken:Rt,VERSION:Lt,all:It,Cancel:Pt,isAxiosError:Dt,spread:Ot,toFormData:Nt}=Et;var Ft=Et},1020:function(e,t,n){"use strict";n.d(t,{WB:function(){return de},Q_:function(){return Se}});n(1703),n(7658),n(541);var r=n(4870),i=n(3396),a=!1;function o(e,t,n){return Array.isArray(e)?(e.length=Math.max(e.length,t),e.splice(t,1,n),n):(e[t]=n,n)}function s(){return l().__VUE_DEVTOOLS_GLOBAL_HOOK__}function l(){return"undefined"!==typeof navigator&&"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{}}const c="function"===typeof Proxy,u="devtools-plugin:setup",d="plugin:settings:set";let h,f,p;function m(){var e;return void 0!==h||("undefined"!==typeof window&&window.performance?(h=!0,f=window.performance):"undefined"!==typeof n.g&&(null===(e=n.g.perf_hooks)||void 0===e?void 0:e.performance)?(h=!0,f=n.g.perf_hooks.performance):h=!1),h}function v(){return m()?f.now():Date.now()}class g{constructor(e,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=t;const n={};if(e.settings)for(const o in e.settings){const t=e.settings[o];n[o]=t.defaultValue}const r=`__vue-devtools-plugin-settings__${e.id}`;let i=Object.assign({},n);try{const e=localStorage.getItem(r),t=JSON.parse(e);Object.assign(i,t)}catch(a){}this.fallbacks={getSettings(){return i},setSettings(e){try{localStorage.setItem(r,JSON.stringify(e))}catch(a){}i=e},now(){return v()}},t&&t.on(d,((e,t)=>{e===this.plugin.id&&this.fallbacks.setSettings(t)})),this.proxiedOn=new Proxy({},{get:(e,t)=>this.target?this.target.on[t]:(...e)=>{this.onQueue.push({method:t,args:e})}}),this.proxiedTarget=new Proxy({},{get:(e,t)=>this.target?this.target[t]:"on"===t?this.proxiedOn:Object.keys(this.fallbacks).includes(t)?(...e)=>(this.targetQueue.push({method:t,args:e,resolve:()=>{}}),this.fallbacks[t](...e)):(...e)=>new Promise((n=>{this.targetQueue.push({method:t,args:e,resolve:n})}))})}async setRealTarget(e){this.target=e;for(const t of this.onQueue)this.target.on[t.method](...t.args);for(const t of this.targetQueue)t.resolve(await this.target[t.method](...t.args))}}function _(e,t){const n=e,r=l(),i=s(),a=c&&n.enableEarlyProxy;if(!i||!r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&a){const e=a?new g(n,i):null,o=r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[];o.push({pluginDescriptor:n,setupFn:t,proxy:e}),e&&t(e.proxiedTarget)}else i.emit(u,e,t)}const y=e=>p=e,b=Symbol();function x(e){return e&&"object"===typeof e&&"[object Object]"===Object.prototype.toString.call(e)&&"function"!==typeof e.toJSON}var w;(function(e){e["direct"]="direct",e["patchObject"]="patch object",e["patchFunction"]="patch function"})(w||(w={}));const S="undefined"!==typeof window,M=!1,E=(()=>"object"===typeof window&&window.window===window?window:"object"===typeof self&&self.self===self?self:"object"===typeof global&&global.global===global?global:"object"===typeof globalThis?globalThis:{HTMLElement:null})();function T(e,{autoBom:t=!1}={}){return t&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}function A(e,t,n){const r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){I(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function C(e){const t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(n){}return t.status>=200&&t.status<=299}function k(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){const n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}const R="object"===typeof navigator?navigator:{userAgent:""},L=(()=>/Macintosh/.test(R.userAgent)&&/AppleWebKit/.test(R.userAgent)&&!/Safari/.test(R.userAgent))(),I=S?"undefined"!==typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype&&!L?P:"msSaveOrOpenBlob"in R?D:O:()=>{};function P(e,t="download",n){const r=document.createElement("a");r.download=t,r.rel="noopener","string"===typeof e?(r.href=e,r.origin!==location.origin?C(r.href)?A(e,t,n):(r.target="_blank",k(r)):k(r)):(r.href=URL.createObjectURL(e),setTimeout((function(){URL.revokeObjectURL(r.href)}),4e4),setTimeout((function(){k(r)}),0))}function D(e,t="download",n){if("string"===typeof e)if(C(e))A(e,t,n);else{const t=document.createElement("a");t.href=e,t.target="_blank",setTimeout((function(){k(t)}))}else navigator.msSaveOrOpenBlob(T(e,n),t)}function O(e,t,n,r){if(r=r||open("","_blank"),r&&(r.document.title=r.document.body.innerText="downloading..."),"string"===typeof e)return A(e,t,n);const i="application/octet-stream"===e.type,a=/constructor/i.test(String(E.HTMLElement))||"safari"in E,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a||L)&&"undefined"!==typeof FileReader){const t=new FileReader;t.onloadend=function(){let e=t.result;if("string"!==typeof e)throw r=null,new Error("Wrong reader.result type");e=o?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location.assign(e),r=null},t.readAsDataURL(e)}else{const t=URL.createObjectURL(e);r?r.location.assign(t):location.href=t,r=null,setTimeout((function(){URL.revokeObjectURL(t)}),4e4)}}function N(e,t){const n="🍍 "+e;"function"===typeof __VUE_DEVTOOLS_TOAST__?__VUE_DEVTOOLS_TOAST__(n,t):"error"===t?console.error(n):"warn"===t?console.warn(n):console.log(n)}function F(e){return"_a"in e&&"install"in e}function B(){if(!("clipboard"in navigator))return N("Your browser doesn't support the Clipboard API","error"),!0}function V(e){return!!(e instanceof Error&&e.message.toLowerCase().includes("document is not focused"))&&(N('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0)}async function U(e){if(!B())try{await navigator.clipboard.writeText(JSON.stringify(e.state.value)),N("Global state copied to clipboard.")}catch(t){if(V(t))return;N("Failed to serialize the state. Check the console for more details.","error"),console.error(t)}}async function z(e){if(!B())try{e.state.value=JSON.parse(await navigator.clipboard.readText()),N("Global state pasted from clipboard.")}catch(t){if(V(t))return;N("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(t)}}async function H(e){try{I(new Blob([JSON.stringify(e.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(t){N("Failed to export the state as JSON. Check the console for more details.","error"),console.error(t)}}let W;function j(){function e(){return new Promise(((e,t)=>{W.onchange=async()=>{const t=W.files;if(!t)return e(null);const n=t.item(0);return e(n?{text:await n.text(),file:n}:null)},W.oncancel=()=>e(null),W.onerror=t,W.click()}))}return W||(W=document.createElement("input"),W.type="file",W.accept=".json"),e}async function G(e){try{const t=await j(),n=await t();if(!n)return;const{text:r,file:i}=n;e.state.value=JSON.parse(r),N(`Global state imported from "${i.name}".`)}catch(t){N("Failed to export the state as JSON. Check the console for more details.","error"),console.error(t)}}function Y(e){return{_custom:{display:e}}}const $="🍍 Pinia (root)",q="_root";function X(e){return F(e)?{id:q,label:$}:{id:e.$id,label:e.$id}}function Z(e){if(F(e)){const t=Array.from(e._s.keys()),n=e._s,r={state:t.map((t=>({editable:!0,key:t,value:e.state.value[t]}))),getters:t.filter((e=>n.get(e)._getters)).map((e=>{const t=n.get(e);return{editable:!1,key:e,value:t._getters.reduce(((e,n)=>(e[n]=t[n],e)),{})}}))};return r}const t={state:Object.keys(e.$state).map((t=>({editable:!0,key:t,value:e.$state[t]})))};return e._getters&&e._getters.length&&(t.getters=e._getters.map((t=>({editable:!1,key:t,value:e[t]})))),e._customProperties.size&&(t.customProperties=Array.from(e._customProperties).map((t=>({editable:!0,key:t,value:e[t]})))),t}function K(e){return e?Array.isArray(e)?e.reduce(((e,t)=>(e.keys.push(t.key),e.operations.push(t.type),e.oldValue[t.key]=t.oldValue,e.newValue[t.key]=t.newValue,e)),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:Y(e.type),key:Y(e.key),oldValue:e.oldValue,newValue:e.newValue}:{}}function J(e){switch(e){case w.direct:return"mutation";case w.patchFunction:return"$patch";case w.patchObject:return"$patch";default:return"unknown"}}let Q=!0;const ee=[],te="pinia:mutations",ne="pinia",{assign:re}=Object,ie=e=>"🍍 "+e;function ae(e,t){_({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:ee,app:e},(n=>{"function"!==typeof n.now&&N("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),n.addTimelineLayer({id:te,label:"Pinia 🍍",color:15064968}),n.addInspector({id:ne,label:"Pinia 🍍",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{U(t)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await z(t),n.sendInspectorTree(ne),n.sendInspectorState(ne)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{H(t)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await G(t),n.sendInspectorTree(ne),n.sendInspectorState(ne)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:"Reset the state (option store only)",action:e=>{const n=t._s.get(e);n?n._isOptionsAPI?(n.$reset(),N(`Store "${e}" reset.`)):N(`Cannot reset "${e}" store because it's a setup store.`,"warn"):N(`Cannot reset "${e}" store because it wasn't found.`,"warn")}}]}),n.on.inspectComponent(((e,t)=>{const n=e.componentInstance&&e.componentInstance.proxy;if(n&&n._pStores){const t=e.componentInstance.proxy._pStores;Object.values(t).forEach((t=>{e.instanceData.state.push({type:ie(t.$id),key:"state",editable:!0,value:t._isOptionsAPI?{_custom:{value:(0,r.IU)(t.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>t.$reset()}]}}:Object.keys(t.$state).reduce(((e,n)=>(e[n]=t.$state[n],e)),{})}),t._getters&&t._getters.length&&e.instanceData.state.push({type:ie(t.$id),key:"getters",editable:!1,value:t._getters.reduce(((e,n)=>{try{e[n]=t[n]}catch(r){e[n]=r}return e}),{})})}))}})),n.on.getInspectorTree((n=>{if(n.app===e&&n.inspectorId===ne){let e=[t];e=e.concat(Array.from(t._s.values())),n.rootNodes=(n.filter?e.filter((e=>"$id"in e?e.$id.toLowerCase().includes(n.filter.toLowerCase()):$.toLowerCase().includes(n.filter.toLowerCase()))):e).map(X)}})),n.on.getInspectorState((n=>{if(n.app===e&&n.inspectorId===ne){const e=n.nodeId===q?t:t._s.get(n.nodeId);if(!e)return;e&&(n.state=Z(e))}})),n.on.editInspectorState(((n,r)=>{if(n.app===e&&n.inspectorId===ne){const e=n.nodeId===q?t:t._s.get(n.nodeId);if(!e)return N(`store "${n.nodeId}" not found`,"error");const{path:r}=n;F(e)?r.unshift("state"):1===r.length&&e._customProperties.has(r[0])&&!(r[0]in e.$state)||r.unshift("$state"),Q=!1,n.set(e,r,n.state.value),Q=!0}})),n.on.editComponentState((e=>{if(e.type.startsWith("🍍")){const n=e.type.replace(/^🍍\s*/,""),r=t._s.get(n);if(!r)return N(`store "${n}" not found`,"error");const{path:i}=e;if("state"!==i[0])return N(`Invalid path for store "${n}":\n${i}\nOnly state can be modified.`);i[0]="$state",Q=!1,e.set(r,i,e.state.value),Q=!0}}))}))}function oe(e,t){ee.includes(ie(t.$id))||ee.push(ie(t.$id)),_({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:ee,app:e,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},(e=>{const n="function"===typeof e.now?e.now.bind(e):Date.now;t.$onAction((({after:r,onError:i,name:a,args:o})=>{const s=le++;e.addTimelineEvent({layerId:te,event:{time:n(),title:"🛫 "+a,subtitle:"start",data:{store:Y(t.$id),action:Y(a),args:o},groupId:s}}),r((r=>{se=void 0,e.addTimelineEvent({layerId:te,event:{time:n(),title:"🛬 "+a,subtitle:"end",data:{store:Y(t.$id),action:Y(a),args:o,result:r},groupId:s}})})),i((r=>{se=void 0,e.addTimelineEvent({layerId:te,event:{time:n(),logType:"error",title:"💥 "+a,subtitle:"end",data:{store:Y(t.$id),action:Y(a),args:o,error:r},groupId:s}})}))}),!0),t._customProperties.forEach((a=>{(0,i.YP)((()=>(0,r.SU)(t[a])),((t,r)=>{e.notifyComponentUpdate(),e.sendInspectorState(ne),Q&&e.addTimelineEvent({layerId:te,event:{time:n(),title:"Change",subtitle:a,data:{newValue:t,oldValue:r},groupId:se}})}),{deep:!0})})),t.$subscribe((({events:r,type:i},a)=>{if(e.notifyComponentUpdate(),e.sendInspectorState(ne),!Q)return;const o={time:n(),title:J(i),data:re({store:Y(t.$id)},K(r)),groupId:se};se=void 0,i===w.patchFunction?o.subtitle="⤵️":i===w.patchObject?o.subtitle="🧩":r&&!Array.isArray(r)&&(o.subtitle=r.type),r&&(o.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:r}}),e.addTimelineEvent({layerId:te,event:o})}),{detached:!0,flush:"sync"});const a=t._hotUpdate;t._hotUpdate=(0,r.Xl)((r=>{a(r),e.addTimelineEvent({layerId:te,event:{time:n(),title:"🔥 "+t.$id,subtitle:"HMR update",data:{store:Y(t.$id),info:Y("HMR update")}}}),e.notifyComponentUpdate(),e.sendInspectorTree(ne),e.sendInspectorState(ne)}));const{$dispose:o}=t;t.$dispose=()=>{o(),e.notifyComponentUpdate(),e.sendInspectorTree(ne),e.sendInspectorState(ne),e.getSettings().logStoreChanges&&N(`Disposed "${t.$id}" store 🗑`)},e.notifyComponentUpdate(),e.sendInspectorTree(ne),e.sendInspectorState(ne),e.getSettings().logStoreChanges&&N(`"${t.$id}" store installed 🆕`)}))}let se,le=0;function ce(e,t){const n=t.reduce(((t,n)=>(t[n]=(0,r.IU)(e)[n],t)),{});for(const r in n)e[r]=function(){const t=le,i=new Proxy(e,{get(...e){return se=t,Reflect.get(...e)},set(...e){return se=t,Reflect.set(...e)}});return n[r].apply(i,arguments)}}function ue({app:e,store:t,options:n}){if(!t.$id.startsWith("__hot:")){if(n.state&&(t._isOptionsAPI=!0),"function"===typeof n.state){ce(t,Object.keys(n.actions));const e=t._hotUpdate;(0,r.IU)(t)._hotUpdate=function(n){e.apply(this,arguments),ce(t,Object.keys(n._hmrPayload.actions))}}oe(e,t)}}function de(){const e=(0,r.B)(!0),t=e.run((()=>(0,r.iH)({})));let n=[],i=[];const o=(0,r.Xl)({install(e){y(o),a||(o._a=e,e.provide(b,o),e.config.globalProperties.$pinia=o,M&&ae(e,o),i.forEach((e=>n.push(e))),i=[])},use(e){return this._a||a?n.push(e):i.push(e),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return M&&"undefined"!==typeof Proxy&&o.use(ue),o}const he=()=>{};function fe(e,t,n,i=he){e.push(t);const a=()=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),i())};return!n&&(0,r.nZ)()&&(0,r.EB)(a),a}function pe(e,...t){e.slice().forEach((e=>{e(...t)}))}function me(e,t){e instanceof Map&&t instanceof Map&&t.forEach(((t,n)=>e.set(n,t))),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const i=t[n],a=e[n];x(a)&&x(i)&&e.hasOwnProperty(n)&&!(0,r.dq)(i)&&!(0,r.PG)(i)?e[n]=me(a,i):e[n]=i}return e}const ve=Symbol(),ge=new WeakMap;function _e(e){return a?!ge.has(e):!x(e)||!e.hasOwnProperty(ve)}const{assign:ye}=Object;function be(e){return!(!(0,r.dq)(e)||!e.effect)}function xe(e,t,n,s){const{state:l,actions:c,getters:u}=t,d=n.state.value[e];let h;function f(){d||(a?o(n.state.value,e,l?l():{}):n.state.value[e]=l?l():{});const t=(0,r.BK)(n.state.value[e]);return ye(t,c,Object.keys(u||{}).reduce(((t,o)=>(t[o]=(0,r.Xl)((0,i.Fl)((()=>{y(n);const t=n._s.get(e);if(!a||t._r)return u[o].call(t,t)}))),t)),{}))}return h=we(e,f,t,n,s,!0),h}function we(e,t,n={},s,l,c){let u;const d=ye({actions:{}},n);const h={deep:!0};let f,p;let m,v=(0,r.Xl)([]),g=(0,r.Xl)([]);const _=s.state.value[e];c||_||(a?o(s.state.value,e,{}):s.state.value[e]={});const b=(0,r.iH)({});let x;function S(t){let n;f=p=!1,"function"===typeof t?(t(s.state.value[e]),n={type:w.patchFunction,storeId:e,events:m}):(me(s.state.value[e],t),n={type:w.patchObject,payload:t,storeId:e,events:m});const r=x=Symbol();(0,i.Y3)().then((()=>{x===r&&(f=!0)})),p=!0,pe(v,n,s.state.value[e])}const E=c?function(){const{state:e}=n,t=e?e():{};this.$patch((e=>{ye(e,t)}))}:he;function T(){u.stop(),v=[],g=[],s._s.delete(e)}function A(t,n){return function(){y(s);const r=Array.from(arguments),i=[],a=[];function o(e){i.push(e)}function l(e){a.push(e)}let c;pe(g,{args:r,name:t,store:R,after:o,onError:l});try{c=n.apply(this&&this.$id===e?this:R,r)}catch(u){throw pe(a,u),u}return c instanceof Promise?c.then((e=>(pe(i,e),e))).catch((e=>(pe(a,e),Promise.reject(e)))):(pe(i,c),c)}}const C=(0,r.Xl)({actions:{},getters:{},state:[],hotState:b}),k={_p:s,$id:e,$onAction:fe.bind(null,g),$patch:S,$reset:E,$subscribe(t,n={}){const r=fe(v,t,n.detached,(()=>a())),a=u.run((()=>(0,i.YP)((()=>s.state.value[e]),(r=>{("sync"===n.flush?p:f)&&t({storeId:e,type:w.direct,events:m},r)}),ye({},h,n))));return r},$dispose:T};a&&(k._r=!1);const R=(0,r.qj)(M?ye({_hmrPayload:C,_customProperties:(0,r.Xl)(new Set)},k):k);s._s.set(e,R);const L=s._e.run((()=>(u=(0,r.B)(),u.run((()=>t())))));for(const i in L){const t=L[i];if((0,r.dq)(t)&&!be(t)||(0,r.PG)(t))c||(_&&_e(t)&&((0,r.dq)(t)?t.value=_[i]:me(t,_[i])),a?o(s.state.value[e],i,t):s.state.value[e][i]=t);else if("function"===typeof t){const e=A(i,t);a?o(L,i,e):L[i]=e,d.actions[i]=t}else 0}if(a?Object.keys(L).forEach((e=>{o(R,e,L[e])})):(ye(R,L),ye((0,r.IU)(R),L)),Object.defineProperty(R,"$state",{get:()=>s.state.value[e],set:e=>{S((t=>{ye(t,e)}))}}),M){const e={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach((t=>{Object.defineProperty(R,t,ye({value:R[t]},e))}))}return a&&(R._r=!0),s._p.forEach((e=>{if(M){const t=u.run((()=>e({store:R,app:s._a,pinia:s,options:d})));Object.keys(t||{}).forEach((e=>R._customProperties.add(e))),ye(R,t)}else ye(R,u.run((()=>e({store:R,app:s._a,pinia:s,options:d}))))})),_&&c&&n.hydrate&&n.hydrate(R.$state,_),f=!0,p=!0,R}function Se(e,t,n){let r,a;const o="function"===typeof t;function s(e,n){const s=(0,i.FN)();e=e||s&&(0,i.f3)(b,null),e&&y(e),e=p,e._s.has(r)||(o?we(r,t,a,e):xe(r,a,e));const l=e._s.get(r);return l}return"string"===typeof e?(r=e,a=o?n:t):(a=e,r=e.id),s.$id=r,s}},6495:function(e,t,n){"use strict";n.d(t,{ZP:function(){return fx}});n(7658),n(1703),n(541);var r=n(3396),i=n(4870),a=n(7139),o=n(9242);function s(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function l(e){var t=s(e).Element;return e instanceof t||e instanceof Element}function c(e){var t=s(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function u(e){if("undefined"===typeof ShadowRoot)return!1;var t=s(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var d=Math.max,h=Math.min,f=Math.round;function p(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function m(){return!/^((?!chrome|android).)*safari/i.test(p())}function v(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,a=1;t&&c(e)&&(i=e.offsetWidth>0&&f(r.width)/e.offsetWidth||1,a=e.offsetHeight>0&&f(r.height)/e.offsetHeight||1);var o=l(e)?s(e):window,u=o.visualViewport,d=!m()&&n,h=(r.left+(d&&u?u.offsetLeft:0))/i,p=(r.top+(d&&u?u.offsetTop:0))/a,v=r.width/i,g=r.height/a;return{width:v,height:g,top:p,right:h+v,bottom:p+g,left:h,x:h,y:p}}function g(e){var t=s(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function _(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function y(e){return e!==s(e)&&c(e)?_(e):g(e)}function b(e){return e?(e.nodeName||"").toLowerCase():null}function x(e){return((l(e)?e.ownerDocument:e.document)||window.document).documentElement}function w(e){return v(x(e)).left+g(e).scrollLeft}function S(e){return s(e).getComputedStyle(e)}function M(e){var t=S(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function E(e){var t=e.getBoundingClientRect(),n=f(t.width)/e.offsetWidth||1,r=f(t.height)/e.offsetHeight||1;return 1!==n||1!==r}function T(e,t,n){void 0===n&&(n=!1);var r=c(t),i=c(t)&&E(t),a=x(t),o=v(e,i,n),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==b(t)||M(a))&&(s=y(t)),c(t)?(l=v(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):a&&(l.x=w(a))),{x:o.left+s.scrollLeft-l.x,y:o.top+s.scrollTop-l.y,width:o.width,height:o.height}}function A(e){var t=v(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function C(e){return"html"===b(e)?e:e.assignedSlot||e.parentNode||(u(e)?e.host:null)||x(e)}function k(e){return["html","body","#document"].indexOf(b(e))>=0?e.ownerDocument.body:c(e)&&M(e)?e:k(C(e))}function R(e,t){var n;void 0===t&&(t=[]);var r=k(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),a=s(r),o=i?[a].concat(a.visualViewport||[],M(r)?r:[]):r,l=t.concat(o);return i?l:l.concat(R(C(o)))}function L(e){return["table","td","th"].indexOf(b(e))>=0}function I(e){return c(e)&&"fixed"!==S(e).position?e.offsetParent:null}function P(e){var t=/firefox/i.test(p()),n=/Trident/i.test(p());if(n&&c(e)){var r=S(e);if("fixed"===r.position)return null}var i=C(e);u(i)&&(i=i.host);while(c(i)&&["html","body"].indexOf(b(i))<0){var a=S(i);if("none"!==a.transform||"none"!==a.perspective||"paint"===a.contain||-1!==["transform","perspective"].indexOf(a.willChange)||t&&"filter"===a.willChange||t&&a.filter&&"none"!==a.filter)return i;i=i.parentNode}return null}function D(e){var t=s(e),n=I(e);while(n&&L(n)&&"static"===S(n).position)n=I(n);return n&&("html"===b(n)||"body"===b(n)&&"static"===S(n).position)?t:n||P(e)||t}var O="top",N="bottom",F="right",B="left",V="auto",U=[O,N,F,B],z="start",H="end",W="clippingParents",j="viewport",G="popper",Y="reference",$=U.reduce((function(e,t){return e.concat([t+"-"+z,t+"-"+H])}),[]),q=[].concat(U,[V]).reduce((function(e,t){return e.concat([t,t+"-"+z,t+"-"+H])}),[]),X="beforeRead",Z="read",K="afterRead",J="beforeMain",Q="main",ee="afterMain",te="beforeWrite",ne="write",re="afterWrite",ie=[X,Z,K,J,Q,ee,te,ne,re];function ae(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name);var a=[].concat(e.requires||[],e.requiresIfExists||[]);a.forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function oe(e){var t=ae(e);return ie.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}function se(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}function le(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}var ce={placement:"bottom",modifiers:[],strategy:"absolute"};function ue(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function de(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?ce:i;return function(e,t,n){void 0===n&&(n=a);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},ce,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],s=!1,c={state:i,setOptions:function(n){var o="function"===typeof n?n(i.options):n;d(),i.options=Object.assign({},a,i.options,o),i.scrollParents={reference:l(e)?R(e):e.contextElement?R(e.contextElement):[],popper:R(t)};var s=oe(le([].concat(r,i.options.modifiers)));return i.orderedModifiers=s.filter((function(e){return e.enabled})),u(),c.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,n=e.popper;if(ue(t,n)){i.rects={reference:T(t,D(n),"fixed"===i.options.strategy),popper:A(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var a=i.orderedModifiers[r],o=a.fn,l=a.options,u=void 0===l?{}:l,d=a.name;"function"===typeof o&&(i=o({state:i,options:u,name:d,instance:c})||i)}else i.reset=!1,r=-1}}},update:se((function(){return new Promise((function(e){c.forceUpdate(),e(i)}))})),destroy:function(){d(),s=!0}};if(!ue(e,t))return c;function u(){i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"===typeof a){var s=a({state:i,name:t,instance:c,options:r}),l=function(){};o.push(s||l)}}))}function d(){o.forEach((function(e){return e()})),o=[]}return c.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),c}}var he={passive:!0};function fe(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=void 0===i||i,o=r.resize,l=void 0===o||o,c=s(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&u.forEach((function(e){e.addEventListener("scroll",n.update,he)})),l&&c.addEventListener("resize",n.update,he),function(){a&&u.forEach((function(e){e.removeEventListener("scroll",n.update,he)})),l&&c.removeEventListener("resize",n.update,he)}}var pe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:fe,data:{}};function me(e){return e.split("-")[0]}function ve(e){return e.split("-")[1]}function ge(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function _e(e){var t,n=e.reference,r=e.element,i=e.placement,a=i?me(i):null,o=i?ve(i):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(a){case O:t={x:s,y:n.y-r.height};break;case N:t={x:s,y:n.y+n.height};break;case F:t={x:n.x+n.width,y:l};break;case B:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=a?ge(a):null;if(null!=c){var u="y"===c?"height":"width";switch(o){case z:t[c]=t[c]-(n[u]/2-r[u]/2);break;case H:t[c]=t[c]+(n[u]/2-r[u]/2);break;default:}}return t}function ye(e){var t=e.state,n=e.name;t.modifiersData[n]=_e({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var be={name:"popperOffsets",enabled:!0,phase:"read",fn:ye,data:{}},xe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function we(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:f(n*i)/i||0,y:f(r*i)/i||0}}function Se(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,l=e.position,c=e.gpuAcceleration,u=e.adaptive,d=e.roundOffsets,h=e.isFixed,f=o.x,p=void 0===f?0:f,m=o.y,v=void 0===m?0:m,g="function"===typeof d?d({x:p,y:v}):{x:p,y:v};p=g.x,v=g.y;var _=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),b=B,w=O,M=window;if(u){var E=D(n),T="clientHeight",A="clientWidth";if(E===s(n)&&(E=x(n),"static"!==S(E).position&&"absolute"===l&&(T="scrollHeight",A="scrollWidth")),i===O||(i===B||i===F)&&a===H){w=N;var C=h&&E===M&&M.visualViewport?M.visualViewport.height:E[T];v-=C-r.height,v*=c?1:-1}if(i===B||(i===O||i===N)&&a===H){b=F;var k=h&&E===M&&M.visualViewport?M.visualViewport.width:E[A];p-=k-r.width,p*=c?1:-1}}var R,L=Object.assign({position:l},u&&xe),I=!0===d?we({x:p,y:v},s(n)):{x:p,y:v};return p=I.x,v=I.y,c?Object.assign({},L,(R={},R[w]=y?"0":"",R[b]=_?"0":"",R.transform=(M.devicePixelRatio||1)<=1?"translate("+p+"px, "+v+"px)":"translate3d("+p+"px, "+v+"px, 0)",R)):Object.assign({},L,(t={},t[w]=y?v+"px":"",t[b]=_?p+"px":"",t.transform="",t))}function Me(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,s=n.roundOffsets,l=void 0===s||s,c={placement:me(t.placement),variation:ve(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Se(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Se(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var Ee={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Me,data:{}};function Te(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];c(i)&&b(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))}function Ae(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]),o=a.reduce((function(e,t){return e[t]="",e}),{});c(r)&&b(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}}var Ce={name:"applyStyles",enabled:!0,phase:"write",fn:Te,effect:Ae,requires:["computeStyles"]};function ke(e,t,n){var r=me(e),i=[B,O].indexOf(r)>=0?-1:1,a="function"===typeof n?n(Object.assign({},t,{placement:e})):n,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[B,F].indexOf(r)>=0?{x:s,y:o}:{x:o,y:s}}function Re(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=void 0===i?[0,0]:i,o=q.reduce((function(e,n){return e[n]=ke(n,t.rects,a),e}),{}),s=o[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}var Le={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Re},Ie={left:"right",right:"left",bottom:"top",top:"bottom"};function Pe(e){return e.replace(/left|right|bottom|top/g,(function(e){return Ie[e]}))}var De={start:"end",end:"start"};function Oe(e){return e.replace(/start|end/g,(function(e){return De[e]}))}function Ne(e,t){var n=s(e),r=x(e),i=n.visualViewport,a=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;var u=m();(u||!u&&"fixed"===t)&&(l=i.offsetLeft,c=i.offsetTop)}return{width:a,height:o,x:l+w(e),y:c}}function Fe(e){var t,n=x(e),r=g(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=d(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=d(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+w(e),l=-r.scrollTop;return"rtl"===S(i||n).direction&&(s+=d(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:l}}function Be(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&u(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ve(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Ue(e,t){var n=v(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function ze(e,t,n){return t===j?Ve(Ne(e,n)):l(t)?Ue(t,n):Ve(Fe(x(e)))}function He(e){var t=R(C(e)),n=["absolute","fixed"].indexOf(S(e).position)>=0,r=n&&c(e)?D(e):e;return l(r)?t.filter((function(e){return l(e)&&Be(e,r)&&"body"!==b(e)})):[]}function We(e,t,n,r){var i="clippingParents"===t?He(e):[].concat(t),a=[].concat(i,[n]),o=a[0],s=a.reduce((function(t,n){var i=ze(e,n,r);return t.top=d(i.top,t.top),t.right=h(i.right,t.right),t.bottom=h(i.bottom,t.bottom),t.left=d(i.left,t.left),t}),ze(e,o,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function je(){return{top:0,right:0,bottom:0,left:0}}function Ge(e){return Object.assign({},je(),e)}function Ye(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function $e(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,a=n.strategy,o=void 0===a?e.strategy:a,s=n.boundary,c=void 0===s?W:s,u=n.rootBoundary,d=void 0===u?j:u,h=n.elementContext,f=void 0===h?G:h,p=n.altBoundary,m=void 0!==p&&p,g=n.padding,_=void 0===g?0:g,y=Ge("number"!==typeof _?_:Ye(_,U)),b=f===G?Y:G,w=e.rects.popper,S=e.elements[m?b:f],M=We(l(S)?S:S.contextElement||x(e.elements.popper),c,d,o),E=v(e.elements.reference),T=_e({reference:E,element:w,strategy:"absolute",placement:i}),A=Ve(Object.assign({},w,T)),C=f===G?A:E,k={top:M.top-C.top+y.top,bottom:C.bottom-M.bottom+y.bottom,left:M.left-C.left+y.left,right:C.right-M.right+y.right},R=e.modifiersData.offset;if(f===G&&R){var L=R[i];Object.keys(k).forEach((function(e){var t=[F,N].indexOf(e)>=0?1:-1,n=[O,N].indexOf(e)>=0?"y":"x";k[e]+=L[n]*t}))}return k}function qe(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?q:l,u=ve(r),d=u?s?$:$.filter((function(e){return ve(e)===u})):U,h=d.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=d);var f=h.reduce((function(t,n){return t[n]=$e(e,{placement:n,boundary:i,rootBoundary:a,padding:o})[me(n)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}function Xe(e){if(me(e)===V)return[];var t=Pe(e);return[Oe(e),t,Oe(t)]}function Ze(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0===o||o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,p=void 0===f||f,m=n.allowedAutoPlacements,v=t.options.placement,g=me(v),_=g===v,y=l||(_||!p?[Pe(v)]:Xe(v)),b=[v].concat(y).reduce((function(e,n){return e.concat(me(n)===V?qe(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:m}):n)}),[]),x=t.rects.reference,w=t.rects.popper,S=new Map,M=!0,E=b[0],T=0;T<b.length;T++){var A=b[T],C=me(A),k=ve(A)===z,R=[O,N].indexOf(C)>=0,L=R?"width":"height",I=$e(t,{placement:A,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),P=R?k?F:B:k?N:O;x[L]>w[L]&&(P=Pe(P));var D=Pe(P),U=[];if(a&&U.push(I[C]<=0),s&&U.push(I[P]<=0,I[D]<=0),U.every((function(e){return e}))){E=A,M=!1;break}S.set(A,U)}if(M)for(var H=p?3:1,W=function(e){var t=b.find((function(t){var n=S.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return E=t,"break"},j=H;j>0;j--){var G=W(j);if("break"===G)break}t.placement!==E&&(t.modifiersData[r]._skip=!0,t.placement=E,t.reset=!0)}}var Ke={name:"flip",enabled:!0,phase:"main",fn:Ze,requiresIfExists:["offset"],data:{_skip:!1}};function Je(e){return"x"===e?"y":"x"}function Qe(e,t,n){return d(e,h(t,n))}function et(e,t,n){var r=Qe(e,t,n);return r>n?n:r}function tt(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0!==o&&o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,f=n.padding,p=n.tether,m=void 0===p||p,v=n.tetherOffset,g=void 0===v?0:v,_=$e(t,{boundary:l,rootBoundary:c,padding:f,altBoundary:u}),y=me(t.placement),b=ve(t.placement),x=!b,w=ge(y),S=Je(w),M=t.modifiersData.popperOffsets,E=t.rects.reference,T=t.rects.popper,C="function"===typeof g?g(Object.assign({},t.rects,{placement:t.placement})):g,k="number"===typeof C?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),R=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,L={x:0,y:0};if(M){if(a){var I,P="y"===w?O:B,V="y"===w?N:F,U="y"===w?"height":"width",H=M[w],W=H+_[P],j=H-_[V],G=m?-T[U]/2:0,Y=b===z?E[U]:T[U],$=b===z?-T[U]:-E[U],q=t.elements.arrow,X=m&&q?A(q):{width:0,height:0},Z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:je(),K=Z[P],J=Z[V],Q=Qe(0,E[U],X[U]),ee=x?E[U]/2-G-Q-K-k.mainAxis:Y-Q-K-k.mainAxis,te=x?-E[U]/2+G+Q+J+k.mainAxis:$+Q+J+k.mainAxis,ne=t.elements.arrow&&D(t.elements.arrow),re=ne?"y"===w?ne.clientTop||0:ne.clientLeft||0:0,ie=null!=(I=null==R?void 0:R[w])?I:0,ae=H+ee-ie-re,oe=H+te-ie,se=Qe(m?h(W,ae):W,H,m?d(j,oe):j);M[w]=se,L[w]=se-H}if(s){var le,ce="x"===w?O:B,ue="x"===w?N:F,de=M[S],he="y"===S?"height":"width",fe=de+_[ce],pe=de-_[ue],_e=-1!==[O,B].indexOf(y),ye=null!=(le=null==R?void 0:R[S])?le:0,be=_e?fe:de-E[he]-T[he]-ye+k.altAxis,xe=_e?de+E[he]+T[he]-ye-k.altAxis:pe,we=m&&_e?et(be,de,xe):Qe(m?be:fe,de,m?xe:pe);M[S]=we,L[S]=we-de}t.modifiersData[r]=L}}var nt={name:"preventOverflow",enabled:!0,phase:"main",fn:tt,requiresIfExists:["offset"]},rt=function(e,t){return e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e,Ge("number"!==typeof e?e:Ye(e,U))};function it(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,s=me(n.placement),l=ge(s),c=[B,F].indexOf(s)>=0,u=c?"height":"width";if(a&&o){var d=rt(i.padding,n),h=A(a),f="y"===l?O:B,p="y"===l?N:F,m=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],v=o[l]-n.rects.reference[l],g=D(a),_=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=m/2-v/2,b=d[f],x=_-h[u]-d[p],w=_/2-h[u]/2+y,S=Qe(b,w,x),M=l;n.modifiersData[r]=(t={},t[M]=S,t.centerOffset=S-w,t)}}function at(e){var t=e.state,n=e.options,r=n.element,i=void 0===r?"[data-popper-arrow]":r;null!=i&&("string"!==typeof i||(i=t.elements.popper.querySelector(i),i))&&Be(t.elements.popper,i)&&(t.elements.arrow=i)}var ot={name:"arrow",enabled:!0,phase:"main",fn:it,effect:at,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function st(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function lt(e){return[O,F,N,B].some((function(t){return e[t]>=0}))}function ct(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=$e(t,{elementContext:"reference"}),s=$e(t,{altBoundary:!0}),l=st(o,r),c=st(s,i,a),u=lt(l),d=lt(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}var ut={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ct},dt=[pe,be,Ee,Ce,Le,Ke,nt,ot,ut],ht=de({defaultModifiers:dt}),ft=Object.defineProperty,pt=(e,t,n)=>t in e?ft(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mt=(e,t,n)=>(pt(e,"symbol"!==typeof t?t+"":t,n),n);const vt=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},gt={},_t={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},yt=(0,r._)("polyline",{points:"9 18 15 12 9 6"},null,-1),bt=[yt];function xt(e,t){return(0,r.wg)(),(0,r.iD)("svg",_t,bt)}const wt=vt(gt,[["render",xt]]),St={},Mt={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},Et=(0,r._)("polyline",{points:"15 18 9 12 15 6"},null,-1),Tt=[Et];function At(e,t){return(0,r.wg)(),(0,r.iD)("svg",Mt,Tt)}const Ct=vt(St,[["render",At]]),kt={},Rt={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},Lt=(0,r._)("polyline",{points:"6 9 12 15 18 9"},null,-1),It=[Lt];function Pt(e,t){return(0,r.wg)(),(0,r.iD)("svg",Rt,It)}const Dt=vt(kt,[["render",Pt]]),Ot={},Nt={fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},Ft=(0,r._)("path",{d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),Bt=[Ft];function Vt(e,t){return(0,r.wg)(),(0,r.iD)("svg",Nt,Bt)}const Ut=vt(Ot,[["render",Vt]]),zt=Object.freeze(Object.defineProperty({__proto__:null,IconChevronDown:Dt,IconChevronLeft:Ct,IconChevronRight:wt,IconClock:Ut},Symbol.toStringTag,{value:"Module"})),Ht=(0,r.aZ)({__name:"BaseIcon",props:{name:{type:String,required:!0},width:{type:String},height:{type:String},size:{type:String,default:"26"},viewBox:{type:String}},setup(e){const t=e,n=(0,r.Fl)((()=>t.width||t.size)),a=(0,r.Fl)((()=>t.height||t.size)),o=(0,r.Fl)((()=>zt[`Icon${t.name}`]));return(e,t)=>((0,r.wg)(),(0,r.j4)((0,r.LL)((0,i.SU)(o)),{width:(0,i.SU)(n),height:(0,i.SU)(a),class:"vc-base-icon"},null,8,["width","height"]))}});function Wt(){return"undefined"!==typeof window}function jt(e){return Wt()&&e in window}function Gt(e){const t=(0,i.iH)(!1),n=(0,r.Fl)((()=>t.value?"dark":"light"));let a,o;function s(e){t.value=e.matches}function l(){jt("matchMedia")&&(a=window.matchMedia("(prefers-color-scheme: dark)"),a.addEventListener("change",s),t.value=a.matches)}function c(){const{selector:n=":root",darkClass:r="dark"}=e.value,i=document.querySelector(n);t.value=i.classList.contains(r)}function u(e){const{selector:n=":root",darkClass:r="dark"}=e;if(Wt()&&n&&r){const e=document.querySelector(n);e&&(o=new MutationObserver(c),o.observe(e,{attributes:!0,attributeFilter:["class"]}),t.value=e.classList.contains(r))}}function d(){f();const n=typeof e.value;"string"===n&&"system"===e.value.toLowerCase()?l():"object"===n?u(e.value):t.value=!!e.value}const h=(0,r.YP)((()=>e.value),(()=>d()),{immediate:!0});function f(){a&&(a.removeEventListener("change",s),a=void 0),o&&(o.disconnect(),o=void 0)}function p(){f(),h()}return(0,r.Ah)((()=>p())),{isDark:t,displayMode:n,cleanup:p}}var Yt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};function $t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}var qt="object"==typeof Yt&&Yt&&Yt.Object===Object&&Yt,Xt=qt,Zt=Xt,Kt="object"==typeof self&&self&&self.Object===Object&&self,Jt=Zt||Kt||Function("return this")(),Qt=Jt,en=Qt,tn=en.Symbol,nn=tn,rn=nn,an=Object.prototype,on=an.hasOwnProperty,sn=an.toString,ln=rn?rn.toStringTag:void 0;function cn(e){var t=on.call(e,ln),n=e[ln];try{e[ln]=void 0;var r=!0}catch(a){}var i=sn.call(e);return r&&(t?e[ln]=n:delete e[ln]),i}var un=cn,dn=Object.prototype,hn=dn.toString;function fn(e){return hn.call(e)}var pn=fn,mn=nn,vn=un,gn=pn,_n="[object Null]",yn="[object Undefined]",bn=mn?mn.toStringTag:void 0;function xn(e){return null==e?void 0===e?yn:_n:bn&&bn in Object(e)?vn(e):gn(e)}var wn=xn;function Sn(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var Mn=Sn,En=wn,Tn=Mn,An="[object AsyncFunction]",Cn="[object Function]",kn="[object GeneratorFunction]",Rn="[object Proxy]";function Ln(e){if(!Tn(e))return!1;var t=En(e);return t==Cn||t==kn||t==An||t==Rn}var In=Ln,Pn=Array.isArray,Dn=Pn;function On(e){return null!=e&&"object"==typeof e}var Nn=On,Fn=wn,Bn=Dn,Vn=Nn,Un="[object String]";function zn(e){return"string"==typeof e||!Bn(e)&&Vn(e)&&Fn(e)==Un}var Hn=zn,Wn=wn,jn=Nn,Gn="[object Boolean]";function Yn(e){return!0===e||!1===e||jn(e)&&Wn(e)==Gn}var $n=Yn,qn=wn,Xn=Nn,Zn="[object Number]";function Kn(e){return"number"==typeof e||Xn(e)&&qn(e)==Zn}var Jn=Kn,Qn=wn,er=Nn,tr="[object Date]";function nr(e){return er(e)&&Qn(e)==tr}var rr=nr;function ir(e){return function(t){return e(t)}}var ar=ir,or={},sr={get exports(){return or},set exports(e){or=e}};(function(e,t){var n=Xt,r=t&&!t.nodeType&&t,i=r&&e&&!e.nodeType&&e,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=s})(sr,or);var lr=rr,cr=ar,ur=or,dr=ur&&ur.isDate,hr=dr?cr(dr):lr,fr=hr,pr=wn,mr=Nn,vr="[object Symbol]";function gr(e){return"symbol"==typeof e||mr(e)&&pr(e)==vr}var _r=gr,yr=Dn,br=_r,xr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,wr=/^\w*$/;function Sr(e,t){if(yr(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!br(e))||(wr.test(e)||!xr.test(e)||null!=t&&e in Object(t))}var Mr=Sr,Er=Qt,Tr=Er["__core-js_shared__"],Ar=Tr,Cr=Ar,kr=function(){var e=/[^.]+$/.exec(Cr&&Cr.keys&&Cr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Rr(e){return!!kr&&kr in e}var Lr=Rr,Ir=Function.prototype,Pr=Ir.toString;function Dr(e){if(null!=e){try{return Pr.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var Or=Dr,Nr=In,Fr=Lr,Br=Mn,Vr=Or,Ur=/[\\^$.*+?()[\]{}|]/g,zr=/^\[object .+?Constructor\]$/,Hr=Function.prototype,Wr=Object.prototype,jr=Hr.toString,Gr=Wr.hasOwnProperty,Yr=RegExp("^"+jr.call(Gr).replace(Ur,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $r(e){if(!Br(e)||Fr(e))return!1;var t=Nr(e)?Yr:zr;return t.test(Vr(e))}var qr=$r;function Xr(e,t){return null==e?void 0:e[t]}var Zr=Xr,Kr=qr,Jr=Zr;function Qr(e,t){var n=Jr(e,t);return Kr(n)?n:void 0}var ei=Qr,ti=ei,ni=ti(Object,"create"),ri=ni,ii=ri;function ai(){this.__data__=ii?ii(null):{},this.size=0}var oi=ai;function si(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var li=si,ci=ri,ui="__lodash_hash_undefined__",di=Object.prototype,hi=di.hasOwnProperty;function fi(e){var t=this.__data__;if(ci){var n=t[e];return n===ui?void 0:n}return hi.call(t,e)?t[e]:void 0}var pi=fi,mi=ri,vi=Object.prototype,gi=vi.hasOwnProperty;function _i(e){var t=this.__data__;return mi?void 0!==t[e]:gi.call(t,e)}var yi=_i,bi=ri,xi="__lodash_hash_undefined__";function wi(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=bi&&void 0===t?xi:t,this}var Si=wi,Mi=oi,Ei=li,Ti=pi,Ai=yi,Ci=Si;function ki(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}ki.prototype.clear=Mi,ki.prototype["delete"]=Ei,ki.prototype.get=Ti,ki.prototype.has=Ai,ki.prototype.set=Ci;var Ri=ki;function Li(){this.__data__=[],this.size=0}var Ii=Li;function Pi(e,t){return e===t||e!==e&&t!==t}var Di=Pi,Oi=Di;function Ni(e,t){var n=e.length;while(n--)if(Oi(e[n][0],t))return n;return-1}var Fi=Ni,Bi=Fi,Vi=Array.prototype,Ui=Vi.splice;function zi(e){var t=this.__data__,n=Bi(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Ui.call(t,n,1),--this.size,!0}var Hi=zi,Wi=Fi;function ji(e){var t=this.__data__,n=Wi(t,e);return n<0?void 0:t[n][1]}var Gi=ji,Yi=Fi;function $i(e){return Yi(this.__data__,e)>-1}var qi=$i,Xi=Fi;function Zi(e,t){var n=this.__data__,r=Xi(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var Ki=Zi,Ji=Ii,Qi=Hi,ea=Gi,ta=qi,na=Ki;function ra(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}ra.prototype.clear=Ji,ra.prototype["delete"]=Qi,ra.prototype.get=ea,ra.prototype.has=ta,ra.prototype.set=na;var ia=ra,aa=ei,oa=Qt,sa=aa(oa,"Map"),la=sa,ca=Ri,ua=ia,da=la;function ha(){this.size=0,this.__data__={hash:new ca,map:new(da||ua),string:new ca}}var fa=ha;function pa(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}var ma=pa,va=ma;function ga(e,t){var n=e.__data__;return va(t)?n["string"==typeof t?"string":"hash"]:n.map}var _a=ga,ya=_a;function ba(e){var t=ya(this,e)["delete"](e);return this.size-=t?1:0,t}var xa=ba,wa=_a;function Sa(e){return wa(this,e).get(e)}var Ma=Sa,Ea=_a;function Ta(e){return Ea(this,e).has(e)}var Aa=Ta,Ca=_a;function ka(e,t){var n=Ca(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var Ra=ka,La=fa,Ia=xa,Pa=Ma,Da=Aa,Oa=Ra;function Na(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}Na.prototype.clear=La,Na.prototype["delete"]=Ia,Na.prototype.get=Pa,Na.prototype.has=Da,Na.prototype.set=Oa;var Fa=Na,Ba=Fa,Va="Expected a function";function Ua(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(Va);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Ua.Cache||Ba),n}Ua.Cache=Ba;var za=Ua,Ha=za,Wa=500;function ja(e){var t=Ha(e,(function(e){return n.size===Wa&&n.clear(),e})),n=t.cache;return t}var Ga=ja,Ya=Ga,$a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qa=/\\(\\)?/g,Xa=Ya((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace($a,(function(e,n,r,i){t.push(r?i.replace(qa,"$1"):n||e)})),t})),Za=Xa;function Ka(e,t){var n=-1,r=null==e?0:e.length,i=Array(r);while(++n<r)i[n]=t(e[n],n,e);return i}var Ja=Ka,Qa=nn,eo=Ja,to=Dn,no=_r,ro=1/0,io=Qa?Qa.prototype:void 0,ao=io?io.toString:void 0;function oo(e){if("string"==typeof e)return e;if(to(e))return eo(e,oo)+"";if(no(e))return ao?ao.call(e):"";var t=e+"";return"0"==t&&1/e==-ro?"-0":t}var so=oo,lo=so;function co(e){return null==e?"":lo(e)}var uo=co,ho=Dn,fo=Mr,po=Za,mo=uo;function vo(e,t){return ho(e)?e:fo(e,t)?[e]:po(mo(e))}var go=vo,_o=_r,yo=1/0;function bo(e){if("string"==typeof e||_o(e))return e;var t=e+"";return"0"==t&&1/e==-yo?"-0":t}var xo=bo,wo=go,So=xo;function Mo(e,t){t=wo(t,e);var n=0,r=t.length;while(null!=e&&n<r)e=e[So(t[n++])];return n&&n==r?e:void 0}var Eo=Mo,To=Eo;function Ao(e,t,n){var r=null==e?void 0:To(e,t);return void 0===r?n:r}var Co=Ao,ko=ei,Ro=function(){try{var e=ko(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),Lo=Ro,Io=Lo;function Po(e,t,n){"__proto__"==t&&Io?Io(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Do=Po,Oo=Do,No=Di,Fo=Object.prototype,Bo=Fo.hasOwnProperty;function Vo(e,t,n){var r=e[t];Bo.call(e,t)&&No(r,n)&&(void 0!==n||t in e)||Oo(e,t,n)}var Uo=Vo,zo=9007199254740991,Ho=/^(?:0|[1-9]\d*)$/;function Wo(e,t){var n=typeof e;return t=null==t?zo:t,!!t&&("number"==n||"symbol"!=n&&Ho.test(e))&&e>-1&&e%1==0&&e<t}var jo=Wo;function Go(e){return function(t,n,r){var i=-1,a=Object(t),o=r(t),s=o.length;while(s--){var l=o[e?s:++i];if(!1===n(a[l],l,a))break}return t}}var Yo=Go,$o=Yo,qo=$o(),Xo=qo;function Zo(e,t){var n=-1,r=Array(e);while(++n<e)r[n]=t(n);return r}var Ko=Zo,Jo=wn,Qo=Nn,es="[object Arguments]";function ts(e){return Qo(e)&&Jo(e)==es}var ns=ts,rs=ns,is=Nn,as=Object.prototype,os=as.hasOwnProperty,ss=as.propertyIsEnumerable,ls=rs(function(){return arguments}())?rs:function(e){return is(e)&&os.call(e,"callee")&&!ss.call(e,"callee")},cs=ls,us={},ds={get exports(){return us},set exports(e){us=e}};function hs(){return!1}var fs=hs;(function(e,t){var n=Qt,r=fs,i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||r;e.exports=c})(ds,us);var ps=9007199254740991;function ms(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=ps}var vs=ms,gs=wn,_s=vs,ys=Nn,bs="[object Arguments]",xs="[object Array]",ws="[object Boolean]",Ss="[object Date]",Ms="[object Error]",Es="[object Function]",Ts="[object Map]",As="[object Number]",Cs="[object Object]",ks="[object RegExp]",Rs="[object Set]",Ls="[object String]",Is="[object WeakMap]",Ps="[object ArrayBuffer]",Ds="[object DataView]",Os="[object Float32Array]",Ns="[object Float64Array]",Fs="[object Int8Array]",Bs="[object Int16Array]",Vs="[object Int32Array]",Us="[object Uint8Array]",zs="[object Uint8ClampedArray]",Hs="[object Uint16Array]",Ws="[object Uint32Array]",js={};function Gs(e){return ys(e)&&_s(e.length)&&!!js[gs(e)]}js[Os]=js[Ns]=js[Fs]=js[Bs]=js[Vs]=js[Us]=js[zs]=js[Hs]=js[Ws]=!0,js[bs]=js[xs]=js[Ps]=js[ws]=js[Ds]=js[Ss]=js[Ms]=js[Es]=js[Ts]=js[As]=js[Cs]=js[ks]=js[Rs]=js[Ls]=js[Is]=!1;var Ys=Gs,$s=Ys,qs=ar,Xs=or,Zs=Xs&&Xs.isTypedArray,Ks=Zs?qs(Zs):$s,Js=Ks,Qs=Ko,el=cs,tl=Dn,nl=us,rl=jo,il=Js,al=Object.prototype,ol=al.hasOwnProperty;function sl(e,t){var n=tl(e),r=!n&&el(e),i=!n&&!r&&nl(e),a=!n&&!r&&!i&&il(e),o=n||r||i||a,s=o?Qs(e.length,String):[],l=s.length;for(var c in e)!t&&!ol.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||rl(c,l))||s.push(c);return s}var ll=sl,cl=Object.prototype;function ul(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||cl;return e===n}var dl=ul;function hl(e,t){return function(n){return e(t(n))}}var fl=hl,pl=fl,ml=pl(Object.keys,Object),vl=ml,gl=dl,_l=vl,yl=Object.prototype,bl=yl.hasOwnProperty;function xl(e){if(!gl(e))return _l(e);var t=[];for(var n in Object(e))bl.call(e,n)&&"constructor"!=n&&t.push(n);return t}var wl=xl,Sl=In,Ml=vs;function El(e){return null!=e&&Ml(e.length)&&!Sl(e)}var Tl=El,Al=ll,Cl=wl,kl=Tl;function Rl(e){return kl(e)?Al(e):Cl(e)}var Ll=Rl,Il=Xo,Pl=Ll;function Dl(e,t){return e&&Il(e,t,Pl)}var Ol=Dl,Nl=ia;function Fl(){this.__data__=new Nl,this.size=0}var Bl=Fl;function Vl(e){var t=this.__data__,n=t["delete"](e);return this.size=t.size,n}var Ul=Vl;function zl(e){return this.__data__.get(e)}var Hl=zl;function Wl(e){return this.__data__.has(e)}var jl=Wl,Gl=ia,Yl=la,$l=Fa,ql=200;function Xl(e,t){var n=this.__data__;if(n instanceof Gl){var r=n.__data__;if(!Yl||r.length<ql-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new $l(r)}return n.set(e,t),this.size=n.size,this}var Zl=Xl,Kl=ia,Jl=Bl,Ql=Ul,ec=Hl,tc=jl,nc=Zl;function rc(e){var t=this.__data__=new Kl(e);this.size=t.size}rc.prototype.clear=Jl,rc.prototype["delete"]=Ql,rc.prototype.get=ec,rc.prototype.has=tc,rc.prototype.set=nc;var ic=rc,ac="__lodash_hash_undefined__";function oc(e){return this.__data__.set(e,ac),this}var sc=oc;function lc(e){return this.__data__.has(e)}var cc=lc,uc=Fa,dc=sc,hc=cc;function fc(e){var t=-1,n=null==e?0:e.length;this.__data__=new uc;while(++t<n)this.add(e[t])}fc.prototype.add=fc.prototype.push=dc,fc.prototype.has=hc;var pc=fc;function mc(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(t(e[n],n,e))return!0;return!1}var vc=mc;function gc(e,t){return e.has(t)}var _c=gc,yc=pc,bc=vc,xc=_c,wc=1,Sc=2;function Mc(e,t,n,r,i,a){var o=n&wc,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var c=a.get(e),u=a.get(t);if(c&&u)return c==t&&u==e;var d=-1,h=!0,f=n&Sc?new yc:void 0;a.set(e,t),a.set(t,e);while(++d<s){var p=e[d],m=t[d];if(r)var v=o?r(m,p,d,t,e,a):r(p,m,d,e,t,a);if(void 0!==v){if(v)continue;h=!1;break}if(f){if(!bc(t,(function(e,t){if(!xc(f,t)&&(p===e||i(p,e,n,r,a)))return f.push(t)}))){h=!1;break}}else if(p!==m&&!i(p,m,n,r,a)){h=!1;break}}return a["delete"](e),a["delete"](t),h}var Ec=Mc,Tc=Qt,Ac=Tc.Uint8Array,Cc=Ac;function kc(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}var Rc=kc;function Lc(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var Ic=Lc,Pc=nn,Dc=Cc,Oc=Di,Nc=Ec,Fc=Rc,Bc=Ic,Vc=1,Uc=2,zc="[object Boolean]",Hc="[object Date]",Wc="[object Error]",jc="[object Map]",Gc="[object Number]",Yc="[object RegExp]",$c="[object Set]",qc="[object String]",Xc="[object Symbol]",Zc="[object ArrayBuffer]",Kc="[object DataView]",Jc=Pc?Pc.prototype:void 0,Qc=Jc?Jc.valueOf:void 0;function eu(e,t,n,r,i,a,o){switch(n){case Kc:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Zc:return!(e.byteLength!=t.byteLength||!a(new Dc(e),new Dc(t)));case zc:case Hc:case Gc:return Oc(+e,+t);case Wc:return e.name==t.name&&e.message==t.message;case Yc:case qc:return e==t+"";case jc:var s=Fc;case $c:var l=r&Vc;if(s||(s=Bc),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;r|=Uc,o.set(e,t);var u=Nc(s(e),s(t),r,i,a,o);return o["delete"](e),u;case Xc:if(Qc)return Qc.call(e)==Qc.call(t)}return!1}var tu=eu;function nu(e,t){var n=-1,r=t.length,i=e.length;while(++n<r)e[i+n]=t[n];return e}var ru=nu,iu=ru,au=Dn;function ou(e,t,n){var r=t(e);return au(e)?r:iu(r,n(e))}var su=ou;function lu(e,t){var n=-1,r=null==e?0:e.length,i=0,a=[];while(++n<r){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}var cu=lu;function uu(){return[]}var du=uu,hu=cu,fu=du,pu=Object.prototype,mu=pu.propertyIsEnumerable,vu=Object.getOwnPropertySymbols,gu=vu?function(e){return null==e?[]:(e=Object(e),hu(vu(e),(function(t){return mu.call(e,t)})))}:fu,_u=gu,yu=su,bu=_u,xu=Ll;function wu(e){return yu(e,xu,bu)}var Su=wu,Mu=Su,Eu=1,Tu=Object.prototype,Au=Tu.hasOwnProperty;function Cu(e,t,n,r,i,a){var o=n&Eu,s=Mu(e),l=s.length,c=Mu(t),u=c.length;if(l!=u&&!o)return!1;var d=l;while(d--){var h=s[d];if(!(o?h in t:Au.call(t,h)))return!1}var f=a.get(e),p=a.get(t);if(f&&p)return f==t&&p==e;var m=!0;a.set(e,t),a.set(t,e);var v=o;while(++d<l){h=s[d];var g=e[h],_=t[h];if(r)var y=o?r(_,g,h,t,e,a):r(g,_,h,e,t,a);if(!(void 0===y?g===_||i(g,_,n,r,a):y)){m=!1;break}v||(v="constructor"==h)}if(m&&!v){var b=e.constructor,x=t.constructor;b==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x||(m=!1)}return a["delete"](e),a["delete"](t),m}var ku=Cu,Ru=ei,Lu=Qt,Iu=Ru(Lu,"DataView"),Pu=Iu,Du=ei,Ou=Qt,Nu=Du(Ou,"Promise"),Fu=Nu,Bu=ei,Vu=Qt,Uu=Bu(Vu,"Set"),zu=Uu,Hu=ei,Wu=Qt,ju=Hu(Wu,"WeakMap"),Gu=ju,Yu=Pu,$u=la,qu=Fu,Xu=zu,Zu=Gu,Ku=wn,Ju=Or,Qu="[object Map]",ed="[object Object]",td="[object Promise]",nd="[object Set]",rd="[object WeakMap]",id="[object DataView]",ad=Ju(Yu),od=Ju($u),sd=Ju(qu),ld=Ju(Xu),cd=Ju(Zu),ud=Ku;(Yu&&ud(new Yu(new ArrayBuffer(1)))!=id||$u&&ud(new $u)!=Qu||qu&&ud(qu.resolve())!=td||Xu&&ud(new Xu)!=nd||Zu&&ud(new Zu)!=rd)&&(ud=function(e){var t=Ku(e),n=t==ed?e.constructor:void 0,r=n?Ju(n):"";if(r)switch(r){case ad:return id;case od:return Qu;case sd:return td;case ld:return nd;case cd:return rd}return t});var dd=ud,hd=ic,fd=Ec,pd=tu,md=ku,vd=dd,gd=Dn,_d=us,yd=Js,bd=1,xd="[object Arguments]",wd="[object Array]",Sd="[object Object]",Md=Object.prototype,Ed=Md.hasOwnProperty;function Td(e,t,n,r,i,a){var o=gd(e),s=gd(t),l=o?wd:vd(e),c=s?wd:vd(t);l=l==xd?Sd:l,c=c==xd?Sd:c;var u=l==Sd,d=c==Sd,h=l==c;if(h&&_d(e)){if(!_d(t))return!1;o=!0,u=!1}if(h&&!u)return a||(a=new hd),o||yd(e)?fd(e,t,n,r,i,a):pd(e,t,l,n,r,i,a);if(!(n&bd)){var f=u&&Ed.call(e,"__wrapped__"),p=d&&Ed.call(t,"__wrapped__");if(f||p){var m=f?e.value():e,v=p?t.value():t;return a||(a=new hd),i(m,v,n,r,a)}}return!!h&&(a||(a=new hd),md(e,t,n,r,i,a))}var Ad=Td,Cd=Ad,kd=Nn;function Rd(e,t,n,r,i){return e===t||(null==e||null==t||!kd(e)&&!kd(t)?e!==e&&t!==t:Cd(e,t,n,r,Rd,i))}var Ld=Rd,Id=ic,Pd=Ld,Dd=1,Od=2;function Nd(e,t,n,r){var i=n.length,a=i,o=!r;if(null==e)return!a;e=Object(e);while(i--){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}while(++i<a){s=n[i];var l=s[0],c=e[l],u=s[1];if(o&&s[2]){if(void 0===c&&!(l in e))return!1}else{var d=new Id;if(r)var h=r(c,u,l,e,t,d);if(!(void 0===h?Pd(u,c,Dd|Od,r,d):h))return!1}}return!0}var Fd=Nd,Bd=Mn;function Vd(e){return e===e&&!Bd(e)}var Ud=Vd,zd=Ud,Hd=Ll;function Wd(e){var t=Hd(e),n=t.length;while(n--){var r=t[n],i=e[r];t[n]=[r,i,zd(i)]}return t}var jd=Wd;function Gd(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}var Yd=Gd,$d=Fd,qd=jd,Xd=Yd;function Zd(e){var t=qd(e);return 1==t.length&&t[0][2]?Xd(t[0][0],t[0][1]):function(n){return n===e||$d(n,e,t)}}var Kd=Zd;function Jd(e,t){return null!=e&&t in Object(e)}var Qd=Jd,eh=go,th=cs,nh=Dn,rh=jo,ih=vs,ah=xo;function oh(e,t,n){t=eh(t,e);var r=-1,i=t.length,a=!1;while(++r<i){var o=ah(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:(i=null==e?0:e.length,!!i&&ih(i)&&rh(o,i)&&(nh(e)||th(e)))}var sh=oh,lh=Qd,ch=sh;function uh(e,t){return null!=e&&ch(e,t,lh)}var dh=uh,hh=Ld,fh=Co,ph=dh,mh=Mr,vh=Ud,gh=Yd,_h=xo,yh=1,bh=2;function xh(e,t){return mh(e)&&vh(t)?gh(_h(e),t):function(n){var r=fh(n,e);return void 0===r&&r===t?ph(n,e):hh(t,r,yh|bh)}}var wh=xh;function Sh(e){return e}var Mh=Sh;function Eh(e){return function(t){return null==t?void 0:t[e]}}var Th=Eh,Ah=Eo;function Ch(e){return function(t){return Ah(t,e)}}var kh=Ch,Rh=Th,Lh=kh,Ih=Mr,Ph=xo;function Dh(e){return Ih(e)?Rh(Ph(e)):Lh(e)}var Oh=Dh,Nh=Kd,Fh=wh,Bh=Mh,Vh=Dn,Uh=Oh;function zh(e){return"function"==typeof e?e:null==e?Bh:"object"==typeof e?Vh(e)?Fh(e[0],e[1]):Nh(e):Uh(e)}var Hh=zh,Wh=Do,jh=Ol,Gh=Hh;function Yh(e,t){var n={};return t=Gh(t),jh(e,(function(e,r,i){Wh(n,r,t(e,r,i))})),n}var $h=Yh;function qh(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Xh=qh,Zh=Xh,Kh=Math.max;function Jh(e,t,n){return t=Kh(void 0===t?e.length-1:t,0),function(){var r=arguments,i=-1,a=Kh(r.length-t,0),o=Array(a);while(++i<a)o[i]=r[t+i];i=-1;var s=Array(t+1);while(++i<t)s[i]=r[i];return s[t]=n(o),Zh(e,this,s)}}var Qh=Jh;function ef(e){return function(){return e}}var tf=ef,nf=tf,rf=Lo,af=Mh,of=rf?function(e,t){return rf(e,"toString",{configurable:!0,enumerable:!1,value:nf(t),writable:!0})}:af,sf=of,lf=800,cf=16,uf=Date.now;function df(e){var t=0,n=0;return function(){var r=uf(),i=cf-(r-n);if(n=r,i>0){if(++t>=lf)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var hf=df,ff=sf,pf=hf,mf=pf(ff),vf=mf,gf=Mh,_f=Qh,yf=vf;function bf(e,t){return yf(_f(e,t,gf),e+"")}var xf=bf,wf=Di,Sf=Tl,Mf=jo,Ef=Mn;function Tf(e,t,n){if(!Ef(n))return!1;var r=typeof t;return!!("number"==r?Sf(n)&&Mf(t,n.length):"string"==r&&t in n)&&wf(n[t],e)}var Af=Tf;function Cf(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}var kf=Cf,Rf=Mn,Lf=dl,If=kf,Pf=Object.prototype,Df=Pf.hasOwnProperty;function Of(e){if(!Rf(e))return If(e);var t=Lf(e),n=[];for(var r in e)("constructor"!=r||!t&&Df.call(e,r))&&n.push(r);return n}var Nf=Of,Ff=ll,Bf=Nf,Vf=Tl;function Uf(e){return Vf(e)?Ff(e,!0):Bf(e)}var zf=Uf,Hf=xf,Wf=Di,jf=Af,Gf=zf,Yf=Object.prototype,$f=Yf.hasOwnProperty,qf=Hf((function(e,t){e=Object(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;i&&jf(t[0],t[1],i)&&(r=1);while(++n<r){var a=t[n],o=Gf(a),s=-1,l=o.length;while(++s<l){var c=o[s],u=e[c];(void 0===u||Wf(u,Yf[c])&&!$f.call(e,c))&&(e[c]=a[c])}}return e})),Xf=qf,Zf=Do,Kf=Di;function Jf(e,t,n){(void 0!==n&&!Kf(e[t],n)||void 0===n&&!(t in e))&&Zf(e,t,n)}var Qf=Jf,ep={},tp={get exports(){return ep},set exports(e){ep=e}};(function(e,t){var n=Qt,r=t&&!t.nodeType&&t,i=r&&e&&!e.nodeType&&e,a=i&&i.exports===r,o=a?n.Buffer:void 0,s=o?o.allocUnsafe:void 0;function l(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}e.exports=l})(tp,ep);var np=Cc;function rp(e){var t=new e.constructor(e.byteLength);return new np(t).set(new np(e)),t}var ip=rp,ap=ip;function op(e,t){var n=t?ap(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var sp=op;function lp(e,t){var n=-1,r=e.length;t||(t=Array(r));while(++n<r)t[n]=e[n];return t}var cp=lp,up=Mn,dp=Object.create,hp=function(){function e(){}return function(t){if(!up(t))return{};if(dp)return dp(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),fp=hp,pp=fl,mp=pp(Object.getPrototypeOf,Object),vp=mp,gp=fp,_p=vp,yp=dl;function bp(e){return"function"!=typeof e.constructor||yp(e)?{}:gp(_p(e))}var xp=bp,wp=Tl,Sp=Nn;function Mp(e){return Sp(e)&&wp(e)}var Ep=Mp,Tp=wn,Ap=vp,Cp=Nn,kp="[object Object]",Rp=Function.prototype,Lp=Object.prototype,Ip=Rp.toString,Pp=Lp.hasOwnProperty,Dp=Ip.call(Object);function Op(e){if(!Cp(e)||Tp(e)!=kp)return!1;var t=Ap(e);if(null===t)return!0;var n=Pp.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ip.call(n)==Dp}var Np=Op;function Fp(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Bp=Fp,Vp=Uo,Up=Do;function zp(e,t,n,r){var i=!n;n||(n={});var a=-1,o=t.length;while(++a<o){var s=t[a],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),i?Up(n,s,l):Vp(n,s,l)}return n}var Hp=zp,Wp=Hp,jp=zf;function Gp(e){return Wp(e,jp(e))}var Yp=Gp,$p=Qf,qp=ep,Xp=sp,Zp=cp,Kp=xp,Jp=cs,Qp=Dn,em=Ep,tm=us,nm=In,rm=Mn,im=Np,am=Js,om=Bp,sm=Yp;function lm(e,t,n,r,i,a,o){var s=om(e,n),l=om(t,n),c=o.get(l);if(c)$p(e,n,c);else{var u=a?a(s,l,n+"",e,t,o):void 0,d=void 0===u;if(d){var h=Qp(l),f=!h&&tm(l),p=!h&&!f&&am(l);u=l,h||f||p?Qp(s)?u=s:em(s)?u=Zp(s):f?(d=!1,u=qp(l,!0)):p?(d=!1,u=Xp(l,!0)):u=[]:im(l)||Jp(l)?(u=s,Jp(s)?u=sm(s):rm(s)&&!nm(s)||(u=Kp(l))):d=!1}d&&(o.set(l,u),i(u,l,r,a,o),o["delete"](l)),$p(e,n,u)}}var cm=lm,um=ic,dm=Qf,hm=Xo,fm=cm,pm=Mn,mm=zf,vm=Bp;function gm(e,t,n,r,i){e!==t&&hm(t,(function(a,o){if(i||(i=new um),pm(a))fm(e,t,o,n,gm,r,i);else{var s=r?r(vm(e,o),a,o+"",e,t,i):void 0;void 0===s&&(s=a),dm(e,o,s)}}),mm)}var _m=gm,ym=_m,bm=Mn;function xm(e,t,n,r,i,a){return bm(e)&&bm(t)&&(a.set(t,e),ym(e,t,void 0,xm,a),a["delete"](t)),e}var wm=xm,Sm=xf,Mm=Af;function Em(e){return Sm((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;a=e.length>3&&"function"==typeof a?(i--,a):void 0,o&&Mm(n[0],n[1],o)&&(a=i<3?void 0:a,i=1),t=Object(t);while(++r<i){var s=n[r];s&&e(t,s,r,a)}return t}))}var Tm=Em,Am=_m,Cm=Tm,km=Cm((function(e,t,n,r){Am(e,t,n,r)})),Rm=km,Lm=Xh,Im=xf,Pm=wm,Dm=Rm,Om=Im((function(e){return e.push(void 0,Pm),Lm(Dm,void 0,e)})),Nm=Om,Fm=Object.prototype,Bm=Fm.hasOwnProperty;function Vm(e,t){return null!=e&&Bm.call(e,t)}var Um=Vm,zm=Um,Hm=sh;function Wm(e,t){return null!=e&&Hm(e,t,zm)}var jm=Wm,Gm=Tl;function Ym(e,t){return function(n,r){if(null==n)return n;if(!Gm(n))return e(n,r);var i=n.length,a=t?i:-1,o=Object(n);while(t?a--:++a<i)if(!1===r(o[a],a,o))break;return n}}var $m=Ym,qm=Ol,Xm=$m,Zm=Xm(qm),Km=Zm;function Jm(e){return e&&e.length?e[0]:void 0}var Qm=Jm;function ev(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var tv=ev,nv=Km;function rv(e,t){var n;return nv(e,(function(e,r,i){return n=t(e,r,i),!n})),!!n}var iv=rv,av=vc,ov=Hh,sv=iv,lv=Dn,cv=Af;function uv(e,t,n){var r=lv(e)?av:sv;return n&&cv(e,t,n)&&(t=void 0),r(e,ov(t))}var dv=uv;const hv=e=>Object.prototype.toString.call(e).slice(8,-1),fv=e=>fr(e)&&!isNaN(e.getTime()),pv=e=>"Object"===hv(e),mv=jm,vv=(e,t)=>dv(t,(t=>jm(e,t))),gv=(e,t,n="0")=>{e=null!==e&&void 0!==e?String(e):"",t=t||2;while(e.length<t)e=`${n}${e}`;return e},_v=e=>Array.isArray(e),yv=e=>_v(e)&&e.length>0,bv=e=>null==e?e??null:document&&Hn(e)?document.querySelector(e):e.$el??e,xv=(e,t,n,r)=>{e.removeEventListener(t,n,r)},wv=(e,t,n,r)=>(e.addEventListener(t,n,r),()=>xv(e,t,n,r)),Sv=(e,t)=>!!e&&!!t&&(e===t||e.contains(t)),Mv=(e,t)=>{" "!==e.key&&"Enter"!==e.key||(t(e),e.preventDefault())},Ev=(e,...t)=>{const n={};let r;for(r in e)t.includes(r)||(n[r]=e[r]);return n},Tv=(e,t)=>{const n={};return t.forEach((t=>{t in e&&(n[t]=e[t])})),n};function Av(e,t,n){return Math.min(Math.max(e,t),n)}const Cv=()=>{function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return`${e()+e()}-${e()}-${e()}-${e()}-${e()}${e()}${e()}`},kv=["base","start","end","startEnd"],Rv=["class","wrapperClass","contentClass","style","contentStyle","color","fillMode"],Lv={base:{},start:{},end:{}};function Iv(e,t,n=Lv){let r=e,i={};!0===t||Hn(t)?(r=Hn(t)?t:r,i={...n}):pv(t)&&(i=vv(t,kv)?{...t}:{base:{...t},start:{...t},end:{...t}});const a=Nm(i,{start:i.startEnd,end:i.startEnd},n);return Object.entries(a).forEach((([e,t])=>{let n=r;!0===t||Hn(t)?(n=Hn(t)?t:n,a[e]={color:n}):pv(t)&&(vv(t,Rv)?a[e]={...t}:a[e]={}),Nm(a[e],{color:n})})),a}class Pv{constructor(){mt(this,"type","highlight")}normalizeConfig(e,t){return Iv(e,t,{base:{fillMode:"light"},start:{fillMode:"solid"},end:{fillMode:"solid"}})}prepareRender(e){e.highlights=[],e.content||(e.content=[])}render({data:e,onStart:t,onEnd:n},r){const{key:i,highlight:a}=e;if(!a)return;const{highlights:o}=r,{base:s,start:l,end:c}=a;t&&n?o.push({...l,key:i,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${l.color}`,class:[`vc-highlight vc-highlight-bg-${l.fillMode}`,l.class],contentClass:[`vc-attr vc-highlight-content-${l.fillMode} vc-${l.color}`,l.contentClass]}):t?(o.push({...s,key:`${i}-base`,wrapperClass:`vc-day-layer vc-day-box-right-center vc-attr vc-${s.color}`,class:[`vc-highlight vc-highlight-base-start vc-highlight-bg-${s.fillMode}`,s.class]}),o.push({...l,key:i,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${l.color}`,class:[`vc-highlight vc-highlight-bg-${l.fillMode}`,l.class],contentClass:[`vc-attr vc-highlight-content-${l.fillMode} vc-${l.color}`,l.contentClass]})):n?(o.push({...s,key:`${i}-base`,wrapperClass:`vc-day-layer vc-day-box-left-center vc-attr vc-${s.color}`,class:[`vc-highlight vc-highlight-base-end vc-highlight-bg-${s.fillMode}`,s.class]}),o.push({...c,key:i,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${c.color}`,class:[`vc-highlight vc-highlight-bg-${c.fillMode}`,c.class],contentClass:[`vc-attr vc-highlight-content-${c.fillMode} vc-${c.color}`,c.contentClass]})):o.push({...s,key:`${i}-middle`,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${s.color}`,class:[`vc-highlight vc-highlight-base-middle vc-highlight-bg-${s.fillMode}`,s.class],contentClass:[`vc-attr vc-highlight-content-${s.fillMode} vc-${s.color}`,s.contentClass]})}}class Dv{constructor(e,t){mt(this,"type",""),mt(this,"collectionType",""),this.type=e,this.collectionType=t}normalizeConfig(e,t){return Iv(e,t)}prepareRender(e){e[this.collectionType]=[]}render({data:e,onStart:t,onEnd:n},r){const{key:i}=e,a=e[this.type];if(!i||!a)return;const o=r[this.collectionType],{base:s,start:l,end:c}=a;t?o.push({...l,key:i,class:[`vc-${this.type} vc-${this.type}-start vc-${l.color} vc-attr`,l.class]}):n?o.push({...c,key:i,class:[`vc-${this.type} vc-${this.type}-end vc-${c.color} vc-attr`,c.class]}):o.push({...s,key:i,class:[`vc-${this.type} vc-${this.type}-base vc-${s.color} vc-attr`,s.class]})}}class Ov extends Dv{constructor(){super("content","content")}normalizeConfig(e,t){return Iv("base",t)}}class Nv extends Dv{constructor(){super("dot","dots")}}class Fv extends Dv{constructor(){super("bar","bars")}}class Bv{constructor(e){mt(this,"color"),mt(this,"renderers",[new Ov,new Pv,new Nv,new Fv]),this.color=e}normalizeGlyphs(e){this.renderers.forEach((t=>{const n=t.type;null!=e[n]&&(e[n]=t.normalizeConfig(this.color,e[n]))}))}prepareRender(e={}){return this.renderers.forEach((t=>{t.prepareRender(e)})),e}render(e,t){this.renderers.forEach((n=>{n.render(e,t)}))}}const Vv=300,Uv=60,zv=80,Hv={maxSwipeTime:Vv,minHorizontalSwipeDistance:Uv,maxVerticalSwipeDistance:zv},Wv="MMMM YYYY",jv="W",Gv="MMM",Yv="h A",$v=["L","YYYY-MM-DD","YYYY/MM/DD"],qv=["L h:mm A","YYYY-MM-DD h:mm A","YYYY/MM/DD h:mm A"],Xv=["L HH:mm","YYYY-MM-DD HH:mm","YYYY/MM/DD HH:mm"],Zv=["h:mm A"],Kv=["HH:mm"],Jv="WWW, MMM D, YYYY",Qv=["L","YYYY-MM-DD","YYYY/MM/DD"],eg="iso",tg="YYYY-MM-DDTHH:mm:ss.SSSZ",ng={title:Wv,weekdays:jv,navMonths:Gv,hours:Yv,input:$v,inputDateTime:qv,inputDateTime24hr:Xv,inputTime:Zv,inputTime24hr:Kv,dayPopover:Jv,data:Qv,model:eg,iso:tg},rg={ar:{dow:7,L:"D/‏M/‏YYYY"},bg:{dow:2,L:"D.MM.YYYY"},ca:{dow:2,L:"DD/MM/YYYY"},"zh-CN":{dow:2,L:"YYYY/MM/DD"},"zh-TW":{dow:1,L:"YYYY/MM/DD"},hr:{dow:2,L:"DD.MM.YYYY"},cs:{dow:2,L:"DD.MM.YYYY"},da:{dow:2,L:"DD.MM.YYYY"},nl:{dow:2,L:"DD-MM-YYYY"},"en-US":{dow:1,L:"MM/DD/YYYY"},"en-AU":{dow:2,L:"DD/MM/YYYY"},"en-CA":{dow:1,L:"YYYY-MM-DD"},"en-GB":{dow:2,L:"DD/MM/YYYY"},"en-IE":{dow:2,L:"DD-MM-YYYY"},"en-NZ":{dow:2,L:"DD/MM/YYYY"},"en-ZA":{dow:1,L:"YYYY/MM/DD"},eo:{dow:2,L:"YYYY-MM-DD"},et:{dow:2,L:"DD.MM.YYYY"},fi:{dow:2,L:"DD.MM.YYYY"},fr:{dow:2,L:"DD/MM/YYYY"},"fr-CA":{dow:1,L:"YYYY-MM-DD"},"fr-CH":{dow:2,L:"DD.MM.YYYY"},de:{dow:2,L:"DD.MM.YYYY"},he:{dow:1,L:"DD.MM.YYYY"},id:{dow:2,L:"DD/MM/YYYY"},it:{dow:2,L:"DD/MM/YYYY"},ja:{dow:1,L:"YYYY年M月D日"},ko:{dow:1,L:"YYYY.MM.DD"},lv:{dow:2,L:"DD.MM.YYYY"},lt:{dow:2,L:"DD.MM.YYYY"},mk:{dow:2,L:"D.MM.YYYY"},nb:{dow:2,L:"D. MMMM YYYY"},nn:{dow:2,L:"D. MMMM YYYY"},pl:{dow:2,L:"DD.MM.YYYY"},pt:{dow:2,L:"DD/MM/YYYY"},ro:{dow:2,L:"DD.MM.YYYY"},ru:{dow:2,L:"DD.MM.YYYY"},sk:{dow:2,L:"DD.MM.YYYY"},"es-ES":{dow:2,L:"DD/MM/YYYY"},"es-MX":{dow:2,L:"DD/MM/YYYY"},sv:{dow:2,L:"YYYY-MM-DD"},th:{dow:1,L:"DD/MM/YYYY"},tr:{dow:2,L:"DD.MM.YYYY"},uk:{dow:2,L:"DD.MM.YYYY"},vi:{dow:2,L:"DD/MM/YYYY"}};rg.en=rg["en-US"],rg.es=rg["es-ES"],rg.no=rg.nb,rg.zh=rg["zh-CN"];const ig=Object.entries(rg).reduce(((e,[t,{dow:n,L:r}])=>(e[t]={id:t,firstDayOfWeek:n,masks:{L:r}},e)),{}),ag={componentPrefix:"V",color:"blue",isDark:!1,navVisibility:"click",titlePosition:"center",transition:"slide-h",touch:Hv,masks:ng,locales:ig,datePicker:{updateOnInput:!0,inputDebounce:1e3,popover:{visibility:"hover-focus",placement:"bottom-start",isInteractive:!0}}},og=(0,i.qj)(ag),sg=(0,r.Fl)((()=>$h(og.locales,(e=>(e.masks=Nm(e.masks,og.masks),e))))),lg=e=>"undefined"!==typeof window&&mv(window.__vcalendar__,e)?Co(window.__vcalendar__,e):Co(og,e),cg=(e,t)=>(e.config.globalProperties.$VCalendar=og,Object.assign(og,Nm(t,og)));var ug={},dg={get exports(){return ug},set exports(e){ug=e}},hg={},fg={get exports(){return hg},set exports(e){hg=e}};(function(e,t){function n(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default})(fg,hg);var pg={},mg={get exports(){return pg},set exports(e){pg=e}};(function(e,t){function n(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default})(mg,pg);var vg={},gg={get exports(){return vg},set exports(e){vg=e}},_g={},yg={get exports(){return _g},set exports(e){_g=e}};(function(e,t){function n(e,t){var n=s(t);return n.formatToParts?i(n,e):a(n,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r={year:0,month:1,day:2,hour:3,minute:4,second:5};function i(e,t){try{for(var n=e.formatToParts(t),i=[],a=0;a<n.length;a++){var o=r[n[a].type];o>=0&&(i[o]=parseInt(n[a].value,10))}return i}catch(s){if(s instanceof RangeError)return[NaN];throw s}}function a(e,t){var n=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var o={};function s(e){if(!o[e]){var t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n="06/25/2014, 00:00:00"===t||"‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00"===t;o[e]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return o[e]}e.exports=t.default})(yg,_g);var bg={},xg={get exports(){return bg},set exports(e){bg=e}};(function(e,t){function n(e,t,n,r,i,a,o){var s=new Date(0);return s.setUTCFullYear(e,t,n),s.setUTCHours(r,i,a,o),s}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default})(xg,bg),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var n=i(_g),r=i(bg);function i(e){return e&&e.__esModule?e:{default:e}}var a=36e5,o=6e4,s={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function l(e,t,n){var r,i,l;if(!e)return 0;if(r=s.timezoneZ.exec(e),r)return 0;if(r=s.timezoneHH.exec(e),r)return l=parseInt(r[1],10),h(l)?-l*a:NaN;if(r=s.timezoneHHMM.exec(e),r){l=parseInt(r[1],10);var f=parseInt(r[2],10);return h(l,f)?(i=Math.abs(l)*a+f*o,l>0?-i:i):NaN}if(p(e)){t=new Date(t||Date.now());var m=n?t:c(t),v=u(m,e),g=n?v:d(t,v,e);return-g}return NaN}function c(e){return(0,r.default)(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function u(e,t){var i=(0,n.default)(e,t),a=(0,r.default)(i[0],i[1]-1,i[2],i[3]%24,i[4],i[5],0).getTime(),o=e.getTime(),s=o%1e3;return o-=s>=0?s:1e3+s,a-o}function d(e,t,n){var r=e.getTime(),i=r-t,a=u(new Date(i),n);if(t===a)return t;i-=a-t;var o=u(new Date(i),n);return a===o?a:Math.max(a,o)}function h(e,t){return-23<=e&&e<=23&&(null==t||0<=t&&t<=59)}var f={};function p(e){if(f[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),f[e]=!0,!0}catch(t){return!1}}e.exports=t.default}(gg,vg);var wg={},Sg={get exports(){return wg},set exports(e){wg=e}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,r=n;t.default=r,e.exports=t.default})(Sg,wg),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var n=o(hg),r=o(pg),i=o(vg),a=o(wg);function o(e){return e&&e.__esModule?e:{default:e}}var s=36e5,l=6e4,c=2,u={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:a.default};function d(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(null===e)return new Date(NaN);var a=t||{},o=null==a.additionalDigits?c:(0,n.default)(a.additionalDigits);if(2!==o&&1!==o&&0!==o)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e))return new Date(e.getTime());if("number"===typeof e||"[object Number]"===Object.prototype.toString.call(e))return new Date(e);if("string"!==typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var s=h(e),l=f(s.date,o),u=l.year,d=l.restDateString,v=p(d,u);if(isNaN(v))return new Date(NaN);if(v){var g,_=v.getTime(),y=0;if(s.time&&(y=m(s.time),isNaN(y)))return new Date(NaN);if(s.timeZone||a.timeZone){if(g=(0,i.default)(s.timeZone||a.timeZone,new Date(_+y)),isNaN(g))return new Date(NaN)}else g=(0,r.default)(new Date(_+y)),g=(0,r.default)(new Date(_+y+g));return new Date(_+y+g)}return new Date(NaN)}function h(e){var t,n={},r=u.dateTimePattern.exec(e);if(r?(n.date=r[1],t=r[3]):(r=u.datePattern.exec(e),r?(n.date=r[1],t=r[2]):(n.date=null,t=e)),t){var i=u.timeZone.exec(t);i?(n.time=t.replace(i[1],""),n.timeZone=i[1].trim()):n.time=t}return n}function f(e,t){var n,r=u.YYY[t],i=u.YYYYY[t];if(n=u.YYYY.exec(e)||i.exec(e),n){var a=n[1];return{year:parseInt(a,10),restDateString:e.slice(a.length)}}if(n=u.YY.exec(e)||r.exec(e),n){var o=n[1];return{year:100*parseInt(o,10),restDateString:e.slice(o.length)}}return{year:null}}function p(e,t){if(null===t)return null;var n,r,i,a;if(0===e.length)return r=new Date(0),r.setUTCFullYear(t),r;if(n=u.MM.exec(e),n)return r=new Date(0),i=parseInt(n[1],10)-1,b(t,i)?(r.setUTCFullYear(t,i),r):new Date(NaN);if(n=u.DDD.exec(e),n){r=new Date(0);var o=parseInt(n[1],10);return x(t,o)?(r.setUTCFullYear(t,0,o),r):new Date(NaN)}if(n=u.MMDD.exec(e),n){r=new Date(0),i=parseInt(n[1],10)-1;var s=parseInt(n[2],10);return b(t,i,s)?(r.setUTCFullYear(t,i,s),r):new Date(NaN)}if(n=u.Www.exec(e),n)return a=parseInt(n[1],10)-1,w(t,a)?v(t,a):new Date(NaN);if(n=u.WwwD.exec(e),n){a=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return w(t,a,l)?v(t,a,l):new Date(NaN)}return null}function m(e){var t,n,r;if(t=u.HH.exec(e),t)return n=parseFloat(t[1].replace(",",".")),S(n)?n%24*s:NaN;if(t=u.HHMM.exec(e),t)return n=parseInt(t[1],10),r=parseFloat(t[2].replace(",",".")),S(n,r)?n%24*s+r*l:NaN;if(t=u.HHMMSS.exec(e),t){n=parseInt(t[1],10),r=parseInt(t[2],10);var i=parseFloat(t[3].replace(",","."));return S(n,r,i)?n%24*s+r*l+1e3*i:NaN}return null}function v(e,t,n){t=t||0,n=n||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var i=r.getUTCDay()||7,a=7*t+n+1-i;return r.setUTCDate(r.getUTCDate()+a),r}var g=[31,28,31,30,31,30,31,31,30,31,30,31],_=[31,29,31,30,31,30,31,31,30,31,30,31];function y(e){return e%400===0||e%4===0&&e%100!==0}function b(e,t,n){if(t<0||t>11)return!1;if(null!=n){if(n<1)return!1;var r=y(e);if(r&&n>_[t])return!1;if(!r&&n>g[t])return!1}return!0}function x(e,t){if(t<1)return!1;var n=y(e);return!(n&&t>366)&&!(!n&&t>365)}function w(e,t,n){return!(t<0||t>52)&&(null==n||!(n<0||n>6))}function S(e,t,n){return(null==e||!(e<0||e>=25))&&((null==t||!(t<0||t>=60))&&(null==n||!(n<0||n>=60)))}e.exports=t.default}(dg,ug);const Mg=$t(ug);function Eg(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Tg(e){return Tg="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tg(e)}function Ag(e){Eg(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===Tg(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function Cg(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}var kg={};function Rg(){return kg}function Lg(e,t){var n,r,i,a,o,s,l,c;Eg(1,arguments);var u=Rg(),d=Cg(null!==(n=null!==(r=null!==(i=null!==(a=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==a?a:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(s=o.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==i?i:u.weekStartsOn)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Ag(e),f=h.getDay(),p=(f<d?7:0)+f-d;return h.setDate(h.getDate()-p),h.setHours(0,0,0,0),h}function Ig(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var Pg=6048e5;function Dg(e,t,n){Eg(2,arguments);var r=Lg(e,n),i=Lg(t,n),a=r.getTime()-Ig(r),o=i.getTime()-Ig(i);return Math.round((a-o)/Pg)}function Og(e){Eg(1,arguments);var t=Ag(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function Ng(e){Eg(1,arguments);var t=Ag(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Fg(e,t){return Eg(1,arguments),Dg(Og(e),Ng(e),t)+1}function Bg(e,t){var n,r,i,a,o,s,l,c;Eg(1,arguments);var u=Ag(e),d=u.getFullYear(),h=Rg(),f=Cg(null!==(n=null!==(r=null!==(i=null!==(a=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(s=o.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==i?i:h.firstWeekContainsDate)&&void 0!==r?r:null===(l=h.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setFullYear(d+1,0,f),p.setHours(0,0,0,0);var m=Lg(p,t),v=new Date(0);v.setFullYear(d,0,f),v.setHours(0,0,0,0);var g=Lg(v,t);return u.getTime()>=m.getTime()?d+1:u.getTime()>=g.getTime()?d:d-1}function Vg(e,t){var n,r,i,a,o,s,l,c;Eg(1,arguments);var u=Rg(),d=Cg(null!==(n=null!==(r=null!==(i=null!==(a=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(s=o.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==i?i:u.firstWeekContainsDate)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1),h=Bg(e,t),f=new Date(0);f.setFullYear(h,0,d),f.setHours(0,0,0,0);var p=Lg(f,t);return p}var Ug=6048e5;function zg(e,t){Eg(1,arguments);var n=Ag(e),r=Lg(n,t).getTime()-Vg(n,t).getTime();return Math.round(r/Ug)+1}function Hg(e){return Eg(1,arguments),Lg(e,{weekStartsOn:1})}function Wg(e){Eg(1,arguments);var t=Ag(e),n=t.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var i=Hg(r),a=new Date(0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);var o=Hg(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function jg(e){Eg(1,arguments);var t=Wg(e),n=new Date(0);n.setFullYear(t,0,4),n.setHours(0,0,0,0);var r=Hg(n);return r}var Gg=6048e5;function Yg(e){Eg(1,arguments);var t=Ag(e),n=Hg(t).getTime()-jg(t).getTime();return Math.round(n/Gg)+1}function $g(e,t){Eg(2,arguments);var n=Ag(e),r=Cg(t);return isNaN(r)?new Date(NaN):r?(n.setDate(n.getDate()+r),n):n}function qg(e,t){Eg(2,arguments);var n=Ag(e),r=Cg(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),a=new Date(n.getTime());a.setMonth(n.getMonth()+r+1,0);var o=a.getDate();return i>=o?a:(n.setFullYear(a.getFullYear(),a.getMonth(),i),n)}function Xg(e,t){Eg(2,arguments);var n=Cg(t);return qg(e,12*n)}var Zg=(e=>(e["Any"]="any",e["All"]="all",e))(Zg||{}),Kg=(e=>(e["Days"]="days",e["Weeks"]="weeks",e["Months"]="months",e["Years"]="years",e))(Kg||{}),Jg=(e=>(e["Days"]="days",e["Weekdays"]="weekdays",e["Weeks"]="weeks",e["Months"]="months",e["Years"]="years",e))(Jg||{}),Qg=(e=>(e["OrdinalWeekdays"]="ordinalWeekdays",e))(Qg||{});class e_{constructor(e,t,n){mt(this,"validated",!0),this.type=e,this.interval=t,this.from=n,this.from||(console.error('A valid "from" date is required for date interval rule. This rule will be skipped.'),this.validated=!1)}passes(e){if(!this.validated)return!0;const{date:t}=e;switch(this.type){case"days":return V_(this.from.date,t)%this.interval===0;case"weeks":return U_(this.from.date,t)%this.interval===0;case"months":return H_(this.from.date,t)%this.interval===0;case"years":return z_(this.from.date,t)%this.interval===0;default:return!1}}}class t_{constructor(e,t,n,r){mt(this,"components",[]),this.type=e,this.validator=n,this.getter=r,this.components=this.normalizeComponents(t)}static create(e,t){switch(e){case"days":return new n_(t);case"weekdays":return new r_(t);case"weeks":return new i_(t);case"months":return new a_(t);case"years":return new o_(t)}}normalizeComponents(e){if(this.validator(e))return[e];if(!_v(e))return[];const t=[];return e.forEach((e=>{this.validator(e)?t.push(e):console.error(`Component value ${e} in invalid for "${this.type}" rule. This rule will be skipped.`)})),t}passes(e){const t=this.getter(e),n=t.some((e=>this.components.includes(e)));return n}}class n_ extends t_{constructor(e){super("days",e,u_,(({day:e,dayFromEnd:t})=>[e,-t]))}}class r_ extends t_{constructor(e){super("weekdays",e,d_,(({weekday:e})=>[e]))}}class i_ extends t_{constructor(e){super("weeks",e,h_,(({week:e,weekFromEnd:t})=>[e,-t]))}}class a_ extends t_{constructor(e){super("months",e,f_,(({month:e})=>[e]))}}class o_ extends t_{constructor(e){super("years",e,Jn,(({year:e})=>[e]))}}class s_{constructor(e,t){mt(this,"components"),this.type=e,this.components=this.normalizeComponents(t)}normalizeArrayConfig(e){const t=[];return e.forEach(((n,r)=>{if(Jn(n)){if(0===r)return;if(!p_(e[0]))return void console.error(`Ordinal range for "${this.type}" rule is from -5 to -1 or 1 to 5. This rule will be skipped.`);if(!d_(n))return void console.error(`Acceptable range for "${this.type}" rule is from 1 to 5. This rule will be skipped`);t.push([e[0],n])}else _v(n)&&t.push(...this.normalizeArrayConfig(n))})),t}normalizeComponents(e){const t=[];return e.forEach(((n,r)=>{if(Jn(n)){if(0===r)return;if(!p_(e[0]))return void console.error(`Ordinal range for "${this.type}" rule is from -5 to -1 or 1 to 5. This rule will be skipped.`);if(!d_(n))return void console.error(`Acceptable range for "${this.type}" rule is from 1 to 5. This rule will be skipped`);t.push([e[0],n])}else _v(n)&&t.push(...this.normalizeArrayConfig(n))})),t}passes(e){const{weekday:t,weekdayOrdinal:n,weekdayOrdinalFromEnd:r}=e;return this.components.some((([e,i])=>(e===n||e===-r)&&t===i))}}class l_{constructor(e){mt(this,"type","function"),mt(this,"validated",!0),this.fn=e,In(e)||(console.error("The function rule requires a valid function. This rule will be skipped."),this.validated=!1)}passes(e){return!this.validated||this.fn(e)}}class c_{constructor(e,t={},n){mt(this,"validated",!0),mt(this,"config"),mt(this,"type",Zg.Any),mt(this,"from"),mt(this,"until"),mt(this,"rules",[]),mt(this,"locale",new Ay),this.parent=n,t.locale&&(this.locale=t.locale),this.config=e,In(e)?(this.type=Zg.All,this.rules=[new l_(e)]):_v(e)?(this.type=Zg.Any,this.rules=e.map((e=>new c_(e,t,this)))):pv(e)?(this.type=Zg.All,this.from=e.from?this.locale.getDateParts(e.from):null==n?void 0:n.from,this.until=e.until?this.locale.getDateParts(e.until):null==n?void 0:n.until,this.rules=this.getObjectRules(e)):(console.error("Rule group configuration must be an object or an array."),this.validated=!1)}getObjectRules(e){const t=[];if(e.every&&(Hn(e.every)&&(e.every=[1,`${e.every}s`]),_v(e.every))){const[n=1,r=Kg.Days]=e.every;t.push(new e_(r,n,this.from))}return Object.values(Jg).forEach((n=>{n in e&&t.push(t_.create(n,e[n]))})),Object.values(Qg).forEach((n=>{n in e&&t.push(new s_(n,e[n]))})),null!=e.on&&(_v(e.on)||(e.on=[e.on]),t.push(new c_(e.on,{locale:this.locale},this.parent))),t}passes(e){return!this.validated||!(this.from&&e.dayIndex<=this.from.dayIndex)&&(!(this.until&&e.dayIndex>=this.until.dayIndex)&&(this.type===Zg.Any?this.rules.some((t=>t.passes(e))):this.rules.every((t=>t.passes(e)))))}}function u_(e){return!!Jn(e)&&(e>=1&&e<=31)}function d_(e){return!!Jn(e)&&(e>=1&&e<=7)}function h_(e){return!!Jn(e)&&(e>=-6&&e<=-1||e>=1&&e<=6)}function f_(e){return!!Jn(e)&&(e>=1&&e<=12)}function p_(e){return!!Jn(e)&&!(e<-5||e>5||0===e)}const m_={dateTime:["year","month","day","hours","minutes","seconds","milliseconds"],date:["year","month","day"],time:["hours","minutes","seconds","milliseconds"]},v_=7,g_=6,__=1e3,y_=60*__,b_=60*y_,x_=24*b_,w_=[31,28,31,30,31,30,31,31,30,31,30,31],S_=["L","iso"],M_={milliseconds:[0,999,3],seconds:[0,59,2],minutes:[0,59,2],hours:[0,23,2]},E_=/d{1,2}|W{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|Z{1,4}|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,T_=/\[([^]*?)\]/gm,A_={D(e){return e.day},DD(e){return gv(e.day,2)},d(e){return e.weekday-1},dd(e){return gv(e.weekday-1,2)},W(e,t){return t.dayNamesNarrow[e.weekday-1]},WW(e,t){return t.dayNamesShorter[e.weekday-1]},WWW(e,t){return t.dayNamesShort[e.weekday-1]},WWWW(e,t){return t.dayNames[e.weekday-1]},M(e){return e.month},MM(e){return gv(e.month,2)},MMM(e,t){return t.monthNamesShort[e.month-1]},MMMM(e,t){return t.monthNames[e.month-1]},YY(e){return String(e.year).substr(2)},YYYY(e){return gv(e.year,4)},h(e){return e.hours%12||12},hh(e){return gv(e.hours%12||12,2)},H(e){return e.hours},HH(e){return gv(e.hours,2)},m(e){return e.minutes},mm(e){return gv(e.minutes,2)},s(e){return e.seconds},ss(e){return gv(e.seconds,2)},S(e){return Math.round(e.milliseconds/100)},SS(e){return gv(Math.round(e.milliseconds/10),2)},SSS(e){return gv(e.milliseconds,3)},a(e,t){return e.hours<12?t.amPm[0]:t.amPm[1]},A(e,t){return e.hours<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},Z(){return"Z"},ZZ(e){const t=e.timezoneOffset;return`${t>0?"-":"+"}${gv(Math.floor(Math.abs(t)/60),2)}`},ZZZ(e){const t=e.timezoneOffset;return`${t>0?"-":"+"}${gv(100*Math.floor(Math.abs(t)/60)+Math.abs(t)%60,4)}`},ZZZZ(e){const t=e.timezoneOffset;return`${t>0?"-":"+"}${gv(Math.floor(Math.abs(t)/60),2)}:${gv(Math.abs(t)%60,2)}`}},C_=/\d\d?/,k_=/\d{3}/,R_=/\d{4}/,L_=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF/]+(\s*?[\u0600-\u06FF]+){1,2}/i,I_=()=>{},P_=e=>(t,n,r)=>{const i=r[e].indexOf(n.charAt(0).toUpperCase()+n.substr(1).toLowerCase());~i&&(t.month=i)},D_={D:[C_,(e,t)=>{e.day=t}],Do:[new RegExp(C_.source+L_.source),(e,t)=>{e.day=parseInt(t,10)}],d:[C_,I_],W:[L_,I_],M:[C_,(e,t)=>{e.month=t-1}],MMM:[L_,P_("monthNamesShort")],MMMM:[L_,P_("monthNames")],YY:[C_,(e,t)=>{const n=new Date,r=+n.getFullYear().toString().substr(0,2);e.year=+`${t>68?r-1:r}${t}`}],YYYY:[R_,(e,t)=>{e.year=t}],S:[/\d/,(e,t)=>{e.milliseconds=100*t}],SS:[/\d{2}/,(e,t)=>{e.milliseconds=10*t}],SSS:[k_,(e,t)=>{e.milliseconds=t}],h:[C_,(e,t)=>{e.hours=t}],m:[C_,(e,t)=>{e.minutes=t}],s:[C_,(e,t)=>{e.seconds=t}],a:[L_,(e,t,n)=>{const r=t.toLowerCase();r===n.amPm[0]?e.isPm=!1:r===n.amPm[1]&&(e.isPm=!0)}],Z:[/[^\s]*?[+-]\d\d:?\d\d|[^\s]*?Z?/,(e,t)=>{"Z"===t&&(t="+00:00");const n=`${t}`.match(/([+-]|\d\d)/gi);if(n){const t=60*+n[1]+parseInt(n[2],10);e.timezoneOffset="+"===n[0]?t:-t}}]};function O_(e,t){return(yv(e)&&e||[Hn(e)&&e||"YYYY-MM-DD"]).map((e=>S_.reduce(((e,n)=>e.replace(n,t.masks[n]||"")),e)))}function N_(e){return pv(e)&&"year"in e&&"month"in e&&"day"in e}function F_(e,t=1){const n=e.getDay()+1,r=n>=t?t-n:-(7-(t-n));return $g(e,r)}function B_(e,t,n){const r=Date.UTC(e,t-1,n);return V_(new Date(0),new Date(r))}function V_(e,t){return Math.round((t.getTime()-e.getTime())/x_)}function U_(e,t){return Math.ceil(V_(F_(e),F_(t))/7)}function z_(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}function H_(e,t){return 12*z_(e,t)+(t.getMonth()-e.getMonth())}function W_(e,t=""){const n=new Date,{year:r=n.getFullYear(),month:i=n.getMonth()+1,day:a=n.getDate(),hours:o=0,minutes:s=0,seconds:l=0,milliseconds:c=0}=e;if(t){const e=`${gv(r,4)}-${gv(i,2)}-${gv(a,2)}T${gv(o,2)}:${gv(s,2)}:${gv(l,2)}.${gv(c,3)}`;return Mg(e,{timeZone:t})}return new Date(r,i-1,a,o,s,l,c)}function j_(e,t){let n=new Date(e.getTime());t.timezone&&(n=new Date(e.toLocaleString("en-US",{timeZone:t.timezone})),n.setMilliseconds(e.getMilliseconds()));const r=n.getMilliseconds(),i=n.getSeconds(),a=n.getMinutes(),o=n.getHours(),s=r+i*__+a*y_+o*b_,l=n.getMonth()+1,c=n.getFullYear(),u=t.getMonthParts(l,c),d=n.getDate(),h=u.numDays-d+1,f=n.getDay()+1,p=Math.floor((d-1)/7+1),m=Math.floor((u.numDays-d)/7+1),v=Math.ceil((d+Math.abs(u.firstWeekday-u.firstDayOfWeek))/7),g=u.numWeeks-v+1,_=u.weeknumbers[v],y=B_(c,l,d),b={milliseconds:r,seconds:i,minutes:a,hours:o,time:s,day:d,dayFromEnd:h,weekday:f,weekdayOrdinal:p,weekdayOrdinalFromEnd:m,week:v,weekFromEnd:g,weeknumber:_,month:l,year:c,date:n,dateTime:n.getTime(),dayIndex:y,timezoneOffset:0,isValid:!0};return b}function G_(e,t,n){return`${t}-${e}-${n}`}function Y_(e,t,n){const r=t%4===0&&t%100!==0||t%400===0,i=new Date(t,e-1,1),a=i.getDay()+1,o=2===e&&r?29:w_[e-1],s=n-1,l=Fg(i,{weekStartsOn:s}),c=[],u=[];for(let d=0;d<l;d++){const e=$g(i,7*d);c.push(zg(e,{weekStartsOn:s})),u.push(Yg(e))}return{firstDayOfWeek:n,firstDayOfMonth:i,inLeapYear:r,firstWeekday:a,numDays:o,numWeeks:l,month:e,year:t,weeknumbers:c,isoWeeknumbers:u}}function $_(){const e=[],t=2020,n=1,r=5;for(let i=0;i<v_;i++)e.push(W_({year:t,month:n,day:r+i,hours:12}));return e}function q_(e,t){const n=new Intl.DateTimeFormat(t,{weekday:e});return $_().map((e=>n.format(e)))}function X_(){const e=[];for(let t=0;t<=24;t++)e.push(new Date(2e3,0,1,t));return e}function Z_(e){const t=["second","minute","hour","day","week","month","quarter","year"],n=new Intl.RelativeTimeFormat(e);return t.reduce(((e,t)=>{const r=n.formatToParts(100,t);return e[t]=r[1].unit,e}),{})}function K_(){const e=[];for(let t=0;t<12;t++)e.push(new Date(2e3,t,15));return e}function J_(e,t){const n=new Intl.DateTimeFormat(t,{month:e,timeZone:"UTC"});return K_().map((e=>n.format(e)))}function Q_(e,t,n){return Jn(t)?t===e:_v(t)?t.includes(e):In(t)?t(e,n):!(null!=t.min&&t.min>e)&&(!(null!=t.max&&t.max<e)&&(null==t.interval||e%t.interval===0))}function ey(e,t,n){const r=[],[i,a,o]=t;for(let s=i;s<=a;s++)(null==n||Q_(s,n,e))&&r.push({value:s,label:gv(s,o)});return r}function ty(e,t){return{milliseconds:ey(e,M_.milliseconds,t.milliseconds),seconds:ey(e,M_.seconds,t.seconds),minutes:ey(e,M_.minutes,t.minutes),hours:ey(e,M_.hours,t.hours)}}function ny(e,t,n,r){const i=ey(e,t,r),a=i.reduce(((e,t)=>{if(t.disabled)return e;if(isNaN(e))return t.value;const r=Math.abs(e-n),i=Math.abs(t.value-n);return i<r?t.value:e}),NaN);return isNaN(a)?n:a}function ry(e,t){const n={...e};return Object.entries(t).forEach((([t,r])=>{const i=M_[t],a=e[t];n[t]=ny(e,i,a,r)})),n}function iy(e,t,n){const r=O_(t,n);return r.map((t=>{if("string"!==typeof t)throw new Error("Invalid mask");let r=e;if(r.length>1e3)return!1;let i=!0;const a={};if(t.replace(E_,(e=>{if(D_[e]){const t=D_[e],o=r.search(t[0]);~o?r.replace(t[0],(e=>(t[1](a,e,n),r=r.substr(o+e.length),e))):i=!1}return D_[e]?"":e.slice(1,e.length-1)})),!i)return!1;const o=new Date;let s;return null!=a.hours&&(!0===a.isPm&&12!==+a.hours?a.hours=+a.hours+12:!1===a.isPm&&12===+a.hours&&(a.hours=0)),null!=a.timezoneOffset?(a.minutes=+(a.minutes||0)-+a.timezoneOffset,s=new Date(Date.UTC(a.year||o.getFullYear(),a.month||0,a.day||1,a.hours||0,a.minutes||0,a.seconds||0,a.milliseconds||0))):s=n.getDateFromParts({year:a.year||o.getFullYear(),month:(a.month||0)+1,day:a.day||1,hours:a.hours||0,minutes:a.minutes||0,seconds:a.seconds||0,milliseconds:a.milliseconds||0}),s})).find((e=>e))||new Date(e)}function ay(e,t,n){if(null==e)return"";let r=O_(t,n)[0];/Z$/.test(r)&&(n.timezone="utc");const i=[];r=r.replace(T_,((e,t)=>(i.push(t),"??")));const a=n.getDateParts(e);return r=r.replace(E_,(e=>e in A_?A_[e](a,n):e.slice(1,e.length-1))),r.replace(/\?\?/g,(()=>i.shift()))}D_.DD=D_.D,D_.dd=D_.d,D_.WWWW=D_.WWW=D_.WW=D_.W,D_.MM=D_.M,D_.mm=D_.m,D_.hh=D_.H=D_.HH=D_.h,D_.ss=D_.s,D_.A=D_.a,D_.ZZZZ=D_.ZZZ=D_.ZZ=D_.Z;const oy={daily:["year","month","day"],weekly:["year","month","week"],monthly:["year","month"]};function sy({monthComps:e,prevMonthComps:t,nextMonthComps:n},r){const i=[],{firstDayOfWeek:a,firstWeekday:o,isoWeeknumbers:s,weeknumbers:l,numDays:c,numWeeks:u}=e,d=o+(o<a?v_:0)-a;let h=!0,f=!1,p=!1,m=0;const v=new Intl.DateTimeFormat(r.id,{weekday:"long",year:"numeric",month:"short",day:"numeric"});let g=t.numDays-d+1,_=t.numDays-g+1,y=Math.floor((g-1)/v_+1),b=1,x=t.numWeeks,w=1,S=t.month,M=t.year;const E=new Date,T=E.getDate(),A=E.getMonth()+1,C=E.getFullYear();for(let k=1;k<=g_;k++){for(let t=1,d=a;t<=v_;t++,d+=d===v_?1-v_:1){h&&d===o&&(g=1,_=e.numDays,y=Math.floor((g-1)/v_+1),b=Math.floor((c-g)/v_+1),x=1,w=u,S=e.month,M=e.year,h=!1,f=!0);const a=r.getDateFromParams(M,S,g,0,0,0,0),E=r.getDateFromParams(M,S,g,12,0,0,0),R=r.getDateFromParams(M,S,g,23,59,59,999),L=a,I=`${gv(M,4)}-${gv(S,2)}-${gv(g,2)}`,P=t,D=v_-t,O=l[k-1],N=s[k-1],F=g===T&&S===A&&M===C,B=f&&1===g,V=f&&g===c,U=1===k,z=k===u,H=1===t,W=t===v_,j=B_(M,S,g);i.push({locale:r,id:I,position:++m,label:g.toString(),ariaLabel:v.format(new Date(M,S-1,g)),day:g,dayFromEnd:_,weekday:d,weekdayPosition:P,weekdayPositionFromEnd:D,weekdayOrdinal:y,weekdayOrdinalFromEnd:b,week:x,weekFromEnd:w,weekPosition:k,weeknumber:O,isoWeeknumber:N,month:S,year:M,date:L,startDate:a,endDate:R,noonDate:E,dayIndex:j,isToday:F,isFirstDay:B,isLastDay:V,isDisabled:!f,isFocusable:!f,isFocused:!1,inMonth:f,inPrevMonth:h,inNextMonth:p,onTop:U,onBottom:z,onLeft:H,onRight:W,classes:[`id-${I}`,`day-${g}`,`day-from-end-${_}`,`weekday-${d}`,`weekday-position-${P}`,`weekday-ordinal-${y}`,`weekday-ordinal-from-end-${b}`,`week-${x}`,`week-from-end-${w}`,{"is-today":F,"is-first-day":B,"is-last-day":V,"in-month":f,"in-prev-month":h,"in-next-month":p,"on-top":U,"on-bottom":z,"on-left":H,"on-right":W}]}),f&&V?(f=!1,p=!0,g=1,_=c,y=1,b=Math.floor((c-g)/v_+1),x=1,w=n.numWeeks,S=n.month,M=n.year):(g++,_--,y=Math.floor((g-1)/v_+1),b=Math.floor((c-g)/v_+1))}x++,w--}return i}function ly(e,t,n,r){const i=e.reduce(((e,r,i)=>{const a=Math.floor(i/7);let o=e[a];return o||(o={id:`week-${a+1}`,title:"",week:r.week,weekPosition:r.weekPosition,weeknumber:r.weeknumber,isoWeeknumber:r.isoWeeknumber,weeknumberDisplay:t?r.weeknumber:n?r.isoWeeknumber:void 0,days:[]},e[a]=o),o.days.push(r),e}),Array(e.length/v_));return i.forEach((e=>{const t=e.days[0],n=e.days[e.days.length-1];t.month===n.month?e.title=`${r.formatDate(t.date,"MMMM YYYY")}`:t.year===n.year?e.title=`${r.formatDate(t.date,"MMM")} - ${r.formatDate(n.date,"MMM YYYY")}`:e.title=`${r.formatDate(t.date,"MMM YYYY")} - ${r.formatDate(n.date,"MMM YYYY")}`})),i}function cy(e,t){return e.days.map((e=>({label:t.formatDate(e.date,t.masks.weekdays),weekday:e.weekday})))}function uy(e,t,n){return Tv(n.getDateParts(n.toDate(e)),oy[t])}function dy({day:e,week:t,month:n,year:r},i,a,o){if("daily"===a&&e){const t=new Date(r,n-1,e),a=$g(t,i);return{day:a.getDate(),month:a.getMonth()+1,year:a.getFullYear()}}if("weekly"===a&&t){const e=o.getMonthParts(n,r),a=e.firstDayOfMonth,s=$g(a,7*(t-1+i)),l=o.getDateParts(s);return{week:l.week,month:l.month,year:l.year}}{const e=new Date(r,n-1,1),t=qg(e,i);return{month:t.getMonth()+1,year:t.getFullYear()}}}function hy(e){return null!=e&&null!=e.month&&null!=e.year}function fy(e,t){return!(!hy(e)||!hy(t))&&(e.year!==t.year?e.year<t.year:e.month&&t.month&&e.month!==t.month?e.month<t.month:e.week&&t.week&&e.week!==t.week?e.week<t.week:!(!e.day||!t.day||e.day===t.day)&&e.day<t.day)}function py(e,t){return!(!hy(e)||!hy(t))&&(e.year!==t.year?e.year>t.year:e.month&&t.month&&e.month!==t.month?e.month>t.month:e.week&&t.week&&e.week!==t.week?e.week>t.week:!(!e.day||!t.day||e.day===t.day)&&e.day>t.day)}function my(e,t,n){return!!e&&!fy(e,t)&&!py(e,n)}function vy(e,t){return!(!e&&t)&&(!(e&&!t)&&(!e&&!t||e.year===t.year&&e.month===t.month&&e.week===t.week&&e.day===t.day))}function gy(e,t,n,r){if(!hy(e)||!hy(t))return[];const i=[];while(!py(e,t))i.push(e),e=dy(e,1,n,r);return i}function _y(e){const{day:t,week:n,month:r,year:i}=e;let a=`${i}-${gv(r,2)}`;return n&&(a=`${a}-w${n}`),t&&(a=`${a}-${gv(t,2)}`),a}function yy(e,t){const{month:n,year:r,showWeeknumbers:i,showIsoWeeknumbers:a}=e,o=new Date(r,n-1,15),s=t.getMonthParts(n,r),l=t.getPrevMonthParts(n,r),c=t.getNextMonthParts(n,r),u=sy({monthComps:s,prevMonthComps:l,nextMonthComps:c},t),d=ly(u,i,a,t),h=cy(d[0],t);return{id:_y(e),month:n,year:r,monthTitle:t.formatDate(o,t.masks.title),shortMonthLabel:t.formatDate(o,"MMM"),monthLabel:t.formatDate(o,"MMMM"),shortYearLabel:r.toString().substring(2),yearLabel:r.toString(),monthComps:s,prevMonthComps:l,nextMonthComps:c,days:u,weeks:d,weekdays:h}}function by(e,t){const{day:n,week:r,view:i,trimWeeks:a}=e,o={...t,...e,title:"",viewDays:[],viewWeeks:[]};switch(i){case"daily":{let e=o.days.find((e=>e.inMonth));n?e=o.days.find((e=>e.day===n&&e.inMonth))||e:r&&(e=o.days.find((e=>e.week===r&&e.inMonth)));const t=o.weeks[e.week-1];o.viewWeeks=[t],o.viewDays=[e],o.week=e.week,o.weekTitle=t.title,o.day=e.day,o.dayTitle=e.ariaLabel,o.title=o.dayTitle;break}case"weekly":{o.week=r||1;const e=o.weeks[o.week-1];o.viewWeeks=[e],o.viewDays=e.days,o.weekTitle=e.title,o.title=o.weekTitle;break}default:o.title=o.monthTitle,o.viewWeeks=o.weeks.slice(0,a?o.monthComps.numWeeks:void 0),o.viewDays=o.days;break}return o}class xy{constructor(e,t,n){mt(this,"keys",[]),mt(this,"store",{}),this.size=e,this.createKey=t,this.createItem=n}get(...e){const t=this.createKey(...e);return this.store[t]}getOrSet(...e){const t=this.createKey(...e);if(this.store[t])return this.store[t];const n=this.createItem(...e);if(this.keys.length>=this.size){const e=this.keys.shift();null!=e&&delete this.store[e]}return this.keys.push(t),this.store[t]=n,n}}class wy{constructor(e,t=new Ay){var n;mt(this,"order"),mt(this,"locale"),mt(this,"start",null),mt(this,"end",null),mt(this,"repeat",null),this.locale=t;const{start:r,end:i,span:a,order:o,repeat:s}=e;fv(r)&&(this.start=t.getDateParts(r)),fv(i)?this.end=t.getDateParts(i):null!=this.start&&a&&(this.end=t.getDateParts($g(this.start.date,a-1))),this.order=o??0,s&&(this.repeat=new c_({from:null==(n=this.start)?void 0:n.date,...s},{locale:this.locale}))}static fromMany(e,t){return(_v(e)?e:[e]).filter((e=>e)).map((e=>wy.from(e,t)))}static from(e,t){if(e instanceof wy)return e;const n={start:null,end:null};return null!=e&&(_v(e)?(n.start=e[0]??null,n.end=e[1]??null):pv(e)?Object.assign(n,e):(n.start=e,n.end=e)),null!=n.start&&(n.start=new Date(n.start)),null!=n.end&&(n.end=new Date(n.end)),new wy(n,t)}get opts(){const{order:e,locale:t}=this;return{order:e,locale:t}}get hasRepeat(){return!!this.repeat}get isSingleDay(){const{start:e,end:t}=this;return e&&t&&e.year===t.year&&e.month===t.month&&e.day===t.day}get isMultiDay(){return!this.isSingleDay}get daySpan(){return null==this.start||null==this.end?this.hasRepeat?1:1/0:this.end.dayIndex-this.start.dayIndex}startsOnDay(e){var t,n;return(null==(t=this.start)?void 0:t.dayIndex)===e.dayIndex||!!(null==(n=this.repeat)?void 0:n.passes(e))}intersectsDay(e){return this.intersectsDayRange(e,e)}intersectsRange(e){var t,n;return this.intersectsDayRange((null==(t=e.start)?void 0:t.dayIndex)??-1/0,(null==(n=e.end)?void 0:n.dayIndex)??1/0)}intersectsDayRange(e,t){return!(this.start&&this.start.dayIndex>t)&&!(this.end&&this.end.dayIndex<e)}}class Sy{constructor(){mt(this,"records",{})}render(e,t,n){var r,i,a,o;let s=null;const l=n[0].dayIndex,c=n[n.length-1].dayIndex;return t.hasRepeat?n.forEach((n=>{var r,i;if(t.startsOnDay(n)){const a=t.daySpan<1/0?t.daySpan:1;s={startDay:n.dayIndex,startTime:(null==(r=t.start)?void 0:r.time)??0,endDay:n.dayIndex+a-1,endTime:(null==(i=t.end)?void 0:i.time)??x_},this.getRangeRecords(e).push(s)}})):t.intersectsDayRange(l,c)&&(s={startDay:(null==(r=t.start)?void 0:r.dayIndex)??-1/0,startTime:(null==(i=t.start)?void 0:i.time)??-1/0,endDay:(null==(a=t.end)?void 0:a.dayIndex)??1/0,endTime:(null==(o=t.end)?void 0:o.time)??1/0},this.getRangeRecords(e).push(s)),s}getRangeRecords(e){let t=this.records[e.key];return t||(t={ranges:[],data:e},this.records[e.key]=t),t.ranges}getCell(e,t){const n=this.getCells(t),r=n.find((t=>t.data.key===e));return r}cellExists(e,t){const n=this.records[e];return null!=n&&n.ranges.some((e=>e.startDay<=t&&e.endDay>=t))}getCells(e){const t=Object.values(this.records),n=[],{dayIndex:r}=e;return t.forEach((({data:t,ranges:i})=>{i.filter((e=>e.startDay<=r&&e.endDay>=r)).forEach((i=>{const a=r===i.startDay,o=r===i.endDay,s=a?i.startTime:0,l=new Date(e.startDate.getTime()+s),c=o?i.endTime:x_,u=new Date(e.endDate.getTime()+c),d=0===s&&c===x_,h=t.order||0;n.push({...i,data:t,onStart:a,onEnd:o,startTime:s,startDate:l,endTime:c,endDate:u,allDay:d,order:h})}))})),n.sort(((e,t)=>e.order-t.order)),n}}const My=12,Ey=5;function Ty(e,t){const n=(new Intl.DateTimeFormat).resolvedOptions().locale;let r;Hn(e)?r=e:mv(e,"id")&&(r=e.id),r=(r||n).toLowerCase();const i=Object.keys(t),a=e=>i.find((t=>t.toLowerCase()===e));r=a(r)||a(r.substring(0,2))||n;const o={...t["en-IE"],...t[r],id:r,monthCacheSize:My,pageCacheSize:Ey},s=pv(e)?Nm(e,o):o;return s}class Ay{constructor(e,t){mt(this,"id"),mt(this,"daysInWeek"),mt(this,"firstDayOfWeek"),mt(this,"masks"),mt(this,"timezone"),mt(this,"hourLabels"),mt(this,"dayNames"),mt(this,"dayNamesShort"),mt(this,"dayNamesShorter"),mt(this,"dayNamesNarrow"),mt(this,"monthNames"),mt(this,"monthNamesShort"),mt(this,"relativeTimeNames"),mt(this,"amPm",["am","pm"]),mt(this,"monthCache"),mt(this,"pageCache");const{id:n,firstDayOfWeek:r,masks:i,monthCacheSize:a,pageCacheSize:o}=Ty(e,sg.value);this.monthCache=new xy(a,G_,Y_),this.pageCache=new xy(o,_y,yy),this.id=n,this.daysInWeek=v_,this.firstDayOfWeek=Av(r,1,v_),this.masks=i,this.timezone=t||void 0,this.hourLabels=this.getHourLabels(),this.dayNames=q_("long",this.id),this.dayNamesShort=q_("short",this.id),this.dayNamesShorter=this.dayNamesShort.map((e=>e.substring(0,2))),this.dayNamesNarrow=q_("narrow",this.id),this.monthNames=J_("long",this.id),this.monthNamesShort=J_("short",this.id),this.relativeTimeNames=Z_(this.id)}formatDate(e,t){return ay(e,t,this)}parseDate(e,t){return iy(e,t,this)}toDate(e,t={}){const n=new Date(NaN);let r=n;const{fillDate:i,mask:a,patch:o,rules:s}=t;if(Jn(e)?(t.type="number",r=new Date(+e)):Hn(e)?(t.type="string",r=e?iy(e,a||"iso",this):n):fv(e)?(t.type="date",r=new Date(e.getTime())):N_(e)&&(t.type="object",r=this.getDateFromParts(e)),r&&(o||s)){let e=this.getDateParts(r);if(o&&null!=i){const t=this.getDateParts(this.toDate(i));e=this.getDateParts(this.toDate({...t,...Tv(e,m_[o])}))}s&&(e=ry(e,s)),r=this.getDateFromParts(e)}return r||n}toDateOrNull(e,t={}){const n=this.toDate(e,t);return isNaN(n.getTime())?null:n}fromDate(e,{type:t,mask:n}={}){switch(t){case"number":return e?e.getTime():NaN;case"string":return e?this.formatDate(e,n||"iso"):"";case"object":return e?this.getDateParts(e):null;default:return e?new Date(e):null}}range(e){return wy.from(e,this)}ranges(e){return wy.fromMany(e,this)}getDateParts(e){return j_(e,this)}getDateFromParts(e){return W_(e,this.timezone)}getDateFromParams(e,t,n,r,i,a,o){return this.getDateFromParts({year:e,month:t,day:n,hours:r,minutes:i,seconds:a,milliseconds:o})}getPage(e){const t=this.pageCache.getOrSet(e,this);return by(e,t)}getMonthParts(e,t){const{firstDayOfWeek:n}=this;return this.monthCache.getOrSet(e,t,n)}getThisMonthParts(){const e=new Date;return this.getMonthParts(e.getMonth()+1,e.getFullYear())}getPrevMonthParts(e,t){return 1===e?this.getMonthParts(12,t-1):this.getMonthParts(e-1,t)}getNextMonthParts(e,t){return 12===e?this.getMonthParts(1,t+1):this.getMonthParts(e+1,t)}getHourLabels(){return X_().map((e=>this.formatDate(e,this.masks.hours)))}getDayId(e){return this.formatDate(e,"YYYY-MM-DD")}}class Cy{constructor(e,t,n){mt(this,"key",""),mt(this,"hashcode",""),mt(this,"highlight",null),mt(this,"content",null),mt(this,"dot",null),mt(this,"bar",null),mt(this,"event",null),mt(this,"popover",null),mt(this,"customData",null),mt(this,"ranges"),mt(this,"hasRanges",!1),mt(this,"order",0),mt(this,"pinPage",!1),mt(this,"maxRepeatSpan",0),mt(this,"locale");const{dates:r}=Object.assign(this,{hashcode:"",order:0,pinPage:!1},e);this.key||(this.key=Cv()),this.locale=n,t.normalizeGlyphs(this),this.ranges=n.ranges(r??[]),this.hasRanges=!!yv(this.ranges),this.maxRepeatSpan=this.ranges.filter((e=>e.hasRepeat)).map((e=>e.daySpan)).reduce(((e,t)=>Math.max(e,t)),0)}intersectsRange({start:e,end:t}){if(null==e||null==t)return!1;const n=this.ranges.filter((e=>!e.hasRepeat));for(const a of n)if(a.intersectsDayRange(e.dayIndex,t.dayIndex))return!0;const r=this.ranges.filter((e=>e.hasRepeat));if(!r.length)return!1;let i=e;this.maxRepeatSpan>1&&(i=this.locale.getDateParts($g(i.date,-this.maxRepeatSpan)));while(i.dayIndex<=t.dayIndex){for(const e of r)if(e.startsOnDay(i))return!0;i=this.locale.getDateParts($g(i.date,1))}return!1}}const ky="__vc_base_context__",Ry={color:{type:String,default:()=>lg("color")},isDark:{type:[Boolean,String,Object],default:()=>lg("isDark")},firstDayOfWeek:Number,masks:Object,locale:[String,Object],timezone:String,minDate:null,maxDate:null,disabledDates:null};function Ly(e){const t=(0,r.Fl)((()=>e.color??"")),n=(0,r.Fl)((()=>e.isDark??!1)),{displayMode:i}=Gt(n),a=(0,r.Fl)((()=>new Bv(t.value))),o=(0,r.Fl)((()=>{if(e.locale instanceof Ay)return e.locale;const t=pv(e.locale)?e.locale:{id:e.locale,firstDayOfWeek:e.firstDayOfWeek,masks:e.masks};return new Ay(t,e.timezone)})),s=(0,r.Fl)((()=>o.value.masks)),l=(0,r.Fl)((()=>{const t=e.disabledDates??[];return null!=e.minDate&&t.push({start:null,end:$g(o.value.toDate(e.minDate),-1)}),null!=e.maxDate&&t.push({start:$g(o.value.toDate(e.maxDate),1),end:null}),o.value.ranges(t)})),c=(0,r.Fl)((()=>new Cy({key:"disabled",dates:l.value,order:100},a.value,o.value))),u={color:t,isDark:n,displayMode:i,theme:a,locale:o,masks:s,disabledDates:l,disabledAttribute:c};return(0,r.JJ)(ky,u),u}function Iy(e){return(0,r.f3)(ky,Ly(e))}const Py=(e,t,{maxSwipeTime:n,minHorizontalSwipeDistance:r,maxVerticalSwipeDistance:i})=>{if(!e||!e.addEventListener||!In(t))return null;let a=0,o=0,s=null,l=!1;function c(e){const t=e.changedTouches[0];a=t.screenX,o=t.screenY,s=(new Date).getTime(),l=!0}function u(e){if(!l||!s)return;l=!1;const c=e.changedTouches[0],u=c.screenX-a,d=c.screenY-o,h=(new Date).getTime()-s;if(h<n&&Math.abs(u)>=r&&Math.abs(d)<=i){const e={toLeft:!1,toRight:!1};u<0?e.toLeft=!0:e.toRight=!0,t(e)}}return wv(e,"touchstart",c,{passive:!0}),wv(e,"touchend",u,{passive:!0}),()=>{xv(e,"touchstart",c),xv(e,"touchend",u)}},Dy={},Oy=(e,t=10)=>{Dy[e]=Date.now()+t},Ny=(e,t)=>{if(e in Dy){const t=Dy[e];if(Date.now()<t)return;delete Dy[e]}t()},Fy={...Ry,view:{type:String,default:"monthly",validator(e){return["daily","weekly","monthly"].includes(e)}},rows:{type:Number,default:1},columns:{type:Number,default:1},step:Number,titlePosition:{type:String,default:()=>lg("titlePosition")},navVisibility:{type:String,default:()=>lg("navVisibility")},showWeeknumbers:[Boolean,String],showIsoWeeknumbers:[Boolean,String],expanded:Boolean,borderless:Boolean,transparent:Boolean,initialPage:Object,initialPagePosition:{type:Number,default:1},minPage:Object,maxPage:Object,transition:String,attributes:Array,trimWeeks:Boolean,disablePageSwipe:Boolean},By=["dayclick","daymouseenter","daymouseleave","dayfocusin","dayfocusout","daykeydown","weeknumberclick","transition-start","transition-end","did-move","update:view","update:pages"],Vy="__vc_calendar_context__";function Uy(e,{emit:t,slots:n}){const a=(0,i.iH)(null),o=(0,i.iH)(null),s=(0,i.iH)(null),l=(0,i.iH)((new Date).getDate()),c=(0,i.iH)(!1),u=(0,i.iH)(Cv()),d=(0,i.iH)(Cv()),h=(0,i.iH)(e.view),f=(0,i.iH)([]),p=(0,i.iH)("");let m=null,v=null;const{theme:g,color:_,displayMode:y,locale:b,masks:x,disabledAttribute:w,disabledDates:S}=Iy(e),M=(0,r.Fl)((()=>e.rows*e.columns)),E=(0,r.Fl)((()=>e.step||M.value)),T=(0,r.Fl)((()=>Qm(f.value)??null)),A=(0,r.Fl)((()=>tv(f.value)??null)),C=(0,r.Fl)((()=>e.minPage||(e.minDate?V(e.minDate):null))),k=(0,r.Fl)((()=>e.maxPage||(e.maxDate?V(e.maxDate):null))),R=(0,r.Fl)((()=>e.navVisibility)),L=(0,r.Fl)((()=>!!e.showWeeknumbers)),I=(0,r.Fl)((()=>!!e.showIsoWeeknumbers)),P=(0,r.Fl)((()=>"monthly"===h.value)),D=(0,r.Fl)((()=>"weekly"===h.value)),O=(0,r.Fl)((()=>"daily"===h.value)),N=()=>{c.value=!0,t("transition-start")},F=()=>{c.value=!1,t("transition-end"),m&&(m.resolve(!0),m=null)},B=(e,t,n=h.value)=>dy(e,t,n,b.value),V=e=>uy(e,h.value,b.value),U=e=>{w.value&&Y.value&&(e.isDisabled=Y.value.cellExists(w.value.key,e.dayIndex))},z=e=>{e.isFocusable=e.inMonth&&e.day===l.value},H=(e,t)=>{for(const n of e)for(const e of n.days)if(!1===t(e))return},W=(0,r.Fl)((()=>f.value.reduce(((e,t)=>(e.push(...t.viewDays),e)),[]))),j=(0,r.Fl)((()=>{const t=[];return(e.attributes||[]).forEach(((e,n)=>{if(!e||!e.dates)return;const r=mv(e,"key")?e.key:n,i=e.order||0;t.push(new Cy({...e,key:r,order:i},g.value,b.value))})),w.value&&t.push(w.value),t})),G=(0,r.Fl)((()=>yv(j.value))),Y=(0,r.Fl)((()=>{const e=new Sy;return j.value.forEach((t=>{t.ranges.forEach((n=>{e.render(t,n,W.value)}))})),e})),$=(0,r.Fl)((()=>W.value.reduce(((e,t)=>(e[t.dayIndex]={day:t,cells:[]},e[t.dayIndex].cells.push(...Y.value.getCells(t)),e)),{}))),q=(t,n)=>{const r=e.showWeeknumbers||e.showIsoWeeknumbers;return null==r?"":$n(r)?r?"left":"":r.startsWith("right")?n>1?"right":r:t>1?"left":r},X=()=>{var e,t;if(!G.value)return null;const n=j.value.find((e=>e.pinPage))||j.value[0];if(!n||!n.hasRanges)return null;const[r]=n.ranges,i=(null==(e=r.start)?void 0:e.date)||(null==(t=r.end)?void 0:t.date);return i?V(i):null},Z=()=>{if(hy(T.value))return T.value;const e=X();return hy(e)?e:V(new Date)},K=(e,t={})=>{const{view:n=h.value,position:r=1,force:i}=t,a=r>0?1-r:-(M.value+r);let o=B(e,a,n),s=B(o,M.value-1,n);return i||(fy(o,C.value)?o=C.value:py(s,k.value)&&(o=B(k.value,1-M.value)),s=B(o,M.value-1)),{fromPage:o,toPage:s}},J=(e,t,n="")=>{if("none"===n||"fade"===n)return n;if((null==e?void 0:e.view)!==(null==t?void 0:t.view))return"fade";const r=py(t,e),i=fy(t,e);return r||i?"slide-v"===n?i?"slide-down":"slide-up":i?"slide-right":"slide-left":"fade"},Q=(t={})=>new Promise(((n,r)=>{const{position:i=1,force:a=!1,transition:o}=t,s=hy(t.page)?t.page:Z(),{fromPage:l}=K(s,{position:i,force:a}),c=[];for(let t=0;t<M.value;t++){const n=B(l,t),r=t+1,i=Math.ceil(r/e.columns),a=e.rows-i+1,o=r%e.columns||e.columns,s=e.columns-o+1,u=q(o,s);c.push(b.value.getPage({...n,view:h.value,titlePosition:e.titlePosition,trimWeeks:e.trimWeeks,position:r,row:i,rowFromEnd:a,column:o,columnFromEnd:s,showWeeknumbers:L.value,showIsoWeeknumbers:I.value,weeknumberPosition:u}))}p.value=J(f.value[0],c[0],o),f.value=c,p.value&&"none"!==p.value?m={resolve:n,reject:r}:n(!0)})),ee=e=>{const t=T.value??V(new Date);return B(t,e)},te=(e,t={})=>{const n=hy(e)?e:V(e);Object.assign(t,K(n,{...t,force:!0}));const r=gy(t.fromPage,t.toPage,h.value,b.value).map((e=>my(e,C.value,k.value)));return r.every((e=>e))},ne=(e,t={})=>te(ee(e),t),re=(0,r.Fl)((()=>ne(-E.value))),ie=(0,r.Fl)((()=>ne(E.value))),ae=async(e,n={})=>!(!n.force&&!te(e,n))&&(n.fromPage&&!vy(n.fromPage,T.value)&&(o.value&&o.value.hide({hideDelay:0}),n.view&&(Oy("view",10),h.value=n.view),await Q({...n,page:n.fromPage,position:1,force:!0}),t("did-move",f.value)),!0),oe=(e,t={})=>ae(ee(e),t),se=()=>oe(-E.value),le=()=>oe(E.value),ce=e=>{const t=P.value?".in-month":"",n=`.id-${b.value.getDayId(e)}${t}`,r=`${n}.vc-focusable, ${n} .vc-focusable`,i=a.value;if(i){const e=i.querySelector(r);if(e)return e.focus(),!0}return!1},ue=async(e,t={})=>!!ce(e)||(await ae(e,t),ce(e)),de=(e,n)=>{l.value=e.day,t("dayclick",e,n)},he=(e,n)=>{t("daymouseenter",e,n)},fe=(e,n)=>{t("daymouseleave",e,n)},pe=(e,n)=>{l.value=e.day,s.value=e,e.isFocused=!0,t("dayfocusin",e,n)},me=(e,n)=>{s.value=null,e.isFocused=!1,t("dayfocusout",e,n)},ve=(e,n)=>{t("daykeydown",e,n);const r=e.noonDate;let i=null;switch(n.key){case"ArrowLeft":i=$g(r,-1);break;case"ArrowRight":i=$g(r,1);break;case"ArrowUp":i=$g(r,-7);break;case"ArrowDown":i=$g(r,7);break;case"Home":i=$g(r,1-e.weekdayPosition);break;case"End":i=$g(r,e.weekdayPositionFromEnd);break;case"PageUp":i=n.altKey?Xg(r,-1):qg(r,-1);break;case"PageDown":i=n.altKey?Xg(r,1):qg(r,1);break}i&&(n.preventDefault(),ue(i).catch())},ge=e=>{const t=s.value;null!=t&&ve(t,e)},_e=(e,n)=>{t("weeknumberclick",e,n)};Q({page:e.initialPage,position:e.initialPagePosition}),(0,r.bv)((()=>{!e.disablePageSwipe&&a.value&&(v=Py(a.value,(({toLeft:e=!1,toRight:t=!1})=>{e?le():t&&se()}),lg("touch")))})),(0,r.Ah)((()=>{f.value=[],v&&v()})),(0,r.YP)((()=>b.value),(()=>{Q()})),(0,r.YP)((()=>M.value),(()=>Q())),(0,r.YP)((()=>e.view),(()=>h.value=e.view)),(0,r.YP)((()=>h.value),(()=>{Ny("view",(()=>{Q()})),t("update:view",h.value)})),(0,r.YP)((()=>l.value),(()=>{H(f.value,(e=>z(e)))})),(0,r.m0)((()=>{t("update:pages",f.value),H(f.value,(e=>{U(e),z(e)}))}));const ye={emit:t,slots:n,containerRef:a,navPopoverRef:o,focusedDay:s,inTransition:c,navPopoverId:u,dayPopoverId:d,view:h,pages:f,transitionName:p,theme:g,color:_,displayMode:y,locale:b,masks:x,attributes:j,disabledAttribute:w,disabledDates:S,attributeContext:Y,days:W,dayCells:$,count:M,step:E,firstPage:T,lastPage:A,canMovePrev:re,canMoveNext:ie,minPage:C,maxPage:k,isMonthly:P,isWeekly:D,isDaily:O,navVisibility:R,showWeeknumbers:L,showIsoWeeknumbers:I,getDateAddress:V,canMove:te,canMoveBy:ne,move:ae,moveBy:oe,movePrev:se,moveNext:le,onTransitionBeforeEnter:N,onTransitionAfterEnter:F,tryFocusDate:ce,focusDate:ue,onKeydown:ge,onDayKeydown:ve,onDayClick:de,onDayMouseenter:he,onDayMouseleave:fe,onDayFocusin:pe,onDayFocusout:me,onWeeknumberClick:_e};return(0,r.JJ)(Vy,ye),ye}function zy(){const e=(0,r.f3)(Vy);if(e)return e;throw new Error("Calendar context missing. Please verify this component is nested within a valid context provider.")}const Hy={inheritAttrs:!1},Wy=(0,r.aZ)({...Hy,__name:"CalendarSlot",props:{name:null},setup(e){const{slots:t}=zy();return(n,o)=>(0,i.SU)(t)[e.name]?((0,r.wg)(),(0,r.j4)((0,r.LL)((0,i.SU)(t)[e.name]),(0,a.vs)((0,r.dG)({key:0},n.$attrs)),null,16)):(0,r.WI)(n.$slots,"default",{key:1})}});function jy(e){document&&document.dispatchEvent(new CustomEvent("show-popover",{detail:e}))}function Gy(e){document&&document.dispatchEvent(new CustomEvent("hide-popover",{detail:e}))}function Yy(e){document&&document.dispatchEvent(new CustomEvent("toggle-popover",{detail:e}))}function $y(e){const{visibility:t}=e,n="click"===t,r="hover"===t,i="hover-focus"===t,a="focus"===t;e.autoHide=!n;let o=!1,s=!1;const l=t=>{n&&(Yy({...e,target:e.target||t.currentTarget}),t.stopPropagation())},c=t=>{o||(o=!0,(r||i)&&jy({...e,target:e.target||t.currentTarget}))},u=()=>{o&&(o=!1,(r||i&&!s)&&Gy(e))},d=t=>{s||(s=!0,(a||i)&&jy({...e,target:e.target||t.currentTarget}))},h=t=>{s&&!Sv(t.currentTarget,t.relatedTarget)&&(s=!1,(a||i&&!o)&&Gy(e))},f={};switch(e.visibility){case"click":f.click=l;break;case"hover":f.mousemove=c,f.mouseleave=u;break;case"focus":f.focusin=d,f.focusout=h;break;case"hover-focus":f.mousemove=c,f.mouseleave=u,f.focusin=d,f.focusout=h;break}return f}const qy=e=>{const t=bv(e);if(null==t)return;const n=t.popoverHandlers;n&&n.length&&(n.forEach((e=>e())),delete t.popoverHandlers)},Xy=(e,t)=>{const n=bv(e);if(null==n)return;const r=[],i=$y(t);Object.entries(i).forEach((([e,t])=>{r.push(wv(n,e,t))})),n.popoverHandlers=r},Zy={mounted(e,t){const{value:n}=t;n&&Xy(e,n)},updated(e,t){const{oldValue:n,value:r}=t,i=null==n?void 0:n.visibility,a=null==r?void 0:r.visibility;i!==a&&(i&&(qy(e),a||Gy(n)),a&&Xy(e,r))},unmounted(e){qy(e)}},Ky=["disabled"],Jy={key:1,type:"button",class:"vc-title"},Qy=["disabled"],eb=(0,r.aZ)({__name:"CalendarHeader",props:{page:{type:Object,required:!0},layout:String,isLg:Boolean,isXl:Boolean,is2xl:Boolean,hideTitle:Boolean,hideArrows:Boolean},setup(e){const t=e,{navPopoverId:n,navVisibility:s,canMovePrev:l,movePrev:c,canMoveNext:u,moveNext:d}=zy(),h=(0,r.Fl)((()=>{switch(t.page.titlePosition){case"left":return"bottom-start";case"right":return"bottom-end";default:return"bottom"}})),f=(0,r.Fl)((()=>{const{page:e}=t;return{id:n.value,visibility:s.value,placement:h.value,modifiers:[{name:"flip",options:{fallbackPlacements:["bottom"]}}],data:{page:e},isInteractive:!0}})),p=(0,r.Fl)((()=>t.page.titlePosition.includes("left"))),m=(0,r.Fl)((()=>t.page.titlePosition.includes("right"))),v=(0,r.Fl)((()=>t.layout?t.layout:p.value?"tu-pn":m.value?"pn-tu":"p-tu-n;")),g=(0,r.Fl)((()=>({prev:v.value.includes("p")&&!t.hideArrows,title:v.value.includes("t")&&!t.hideTitle,next:v.value.includes("n")&&!t.hideArrows}))),_=(0,r.Fl)((()=>{const e=v.value.split("").map((e=>{switch(e){case"p":return"[prev] auto";case"n":return"[next] auto";case"t":return"[title] auto";case"-":return"1fr";default:return""}})).join(" ");return{gridTemplateColumns:e}}));return(t,n)=>((0,r.wg)(),(0,r.iD)("div",{class:(0,a.C_)(["vc-header",{"is-lg":e.isLg,"is-xl":e.isXl,"is-2xl":e.is2xl}]),style:(0,a.j5)((0,i.SU)(_))},[(0,i.SU)(g).prev?((0,r.wg)(),(0,r.iD)("button",{key:0,type:"button",class:"vc-arrow vc-prev vc-focus",disabled:!(0,i.SU)(l),onClick:n[0]||(n[0]=(...e)=>(0,i.SU)(c)&&(0,i.SU)(c)(...e)),onKeydown:n[1]||(n[1]=(0,o.D2)(((...e)=>(0,i.SU)(c)&&(0,i.SU)(c)(...e)),["space","enter"]))},[(0,r.Wm)(Wy,{name:"header-prev-button",disabled:!(0,i.SU)(l)},{default:(0,r.w5)((()=>[(0,r.Wm)(Ht,{name:"ChevronLeft",size:"24"})])),_:1},8,["disabled"])],40,Ky)):(0,r.kq)("",!0),(0,i.SU)(g).title?(0,r.wy)(((0,r.wg)(),(0,r.iD)("button",Jy,[(0,r.Wm)(Wy,{name:"header-title",title:e.page.title},{default:(0,r.w5)((()=>[(0,r._)("span",null,(0,a.zw)(e.page.title),1)])),_:1},8,["title"])])),[[(0,i.SU)(Zy),(0,i.SU)(f)]]):(0,r.kq)("",!0),(0,i.SU)(g).next?((0,r.wg)(),(0,r.iD)("button",{key:2,type:"button",class:"vc-arrow vc-next vc-focus",disabled:!(0,i.SU)(u),onClick:n[2]||(n[2]=(...e)=>(0,i.SU)(d)&&(0,i.SU)(d)(...e)),onKeydown:n[3]||(n[3]=(0,o.D2)(((...e)=>(0,i.SU)(d)&&(0,i.SU)(d)(...e)),["space","enter"]))},[(0,r.Wm)(Wy,{name:"header-next-button",disabled:!(0,i.SU)(u)},{default:(0,r.w5)((()=>[(0,r.Wm)(Ht,{name:"ChevronRight",size:"24"})])),_:1},8,["disabled"])],40,Qy)):(0,r.kq)("",!0)],6))}}),tb=(0,r.aZ)({directives:{popover:Zy},components:{CalendarSlot:Wy},props:{day:{type:Object,required:!0}},setup(e){const{locale:t,theme:n,attributeContext:i,dayPopoverId:a,slots:o,onDayClick:s,onDayMouseenter:l,onDayMouseleave:c,onDayFocusin:u,onDayFocusout:d,onDayKeydown:h}=zy(),f=(0,r.Fl)((()=>e.day)),p=(0,r.Fl)((()=>i.value.getCells(f.value))),m=(0,r.Fl)((()=>p.value.map((e=>e.data)))),v=(0,r.Fl)((()=>({...f.value,attributes:m.value,attributeCells:p.value})));function g({data:e},{popovers:t}){const{key:n,customData:r,popover:i}=e;if(!i)return;const a=Xf({key:n,customData:r,attribute:e},{...i},{visibility:i.label?"hover":"click",placement:"bottom",isInteractive:!i.label});t.splice(0,0,a)}const _=(0,r.Fl)((()=>{const e={...n.value.prepareRender({}),popovers:[]};return p.value.forEach((t=>{n.value.render(t,e),g(t,e)})),e})),y=(0,r.Fl)((()=>_.value.highlights)),b=(0,r.Fl)((()=>!!yv(y.value))),x=(0,r.Fl)((()=>_.value.content)),w=(0,r.Fl)((()=>_.value.dots)),S=(0,r.Fl)((()=>!!yv(w.value))),M=(0,r.Fl)((()=>_.value.bars)),E=(0,r.Fl)((()=>!!yv(M.value))),T=(0,r.Fl)((()=>_.value.popovers)),A=(0,r.Fl)((()=>T.value.map((e=>e.attribute)))),C=(0,r.Fl)((()=>["vc-day",...f.value.classes,{"vc-day-box-center-center":!o["day-content"]},{"is-not-in-month":!e.day.inMonth}])),k=(0,r.Fl)((()=>{let e;e=f.value.isFocusable?"0":"-1";const t=["vc-day-content vc-focusable vc-focus vc-attr",{"vc-disabled":f.value.isDisabled},Co(tv(y.value),"contentClass"),Co(tv(x.value),"class")||""],n={...Co(tv(y.value),"contentStyle"),...Co(tv(x.value),"style")};return{class:t,style:n,tabindex:e,"aria-label":f.value.ariaLabel,"aria-disabled":!!f.value.isDisabled,role:"button"}})),R=(0,r.Fl)((()=>({click(e){s(v.value,e)},mouseenter(e){l(v.value,e)},mouseleave(e){c(v.value,e)},focusin(e){u(v.value,e)},focusout(e){d(v.value,e)},keydown(e){h(v.value,e)}}))),L=(0,r.Fl)((()=>yv(T.value)?Xf({id:a.value,data:{day:f,attributes:A.value}},...T.value):null));return{attributes:m,attributeCells:p,bars:M,dayClasses:C,dayContentProps:k,dayContentEvents:R,dayPopover:L,glyphs:_,dots:w,hasDots:S,hasBars:E,highlights:y,hasHighlights:b,locale:t,popovers:T}}}),nb={key:0,class:"vc-highlights vc-day-layer"},rb={key:1,class:"vc-day-layer vc-day-box-center-bottom"},ib={class:"vc-dots"},ab={key:2,class:"vc-day-layer vc-day-box-center-bottom"},ob={class:"vc-bars"};function sb(e,t,n,i,o,s){const l=(0,r.up)("CalendarSlot"),c=(0,r.Q2)("popover");return(0,r.wg)(),(0,r.iD)("div",{class:(0,a.C_)(e.dayClasses)},[e.hasHighlights?((0,r.wg)(),(0,r.iD)("div",nb,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.highlights,(({key:e,wrapperClass:t,class:n,style:i})=>((0,r.wg)(),(0,r.iD)("div",{key:e,class:(0,a.C_)(t)},[(0,r._)("div",{class:(0,a.C_)(n),style:(0,a.j5)(i)},null,6)],2)))),128))])):(0,r.kq)("",!0),(0,r.Wm)(l,{name:"day-content",day:e.day,attributes:e.attributes,"attribute-cells":e.attributeCells,dayProps:e.dayContentProps,dayEvents:e.dayContentEvents,locale:e.locale},{default:(0,r.w5)((()=>[(0,r.wy)(((0,r.wg)(),(0,r.iD)("div",(0,r.dG)(e.dayContentProps,(0,r.mx)(e.dayContentEvents,!0)),[(0,r.Uk)((0,a.zw)(e.day.label),1)],16)),[[c,e.dayPopover]])])),_:1},8,["day","attributes","attribute-cells","dayProps","dayEvents","locale"]),e.hasDots?((0,r.wg)(),(0,r.iD)("div",rb,[(0,r._)("div",ib,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.dots,(({key:e,class:t,style:n})=>((0,r.wg)(),(0,r.iD)("span",{key:e,class:(0,a.C_)(t),style:(0,a.j5)(n)},null,6)))),128))])])):(0,r.kq)("",!0),e.hasBars?((0,r.wg)(),(0,r.iD)("div",ab,[(0,r._)("div",ob,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.bars,(({key:e,class:t,style:n})=>((0,r.wg)(),(0,r.iD)("span",{key:e,class:(0,a.C_)(t),style:(0,a.j5)(n)},null,6)))),128))])])):(0,r.kq)("",!0)],2)}const lb=vt(tb,[["render",sb]]),cb={name:"CalendarPane",inheritAttrs:!1,components:{CalendarHeader:eb,CalendarDay:lb},props:{page:{type:Object,required:!0}},setup(){const{onWeeknumberClick:e}=zy();return{onWeeknumberClick:e}}},ub={class:"vc-weekdays"},db=["onClick"];function hb(e,t,n,i,o,s){const l=(0,r.up)("CalendarHeader"),c=(0,r.up)("CalendarDay");return(0,r.wg)(),(0,r.iD)("div",{class:(0,a.C_)(["vc-pane",`row-${n.page.row}`,`row-from-end-${n.page.rowFromEnd}`,`column-${n.page.column}`,`column-from-end-${n.page.columnFromEnd}`]),ref:"pane"},[(0,r.Wm)(l,{page:n.page,"is-lg":"","hide-arrows":""},null,8,["page"]),(0,r._)("div",{class:(0,a.C_)(["vc-weeks",{[`vc-show-weeknumbers-${n.page.weeknumberPosition}`]:n.page.weeknumberPosition}])},[(0,r._)("div",ub,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.page.weekdays,(({weekday:e,label:t},n)=>((0,r.wg)(),(0,r.iD)("div",{key:n,class:(0,a.C_)(`vc-weekday vc-weekday-${e}`)},(0,a.zw)(t),3)))),128))]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.page.viewWeeks,(e=>((0,r.wg)(),(0,r.iD)("div",{key:`weeknumber-${e.weeknumber}`,class:"vc-week"},[n.page.weeknumberPosition?((0,r.wg)(),(0,r.iD)("div",{key:0,class:(0,a.C_)(["vc-weeknumber",`is-${n.page.weeknumberPosition}`])},[(0,r._)("span",{class:(0,a.C_)(["vc-weeknumber-content"]),onClick:t=>i.onWeeknumberClick(e,t)},(0,a.zw)(e.weeknumberDisplay),9,db)],2)):(0,r.kq)("",!0),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.days,(e=>((0,r.wg)(),(0,r.j4)(c,{key:e.id,day:e},null,8,["day"])))),128))])))),128))],2)],2)}const fb=vt(cb,[["render",hb]]),pb=(0,r.aZ)({name:"Popover",inheritAttrs:!1,emits:["before-show","after-show","before-hide","after-hide"],props:{id:{type:String,required:!0},showDelay:{type:Number,default:0},hideDelay:{type:Number,default:110},boundarySelector:{type:String}},setup(e,{emit:t}){let n;const a=(0,i.iH)();let o=null,s=null;const l=(0,i.qj)({isVisible:!1,target:null,data:null,transition:"slide-fade",placement:"bottom",direction:"",positionFixed:!1,modifiers:[],isInteractive:!0,visibility:"click",isHovered:!1,isFocused:!1,autoHide:!1,force:!1});function c(e){e&&(l.direction=e.split("-")[0])}function u({placement:e,options:t}){c(e||(null==t?void 0:t.placement))}const d=(0,r.Fl)((()=>({placement:l.placement,strategy:l.positionFixed?"fixed":"absolute",boundary:"",modifiers:[{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:u},...l.modifiers||[]],onFirstUpdate:u}))),h=(0,r.Fl)((()=>{const e="left"===l.direction||"right"===l.direction;let t="";if(l.placement){const e=l.placement.split("-");e.length>1&&(t=e[1])}return["start","top","left"].includes(t)?e?"top":"left":["end","bottom","right"].includes(t)?e?"bottom":"right":e?"middle":"center"}));function f(){s&&(s.destroy(),s=null)}function p(){(0,r.Y3)((()=>{const e=bv(l.target);e&&a.value&&(s&&s.state.elements.reference!==e&&f(),s?s.update():s=ht(e,a.value,d.value))}))}function m(e){Object.assign(l,Ev(e,"force"))}function v(e,t){clearTimeout(n),e>0?n=setTimeout(t,e):t()}function g(e){if(!e||!s)return!1;const t=bv(e);return t===s.state.elements.reference}async function _(n={}){l.force||(n.force&&(l.force=!0),v(n.showDelay??e.showDelay,(()=>{l.isVisible&&(l.force=!1,t("after-show")),m({...n,isVisible:!0}),p()})))}function y(t={}){s&&(t.target&&!g(t.target)||l.force||(t.force&&(l.force=!0),v(t.hideDelay??e.hideDelay,(()=>{l.isVisible||(l.force=!1),l.isVisible=!1}))))}function b(e={}){null!=e.target&&(l.isVisible&&g(e.target)?y(e):_(e))}function x(e){if(!s)return;const t=s.state.elements.reference;if(!a.value||!t)return;const n=e.target;Sv(a.value,n)||Sv(t,n)||y({force:!0})}function w(e){"Esc"!==e.key&&"Escape"!==e.key||y()}function S({detail:t}){t.id&&t.id===e.id&&_(t)}function M({detail:t}){t.id&&t.id===e.id&&y(t)}function E({detail:t}){t.id&&t.id===e.id&&b(t)}function T(){wv(document,"keydown",w),wv(document,"click",x),wv(document,"show-popover",S),wv(document,"hide-popover",M),wv(document,"toggle-popover",E)}function A(){xv(document,"keydown",w),xv(document,"click",x),xv(document,"show-popover",S),xv(document,"hide-popover",M),xv(document,"toggle-popover",E)}function C(e){t("before-show",e)}function k(e){l.force=!1,t("after-show",e)}function R(e){t("before-hide",e)}function L(e){l.force=!1,f(),t("after-hide",e)}function I(e){e.stopPropagation()}function P(){l.isHovered=!0,l.isInteractive&&["hover","hover-focus"].includes(l.visibility)&&_()}function D(){if(l.isHovered=!1,!s)return;const e=s.state.elements.reference;!l.autoHide||l.isFocused||e&&e===document.activeElement||!["hover","hover-focus"].includes(l.visibility)||y()}function O(){l.isFocused=!0,l.isInteractive&&["focus","hover-focus"].includes(l.visibility)&&_()}function N(e){!["focus","hover-focus"].includes(l.visibility)||e.relatedTarget&&Sv(a.value,e.relatedTarget)||(l.isFocused=!1,!l.isHovered&&l.autoHide&&y())}function F(){null!=o&&(o.disconnect(),o=null)}return(0,r.YP)((()=>a.value),(e=>{F(),e&&(o=new ResizeObserver((()=>{s&&s.update()})),o.observe(e))})),(0,r.YP)((()=>l.placement),c,{immediate:!0}),(0,r.bv)((()=>{T()})),(0,r.Ah)((()=>{f(),F(),A()})),{...(0,i.BK)(l),popoverRef:a,alignment:h,hide:y,setupPopper:p,beforeEnter:C,afterEnter:k,beforeLeave:R,afterLeave:L,onClick:I,onMouseOver:P,onMouseLeave:D,onFocusIn:O,onFocusOut:N}}});function mb(e,t,n,i,s,l){return(0,r.wg)(),(0,r.iD)("div",{class:(0,a.C_)(["vc-popover-content-wrapper",{"is-interactive":e.isInteractive}]),ref:"popoverRef",onClick:t[0]||(t[0]=(...t)=>e.onClick&&e.onClick(...t)),onMouseover:t[1]||(t[1]=(...t)=>e.onMouseOver&&e.onMouseOver(...t)),onMouseleave:t[2]||(t[2]=(...t)=>e.onMouseLeave&&e.onMouseLeave(...t)),onFocusin:t[3]||(t[3]=(...t)=>e.onFocusIn&&e.onFocusIn(...t)),onFocusout:t[4]||(t[4]=(...t)=>e.onFocusOut&&e.onFocusOut(...t))},[(0,r.Wm)(o.uT,{name:`vc-${e.transition}`,appear:"",onBeforeEnter:e.beforeEnter,onAfterEnter:e.afterEnter,onBeforeLeave:e.beforeLeave,onAfterLeave:e.afterLeave},{default:(0,r.w5)((()=>[e.isVisible?((0,r.wg)(),(0,r.iD)("div",(0,r.dG)({key:0,tabindex:"-1",class:`vc-popover-content direction-${e.direction}`},e.$attrs),[(0,r.WI)(e.$slots,"default",{direction:e.direction,alignment:e.alignment,data:e.data,hide:e.hide},(()=>[(0,r.Uk)((0,a.zw)(e.data),1)])),(0,r._)("span",{class:(0,a.C_)(["vc-popover-caret",`direction-${e.direction}`,`align-${e.alignment}`])},null,2)],16)):(0,r.kq)("",!0)])),_:3},8,["name","onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave"])],34)}const vb=vt(pb,[["render",mb]]),gb={value:{type:Object,required:!0}},_b=["input"],yb="__vc_calendar_nav_context__";function bb(e,{emit:t}){const n=(0,i.iH)(!0),a=(0,i.iH)(0),o=(0,i.iH)(0),s=12,l=(0,i.iH)(null),{locale:c,masks:u,canMove:d,getDateAddress:h}=zy();function f(){setTimeout((()=>{if(null==l.value)return;const e=l.value.querySelector(".vc-nav-item:not(:disabled)");e&&e.focus()}),10)}function p(e,n){t("input",{month:e,year:n},{position:C.value})}function m(e){a.value=e,n.value=!0,f()}function v(e){const{year:t}=h(new Date),n=e*s,r=n+s,i=[];for(let a=n;a<r;a+=1){let e=!1;for(let t=1;t<12;t++)if(e=d({month:t,year:a},{position:C.value}),e)break;i.push({year:a,id:a.toString(),label:a.toString(),ariaLabel:a.toString(),isActive:a===A.value,isCurrent:a===t,isDisabled:!e,click:()=>m(a)})}return i}function g(e){const{month:t,year:n}=h(new Date);return K_().map(((r,i)=>{const a=i+1;return{month:a,year:e,id:`${e}.${gv(a,2)}`,label:c.value.formatDate(r,u.value.navMonths),ariaLabel:c.value.formatDate(r,"MMMM YYYY"),isActive:a===T.value&&e===A.value,isCurrent:a===t&&e===n,isDisabled:!d({month:a,year:e},{position:C.value}),click:()=>p(a,e)}}))}function _(e){return Math.floor(e/s)}function y(){n.value=!n.value}function b(){N.value&&(n.value&&w(),M())}function x(){V.value&&(n.value&&S(),E())}function w(){a.value--}function S(){a.value++}function M(){o.value--}function E(){o.value++}const T=(0,r.Fl)((()=>{var t;return(null==(t=e.value)?void 0:t.month)||0})),A=(0,r.Fl)((()=>{var t;return(null==(t=e.value)?void 0:t.year)||0})),C=(0,r.Fl)((()=>{var t;return(null==(t=e.value)?void 0:t.position)||1})),k=(0,r.Fl)((()=>g(a.value))),R=(0,r.Fl)((()=>v(o.value))),L=(0,r.Fl)((()=>Qm(R.value.map((e=>e.year))))),I=(0,r.Fl)((()=>tv(R.value.map((e=>e.year))))),P=(0,r.Fl)((()=>n.value?a.value:`${L.value} - ${I.value}`)),D=(0,r.Fl)((()=>g(a.value-1).some((e=>!e.isDisabled)))),O=(0,r.Fl)((()=>v(o.value-1).some((e=>!e.isDisabled)))),N=(0,r.Fl)((()=>n.value?D.value:O.value)),F=(0,r.Fl)((()=>g(a.value+1).some((e=>!e.isDisabled)))),B=(0,r.Fl)((()=>v(o.value+1).some((e=>!e.isDisabled)))),V=(0,r.Fl)((()=>n.value?F.value:B.value)),U=(0,r.Fl)((()=>n.value?k.value:R.value));(0,r.YP)((()=>A.value),(()=>{a.value=A.value})),(0,r.YP)((()=>a.value),(e=>{o.value=_(e)})),a.value=A.value,(0,r.bv)((()=>f()));const z={navContainer:l,title:P,monthMode:n,currentMonth:T,currentYear:A,activeItems:U,prevItemsEnabled:N,nextItemsEnabled:V,toggleMode:y,movePrev:b,moveNext:x,movePrevYear:w,moveNextYear:S,movePrevYearGroup:M,moveNextYearGroup:E};return(0,r.JJ)(yb,z),z}const xb={class:"vc-nav-header"},wb=["disabled"],Sb=["disabled"],Mb={class:"vc-nav-items"},Eb=["data-id","aria-label","disabled","onClick","onKeydown"],Tb=(0,r.aZ)({__name:"CalendarNav",props:gb,emits:_b,setup(e,{emit:t}){const n=e,{navContainer:o,title:s,prevItemsEnabled:l,nextItemsEnabled:c,activeItems:u,toggleMode:d,movePrev:h,moveNext:f}=bb(n,{emit:t});return(e,t)=>((0,r.wg)(),(0,r.iD)("div",{class:"vc-nav-container",ref_key:"navContainer",ref:o},[(0,r._)("div",xb,[(0,r._)("button",{type:"button",class:"vc-nav-arrow is-left vc-focus",disabled:!(0,i.SU)(l),onClick:t[0]||(t[0]=(...e)=>(0,i.SU)(h)&&(0,i.SU)(h)(...e)),onKeydown:t[1]||(t[1]=e=>(0,i.SU)(Mv)(e,(0,i.SU)(h)))},[(0,r.Wm)(Wy,{name:"nav-prev-button",move:(0,i.SU)(h),disabled:!(0,i.SU)(l)},{default:(0,r.w5)((()=>[(0,r.Wm)(Ht,{name:"ChevronLeft",width:"22px",height:"24px"})])),_:1},8,["move","disabled"])],40,wb),(0,r._)("button",{type:"button",class:"vc-nav-title vc-focus",onClick:t[2]||(t[2]=(...e)=>(0,i.SU)(d)&&(0,i.SU)(d)(...e)),onKeydown:t[3]||(t[3]=e=>(0,i.SU)(Mv)(e,(0,i.SU)(d)))},(0,a.zw)((0,i.SU)(s)),33),(0,r._)("button",{type:"button",class:"vc-nav-arrow is-right vc-focus",disabled:!(0,i.SU)(c),onClick:t[4]||(t[4]=(...e)=>(0,i.SU)(f)&&(0,i.SU)(f)(...e)),onKeydown:t[5]||(t[5]=e=>(0,i.SU)(Mv)(e,(0,i.SU)(f)))},[(0,r.Wm)(Wy,{name:"nav-next-button",move:(0,i.SU)(f),disabled:!(0,i.SU)(c)},{default:(0,r.w5)((()=>[(0,r.Wm)(Ht,{name:"ChevronRight",width:"22px",height:"24px"})])),_:1},8,["move","disabled"])],40,Sb)]),(0,r._)("div",Mb,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,i.SU)(u),(e=>((0,r.wg)(),(0,r.iD)("button",{key:e.label,type:"button","data-id":e.id,"aria-label":e.ariaLabel,class:(0,a.C_)(["vc-nav-item vc-focus",[e.isActive?"is-active":e.isCurrent?"is-current":""]]),disabled:e.isDisabled,onClick:e.click,onKeydown:t=>(0,i.SU)(Mv)(t,e.click)},(0,a.zw)(e.label),43,Eb)))),128))])],512))}}),Ab={__name:"CalendarNavPopover",setup(e){const{navPopoverId:t,color:n,displayMode:o,navPopoverRef:s,move:l}=zy();return(e,c)=>((0,r.wg)(),(0,r.j4)(vb,{id:(0,i.SU)(t),class:(0,a.C_)(["vc-nav-popover-container",`vc-${(0,i.SU)(n)}`,`vc-${(0,i.SU)(o)}`]),ref_key:"navPopoverRef",ref:s},{default:(0,r.w5)((({data:e})=>[(0,r.Wm)(Tb,{value:e.page,onInput:(0,i.SU)(l)},null,8,["value","onInput"])])),_:1},8,["id","class"]))}},Cb=(0,r.aZ)({name:"PopoverRow",props:{attribute:{type:Object,required:!0}},setup(e){const t=(0,r.Fl)((()=>{const{content:t,highlight:n,dot:r,bar:i,popover:a}=e.attribute;return a&&a.hideIndicator?null:t?{class:`vc-bar vc-day-popover-row-bar vc-attr vc-${t.base.color}`}:n?{class:`vc-highlight-bg-solid vc-day-popover-row-highlight vc-attr vc-${n.base.color}`}:r?{class:`vc-dot vc-attr vc-${r.base.color}`}:i?{class:`vc-bar vc-day-popover-row-bar vc-attr vc-${i.base.color}`}:null}));return{indicator:t}}}),kb={class:"vc-day-popover-row"},Rb={key:0,class:"vc-day-popover-row-indicator"},Lb={class:"vc-day-popover-row-label"};function Ib(e,t,n,i,o,s){return(0,r.wg)(),(0,r.iD)("div",kb,[e.indicator?((0,r.wg)(),(0,r.iD)("div",Rb,[(0,r._)("span",{class:(0,a.C_)(e.indicator.class)},null,2)])):(0,r.kq)("",!0),(0,r._)("div",Lb,[(0,r.WI)(e.$slots,"default",{},(()=>[(0,r.Uk)((0,a.zw)(e.attribute.popover?e.attribute.popover.label:"No content provided"),1)]))])])}const Pb=vt(Cb,[["render",Ib]]),Db={class:"vc-day-popover-container"},Ob={key:0,class:"vc-day-popover-header"},Nb=(0,r.aZ)({__name:"CalendarDayPopover",setup(e){const{dayPopoverId:t,displayMode:n,color:o,masks:s,locale:l}=zy();function c(e,t){return l.value.formatDate(e,t)}function u(e){return l.value.formatDate(e.date,s.value.dayPopover)}return(e,l)=>((0,r.wg)(),(0,r.j4)(vb,{id:(0,i.SU)(t),class:(0,a.C_)([`vc-${(0,i.SU)(o)}`,`vc-${(0,i.SU)(n)}`])},{default:(0,r.w5)((({data:{day:t,attributes:n},hide:o})=>[(0,r.WI)(e.$slots,"default",{day:t,dayTitle:u(t),attributes:n,format:c,masks:(0,i.SU)(s),hide:o},(()=>[(0,r._)("div",Db,[(0,i.SU)(s).dayPopover?((0,r.wg)(),(0,r.iD)("div",Ob,(0,a.zw)(u(t)),1)):(0,r.kq)("",!0),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n,(e=>((0,r.wg)(),(0,r.j4)(Pb,{key:e.key,attribute:e},null,8,["attribute"])))),128))])]))])),_:3},8,["id","class"]))}}),Fb=(0,r.aZ)({name:"Calendar",components:{CalendarHeader:eb,CalendarPane:fb,CalendarNavPopover:Ab,CalendarDayPopover:Nb},emits:By,props:Fy,setup(e,{emit:t,slots:n}){return Uy(e,{emit:t,slots:n})}}),Bb={class:"vc-pane-header-wrapper"};function Vb(e,t,n,i,s,l){const c=(0,r.up)("CalendarHeader"),u=(0,r.up)("CalendarPane"),d=(0,r.up)("CalendarDayPopover"),h=(0,r.up)("CalendarNavPopover");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",(0,r.dG)({"data-helptext":"Press the arrow keys to navigate by day, Home and End to navigate to week ends, PageUp and PageDown to navigate by month, Alt+PageUp and Alt+PageDown to navigate by year"},e.$attrs,{class:["vc-container",`vc-${e.view}`,`vc-${e.color}`,`vc-${e.displayMode}`,{"vc-expanded":e.expanded,"vc-bordered":!e.borderless,"vc-transparent":e.transparent}],onMouseup:t[0]||(t[0]=(0,o.iM)((()=>{}),["prevent"])),ref:"containerRef"}),[(0,r._)("div",{class:(0,a.C_)(["vc-pane-container",{"in-transition":e.inTransition}])},[(0,r._)("div",Bb,[e.firstPage?((0,r.wg)(),(0,r.j4)(c,{key:0,page:e.firstPage,"is-lg":"","hide-title":""},null,8,["page"])):(0,r.kq)("",!0)]),(0,r.Wm)(o.uT,{name:`vc-${e.transitionName}`,onBeforeEnter:e.onTransitionBeforeEnter,onAfterEnter:e.onTransitionAfterEnter},{default:(0,r.w5)((()=>[((0,r.wg)(),(0,r.iD)("div",{key:e.pages[0].id,class:"vc-pane-layout",style:(0,a.j5)({gridTemplateColumns:`repeat(${e.columns}, 1fr)`})},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.pages,(e=>((0,r.wg)(),(0,r.j4)(u,{key:e.id,page:e},null,8,["page"])))),128))],4))])),_:1},8,["name","onBeforeEnter","onAfterEnter"]),(0,r.WI)(e.$slots,"footer")],2)],16),(0,r.Wm)(d,null,{default:(0,r.w5)((t=>[(0,r.WI)(e.$slots,"day-popover",(0,a.vs)((0,r.F4)(t)))])),_:3}),(0,r.Wm)(h)],64)}const Ub=vt(Fb,[["render",Vb]]),zb={class:"vc-base-select"},Hb=["value"],Wb=["value","disabled"],jb={inheritAttrs:!1},Gb=Object.assign(jb,{__name:"BaseSelect",props:{options:Array,modelValue:null,alignRight:Boolean,alignLeft:Boolean,showIcon:Boolean,small:Boolean},emits:["update:modelValue"],setup(e){return(t,n)=>((0,r.wg)(),(0,r.iD)("div",zb,[e.showIcon?((0,r.wg)(),(0,r.j4)(Ht,{key:0,name:"ChevronDown",size:e.small?"16":"18"},null,8,["size"])):(0,r.kq)("",!0),(0,r._)("select",(0,r.dG)(t.$attrs,{value:e.modelValue,class:["vc-focus",{"vc-has-icon":e.showIcon,"vc-align-right":e.alignRight,"vc-align-left":e.alignLeft,"vc-small":e.small}],onChange:n[0]||(n[0]=e=>t.$emit("update:modelValue",e.target.value))}),[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.options,(e=>((0,r.wg)(),(0,r.iD)("option",{key:e.value,value:e.value,disabled:e.disabled},(0,a.zw)(e.label),9,Wb)))),128))],16,Hb)]))}}),Yb="__vc_date_picker_context__",$b={...Ry,mode:{type:String,default:"date"},modelValue:{type:[Number,String,Date,Object]},modelModifiers:{type:Object,default:()=>({})},rules:[String,Object],is24hr:Boolean,hideTimeHeader:Boolean,timeAccuracy:{type:Number,default:2},isRequired:Boolean,isRange:Boolean,updateOnInput:{type:Boolean,default:()=>lg("datePicker.updateOnInput")},inputDebounce:{type:Number,default:()=>lg("datePicker.inputDebounce")},popover:{type:[Boolean,Object],default:!0},dragAttribute:Object,selectAttribute:Object,attributes:[Object,Array]},qb=["update:modelValue","drag","dayclick","daykeydown","popover-will-show","popover-did-show","popover-will-hide","popover-did-hide"];function Xb(e,t){const n=Ly(e),{locale:a,masks:o,disabledAttribute:s}=n,{emit:l}=t,c=(0,i.iH)(!1),u=(0,i.iH)(Cv()),d=(0,i.iH)(null),h=(0,i.iH)(null),f=(0,i.iH)(["",""]),p=(0,i.iH)(null),m=(0,i.iH)(null);let v,g,_=!0;const y=(0,r.Fl)((()=>e.isRange||!0===e.modelModifiers.range)),b=(0,r.Fl)((()=>y.value&&null!=d.value?d.value.start:null)),x=(0,r.Fl)((()=>y.value&&null!=d.value?d.value.end:null)),w=(0,r.Fl)((()=>"date"===e.mode.toLowerCase())),S=(0,r.Fl)((()=>"datetime"===e.mode.toLowerCase())),M=(0,r.Fl)((()=>"time"===e.mode.toLowerCase())),E=(0,r.Fl)((()=>!!h.value)),T=(0,r.Fl)((()=>{let t="date";e.modelModifiers.number&&(t="number"),e.modelModifiers.string&&(t="string");const n=o.value.modelValue||"iso";return z({type:t,mask:n})})),A=(0,r.Fl)((()=>re(h.value??d.value))),C=(0,r.Fl)((()=>M.value?e.is24hr?o.value.inputTime24hr:o.value.inputTime:S.value?e.is24hr?o.value.inputDateTime24hr:o.value.inputDateTime:o.value.input)),k=(0,r.Fl)((()=>/[Hh]/g.test(C.value))),R=(0,r.Fl)((()=>/[dD]{1,2}|Do|W{1,4}|M{1,4}|YY(?:YY)?/g.test(C.value))),L=(0,r.Fl)((()=>k.value&&R.value?"dateTime":R.value?"date":k.value?"time":void 0)),I=(0,r.Fl)((()=>{var t;const n=(null==(t=p.value)?void 0:t.$el.previousElementSibling)??void 0;return Nm({},e.popover,lg("datePicker.popover"),{target:n})})),P=(0,r.Fl)((()=>$y({...I.value,id:u.value}))),D=(0,r.Fl)((()=>y.value?{start:f.value[0],end:f.value[1]}:f.value[0])),O=(0,r.Fl)((()=>{const t=["start","end"].map((t=>({input:ee(t),change:te(t),keyup:ne,...e.popover&&P.value})));return y.value?{start:t[0],end:t[1]}:t[0]})),N=(0,r.Fl)((()=>{if(!j(d.value))return null;const t={key:"select-drag",...e.selectAttribute,dates:d.value,pinPage:!0},{dot:n,bar:r,highlight:i,content:a}=t;return n||r||i||a||(t.highlight=!0),t})),F=(0,r.Fl)((()=>{if(!y.value||!j(h.value))return null;const t={key:"select-drag",...e.dragAttribute,dates:h.value},{dot:n,bar:r,highlight:i,content:a}=t;return n||r||i||a||(t.highlight={startEnd:{fillMode:"outline"}}),t})),B=(0,r.Fl)((()=>{const t=_v(e.attributes)?[...e.attributes]:[];return F.value?t.unshift(F.value):N.value&&t.unshift(N.value),t})),V=(0,r.Fl)((()=>z("auto"===e.rules?U():e.rules??{})));function U(){const t={ms:[0,999],sec:[0,59],min:[0,59],hr:[0,23]},n=w.value?0:e.timeAccuracy;return[0,1].map((e=>{switch(n){case 0:return{hours:t.hr[e],minutes:t.min[e],seconds:t.sec[e],milliseconds:t.ms[e]};case 1:return{minutes:t.min[e],seconds:t.sec[e],milliseconds:t.ms[e]};case 3:return{milliseconds:t.ms[e]};case 4:return{};default:return{seconds:t.sec[e],milliseconds:t.ms[e]}}}))}function z(e){return _v(e)?1===e.length?[e[0],e[0]]:e:[e,e]}function H(e){return z(e).map(((e,t)=>({...e,rules:V.value[t]})))}function W(e){return Jn(e)?!isNaN(e):fv(e)?!isNaN(e.getTime()):Hn(e)?""!==e:null!=e}function j(e){return y.value?pv(e)&&W(e.start)&&W(e.end):W(e)}function G(e,t){const n=fv(e),r=fv(t);return!n&&!r||n===r&&e.getTime()===t.getTime()}function Y(e,t){if(y.value){const n=j(e),r=j(t);return!n&&!r||n===r&&(G(e.start,t.start)&&G(e.end,t.end))}return G(e,t)}function $(e){return!(!j(e)||!s.value)&&s.value.intersectsRange(a.value.range(e))}function q(e,t,n,r){if(!j(e))return null;if(y.value){const i=a.value.toDate(e.start,{...t[0],fillDate:b.value??void 0,patch:n}),o=a.value.toDate(e.end,{...t[1],fillDate:x.value??void 0,patch:n});return ve({start:i,end:o},r)}return a.value.toDateOrNull(e,{...t[0],fillDate:d.value,patch:n})}function X(e,t){return y.value?j(e)?{start:a.value.fromDate(e.start,t[0]),end:a.value.fromDate(e.end,t[1])}:null:a.value.fromDate(e,t[0])}function Z(e,t={}){return clearTimeout(v),new Promise((n=>{const{debounce:r=0,...i}=t;r>0?v=window.setTimeout((()=>{n(K(e,i))}),r):n(K(e,i))}))}function K(t,{config:n=T.value,patch:i="dateTime",clearIfEqual:a=!1,formatInput:o=!0,hidePopover:s=!1,dragging:c=E.value,targetPriority:u,moveToValue:f=!1}={}){const p=H(n);let m=q(t,p,i,u);const v=$(m);if(v){if(c)return null;m=d.value,s=!1}else null==m&&e.isRequired?m=d.value:null!=m&&Y(d.value,m)&&a&&(m=null);const g=c?h:d,y=!Y(g.value,m);g.value=m,c||(h.value=null);const b=X(m,T.value);return y&&(_=!1,l(c?"drag":"update:modelValue",b),(0,r.Y3)((()=>_=!0))),s&&!c&&pe(),o&&J(),f&&(0,r.Y3)((()=>be(u??"start"))),b}function J(){(0,r.Y3)((()=>{const e=H({type:"string",mask:C.value}),t=X(h.value||d.value,e);y.value?f.value=[t&&t.start,t&&t.end]:f.value=[t,""]}))}function Q(e,t,n){f.value.splice("start"===t?0:1,1,e);const r=y.value?{start:f.value[0],end:f.value[1]||f.value[0]}:e,i={type:"string",mask:C.value};Z(r,{...n,config:i,patch:L.value,targetPriority:t,moveToValue:!0})}function ee(t){return n=>{e.updateOnInput&&Q(n.currentTarget.value,t,{formatInput:!1,hidePopover:!1,debounce:e.inputDebounce})}}function te(e){return t=>{Q(t.currentTarget.value,e,{formatInput:!0,hidePopover:!1})}}function ne(e){"Escape"===e.key&&Z(d.value,{formatInput:!0,hidePopover:!0})}function re(e){return y.value?[e&&e.start?a.value.getDateParts(e.start):null,e&&e.end?a.value.getDateParts(e.end):null]:[e?a.value.getDateParts(e):null]}function ie(){h.value=null,J()}function ae(e){l("popover-will-show",e)}function oe(e){l("popover-did-show",e)}function se(e){ie(),l("popover-will-hide",e)}function le(e){l("popover-did-hide",e)}function ce(t){const n={patch:"date",formatInput:!0,hidePopover:!0};if(y.value){const e=!E.value;e?g={start:t.startDate,end:t.endDate}:null!=g&&(g.end=t.date),Z(g,{...n,dragging:e})}else Z(t.date,{...n,clearIfEqual:!e.isRequired})}function ue(e,t){ce(e),l("dayclick",e,t)}function de(e,t){switch(t.key){case" ":case"Enter":ce(e),t.preventDefault();break;case"Escape":pe()}l("daykeydown",e,t)}function he(e,t){E.value&&null!=g&&(g.end=e.date,Z(ve(g),{patch:"date",formatInput:!0}))}function fe(e={}){jy({...I.value,...e,isInteractive:!0,id:u.value})}function pe(e={}){Gy({hideDelay:10,force:!0,...I.value,...e,id:u.value})}function me(e){Yy({...I.value,...e,isInteractive:!0,id:u.value})}function ve(e,t){const{start:n,end:r}=e;if(n>r)switch(t){case"start":return{start:n,end:n};case"end":return{start:r,end:r};default:return{start:r,end:n}}return{start:n,end:r}}function ge(e){if(j(d.value)){const t=y.value?e?b.value:x.value:d.value;return uy(t,"monthly",a.value)}return null}async function _e(e,t={}){return null!=m.value&&m.value.move(e,t)}async function ye(e,t={}){return null!=m.value&&m.value.moveBy(e,t)}async function be(e,t={}){if(null==m.value)return!1;const{firstPage:n,lastPage:r,move:i}=m.value,a="end"!==e,o=ge(a),s=a?1:-1;return!(!o||my(o,n,r))&&i(o,{position:s,...t})}(0,r.YP)((()=>e.isRange),(e=>{e&&console.warn("The `is-range` prop will be deprecated in future releases. Please use the `range` modifier.")}),{immediate:!0}),(0,r.YP)((()=>C.value),(()=>J())),(0,r.YP)((()=>e.modelValue),(e=>{_&&K(e,{formatInput:!0,hidePopover:!1})})),(0,r.YP)((()=>V.value),(()=>{pv(e.rules)&&K(e.modelValue,{formatInput:!0,hidePopover:!1})})),(0,r.YP)((()=>e.timezone),(()=>{K(d.value,{formatInput:!0})}));const xe=z(T.value);d.value=q(e.modelValue,xe,"dateTime"),(0,r.bv)((()=>{K(e.modelValue,{formatInput:!0,hidePopover:!1})})),(0,r.Y3)((()=>c.value=!0));const we={...n,showCalendar:c,datePickerPopoverId:u,popoverRef:p,popoverEvents:P,calendarRef:m,isRange:y,isTimeMode:M,isDateTimeMode:S,is24hr:(0,i.Vh)(e,"is24hr"),hideTimeHeader:(0,i.Vh)(e,"hideTimeHeader"),timeAccuracy:(0,i.Vh)(e,"timeAccuracy"),isDragging:E,inputValue:D,inputEvents:O,dateParts:A,attributes:B,rules:V,move:_e,moveBy:ye,moveToValue:be,updateValue:Z,showPopover:fe,hidePopover:pe,togglePopover:me,onDayClick:ue,onDayKeydown:de,onDayMouseEnter:he,onPopoverBeforeShow:ae,onPopoverAfterShow:oe,onPopoverBeforeHide:se,onPopoverAfterHide:le};return(0,r.JJ)(Yb,we),we}function Zb(){const e=(0,r.f3)(Yb);if(e)return e;throw new Error("DatePicker context missing. Please verify this component is nested within a valid context provider.")}const Kb=[{value:0,label:"12"},{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"6"},{value:7,label:"7"},{value:8,label:"8"},{value:9,label:"9"},{value:10,label:"10"},{value:11,label:"11"}],Jb=[{value:12,label:"12"},{value:13,label:"1"},{value:14,label:"2"},{value:15,label:"3"},{value:16,label:"4"},{value:17,label:"5"},{value:18,label:"6"},{value:19,label:"7"},{value:20,label:"8"},{value:21,label:"9"},{value:22,label:"10"},{value:23,label:"11"}];function Qb(e){const t=Zb(),{locale:n,isRange:i,isTimeMode:a,dateParts:o,rules:s,is24hr:l,hideTimeHeader:c,timeAccuracy:u,updateValue:d}=t;function h(e){e=Object.assign(p.value,e);let t=null;if(i.value){const n=f.value?e:o.value[0],r=f.value?o.value[1]:e;t={start:n,end:r}}else t=e;d(t,{patch:"time",targetPriority:f.value?"start":"end",moveToValue:!0})}const f=(0,r.Fl)((()=>0===e.position)),p=(0,r.Fl)((()=>o.value[e.position]||{isValid:!1})),m=(0,r.Fl)((()=>N_(p.value))),v=(0,r.Fl)((()=>!!p.value.isValid)),g=(0,r.Fl)((()=>!c.value&&v.value)),_=(0,r.Fl)((()=>{if(!m.value)return null;let e=n.value.toDate(p.value);return 24===p.value.hours&&(e=new Date(e.getTime()-1)),e})),y=(0,r.Fl)({get(){return p.value.hours},set(e){h({hours:e})}}),b=(0,r.Fl)({get(){return p.value.minutes},set(e){h({minutes:e})}}),x=(0,r.Fl)({get(){return p.value.seconds},set(e){h({seconds:e})}}),w=(0,r.Fl)({get(){return p.value.milliseconds},set(e){h({milliseconds:e})}}),S=(0,r.Fl)({get(){return p.value.hours<12},set(e){e="true"==String(e).toLowerCase();let t=y.value;e&&t>=12?t-=12:!e&&t<12&&(t+=12),h({hours:t})}}),M=(0,r.Fl)((()=>ty(p.value,s.value[e.position]))),E=(0,r.Fl)((()=>Kb.filter((e=>M.value.hours.some((t=>t.value===e.value)))))),T=(0,r.Fl)((()=>Jb.filter((e=>M.value.hours.some((t=>t.value===e.value)))))),A=(0,r.Fl)((()=>l.value?M.value.hours:S.value?E.value:T.value)),C=(0,r.Fl)((()=>{const e=[];return yv(E.value)&&e.push({value:!0,label:"AM"}),yv(T.value)&&e.push({value:!1,label:"PM"}),e}));return{...t,showHeader:g,timeAccuracy:u,parts:p,isValid:v,date:_,hours:y,minutes:b,seconds:x,milliseconds:w,options:M,hourOptions:A,isAM:S,isAMOptions:C,is24hr:l}}const ex={key:0,class:"vc-time-header"},tx={class:"vc-time-weekday"},nx={class:"vc-time-month"},rx={class:"vc-time-day"},ix={class:"vc-time-year"},ax={class:"vc-time-select-group"},ox=(0,r._)("span",{class:"vc-time-colon"},":",-1),sx=(0,r._)("span",{class:"vc-time-colon"},":",-1),lx=(0,r._)("span",{class:"vc-time-decimal"},".",-1),cx=(0,r.aZ)({__name:"TimePicker",props:{position:null},setup(e,{expose:t}){const n=e,o=Qb(n);t(o);const{locale:s,isValid:l,date:c,hours:u,minutes:d,seconds:h,milliseconds:f,options:p,hourOptions:m,isTimeMode:v,isAM:g,isAMOptions:_,is24hr:y,showHeader:b,timeAccuracy:x}=o;return(e,t)=>((0,r.wg)(),(0,r.iD)("div",{class:(0,a.C_)(["vc-time-picker",[{"vc-invalid":!(0,i.SU)(l),"vc-attached":!(0,i.SU)(v)}]])},[(0,r.WI)(e.$slots,"time-header",{},(()=>[(0,i.SU)(b)&&(0,i.SU)(c)?((0,r.wg)(),(0,r.iD)("div",ex,[(0,r._)("span",tx,(0,a.zw)((0,i.SU)(s).formatDate((0,i.SU)(c),"WWW")),1),(0,r._)("span",nx,(0,a.zw)((0,i.SU)(s).formatDate((0,i.SU)(c),"MMM")),1),(0,r._)("span",rx,(0,a.zw)((0,i.SU)(s).formatDate((0,i.SU)(c),"D")),1),(0,r._)("span",ix,(0,a.zw)((0,i.SU)(s).formatDate((0,i.SU)(c),"YYYY")),1)])):(0,r.kq)("",!0)])),(0,r._)("div",ax,[(0,r.Wm)(Ht,{name:"Clock",size:"17"}),(0,r.Wm)(Gb,{modelValue:(0,i.SU)(u),"onUpdate:modelValue":t[0]||(t[0]=e=>(0,i.dq)(u)?u.value=e:null),modelModifiers:{number:!0},options:(0,i.SU)(m),"align-right":""},null,8,["modelValue","options"]),(0,i.SU)(x)>1?((0,r.wg)(),(0,r.iD)(r.HY,{key:0},[ox,(0,r.Wm)(Gb,{modelValue:(0,i.SU)(d),"onUpdate:modelValue":t[1]||(t[1]=e=>(0,i.dq)(d)?d.value=e:null),modelModifiers:{number:!0},options:(0,i.SU)(p).minutes,"align-left":2===(0,i.SU)(x)},null,8,["modelValue","options","align-left"])],64)):(0,r.kq)("",!0),(0,i.SU)(x)>2?((0,r.wg)(),(0,r.iD)(r.HY,{key:1},[sx,(0,r.Wm)(Gb,{modelValue:(0,i.SU)(h),"onUpdate:modelValue":t[2]||(t[2]=e=>(0,i.dq)(h)?h.value=e:null),modelModifiers:{number:!0},options:(0,i.SU)(p).seconds,"align-left":3===(0,i.SU)(x)},null,8,["modelValue","options","align-left"])],64)):(0,r.kq)("",!0),(0,i.SU)(x)>3?((0,r.wg)(),(0,r.iD)(r.HY,{key:2},[lx,(0,r.Wm)(Gb,{modelValue:(0,i.SU)(f),"onUpdate:modelValue":t[3]||(t[3]=e=>(0,i.dq)(f)?f.value=e:null),modelModifiers:{number:!0},options:(0,i.SU)(p).milliseconds,"align-left":""},null,8,["modelValue","options"])],64)):(0,r.kq)("",!0),(0,i.SU)(y)?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(Gb,{key:3,modelValue:(0,i.SU)(g),"onUpdate:modelValue":t[4]||(t[4]=e=>(0,i.dq)(g)?g.value=e:null),options:(0,i.SU)(_)},null,8,["modelValue","options"]))])],2))}}),ux=(0,r.aZ)({name:"DatePicker",inheritAttrs:!1,emits:qb,props:$b,setup(e,t){const n=Xb(e,t),{slots:a,attrs:o}=t,{isTimeMode:s,isRange:l,isDateTimeMode:c,color:u,displayMode:d,dateParts:h,datePickerPopoverId:f,attributes:p,calendarRef:m,popoverRef:v,showCalendar:g,onDayClick:_,onDayMouseEnter:y,onDayKeydown:b,onPopoverBeforeShow:x,onPopoverAfterShow:w,onPopoverBeforeHide:S,onPopoverAfterHide:M}=n;t.expose(n);const E=(0,i.qj)(Ev(n,"calendarRef","popoverRef")),T=()=>{const e=l.value?[0,1]:[0];return e.map((e=>(0,r.h)(cx,{position:e})))},A=()=>{if(!h.value)return null;const e=c.value?{...a,footer:T}:a;return(0,r.h)(Ub,{...o,attributes:p.value,ref:m,onDayclick:_,onDaymouseenter:y,onDaykeydown:b},e)},C=()=>s.value?(0,r.h)("div",{class:`vc-container vc-bordered vc-${u.value} vc-${d.value}`},[T()]):g.value?A():void 0;return a.default?()=>[a.default(E),(0,r.h)(vb,{id:f.value,placement:"bottom-start",class:`vc-date-picker-content vc-${u.value} vc-${d.value}`,ref:v,"onBefore-show":x,"onAfter-show":w,"onBefore-hide":S,"onAfter-hide":M},{default:C})]:C}}),dx=Object.freeze(Object.defineProperty({__proto__:null,Calendar:Ub,DatePicker:ux,Popover:vb,PopoverRow:Pb},Symbol.toStringTag,{value:"Module"})),hx=(e,t={})=>{e.use(cg,t);const n=e.config.globalProperties.$VCalendar.componentPrefix;for(const r in dx){const t=dx[r];e.component(`${n}${t.name}`,t)}},fx={install:hx}},8226:function(e,t,n){"use strict";n.d(t,{zv:function(){return pt}});n(7658),n(1703),n(8675),n(3408),n(4590);var r,i=n(4870),a=n(3396),o=Object.defineProperty,s=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,l=(e,t,n)=>(s(e,"symbol"!=typeof t?t+"":t,n),n);const c=typeof window<"u",u=e=>"string"==typeof e,d=()=>{};function h(e){return"function"==typeof e?e():(0,i.SU)(e)}function f(e,t=!1,n="Timeout"){return new Promise(((r,i)=>{setTimeout(t?()=>i(n):r,e)}))}function p(e){return e}function m(e,...t){return t.some((t=>t in e))}function v(){const e=[],t=t=>{const n=e.indexOf(t);-1!==n&&e.splice(n,1)};return{on:n=>(e.push(n),{off:()=>t(n)}),off:t,trigger:t=>{e.forEach((e=>e(t)))}}}function g(e){return!!(0,i.nZ)()&&((0,i.EB)(e),!0)}function _(e){return"function"==typeof e?(0,a.Fl)(e):(0,i.iH)(e)}function y(e,t=!1){function n(n,{flush:r="sync",deep:i=!1,timeout:o,throwOnTimeout:s}={}){let l=null;const c=[new Promise((o=>{l=(0,a.YP)(e,(e=>{n(e)!==t&&(null==l||l(),o(e))}),{flush:r,deep:i,immediate:!0})}))];return null!=o&&c.push(f(o,s).then((()=>h(e))).finally((()=>null==l?void 0:l()))),Promise.race(c)}function r(r,o){if(!(0,i.dq)(r))return n((e=>e===r),o);const{flush:s="sync",deep:l=!1,timeout:c,throwOnTimeout:u}=null!=o?o:{};let d=null;const p=[new Promise((n=>{d=(0,a.YP)([e,r],(([e,r])=>{t!==(e===r)&&(null==d||d(),n(e))}),{flush:s,deep:l,immediate:!0})}))];return null!=c&&p.push(f(c,u).then((()=>h(e))).finally((()=>(null==d||d(),h(e))))),Promise.race(p)}function o(e){return n((e=>Boolean(e)),e)}function s(e){return r(null,e)}function l(e){return r(void 0,e)}function c(e){return n(Number.isNaN,e)}function u(e,t){return n((t=>{const n=Array.from(t);return n.includes(e)||n.includes(h(e))}),t)}function d(e){return p(1,e)}function p(e=1,t){let r=-1;return n((()=>(r+=1,r>=e)),t)}return Array.isArray(h(e))?{toMatch:n,toContains:u,changed:d,changedTimes:p,get not(){return y(e,!t)}}:{toMatch:n,toBe:r,toBeTruthy:o,toBeNull:s,toBeNaN:c,toBeUndefined:l,changed:d,changedTimes:p,get not(){return y(e,!t)}}}function b(e){return y(e)}function x(e,t,n={}){const{immediate:r=!0}=n,a=(0,i.iH)(!1);let o=null;function s(){o&&(clearTimeout(o),o=null)}function l(){a.value=!1,s()}function u(...n){s(),a.value=!0,o=setTimeout((()=>{a.value=!1,o=null,e(...n)}),h(t))}return r&&(a.value=!0,c&&u()),g(l),{isPending:a,start:u,stop:l}}function w(e){var t;const n=h(e);return null!=(t=null==n?void 0:n.$el)?t:n}c&&(null==(r=null==window?void 0:window.navigator)?void 0:r.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);const S=c?window:void 0;function M(...e){let t,n,r,i;if(u(e[0])||Array.isArray(e[0])?([n,r,i]=e,t=S):[t,n,r,i]=e,!t)return d;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const o=[],s=()=>{o.forEach((e=>e())),o.length=0},l=(e,t,n)=>(e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)),c=(0,a.YP)((()=>w(t)),(e=>{s(),e&&o.push(...n.flatMap((t=>r.map((n=>l(e,t,n))))))}),{immediate:!0,flush:"post"}),h=()=>{c(),s()};return g(h),h}const E=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},T="__vueuse_ssr_handlers__";function A(e,t={}){const{immediate:n=!0,window:r=S}=t,a=(0,i.iH)(!1);let o=null;function s(){!a.value||!r||(e(),o=r.requestAnimationFrame(s))}function l(){!a.value&&r&&(a.value=!0,s())}function c(){a.value=!1,null!=o&&r&&(r.cancelAnimationFrame(o),o=null)}return n&&l(),g(c),{isActive:a,pause:c,resume:l}}E[T]=E[T]||{},E[T];var C=Object.defineProperty,k=Object.defineProperties,R=Object.getOwnPropertyDescriptors,L=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,D=(e,t,n)=>t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,O=(e,t)=>{for(var n in t||(t={}))I.call(t,n)&&D(e,n,t[n]);if(L)for(var n of L(t))P.call(t,n)&&D(e,n,t[n]);return e},N=(e,t)=>k(e,R(t));const F={json:"application/json",text:"text/plain",formData:"multipart/form-data"};function B(e){return m(e,"immediate","refetch","initialData","timeout","beforeFetch","afterFetch","onFetchError","fetch")}function V(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function U(e){return typeof Headers<"u"&&e instanceof Headers?Object.fromEntries([...e.entries()]):e}function z(e,...t){return"overwrite"===e?async e=>{const n=t[t.length-1];return void 0!==n&&await n(e),e}:async e=>(await t.reduce(((t,n)=>t.then((async()=>{n&&(e=O(O({},e),await n(e)))}))),Promise.resolve()),e)}function H(e={}){const t=e.combination||"chain",n=e.options||{},r=e.fetchOptions||{};function i(i,...o){const s=(0,a.Fl)((()=>{const t=h(e.baseUrl),n=h(i);return t&&!V(n)?j(t,n):n}));let l=n,c=r;return o.length>0&&(B(o[0])?l=N(O(O({},l),o[0]),{beforeFetch:z(t,n.beforeFetch,o[0].beforeFetch),afterFetch:z(t,n.afterFetch,o[0].afterFetch),onFetchError:z(t,n.onFetchError,o[0].onFetchError)}):c=N(O(O({},c),o[0]),{headers:O(O({},U(c.headers)||{}),U(o[0].headers)||{})})),o.length>1&&B(o[1])&&(l=N(O(O({},l),o[1]),{beforeFetch:z(t,n.beforeFetch,o[1].beforeFetch),afterFetch:z(t,n.afterFetch,o[1].afterFetch),onFetchError:z(t,n.onFetchError,o[1].onFetchError)})),W(s,c,l)}return i}function W(e,...t){var n;const r="function"==typeof AbortController;let o={},s={immediate:!0,refetch:!1,timeout:0};const l={method:"GET",type:"text",payload:void 0};t.length>0&&(B(t[0])?s=O(O({},s),t[0]):o=t[0]),t.length>1&&B(t[1])&&(s=O(O({},s),t[1]));const{fetch:c=(null==(n=S)?void 0:n.fetch),initialData:u,timeout:d}=s,f=v(),p=v(),m=v(),g=(0,i.iH)(!1),y=(0,i.iH)(!1),w=(0,i.iH)(!1),M=(0,i.iH)(null),E=(0,i.XI)(null),T=(0,i.XI)(null),A=(0,i.XI)(u),C=(0,a.Fl)((()=>r&&y.value));let k,R;const L=()=>{r&&k&&k.abort()},I=e=>{y.value=e,g.value=!e};d&&(R=x(L,d,{immediate:!1}));const P=async(t=!1)=>{var n;I(!0),T.value=null,M.value=null,w.value=!1,k=void 0,r&&(k=new AbortController,k.signal.onabort=()=>w.value=!0,o=N(O({},o),{signal:k.signal}));const i={method:l.method,headers:{}};if(l.payload){const e=U(i.headers);l.payloadType&&(e["Content-Type"]=null!=(n=F[l.payloadType])?n:l.payloadType);const t=h(l.payload);i.body="json"===l.payloadType?JSON.stringify(t):t}let a=!1;const u={url:h(e),options:O(O({},i),o),cancel:()=>{a=!0}};if(s.beforeFetch&&Object.assign(u,await s.beforeFetch(u)),a||!c)return I(!1),Promise.resolve(null);let d=null;return R&&R.start(),new Promise(((e,n)=>{var r;c(u.url,N(O(O({},i),u.options),{headers:O(O({},U(i.headers)),U(null==(r=u.options)?void 0:r.headers))})).then((async t=>{if(E.value=t,M.value=t.status,d=await t[l.type](),s.afterFetch&&M.value>=200&&M.value<300&&({data:d}=await s.afterFetch({data:d,response:t})),A.value=d,!t.ok)throw new Error(t.statusText);return f.trigger(t),e(t)})).catch((async r=>{let i=r.message||r.name;return s.onFetchError&&({data:d,error:i}=await s.onFetchError({data:d,error:r,response:E.value})),A.value=d,T.value=i,p.trigger(r),t?n(r):e(null)})).finally((()=>{I(!1),R&&R.stop(),m.trigger(null)}))}))},D=_(s.refetch);(0,a.YP)([D,_(e)],(([e])=>e&&P()),{deep:!0});const V={isFinished:g,statusCode:M,response:E,error:T,data:A,isFetching:y,canAbort:C,aborted:w,abort:L,execute:P,onFetchResponse:f.on,onFetchError:p.on,onFetchFinally:m.on,get:z("GET"),put:z("PUT"),post:z("POST"),delete:z("DELETE"),patch:z("PATCH"),head:z("HEAD"),options:z("OPTIONS"),json:W("json"),text:W("text"),blob:W("blob"),arrayBuffer:W("arrayBuffer"),formData:W("formData")};function z(e){return(t,n)=>{if(!y.value){l.method=e,l.payload=t,l.payloadType=n,(0,i.dq)(l.payload)&&(0,a.YP)([D,_(l.payload)],(([e])=>e&&P()),{deep:!0});const r=h(l.payload);return!n&&r&&Object.getPrototypeOf(r)===Object.prototype&&(l.payloadType="json"),N(O({},V),{then(e,t){return H().then(e,t)}})}}}function H(){return new Promise(((e,t)=>{b(g).toBe(!0).then((()=>e(V))).catch((e=>t(e)))}))}function W(e){return()=>{if(!y.value)return l.type=e,N(O({},V),{then(e,t){return H().then(e,t)}})}}return s.immediate&&setTimeout(P,0),N(O({},V),{then(e,t){return H().then(e,t)}})}function j(e,t){return e.endsWith("/")||t.startsWith("/")?`${e}${t}`:`${e}/${t}`}var G;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(G||(G={}));var Y=Object.defineProperty,$=Object.getOwnPropertySymbols,q=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable,Z=(e,t,n)=>t in e?Y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,K=(e,t)=>{for(var n in t||(t={}))q.call(t,n)&&Z(e,n,t[n]);if($)for(var n of $(t))X.call(t,n)&&Z(e,n,t[n]);return e};const J={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};K({linear:p},J);const Q=e=>void 0===e;function ee(e,t){const n=h(e);return Q(n)?t:Number(n)}function te(e,t){const n=h(e);return Array.isArray(n)?n:n?String(n):t}function ne(e,t){const n=h(e);return Q(n)?t:String(n)}function re(e,t){const n=h(e);return Q(n)?t:Boolean(n)}const ie={src:{type:String,default:null},audioControls:{type:Boolean,default:!0},corsAnonym:{type:Boolean,default:!1},canvWidth:{type:Number,default:300},canvHeight:{type:Number,default:80},canvFillColor:{type:[String,Array],default:""},placeholder:{type:Boolean,default:!0}},ae={barWidth:{type:Number,default:5},barSpace:{type:Number,default:1},barColor:{type:[String,Array],default:"#0A0AFF"},capsHeight:{type:Number,default:0},capsDropSpeed:{type:Number,default:.9},capsColor:{type:String,default:"#A0A0FF"},brickHeight:{type:Number,default:0},brickSpace:{type:Number,default:1},symmetric:{type:Boolean,default:!1},fftSize:{type:Number,default:1024}},oe={...ie,...ae};function se(){return oe}class le{constructor(e){l(this,"barColor"),l(this,"barSpace"),l(this,"barWidth"),l(this,"brickHeight"),l(this,"brickSpace"),l(this,"canvFillColor"),l(this,"canvHeight"),l(this,"canvWidth"),l(this,"capsColor"),l(this,"capsDropSpeed"),l(this,"capsHeight"),l(this,"fftSize"),l(this,"frqBits"),l(this,"placeholder"),l(this,"symmetric"),this.barColor=te(e.barColor,oe.barColor.default),this.barSpace=ee(e.barSpace,oe.barSpace.default),this.brickHeight=ee(e.brickHeight,oe.brickHeight.default),this.brickSpace=ee(e.brickSpace,oe.brickSpace.default),this.canvFillColor=te(e.canvFillColor,oe.canvFillColor.default),this.canvHeight=ee(e.canvHeight,oe.canvHeight.default),this.canvWidth=ee(e.canvWidth,oe.canvWidth.default),this.capsColor=ne(e.capsColor,oe.capsColor.default),this.capsDropSpeed=ee(e.capsDropSpeed,oe.capsDropSpeed.default),this.capsHeight=ee(e.capsHeight,oe.capsHeight.default),this.fftSize=ee(e.fftSize,oe.fftSize.default),this.frqBits=this.fftSize>>1,this.placeholder=re(e.placeholder,oe.placeholder.default),this.symmetric=re(e.symmetric,oe.symmetric.default);const t=ee(e.barWidth,oe.barWidth.default);this.barWidth=t>this.canvWidth?this.canvWidth:t}alignSym(e){return this.symmetric?(this.canvHeight-e)/2:0}}const ce={lineWidth:{type:Number,default:2},lineColor:{type:[String,Array],default:"#9F9"},fftSize:{type:Number,default:128}},ue={...ie,...ce};function de(){return ue}class he{constructor(e){l(this,"canvWidth"),l(this,"canvHeight"),l(this,"canvFillColor"),l(this,"lineWidth"),l(this,"lineColor"),l(this,"fftSize"),l(this,"placeholder");const t=ue;this.canvWidth=ee(e.canvWidth,t.canvWidth.default),this.canvHeight=ee(e.canvHeight,t.canvHeight.default),this.canvFillColor=te(e.canvFillColor,t.canvFillColor.default),this.lineWidth=ee(e.lineWidth,t.lineWidth.default),this.lineColor=te(e.lineColor,t.lineColor.default),this.fftSize=ee(e.fftSize,t.fftSize.default),this.placeholder=re(e.placeholder,t.placeholder.default)}}const fe={fftSize:{type:Number,default:1024},canvWidth:{type:Number,default:100},canvHeight:{type:Number,default:100},radius:{type:Number,default:0},lineWidth:{type:Number,default:1},lineSpace:{type:Number,default:1},outlineColor:{type:String,default:"#0000FF"},outlineWidth:{type:Number,default:.3},barWidth:{type:Number,default:1},barLength:{type:Number,default:0},barColor:{type:[String,Array],default:["#FFFFFF","#0000FF"]},progress:{type:Boolean,default:!0},progressWidth:{type:Number,default:1},progressColor:{type:String,default:"#0000FF"},progressClockwise:{type:Boolean,default:!0},outlineMeterSpace:{type:Number,default:3},playtime:{type:Boolean,default:!1},playtimeFont:{type:String,default:"14px Monaco"},playtimeColor:{type:String,default:"#00f"},rotateGraph:{type:Boolean,default:!1},rotateSpeed:{type:Number,default:.001}},pe={...ie,...fe};function me(){return pe}let ve=1.5;class ge{constructor(e){l(this,"barColor"),l(this,"barLength"),l(this,"barWidth"),l(this,"canvFillColor"),l(this,"canvHeight"),l(this,"canvWidth"),l(this,"fftSize"),l(this,"lineSpace"),l(this,"lineWidth"),l(this,"outlineColor"),l(this,"outlineMeterSpace"),l(this,"outlineWidth"),l(this,"placeholder"),l(this,"playtime"),l(this,"playtimeColor"),l(this,"playtimeFont"),l(this,"progress"),l(this,"progressClockwise"),l(this,"progressColor"),l(this,"progressWidth"),l(this,"radius"),l(this,"rotateGraph"),l(this,"rotateSpeed");const t=pe;this.barColor=te(e.barColor,t.barColor.default),this.barLength=ee(e.barLength,t.barLength.default),this.barWidth=ee(e.barWidth,t.barWidth.default),this.canvFillColor=te(e.canvFillColor,t.canvFillColor.default),this.canvHeight=ee(e.canvHeight,t.canvHeight.default),this.canvWidth=ee(e.canvWidth,t.canvWidth.default),this.fftSize=ee(e.fftSize,t.fftSize.default),this.lineSpace=ee(e.lineSpace,t.lineSpace.default),this.lineWidth=ee(e.lineWidth,t.lineWidth.default),this.outlineColor=ne(e.outlineColor,t.outlineColor.default),this.outlineMeterSpace=ee(e.outlineMeterSpace,t.outlineMeterSpace.default),this.outlineWidth=ee(e.outlineWidth,t.outlineWidth.default),this.lineWidth=ee(e.lineWidth,t.lineWidth.default),this.placeholder=re(e.placeholder,t.placeholder.default),this.playtime=re(e.playtime,t.playtime.default),this.playtimeColor=ne(e.playtimeColor,t.playtimeColor.default),this.playtimeFont=ne(e.playtimeFont,t.playtimeFont.default),this.progress=re(e.progress,t.progress.default),this.progressClockwise=re(e.progressClockwise,t.progressClockwise.default),this.progressColor=ne(e.progressColor,t.progressColor.default),this.progressWidth=ee(e.progressWidth,t.progressWidth.default),this.radius=ee(e.radius,t.radius.default),this.rotateGraph=re(e.rotateGraph,t.rotateGraph.default),this.rotateSpeed=ee(e.rotateSpeed,t.rotateSpeed.default)}get cx(){return this.canvWidth/2}get cy(){return this.canvHeight/2}get r(){return this.radius>0?this.radius:Math.round(this.canvWidth/2*.7)}get arcStep(){return Math.ceil(this.lineWidth+this.lineSpace)}get barLen(){return this.barLength>0?this.barLength:this.canvWidth/2-this.r}get angle(){const e=()=>3.5===ve?1.5:ve+this.rotateSpeed;return ve=this.rotateGraph?e():1.5,Math.PI*ve}}const _e={canvWidth:{type:Number,default:500},canvHeight:{type:Number,default:80},playedLineWidth:{type:Number,default:.5},playedLineColor:{type:String,default:"navy"},noplayedLineWidth:{type:Number,default:.5},noplayedLineColor:{type:String,default:"lime"},playtime:{type:Boolean,default:!0},playtimeWithMs:{type:Boolean,default:!0},playtimeFontSize:{type:Number,default:12},playtimeFontFamily:{type:String,default:"monospace"},playtimeFontColor:{type:String,default:"grey"},playtimeTextBottom:{type:Boolean,default:!1},playtimeSlider:{type:Boolean,default:!0},playtimeSliderColor:{type:String,default:"red"},playtimeSliderWidth:{type:Number,default:1},playtimeClickable:{type:Boolean,default:!0},requester:{type:Function,default:fetch}},ye={...ie,..._e};function be(){return ye}class xe{constructor(e){l(this,"src"),l(this,"canvWidth"),l(this,"canvHeight"),l(this,"canvFillColor"),l(this,"currentTime"),l(this,"duration"),l(this,"playedLineWidth"),l(this,"playedLineColor"),l(this,"noplayedLineWidth"),l(this,"noplayedLineColor"),l(this,"playtime"),l(this,"playtimeWithMs"),l(this,"playtimeFontSize"),l(this,"playtimeFontFamily"),l(this,"playtimeFontColor"),l(this,"playtimeTextBottom"),l(this,"playtimeSlider"),l(this,"playtimeSliderColor"),l(this,"playtimeSliderWidth"),l(this,"playtimeClickable");const t=ye;this.canvWidth=ee(e.canvWidth,t.canvWidth.default),this.canvHeight=ee(e.canvHeight,t.canvHeight.default),this.canvFillColor=te(e.canvFillColor,t.canvFillColor.default),this.playedLineWidth=ee(e.playedLineWidth,t.playedLineWidth.default),this.playedLineColor=ne(e.playedLineColor,t.playedLineColor.default),this.noplayedLineWidth=ee(e.noplayedLineWidth,t.noplayedLineWidth.default),this.noplayedLineColor=ne(e.noplayedLineColor,t.noplayedLineColor.default),this.playtime=re(e.playtime,t.playtime.default),this.playtimeWithMs=re(e.playtimeWithMs,t.playtimeWithMs.default),this.playtimeFontSize=ee(e.playtimeFontSize,t.playtimeFontSize.default),this.playtimeFontFamily=ne(e.playtimeFontFamily,t.playtimeFontFamily.default),this.playtimeFontColor=ne(e.playtimeFontColor,t.playtimeFontColor.default),this.playtimeTextBottom=re(e.playtimeTextBottom,t.playtimeTextBottom.default),this.playtimeSlider=re(e.playtimeSlider,t.playtimeSlider.default),this.playtimeSliderColor=ne(e.playtimeSliderColor,t.playtimeSliderColor.default),this.playtimeSliderWidth=ee(e.playtimeSliderWidth,t.playtimeSliderWidth.default),this.playtimeClickable=re(e.playtimeClickable,t.playtimeClickable.default),this.src=Q(e.src)?null:String(e.src),this.currentTime=0,this.duration=0}get playX(){if(!this.duration)return 0;const e=~~(this.currentTime/this.duration*this.canvWidth);return e>this.canvWidth?this.canvWidth:e}get timePlayed(){const e=[this.currentTime/3600,this.currentTime/60%60,this.currentTime%60].map((e=>String(~~e).padStart(2,"0"))).join(":");if(!this.playtimeWithMs)return e;const t=~~(this.currentTime%1*1e3);return[e,String(t).padStart(3,"0")].join(".")}}const we={media:{type:Object,required:!1,default:null},canvWidth:{type:Number,default:0},canvClass:{type:String,default:""},canvHeight:{type:Number,default:0},canvFillColor:{type:String,default:""},circleGradient:{type:Array,default:[[0,"palegreen"],[.3,"lime"],[.7,"limegreen"],[1,"green"]]},fftSize:{type:Number},type:{type:String,default:"wform"},frequLnum:{type:Number,default:60},frequLineCap:{type:Boolean,default:!1},frequDirection:{type:String,default:"lr"},lineColor:{type:String,default:"lime"},lineWidth:{type:Number},radius:{type:Number,default:4},connectDestination:{type:Boolean,default:!1},vbarBgColor:{type:String,default:"#e1e1e1"},vbarCaps:{type:Boolean,default:!0},vbarSpace:{type:Number,default:1},vbarWidth:{type:Number,default:4},vbarFillColor:{type:String,default:"lime"},vbarRightColor:{type:String,default:"#c0c0c0"}},Se={...we};function Me(){return Se}class Ee{constructor(e){l(this,"canvWidth"),l(this,"canvHeight"),l(this,"canvFillColor"),l(this,"canvClass"),l(this,"circleGradient"),l(this,"fftSize"),l(this,"type"),l(this,"frequLnum"),l(this,"frequLineCap"),l(this,"frequDirection"),l(this,"lineColor"),l(this,"lineWidth"),l(this,"radius"),l(this,"connectDestination"),l(this,"vbarBgColor"),l(this,"vbarCaps"),l(this,"vbarFillColor"),l(this,"vbarRightColor"),l(this,"vbarSpace"),l(this,"vbarWidth");const t=Se;this.canvFillColor=ne(e.canvFillColor,t.canvFillColor.default),this.canvClass=ne(e.canvClass,t.canvClass.default),this.circleGradient=Q(e.circleGradient)?t.circleGradient.default:e.circleGradient,this.type=ne(e.type,t.type.default),this.fftSize=Q(e.fftSize)?"frequ"===this.type?1024:8192:Number(e.fftSize),this.frequLnum=ee(e.frequLnum,t.frequLnum.default),this.frequLineCap=re(e.frequLineCap,t.frequLineCap.default),this.frequDirection=ne(e.frequDirection,t.frequDirection.default),this.lineColor=ne(e.lineColor,t.lineColor.default),this.lineWidth=Q(e.lineWidth)?"frequ"===this.type?3:.5:Number(e.lineWidth),this.radius=ee(e.radius,t.radius.default),this.connectDestination=re(e.connectDestination,t.connectDestination.default),this.vbarBgColor=ne(e.vbarBgColor,t.vbarBgColor.default),this.vbarCaps=re(e.vbarCaps,t.vbarCaps.default),this.vbarFillColor=ne(e.vbarFillColor,t.vbarFillColor.default),this.vbarRightColor=ne(e.vbarRightColor,t.vbarRightColor.default),this.vbarSpace=ee(e.vbarSpace,t.vbarSpace.default),this.vbarWidth=ee(e.vbarWidth,t.vbarWidth.default),this.canvWidth=Q(e.canvWidth)||0===Number(e.canvWidth)?this.defaultWidth:Number(e.canvWidth),this.canvHeight=Q(e.canvHeight)||0===Number(e.canvHeight)?this.defaultHeight:Number(e.canvHeight)}get defaultWidth(){switch(this.type){case"vbar":return 50;case"frequ":return 300;case"circle":return 80;default:return 200}}get defaultHeight(){switch(this.type){case"vbar":return 20;case"frequ":return 80;case"circle":return 80;default:return 40}}}function Te(e,t,n){let r=null,i=null,a=null;const o=t||1024,s=new Uint8Array(o/2),{pause:l,resume:c}=A((()=>{!i||(i.getByteFrequencyData(s),n(s))}),{immediate:!1});M(e,"play",(()=>{const t=h(e);!t||(r||(r=new AudioContext,a=r.createMediaElementSource(t)),i=r.createAnalyser(),i.fftSize=o,null==a||a.connect(i),i.connect(r.destination),r.resume(),c())})),M(e,"pause",(()=>{null==r||r.suspend(),null==a||a.disconnect(),null==i||i.disconnect(),l()}))}function Ae(e,t){const n=(0,i.iH)(null);return(0,a.m0)((()=>{const r=h(e);!r||(n.value=r.getContext("2d"),r.width=t.canvWidth,r.height=t.canvHeight)})),n}function Ce(e,t,n,r){e.clearRect(0,0,t,n),r&&(e.fillStyle=ke(e,t,n,r),e.fillRect(0,0,t,n))}function ke(e,t,n,r){if(!Array.isArray(r))return r||"";const i=e.createLinearGradient(t/2,0,t/2,n);let a=0;return r.forEach((e=>{i.addColorStop(a,e),a+=1/r.length})),i}const Re=Array(16).fill(0);function Le(e,t,n){const r=new le(n);Re.length=r.fftSize/2,Re.fill(0);const i=Ae(t,r);M(e,"loadedmetadata",(()=>{!r.placeholder||!i||Ie(new Uint8Array(r.fftSize/2),i,n)})),Te(e,r.fftSize,(e=>{Ie(e,i,n)}))}function Ie(e,t,n){const r=h(t);if(!r)return;const i=new le(n),a=Math.round((i.barWidth+i.barSpace)/i.frqBits*i.canvWidth),o=e.length;let s=0;Ce(r,i.canvWidth,i.canvHeight,i.canvFillColor);for(let l=0;l<o;l++){if(l%a)continue;const t=Math.round(e.slice(l,l+a).reduce(((e,t)=>t+e),0)/a),n=t/255*i.canvHeight;Pe(r,i,t,l,s),r.fillStyle=ke(r,i.canvWidth,i.canvHeight,i.barColor),i.brickHeight>0?De(r,i,n,s):r.fillRect(s,i.canvHeight-n-i.alignSym(n),i.barWidth,n),s+=i.barWidth+i.barSpace}}function Pe(e,t,n,r,i){if(0===t.capsHeight)return;const a=Re[r]<=n?n:Re[r]-t.capsDropSpeed;Re[r]=a;const o=a/255*t.canvHeight,s=t.canvHeight-o-t.capsHeight-t.alignSym(o);e.fillStyle=t.capsColor,e.fillRect(i,s,t.barWidth,t.capsHeight),t.symmetric&&e.fillRect(i,t.canvHeight-s-t.capsHeight,t.barWidth,t.capsHeight)}function De(e,t,n,r){for(let i=0;i<n;i+=t.brickHeight+t.brickSpace)e.fillRect(r,t.canvHeight-n+i-t.alignSym(n),t.barWidth,t.brickHeight)}const Oe=["controls","src"],Ne=(0,a.aZ)({__name:"AVBars",props:se(),setup(e){const t=e,n=(0,i.iH)(null),r=(0,i.iH)(null);return Le(n,r,t),(e,i)=>((0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("audio",{ref_key:"player",ref:n,controls:t.audioControls,src:t.src},null,8,Oe),(0,a._)("canvas",{ref_key:"canvas",ref:r},null,512)],64))}});function Fe(e,t,n){const r=new ge(n),i=Ae(t,r);M(e,"loadedmetadata",(()=>{Ve(i,r)})),Te(e,r.fftSize,(t=>{Be(t,i,e,new ge(n))}))}function Be(e,t,n,r){const i=h(t);if(!i)return;const a=h(n);if(!a)return;const o=e.length,s=(r.lineWidth+r.lineSpace)/o*(2*Math.PI);Ce(i,r.canvWidth,r.canvHeight,r.canvFillColor),Ue(i,r),ze(i,a,r),He(i,a,r),i.lineWidth=r.barWidth,i.strokeStyle=je(i,r);let l=r.angle;for(let c=0;c<o;c++){if(l+=s,c%r.arcStep)continue;const t=Math.round(e.slice(c,c+r.arcStep).reduce(((e,t)=>t+e),0)/r.arcStep),n=r.r+t/255*r.barLen;i.beginPath(),i.moveTo(r.r*Math.cos(l)+r.cx,r.r*Math.sin(l)+r.cy),i.lineTo(n*Math.cos(l)+r.cx,n*Math.sin(l)+r.cy),i.stroke()}}function Ve(e,t){const n=h(e);!n||(Ue(n,t),We(n,"0:00",t))}function Ue(e,t){0!==t.outlineWidth&&(e.beginPath(),e.strokeStyle=t.outlineColor,e.lineWidth=t.outlineWidth,e.arc(t.cx,t.cy,t.r,0,2*Math.PI),e.stroke())}function ze(e,t,n){if(!n.progress)return;const{currentTime:r,duration:i}=t,a=r/i*2*Math.PI,o=1.5*Math.PI+a;!a||(e.lineWidth=n.progressWidth,e.strokeStyle=n.progressColor,e.beginPath(),e.arc(n.cx,n.cy,n.r-n.outlineWidth-n.outlineMeterSpace,1.5*Math.PI,o,n.progressClockwise),e.stroke())}function He(e,t,n){const{currentTime:r}=t,i=Math.floor(r/60),a=Math.floor(r)%60,o=a<10?`0${a}`:`${a}`,s=`${i}:${o}`;We(e,s,n)}function We(e,t,n){e.font=n.playtimeFont,e.fillStyle=n.playtimeColor,e.textAlign="center",e.fillText(t,n.cx,n.cy+.25*parseInt(n.playtimeFont))}function je(e,t){if(!Array.isArray(t.barColor))return t.barColor;const n=e.createRadialGradient(t.cx,t.cy,t.canvWidth/2,t.cx,t.cy,0);let r=0;return t.barColor.forEach((e=>{n.addColorStop(r,e),r+=1/t.barColor.length})),n}const Ge=["controls","src"],Ye=(0,a.aZ)({__name:"AVCircle",props:me(),setup(e){const t=e,n=(0,i.iH)(null),r=(0,i.iH)(null);return Fe(n,r,t),(e,i)=>((0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("audio",{ref_key:"player",ref:n,controls:t.audioControls,src:t.src},null,8,Ge),(0,a._)("canvas",{ref_key:"canvas",ref:r},null,512)],64))}});function $e(e,t,n){const r=new he(n),i=Ae(t,r);(0,a.YP)(i,(()=>{!r.placeholder||!h(i)||qe(new Uint8Array(r.fftSize),i,r)})),Te(e,r.fftSize,(e=>{qe(e,i,new he(n))}))}function qe(e,t,n){const r=h(t);if(!r)return;const i=n.canvWidth,a=n.canvHeight,o=n.lineWidth,s=e.length,l=~~i/2/s;let c=0;const u=()=>{let t=0;for(let n=0;n<s;n++){const i=e[n];t=a*(255-i)/510,n%2&&(t=a-t),r.lineTo(c,t),c+=l}return c};Ce(r,i,a,n.canvFillColor),r.lineWidth=o,r.strokeStyle=ke(r,i,a,n.lineColor),r.beginPath(),e.reverse(),r.moveTo(c,a/2),c=u(),e.reverse(),u(),r.lineTo(i,a/2),r.stroke()}const Xe=["controls","src"],Ze=(0,a.aZ)({__name:"AVLine",props:de(),setup(e){const t=e,n=(0,i.iH)(null),r=(0,i.iH)(null);return $e(n,r,t),(e,i)=>((0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("audio",{ref_key:"player",ref:n,controls:t.audioControls,src:t.src},null,8,Xe),(0,a._)("canvas",{ref_key:"canvas",ref:r},null,512)],64))}}),Ke=[];function Je(e,t,n,r={}){const i=new xe(n),a=Ae(t,i);nt(a,i,r);const{pause:o,resume:s}=A((()=>{var t,n;i.currentTime=null!=(n=null==(t=null==e?void 0:e.value)?void 0:t.currentTime)?n:0,Qe(a,i)}),{immediate:!1});M(e,"play",s),M(e,"pause",o),M(e,"ended",(()=>{const t=h(e);!t||t.duration===i.duration||(i.duration=t.duration,Qe(a,i))})),M(e,"timeupdate",(()=>{const t=h(e);!t||(i.currentTime=t.currentTime,Qe(a,i))})),M(t,"click",(t=>{if(!i.playtimeClickable)return;const n=h(e);!n||(n.currentTime=t.offsetX/i.canvWidth*i.duration,i.currentTime=n.currentTime,Qe(a,i))}))}function Qe(e,t){const n=h(e);if(!n)return;let r=0;n.clearRect(0,0,t.canvWidth,t.canvHeight);const i=(e,t,r,i)=>{for(n.lineWidth=r,n.strokeStyle=i,t=t>Ke.length?Ke.length:t,n.beginPath();e<t;e++)n.moveTo(e,Ke[e][0]),n.lineTo(e,Ke[e][1]);return n.stroke(),e};r=i(r,t.playX,t.playedLineWidth,t.playedLineColor),i(r,Ke.length,t.noplayedLineWidth,t.noplayedLineColor),et(n,t),t.playtime&&tt(n,t)}function et(e,t){e.lineWidth=t.playtimeSliderWidth,e.strokeStyle=t.playtimeSliderColor,e.beginPath(),e.moveTo(t.playX,0),e.lineTo(t.playX,t.canvHeight),e.stroke()}function tt(e,t){const n=t.timePlayed,r=3,i=~~e.measureText(n).width,a=t.playX>t.canvWidth-i-r?t.playX-i-r:t.playX+r,o=t.playtimeTextBottom?t.canvHeight-t.playtimeFontSize+r:t.playtimeFontSize+r;e.fillStyle=t.playtimeFontColor,e.font=`${t.playtimeFontSize}px ${t.playtimeFontFamily}`,e.fillText(n,a,o)}function nt(e,t,n){t.src&&(H(n)(t.src).arrayBuffer().then((({error:n,data:r})=>{const i=h(n);null===i?null!==r.value?(new AudioContext).decodeAudioData(r.value).then((n=>{t.duration=n.duration,rt(n,t),Qe(e,t)})).catch((e=>{console.error("Failed to decode audio array buffer:",e)})):console.error("invalid arrayBuffer data received"):console.error(`Failed get url '${t.src}': ${i}`)})),(0,a.m0)((()=>{const n=h(e);!n||(n.lineWidth=t.noplayedLineWidth,n.strokeStyle=t.noplayedLineColor,n.beginPath(),n.moveTo(0,t.canvHeight/2),n.lineTo(t.canvWidth,t.canvHeight/2),n.stroke(),et(n,t),t.playtime&&tt(n,t))})))}function rt(e,t){Ke.slice(0);let n=0,r=0,i=0,a=0;const o=Math.ceil(e.length/t.canvWidth),s=t.canvWidth,l=t.canvHeight;for(let c=0;c<e.numberOfChannels;c++){const t=e.getChannelData(c);for(let e=0;e<s;e++){const i=~~(e*o),a=~~(i+o);n=0,r=0;for(let e=i;e<a;e++)n=t[e]<n?t[e]:n,r=t[e]>r?t[e]:r;Ke[e]&&(Ke[e][0]=Ke[e][0]<r?r:Ke[e][0],Ke[e][1]=Ke[e][1]>n?n:Ke[e][1]),Ke[e]=[r,n]}}for(let c=0;c<Ke.length;c++)r=Ke[c][0],n=Ke[c][1],i=l/2-r*l/2,a=l/2-n*l/2,Ke[c]=[i,a===i?i+1:a]}const it=["controls","src"],at=(0,a.aZ)({__name:"AVWaveform",props:be(),setup(e){const t=e,n=(0,i.iH)(null),r=(0,i.iH)(null);return Je(n,r,t,{options:{refetch:!0},fetchOptions:{mode:"cors"}}),(e,i)=>((0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("audio",{ref_key:"player",ref:n,controls:t.audioControls,src:t.src},null,8,it),(0,a._)("canvas",{ref_key:"canvas",ref:r},null,512)],64))}});function ot(e,t){const n=t;let r;const i=Ae(e,new Ee(n)),{pause:o,resume:s}=A((()=>{!r||lt(r,i,new Ee(n))}),{immediate:!1});(0,a.m0)((()=>{const e=h(n.media);e?(r=st(e,new Ee(n)),s()):o()}))}function st(e,t){const n=new AudioContext,r=n.createAnalyser();return n.createMediaStreamSource(e).connect(r),r.fftSize=t.fftSize,t.connectDestination&&r.connect(n.destination),r}function lt(e,t,n){const r=h(t);if(!r)return;const i=new Uint8Array(e.fftSize);switch(n.canvFillColor&&(r.fillStyle=n.canvFillColor),r.clearRect(0,0,n.canvWidth,n.canvHeight),r.beginPath(),r.strokeStyle=n.lineColor,n.type){case"frequ":e.getByteFrequencyData(i),ct(i,r,n);break;case"circle":e.getByteFrequencyData(i),dt(i,r,n);break;case"vbar":e.getByteFrequencyData(i),ut(i,r,n);break;default:e.getByteTimeDomainData(i),ht(i,r,n);break}}function ct(e,t,n){const r="mo"===n.frequDirection,i=r?n.canvWidth/2:0,a=r?n.frequLnum/2:n.frequLnum,o=r?n.canvWidth/a/2:n.canvWidth/a,s=n.canvHeight,l=n.lineWidth||2;for(let c=0;c<a;c++){const a=r?c*o:c*o+l,u=e.slice(a,a+o).reduce(((e,t)=>e+t/255*s),0)/o,d=(s-u)/2+2;t.lineWidth=l,t.lineCap=n.frequLineCap?"round":"butt",t.moveTo(i+a,d),t.lineTo(i+a,s-d),t.stroke(),r&&c>0&&(t.moveTo(i-a,d),t.lineTo(i-a,s-d),t.stroke())}}function ut(e,t,n){const r=n.vbarWidth,i=n.vbarSpace,a=r<5?5:r/2;let o=0;for(let l=0;l<e.length;l++)o=o<e[l]?e[l]:o;const s=o/255*n.canvWidth;t.lineWidth=n.vbarWidth,t.lineCap=n.vbarCaps?"round":"butt",t.fillStyle=n.vbarBgColor,t.fillRect(0,0,n.canvWidth,n.canvHeight);for(let l=r/2;l+r+i<=n.canvWidth;l=l+r+i)t.strokeStyle=l>s?n.vbarRightColor:n.vbarFillColor,t.beginPath(),t.moveTo(l,a),t.lineTo(l,n.canvHeight-a),t.stroke()}function dt(e,t,n){const r=n.canvWidth/2,i=n.canvHeight/2,a=r<i?r:i,o=Math.max(...e)/255*a,s=t.createRadialGradient(r,i,0,r,i,o);for(const[l,c]of n.circleGradient)s.addColorStop(l,c);t.fillStyle=s,t.arc(r,i,o,0,2*Math.PI),t.fill("evenodd")}function ht(e,t,n){const r=n.canvHeight,i=n.canvWidth/n.fftSize;let a=0;t.lineWidth=n.lineWidth||.5;for(let o=0;o<e.length;o++){const n=e[o]/255*r;t.lineTo(a,n),a+=i}t.stroke()}const ft=(0,a.aZ)({__name:"AVMedia",props:Me(),setup(e){const t=e,n=(0,i.iH)(null);return ot(n,t),(e,t)=>((0,a.wg)(),(0,a.iD)("canvas",{ref_key:"canvas",ref:n},null,512))}}),pt={install(e){e.component("av-bars",Ne),e.component("av-circle",Ye),e.component("av-line",Ze),e.component("av-waveform",at),e.component("av-media",ft)}}},2483:function(e,t,n){"use strict";n.d(t,{PO:function(){return V},p7:function(){return tt}});n(7658),n(1703),n(541);var r=n(3396),i=n(4870);
/*!
  * vue-router v4.1.5
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */
const a="undefined"!==typeof window;function o(e){return e.__esModule||"Module"===e[Symbol.toStringTag]}const s=Object.assign;function l(e,t){const n={};for(const r in t){const i=t[r];n[r]=u(i)?i.map(e):e(i)}return n}const c=()=>{},u=Array.isArray;const d=/\/$/,h=e=>e.replace(d,"");function f(e,t,n="/"){let r,i={},a="",o="";const s=t.indexOf("#");let l=t.indexOf("?");return s<l&&s>=0&&(l=-1),l>-1&&(r=t.slice(0,l),a=t.slice(l+1,s>-1?s:t.length),i=e(a)),s>-1&&(r=r||t.slice(0,s),o=t.slice(s,t.length)),r=x(null!=r?r:t,n),{fullPath:r+(a&&"?")+a+o,path:r,query:i,hash:o}}function p(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function m(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function v(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&g(t.matched[r],n.matched[i])&&_(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function g(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function _(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!y(e[n],t[n]))return!1;return!0}function y(e,t){return u(e)?b(e,t):u(t)?b(t,e):e===t}function b(e,t){return u(t)?e.length===t.length&&e.every(((e,n)=>e===t[n])):1===e.length&&e[0]===t}function x(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let i,a,o=n.length-1;for(i=0;i<r.length;i++)if(a=r[i],"."!==a){if(".."!==a)break;o>1&&o--}return n.slice(0,o).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}var w,S;(function(e){e["pop"]="pop",e["push"]="push"})(w||(w={})),function(e){e["back"]="back",e["forward"]="forward",e["unknown"]=""}(S||(S={}));function M(e){if(!e)if(a){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),h(e)}const E=/^[^#]+#/;function T(e,t){return e.replace(E,"#")+t}function A(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const C=()=>({left:window.pageXOffset,top:window.pageYOffset});function k(e){let t;if("el"in e){const n=e.el,r="string"===typeof n&&n.startsWith("#");0;const i="string"===typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=A(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}function R(e,t){const n=history.state?history.state.position-t:-1;return n+e}const L=new Map;function I(e,t){L.set(e,t)}function P(e){const t=L.get(e);return L.delete(e),t}let D=()=>location.protocol+"//"+location.host;function O(e,t){const{pathname:n,search:r,hash:i}=t,a=e.indexOf("#");if(a>-1){let t=i.includes(e.slice(a))?e.slice(a).length:1,n=i.slice(t);return"/"!==n[0]&&(n="/"+n),m(n,"")}const o=m(n,e);return o+r+i}function N(e,t,n,r){let i=[],a=[],o=null;const l=({state:a})=>{const s=O(e,location),l=n.value,c=t.value;let u=0;if(a){if(n.value=s,t.value=a,o&&o===l)return void(o=null);u=c?a.position-c.position:0}else r(s);i.forEach((e=>{e(n.value,l,{delta:u,type:w.pop,direction:u?u>0?S.forward:S.back:S.unknown})}))};function c(){o=n.value}function u(e){i.push(e);const t=()=>{const t=i.indexOf(e);t>-1&&i.splice(t,1)};return a.push(t),t}function d(){const{history:e}=window;e.state&&e.replaceState(s({},e.state,{scroll:C()}),"")}function h(){for(const e of a)e();a=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",d),{pauseListeners:c,listen:u,destroy:h}}function F(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?C():null}}function B(e){const{history:t,location:n}=window,r={value:O(e,n)},i={value:t.state};function a(r,a,o){const s=e.indexOf("#"),l=s>-1?(n.host&&document.querySelector("base")?e:e.slice(s))+r:D()+e+r;try{t[o?"replaceState":"pushState"](a,"",l),i.value=a}catch(c){console.error(c),n[o?"replace":"assign"](l)}}function o(e,n){const o=s({},t.state,F(i.value.back,e,i.value.forward,!0),n,{position:i.value.position});a(e,o,!0),r.value=e}function l(e,n){const o=s({},i.value,t.state,{forward:e,scroll:C()});a(o.current,o,!0);const l=s({},F(r.value,e,null),{position:o.position+1},n);a(e,l,!1),r.value=e}return i.value||a(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:r,state:i,push:l,replace:o}}function V(e){e=M(e);const t=B(e),n=N(e,t.state,t.location,t.replace);function r(e,t=!0){t||n.pauseListeners(),history.go(e)}const i=s({location:"",base:e,go:r,createHref:T.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function U(e){return"string"===typeof e||e&&"object"===typeof e}function z(e){return"string"===typeof e||"symbol"===typeof e}const H={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},W=Symbol("");var j;(function(e){e[e["aborted"]=4]="aborted",e[e["cancelled"]=8]="cancelled",e[e["duplicated"]=16]="duplicated"})(j||(j={}));function G(e,t){return s(new Error,{type:e,[W]:!0},t)}function Y(e,t){return e instanceof Error&&W in e&&(null==t||!!(e.type&t))}const $="[^/]+?",q={sensitive:!1,strict:!1,start:!0,end:!0},X=/[.+*?^${}()[\]/\\]/g;function Z(e,t){const n=s({},q,t),r=[];let i=n.start?"^":"";const a=[];for(const s of e){const e=s.length?[]:[90];n.strict&&!s.length&&(i+="/");for(let t=0;t<s.length;t++){const r=s[t];let o=40+(n.sensitive?.25:0);if(0===r.type)t||(i+="/"),i+=r.value.replace(X,"\\$&"),o+=40;else if(1===r.type){const{value:e,repeatable:n,optional:l,regexp:c}=r;a.push({name:e,repeatable:n,optional:l});const u=c||$;if(u!==$){o+=10;try{new RegExp(`(${u})`)}catch(d){throw new Error(`Invalid custom RegExp for param "${e}" (${u}): `+d.message)}}let h=n?`((?:${u})(?:/(?:${u}))*)`:`(${u})`;t||(h=l&&s.length<2?`(?:/${h})`:"/"+h),l&&(h+="?"),i+=h,o+=20,l&&(o+=-8),n&&(o+=-20),".*"===u&&(o+=-50)}e.push(o)}r.push(e)}if(n.strict&&n.end){const e=r.length-1;r[e][r[e].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function l(e){const t=e.match(o),n={};if(!t)return null;for(let r=1;r<t.length;r++){const e=t[r]||"",i=a[r-1];n[i.name]=e&&i.repeatable?e.split("/"):e}return n}function c(t){let n="",r=!1;for(const i of e){r&&n.endsWith("/")||(n+="/"),r=!1;for(const e of i)if(0===e.type)n+=e.value;else if(1===e.type){const{value:a,repeatable:o,optional:s}=e,l=a in t?t[a]:"";if(u(l)&&!o)throw new Error(`Provided param "${a}" is an array but it is not repeatable (* or + modifiers)`);const c=u(l)?l.join("/"):l;if(!c){if(!s)throw new Error(`Missing required param "${a}"`);i.length<2&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=c}}return n||"/"}return{re:o,score:r,keys:a,parse:l,stringify:c}}function K(e,t){let n=0;while(n<e.length&&n<t.length){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function J(e,t){let n=0;const r=e.score,i=t.score;while(n<r.length&&n<i.length){const e=K(r[n],i[n]);if(e)return e;n++}if(1===Math.abs(i.length-r.length)){if(Q(r))return 1;if(Q(i))return-1}return i.length-r.length}function Q(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const ee={type:0,value:""},te=/[a-zA-Z0-9_]/;function ne(e){if(!e)return[[]];if("/"===e)return[[ee]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${c}": ${e}`)}let n=0,r=n;const i=[];let a;function o(){a&&i.push(a),a=[]}let s,l=0,c="",u="";function d(){c&&(0===n?a.push({type:0,value:c}):1===n||2===n||3===n?(a.length>1&&("*"===s||"+"===s)&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:c,regexp:u,repeatable:"*"===s||"+"===s,optional:"*"===s||"?"===s})):t("Invalid state to consume buffer"),c="")}function h(){c+=s}while(l<e.length)if(s=e[l++],"\\"!==s||2===n)switch(n){case 0:"/"===s?(c&&d(),o()):":"===s?(d(),n=1):h();break;case 4:h(),n=r;break;case 1:"("===s?n=2:te.test(s)?h():(d(),n=0,"*"!==s&&"?"!==s&&"+"!==s&&l--);break;case 2:")"===s?"\\"==u[u.length-1]?u=u.slice(0,-1)+s:n=3:u+=s;break;case 3:d(),n=0,"*"!==s&&"?"!==s&&"+"!==s&&l--,u="";break;default:t("Unknown state");break}else r=n,n=4;return 2===n&&t(`Unfinished custom RegExp for param "${c}"`),d(),o(),i}function re(e,t,n){const r=Z(ne(e.path),n);const i=s(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf===!t.record.aliasOf&&t.children.push(i),i}function ie(e,t){const n=[],r=new Map;function i(e){return r.get(e)}function a(e,n,r){const i=!r,l=oe(e);l.aliasOf=r&&r.record;const d=ue(t,e),h=[l];if("alias"in e){const t="string"===typeof e.alias?[e.alias]:e.alias;for(const e of t)h.push(s({},l,{components:r?r.record.components:l.components,path:e,aliasOf:r?r.record:l}))}let f,p;for(const t of h){const{path:s}=t;if(n&&"/"!==s[0]){const e=n.record.path,r="/"===e[e.length-1]?"":"/";t.path=n.record.path+(s&&r+s)}if(f=re(t,n,d),r?r.alias.push(f):(p=p||f,p!==f&&p.alias.push(f),i&&e.name&&!le(f)&&o(e.name)),l.children){const e=l.children;for(let t=0;t<e.length;t++)a(e[t],f,r&&r.children[t])}r=r||f,u(f)}return p?()=>{o(p)}:c}function o(e){if(z(e)){const t=r.get(e);t&&(r.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(o),t.alias.forEach(o))}else{const t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&r.delete(e.record.name),e.children.forEach(o),e.alias.forEach(o))}}function l(){return n}function u(e){let t=0;while(t<n.length&&J(e,n[t])>=0&&(e.record.path!==n[t].record.path||!de(e,n[t])))t++;n.splice(t,0,e),e.record.name&&!le(e)&&r.set(e.record.name,e)}function d(e,t){let i,a,o,l={};if("name"in e&&e.name){if(i=r.get(e.name),!i)throw G(1,{location:e});0,o=i.record.name,l=s(ae(t.params,i.keys.filter((e=>!e.optional)).map((e=>e.name))),e.params&&ae(e.params,i.keys.map((e=>e.name)))),a=i.stringify(l)}else if("path"in e)a=e.path,i=n.find((e=>e.re.test(a))),i&&(l=i.parse(a),o=i.record.name);else{if(i=t.name?r.get(t.name):n.find((e=>e.re.test(t.path))),!i)throw G(1,{location:e,currentLocation:t});o=i.record.name,l=s({},t.params,e.params),a=i.stringify(l)}const c=[];let u=i;while(u)c.unshift(u.record),u=u.parent;return{name:o,path:a,params:l,matched:c,meta:ce(c)}}return t=ue({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>a(e))),{addRoute:a,resolve:d,removeRoute:o,getRoutes:l,getRecordMatcher:i}}function ae(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function oe(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:se(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function se(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]="boolean"===typeof n?n:n[r];return t}function le(e){while(e){if(e.record.aliasOf)return!0;e=e.parent}return!1}function ce(e){return e.reduce(((e,t)=>s(e,t.meta)),{})}function ue(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function de(e,t){return t.children.some((t=>t===e||de(e,t)))}const he=/#/g,fe=/&/g,pe=/\//g,me=/=/g,ve=/\?/g,ge=/\+/g,_e=/%5B/g,ye=/%5D/g,be=/%5E/g,xe=/%60/g,we=/%7B/g,Se=/%7C/g,Me=/%7D/g,Ee=/%20/g;function Te(e){return encodeURI(""+e).replace(Se,"|").replace(_e,"[").replace(ye,"]")}function Ae(e){return Te(e).replace(we,"{").replace(Me,"}").replace(be,"^")}function Ce(e){return Te(e).replace(ge,"%2B").replace(Ee,"+").replace(he,"%23").replace(fe,"%26").replace(xe,"`").replace(we,"{").replace(Me,"}").replace(be,"^")}function ke(e){return Ce(e).replace(me,"%3D")}function Re(e){return Te(e).replace(he,"%23").replace(ve,"%3F")}function Le(e){return null==e?"":Re(e).replace(pe,"%2F")}function Ie(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}function Pe(e){const t={};if(""===e||"?"===e)return t;const n="?"===e[0],r=(n?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const e=r[i].replace(ge," "),n=e.indexOf("="),a=Ie(n<0?e:e.slice(0,n)),o=n<0?null:Ie(e.slice(n+1));if(a in t){let e=t[a];u(e)||(e=t[a]=[e]),e.push(o)}else t[a]=o}return t}function De(e){let t="";for(let n in e){const r=e[n];if(n=ke(n),null==r){void 0!==r&&(t+=(t.length?"&":"")+n);continue}const i=u(r)?r.map((e=>e&&Ce(e))):[r&&Ce(r)];i.forEach((e=>{void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))}))}return t}function Oe(e){const t={};for(const n in e){const r=e[n];void 0!==r&&(t[n]=u(r)?r.map((e=>null==e?null:""+e)):null==r?r:""+r)}return t}const Ne=Symbol(""),Fe=Symbol(""),Be=Symbol(""),Ve=Symbol(""),Ue=Symbol("");function ze(){let e=[];function t(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function He(e,t,n,r,i){const a=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise(((o,s)=>{const l=e=>{!1===e?s(G(4,{from:n,to:t})):e instanceof Error?s(e):U(e)?s(G(2,{from:t,to:e})):(a&&r.enterCallbacks[i]===a&&"function"===typeof e&&a.push(e),o())},c=e.call(r&&r.instances[i],t,n,l);let u=Promise.resolve(c);e.length<3&&(u=u.then(l)),u.catch((e=>s(e)))}))}function We(e,t,n,r){const i=[];for(const a of e){0;for(const e in a.components){let s=a.components[e];if("beforeRouteEnter"===t||a.instances[e])if(je(s)){const o=s.__vccOpts||s,l=o[t];l&&i.push(He(l,n,r,a,e))}else{let l=s();0,i.push((()=>l.then((i=>{if(!i)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${a.path}"`));const s=o(i)?i.default:i;a.components[e]=s;const l=s.__vccOpts||s,c=l[t];return c&&He(c,n,r,a,e)()}))))}}}return i}function je(e){return"object"===typeof e||"displayName"in e||"props"in e||"__vccOpts"in e}function Ge(e){const t=(0,r.f3)(Be),n=(0,r.f3)(Ve),a=(0,r.Fl)((()=>t.resolve((0,i.SU)(e.to)))),o=(0,r.Fl)((()=>{const{matched:e}=a.value,{length:t}=e,r=e[t-1],i=n.matched;if(!r||!i.length)return-1;const o=i.findIndex(g.bind(null,r));if(o>-1)return o;const s=Ze(e[t-2]);return t>1&&Ze(r)===s&&i[i.length-1].path!==s?i.findIndex(g.bind(null,e[t-2])):o})),s=(0,r.Fl)((()=>o.value>-1&&Xe(n.params,a.value.params))),l=(0,r.Fl)((()=>o.value>-1&&o.value===n.matched.length-1&&_(n.params,a.value.params)));function u(n={}){return qe(n)?t[(0,i.SU)(e.replace)?"replace":"push"]((0,i.SU)(e.to)).catch(c):Promise.resolve()}return{route:a,href:(0,r.Fl)((()=>a.value.href)),isActive:s,isExactActive:l,navigate:u}}const Ye=(0,r.aZ)({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ge,setup(e,{slots:t}){const n=(0,i.qj)(Ge(e)),{options:a}=(0,r.f3)(Be),o=(0,r.Fl)((()=>({[Ke(e.activeClass,a.linkActiveClass,"router-link-active")]:n.isActive,[Ke(e.exactActiveClass,a.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const i=t.default&&t.default(n);return e.custom?i:(0,r.h)("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},i)}}}),$e=Ye;function qe(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&(void 0===e.button||0===e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Xe(e,t){for(const n in t){const r=t[n],i=e[n];if("string"===typeof r){if(r!==i)return!1}else if(!u(i)||i.length!==r.length||r.some(((e,t)=>e!==i[t])))return!1}return!0}function Ze(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ke=(e,t,n)=>null!=e?e:null!=t?t:n,Je=(0,r.aZ)({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const a=(0,r.f3)(Ue),o=(0,r.Fl)((()=>e.route||a.value)),l=(0,r.f3)(Fe,0),c=(0,r.Fl)((()=>{let e=(0,i.SU)(l);const{matched:t}=o.value;let n;while((n=t[e])&&!n.components)e++;return e})),u=(0,r.Fl)((()=>o.value.matched[c.value]));(0,r.JJ)(Fe,(0,r.Fl)((()=>c.value+1))),(0,r.JJ)(Ne,u),(0,r.JJ)(Ue,o);const d=(0,i.iH)();return(0,r.YP)((()=>[d.value,u.value,e.name]),(([e,t,n],[r,i,a])=>{t&&(t.instances[n]=e,i&&i!==t&&e&&e===r&&(t.leaveGuards.size||(t.leaveGuards=i.leaveGuards),t.updateGuards.size||(t.updateGuards=i.updateGuards))),!e||!t||i&&g(t,i)&&r||(t.enterCallbacks[n]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const i=o.value,a=e.name,l=u.value,c=l&&l.components[a];if(!c)return Qe(n.default,{Component:c,route:i});const h=l.props[a],f=h?!0===h?i.params:"function"===typeof h?h(i):h:null,p=e=>{e.component.isUnmounted&&(l.instances[a]=null)},m=(0,r.h)(c,s({},f,t,{onVnodeUnmounted:p,ref:d}));return Qe(n.default,{Component:m,route:i})||m}}});function Qe(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const et=Je;function tt(e){const t=ie(e.routes,e),n=e.parseQuery||Pe,o=e.stringifyQuery||De,d=e.history;const h=ze(),m=ze(),g=ze(),_=(0,i.XI)(H);let y=H;a&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const b=l.bind(null,(e=>""+e)),x=l.bind(null,Le),S=l.bind(null,Ie);function M(e,n){let r,i;return z(e)?(r=t.getRecordMatcher(e),i=n):i=e,t.addRoute(i,r)}function E(e){const n=t.getRecordMatcher(e);n&&t.removeRoute(n)}function T(){return t.getRoutes().map((e=>e.record))}function A(e){return!!t.getRecordMatcher(e)}function L(e,r){if(r=s({},r||_.value),"string"===typeof e){const i=f(n,e,r.path),a=t.resolve({path:i.path},r),o=d.createHref(i.fullPath);return s(i,a,{params:S(a.params),hash:Ie(i.hash),redirectedFrom:void 0,href:o})}let i;if("path"in e)i=s({},e,{path:f(n,e.path,r.path).path});else{const t=s({},e.params);for(const e in t)null==t[e]&&delete t[e];i=s({},e,{params:x(e.params)}),r.params=x(r.params)}const a=t.resolve(i,r),l=e.hash||"";a.params=b(S(a.params));const c=p(o,s({},e,{hash:Ae(l),path:a.path})),u=d.createHref(c);return s({fullPath:c,hash:l,query:o===De?Oe(e.query):e.query||{}},a,{redirectedFrom:void 0,href:u})}function D(e){return"string"===typeof e?f(n,e,_.value.path):s({},e)}function O(e,t){if(y!==e)return G(8,{from:t,to:e})}function N(e){return V(e)}function F(e){return N(s(D(e),{replace:!0}))}function B(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:n}=t;let r="function"===typeof n?n(e):n;return"string"===typeof r&&(r=r.includes("?")||r.includes("#")?r=D(r):{path:r},r.params={}),s({query:e.query,hash:e.hash,params:"path"in r?{}:e.params},r)}}function V(e,t){const n=y=L(e),r=_.value,i=e.state,a=e.force,l=!0===e.replace,c=B(n);if(c)return V(s(D(c),{state:"object"===typeof c?s({},i,c.state):i,force:a,replace:l}),t||n);const u=n;let d;return u.redirectedFrom=t,!a&&v(o,r,n)&&(d=G(16,{to:u,from:r}),ne(r,r,!0,!1)),(d?Promise.resolve(d):W(u,r)).catch((e=>Y(e)?Y(e,2)?e:te(e):Q(e,u,r))).then((e=>{if(e){if(Y(e,2))return V(s({replace:l},D(e.to),{state:"object"===typeof e.to?s({},i,e.to.state):i,force:a}),t||u)}else e=$(u,r,!0,l,i);return j(u,r,e),e}))}function U(e,t){const n=O(e,t);return n?Promise.reject(n):Promise.resolve()}function W(e,t){let n;const[r,i,a]=rt(e,t);n=We(r.reverse(),"beforeRouteLeave",e,t);for(const s of r)s.leaveGuards.forEach((r=>{n.push(He(r,e,t))}));const o=U.bind(null,e,t);return n.push(o),nt(n).then((()=>{n=[];for(const r of h.list())n.push(He(r,e,t));return n.push(o),nt(n)})).then((()=>{n=We(i,"beforeRouteUpdate",e,t);for(const r of i)r.updateGuards.forEach((r=>{n.push(He(r,e,t))}));return n.push(o),nt(n)})).then((()=>{n=[];for(const r of e.matched)if(r.beforeEnter&&!t.matched.includes(r))if(u(r.beforeEnter))for(const i of r.beforeEnter)n.push(He(i,e,t));else n.push(He(r.beforeEnter,e,t));return n.push(o),nt(n)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),n=We(a,"beforeRouteEnter",e,t),n.push(o),nt(n)))).then((()=>{n=[];for(const r of m.list())n.push(He(r,e,t));return n.push(o),nt(n)})).catch((e=>Y(e,8)?e:Promise.reject(e)))}function j(e,t,n){for(const r of g.list())r(e,t,n)}function $(e,t,n,r,i){const o=O(e,t);if(o)return o;const l=t===H,c=a?history.state:{};n&&(r||l?d.replace(e.fullPath,s({scroll:l&&c&&c.scroll},i)):d.push(e.fullPath,i)),_.value=e,ne(e,t,n,l),te()}let q;function X(){q||(q=d.listen(((e,t,n)=>{if(!se.listening)return;const r=L(e),i=B(r);if(i)return void V(s(i,{replace:!0}),r).catch(c);y=r;const o=_.value;a&&I(R(o.fullPath,n.delta),C()),W(r,o).catch((e=>Y(e,12)?e:Y(e,2)?(V(e.to,r).then((e=>{Y(e,20)&&!n.delta&&n.type===w.pop&&d.go(-1,!1)})).catch(c),Promise.reject()):(n.delta&&d.go(-n.delta,!1),Q(e,r,o)))).then((e=>{e=e||$(r,o,!1),e&&(n.delta&&!Y(e,8)?d.go(-n.delta,!1):n.type===w.pop&&Y(e,20)&&d.go(-1,!1)),j(r,o,e)})).catch(c)})))}let Z,K=ze(),J=ze();function Q(e,t,n){te(e);const r=J.list();return r.length?r.forEach((r=>r(e,t,n))):console.error(e),Promise.reject(e)}function ee(){return Z&&_.value!==H?Promise.resolve():new Promise(((e,t)=>{K.add([e,t])}))}function te(e){return Z||(Z=!e,X(),K.list().forEach((([t,n])=>e?n(e):t())),K.reset()),e}function ne(t,n,i,o){const{scrollBehavior:s}=e;if(!a||!s)return Promise.resolve();const l=!i&&P(R(t.fullPath,0))||(o||!i)&&history.state&&history.state.scroll||null;return(0,r.Y3)().then((()=>s(t,n,l))).then((e=>e&&k(e))).catch((e=>Q(e,t,n)))}const re=e=>d.go(e);let ae;const oe=new Set,se={currentRoute:_,listening:!0,addRoute:M,removeRoute:E,hasRoute:A,getRoutes:T,resolve:L,options:e,push:N,replace:F,go:re,back:()=>re(-1),forward:()=>re(1),beforeEach:h.add,beforeResolve:m.add,afterEach:g.add,onError:J.add,isReady:ee,install(e){const t=this;e.component("RouterLink",$e),e.component("RouterView",et),e.config.globalProperties.$router=t,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>(0,i.SU)(_)}),a&&!ae&&_.value===H&&(ae=!0,N(d.location).catch((e=>{0})));const n={};for(const i in H)n[i]=(0,r.Fl)((()=>_.value[i]));e.provide(Be,t),e.provide(Ve,(0,i.qj)(n)),e.provide(Ue,_);const o=e.unmount;oe.add(e),e.unmount=function(){oe.delete(e),oe.size<1&&(y=H,q&&q(),q=null,_.value=H,ae=!1,Z=!1),o()}}};return se}function nt(e){return e.reduce(((e,t)=>e.then((()=>t()))),Promise.resolve())}function rt(e,t){const n=[],r=[],i=[],a=Math.max(t.matched.length,e.matched.length);for(let o=0;o<a;o++){const a=t.matched[o];a&&(e.matched.find((e=>g(e,a)))?r.push(a):n.push(a));const s=e.matched[o];s&&(t.matched.find((e=>g(e,s)))||i.push(s))}return[n,r,i]}},1850:function(e,t,n){"use strict";n.r(t),n.d(t,{VAlert:function(){return Dt},VAlertTitle:function(){return It},VApp:function(){return S},VAppBar:function(){return Ce},VAppBarNavIcon:function(){return kt},VAppBarTitle:function(){return Rt},VAutocomplete:function(){return ni},VAvatar:function(){return gn},VBadge:function(){return ri},VBanner:function(){return oi},VBannerActions:function(){return ii},VBannerText:function(){return ai},VBottomNavigation:function(){return si},VBreadcrumbs:function(){return ui},VBreadcrumbsDivider:function(){return li},VBreadcrumbsItem:function(){return ci},VBtn:function(){return Ct},VBtnGroup:function(){return Fe},VBtnToggle:function(){return $e},VCard:function(){return vi},VCardActions:function(){return di},VCardItem:function(){return pi},VCardSubtitle:function(){return hi},VCardText:function(){return mi},VCardTitle:function(){return fi},VCarousel:function(){return wi},VCarouselItem:function(){return Mi},VCheckbox:function(){return Ei},VCheckboxBtn:function(){return mn},VChip:function(){return bn},VChipGroup:function(){return yn},VClassIcon:function(){return qe.$0},VCode:function(){return Ti},VCol:function(){return Wa},VColorPicker:function(){return wa},VCombobox:function(){return Ma},VComponentIcon:function(){return qe.$e},VContainer:function(){return Na},VCounter:function(){return en},VDefaultsProvider:function(){return E},VDialog:function(){return Ea},VDialogBottomTransition:function(){return H},VDialogTopTransition:function(){return W},VDialogTransition:function(){return B},VDivider:function(){return xn},VExpandTransition:function(){return ee},VExpandXTransition:function(){return te},VExpansionPanel:function(){return Ia},VExpansionPanelText:function(){return La},VExpansionPanelTitle:function(){return Ra},VExpansionPanels:function(){return Ca},VFabTransition:function(){return z},VFadeTransition:function(){return j},VField:function(){return Ht},VFieldLabel:function(){return Ft},VFileInput:function(){return Pa},VFooter:function(){return Da},VForm:function(){return Oa},VHover:function(){return so},VIcon:function(){return Qe},VImg:function(){return ce},VInput:function(){return Qt},VItem:function(){return uo},VItemGroup:function(){return co},VKbd:function(){return ho},VLabel:function(){return Nt},VLayout:function(){return fo},VLayoutItem:function(){return po},VLazy:function(){return mo},VLigatureIcon:function(){return qe.w8},VList:function(){return tr},VListGroup:function(){return zn},VListImg:function(){return vo},VListItem:function(){return jn},VListItemAction:function(){return go},VListItemMedia:function(){return _o},VListItemSubtitle:function(){return Hn},VListItemTitle:function(){return Wn},VListSubheader:function(){return Gn},VLocaleProvider:function(){return yo},VMain:function(){return bo},VMenu:function(){return qr},VMessages:function(){return jt},VNavigationDrawer:function(){return Lo},VNoSsr:function(){return Io},VOverlay:function(){return $r},VPagination:function(){return Do},VParallax:function(){return No},VProgressCircular:function(){return tt},VProgressLinear:function(){return pt},VRadio:function(){return Fo},VRadioGroup:function(){return Bo},VRangeSlider:function(){return Vo},VRating:function(){return Uo},VResponsive:function(){return ae},VRow:function(){return ao},VScaleTransition:function(){return G},VScrollXReverseTransition:function(){return $},VScrollXTransition:function(){return Y},VScrollYReverseTransition:function(){return X},VScrollYTransition:function(){return q},VSelect:function(){return Zr},VSelectionControl:function(){return fn},VSelectionControlGroup:function(){return un},VSheet:function(){return Ci},VSlideGroup:function(){return Yo},VSlideGroupItem:function(){return $o},VSlideXReverseTransition:function(){return K},VSlideXTransition:function(){return Z},VSlideYReverseTransition:function(){return Q},VSlideYTransition:function(){return J},VSlider:function(){return Ki},VSnackbar:function(){return qo},VSpacer:function(){return oo},VSvgIcon:function(){return qe.oX},VSwitch:function(){return Xo},VSystemBar:function(){return Zo},VTab:function(){return Jo},VTable:function(){return ts},VTabs:function(){return es},VTextField:function(){return sn},VTextarea:function(){return ns},VThemeProvider:function(){return rs},VTimeline:function(){return is},VTimelineItem:function(){return os},VToolbar:function(){return Ee},VToolbarItems:function(){return ss},VToolbarTitle:function(){return he},VTooltip:function(){return ls},VValidation:function(){return cs},VWindow:function(){return xi},VWindowItem:function(){return Si}});var r=n(3396),i=(n(1703),n(7658),n(4870)),a=n(7930);function o(e){const t=(0,i.iH)(),n=(0,i.iH)();if(a.BR){const i=new ResizeObserver((t=>{e?.(t,i),t.length&&(n.value=t[0].contentRect)}));(0,r.Jd)((()=>{i.disconnect()})),(0,r.YP)(t,((e,t)=>{t&&(i.unobserve(t),n.value=void 0),e&&i.observe(e)}),{flush:"post"})}return{resizeRef:t,contentRect:(0,i.OT)(n)}}var s=n(3766),l=n(7514),c=n(131);const u=Symbol.for("vuetify:layout"),d=Symbol.for("vuetify:layout-item"),h=1e3,f=(0,s.U)({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),p=(0,s.U)({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function m(){const e=(0,r.f3)(u);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function v(e){const t=(0,r.f3)(u);if(!t)throw new Error("[Vuetify] Could not find injected layout");const n=e.id??`layout-item-${(0,l.sq)()}`,a=(0,l.FN)("useLayoutItem");(0,r.JJ)(d,{id:n});const o=(0,i.iH)(!1);(0,r.se)((()=>o.value=!0)),(0,r.dl)((()=>o.value=!1));const{layoutItemStyles:s,layoutItemScrimStyles:c}=t.register(a,{...e,active:(0,r.Fl)((()=>!o.value&&e.active.value)),id:n});return(0,r.Jd)((()=>t.unregister(n))),{layoutItemStyles:s,layoutRect:t.layoutRect,layoutItemScrimStyles:c}}const g=(e,t,n,r)=>{let i={top:0,left:0,right:0,bottom:0};const a=[{id:"",layer:{...i}}];for(const o of e){const e=t.get(o),s=n.get(o),l=r.get(o);if(!e||!s||!l)continue;const c={...i,[e.value]:parseInt(i[e.value],10)+(l.value?parseInt(s.value,10):0)};a.push({id:o,layer:c}),i=c}return a};function _(e){const t=(0,r.f3)(u,null),n=(0,r.Fl)((()=>t?t.rootZIndex.value-100:h)),a=(0,i.iH)([]),s=(0,i.qj)(new Map),f=(0,i.qj)(new Map),p=(0,i.qj)(new Map),m=(0,i.qj)(new Map),v=(0,i.qj)(new Map),{resizeRef:_,contentRect:y}=o(),b=(0,r.Fl)((()=>{const t=new Map,n=e.overlaps??[];for(const e of n.filter((e=>e.includes(":")))){const[n,r]=e.split(":");if(!a.value.includes(n)||!a.value.includes(r))continue;const i=s.get(n),o=s.get(r),l=f.get(n),c=f.get(r);i&&o&&l&&c&&(t.set(r,{position:i.value,amount:parseInt(l.value,10)}),t.set(n,{position:o.value,amount:-parseInt(c.value,10)}))}return t})),x=(0,r.Fl)((()=>{const e=[...new Set([...p.values()].map((e=>e.value)))].sort(((e,t)=>e-t)),t=[];for(const n of e){const e=a.value.filter((e=>p.get(e)?.value===n));t.push(...e)}return g(t,s,f,m)})),w=(0,r.Fl)((()=>!Array.from(v.values()).some((e=>e.value)))),S=(0,r.Fl)((()=>x.value[x.value.length-1].layer)),M=(0,r.Fl)((()=>({"--v-layout-left":(0,c.kb)(S.value.left),"--v-layout-right":(0,c.kb)(S.value.right),"--v-layout-top":(0,c.kb)(S.value.top),"--v-layout-bottom":(0,c.kb)(S.value.bottom),...w.value?void 0:{transition:"none"}}))),E=(0,r.Fl)((()=>x.value.slice(1).map(((e,t)=>{let{id:n}=e;const{layer:r}=x.value[t],i=f.get(n),a=s.get(n);return{id:n,...r,size:Number(i.value),position:a.value}})))),T=e=>E.value.find((t=>t.id===e)),A=(0,l.FN)("createLayout"),C=(0,i.iH)(!1);(0,r.bv)((()=>{C.value=!0})),(0,r.JJ)(u,{register:(e,t)=>{let{id:i,order:o,position:l,layoutSize:u,elementSize:g,active:_,disableTransitions:y,absolute:S}=t;p.set(i,o),s.set(i,l),f.set(i,u),m.set(i,_),y&&v.set(i,y);const M=(0,c.bY)(d,A?.vnode),T=M.indexOf(e);T>-1?a.value.splice(T,0,i):a.value.push(i);const k=(0,r.Fl)((()=>E.value.findIndex((e=>e.id===i)))),R=(0,r.Fl)((()=>n.value+2*x.value.length-2*k.value)),L=(0,r.Fl)((()=>{const e="left"===l.value||"right"===l.value,t="right"===l.value,r="bottom"===l.value,a={[l.value]:0,zIndex:R.value,transform:`translate${e?"X":"Y"}(${(_.value?0:-110)*(t||r?-1:1)}%)`,position:S.value||n.value!==h?"absolute":"fixed",...w.value?void 0:{transition:"none"}};if(!C.value)return a;const o=E.value[k.value];if(!o)throw new Error(`[Vuetify] Could not find layout item "${i}"`);const s=b.value.get(i);return s&&(o[s.position]+=s.amount),{...a,height:e?`calc(100% - ${o.top}px - ${o.bottom}px)`:g.value?`${g.value}px`:void 0,left:t?void 0:`${o.left}px`,right:t?`${o.right}px`:void 0,top:"bottom"!==l.value?`${o.top}px`:void 0,bottom:"top"!==l.value?`${o.bottom}px`:void 0,width:e?g.value?`${g.value}px`:void 0:`calc(100% - ${o.left}px - ${o.right}px)`}})),I=(0,r.Fl)((()=>({zIndex:R.value-1})));return{layoutItemStyles:L,layoutItemScrimStyles:I,zIndex:R}},unregister:e=>{p.delete(e),s.delete(e),f.delete(e),m.delete(e),v.delete(e),a.value=a.value.filter((t=>t!==e))},mainRect:S,mainStyles:M,getLayoutItem:T,items:E,layoutRect:y,rootZIndex:n});const k=(0,r.Fl)((()=>["v-layout",{"v-layout--full-height":e.fullHeight}])),R=(0,r.Fl)((()=>({zIndex:n.value,position:t?"relative":void 0,overflow:t?"hidden":void 0})));return{layoutClasses:k,layoutStyles:R,getLayoutItem:T,items:E,layoutRect:y,layoutRef:_}}var y=n(7041),b=n(1629),x=n(320);function w(e){const t=(0,l.FN)("useRender");t.render=e}const S=(0,x.ev)()({name:"VApp",props:{...f({fullHeight:!0}),...(0,y.x$)()},setup(e,t){let{slots:n}=t;const i=(0,y.ER)(e),{layoutClasses:a,layoutStyles:o,getLayoutItem:s,items:l,layoutRef:c}=_(e),{rtlClasses:u}=(0,b.Vw)();return w((()=>(0,r.Wm)("div",{ref:c,class:["v-application",i.themeClasses.value,a.value,u.value],style:o.value},[(0,r.Wm)("div",{class:"v-application__wrap"},[n.default?.()])]))),{getLayoutItem:s,items:l,theme:i}}});var M=n(8434);const E=(0,x.ev)(!1)({name:"VDefaultsProvider",props:{defaults:Object,disabled:Boolean,reset:[Number,String],root:Boolean,scoped:Boolean},setup(e,t){let{slots:n}=t;const{defaults:r,disabled:a,reset:o,root:s,scoped:l}=(0,i.BK)(e);return(0,M.AF)(r,{reset:o,root:s,scoped:l,disabled:a}),()=>n.default?.()}});var T=n(9242);function A(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"center center",n=arguments.length>2?arguments[2]:void 0;return(0,x.ev)()({name:e,props:{disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:{type:String,default:n},origin:{type:String,default:t}},setup(t,n){let{slots:i}=n;const a={onBeforeEnter(e){e.style.transformOrigin=t.origin},onLeave(e){if(t.leaveAbsolute){const{offsetTop:t,offsetLeft:n,offsetWidth:r,offsetHeight:i}=e;e._transitionInitialStyles={position:e.style.position,top:e.style.top,left:e.style.left,width:e.style.width,height:e.style.height},e.style.position="absolute",e.style.top=`${t}px`,e.style.left=`${n}px`,e.style.width=`${r}px`,e.style.height=`${i}px`}t.hideOnLeave&&e.style.setProperty("display","none","important")},onAfterLeave(e){if(t.leaveAbsolute&&e?._transitionInitialStyles){const{position:t,top:n,left:r,width:i,height:a}=e._transitionInitialStyles;delete e._transitionInitialStyles,e.style.position=t||"",e.style.top=n||"",e.style.left=r||"",e.style.width=i||"",e.style.height=a||""}}};return()=>{const n=t.group?T.W3:T.uT;return(0,r.h)(n,{name:t.disabled?"":e,css:!t.disabled,...t.group?void 0:{mode:t.mode},...t.disabled?{}:a},i.default)}}})}function C(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"in-out";return(0,x.ev)()({name:e,props:{mode:{type:String,default:n},disabled:Boolean},setup(n,i){let{slots:a}=i;return()=>(0,r.h)(T.uT,{name:n.disabled?"":e,css:!n.disabled,...n.disabled?{}:t},a.default)}})}var k=n(7139);function R(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=t?"width":"height",r=(0,k._A)(`offset-${n}`);return{onBeforeEnter(e){e._parent=e.parentNode,e._initialStyle={transition:e.style.transition,overflow:e.style.overflow,[n]:e.style[n]}},onEnter(t){const i=t._initialStyle;t.style.setProperty("transition","none","important"),t.style.overflow="hidden";const a=`${t[r]}px`;t.style[n]="0",t.offsetHeight,t.style.transition=i.transition,e&&t._parent&&t._parent.classList.add(e),requestAnimationFrame((()=>{t.style[n]=a}))},onAfterEnter:a,onEnterCancelled:a,onLeave(e){e._initialStyle={transition:"",overflow:e.style.overflow,[n]:e.style[n]},e.style.overflow="hidden",e.style[n]=`${e[r]}px`,e.offsetHeight,requestAnimationFrame((()=>e.style[n]="0"))},onAfterLeave:i,onLeaveCancelled:i};function i(t){e&&t._parent&&t._parent.classList.remove(e),a(t)}function a(e){const t=e._initialStyle[n];e.style.overflow=e._initialStyle.overflow,null!=t&&(e.style[n]=t),delete e._initialStyle}}class L{constructor(e){let{x:t,y:n,width:r,height:i}=e;this.x=t,this.y=n,this.width=r,this.height=i}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function I(e,t){return{x:{before:Math.max(0,t.left-e.left),after:Math.max(0,e.right-t.right)},y:{before:Math.max(0,t.top-e.top),after:Math.max(0,e.bottom-t.bottom)}}}function P(e){const t=e.getBoundingClientRect(),n=getComputedStyle(e),r=n.transform;if(r){let i,a,o,s,l;if(r.startsWith("matrix3d("))i=r.slice(9,-1).split(/, /),a=+i[0],o=+i[5],s=+i[12],l=+i[13];else{if(!r.startsWith("matrix("))return new L(t);i=r.slice(7,-1).split(/, /),a=+i[0],o=+i[3],s=+i[4],l=+i[5]}const c=n.transformOrigin,u=t.x-s-(1-a)*parseFloat(c),d=t.y-l-(1-o)*parseFloat(c.slice(c.indexOf(" ")+1)),h=a?t.width/a:e.offsetWidth+1,f=o?t.height/o:e.offsetHeight+1;return new L({x:u,y:d,width:h,height:f})}return new L(t)}function D(e,t,n){if("undefined"===typeof e.animate)return{finished:Promise.resolve()};let r;try{r=e.animate(t,n)}catch(i){return{finished:Promise.resolve()}}return"undefined"===typeof r.finished&&(r.finished=new Promise((e=>{r.onfinish=()=>{e(r)}}))),r}const O="cubic-bezier(0.4, 0, 0.2, 1)",N="cubic-bezier(0.0, 0, 0.2, 1)",F="cubic-bezier(0.4, 0, 1, 1)",B=(0,x.ev)()({name:"VDialogTransition",props:{target:Object},setup(e,t){let{slots:n}=t;const i={onBeforeEnter(e){e.style.pointerEvents="none",e.style.visibility="hidden"},async onEnter(t,n){await new Promise((e=>requestAnimationFrame(e))),await new Promise((e=>requestAnimationFrame(e))),t.style.visibility="";const{x:r,y:i,sx:a,sy:o,speed:s}=U(e.target,t),l=D(t,[{transform:`translate(${r}px, ${i}px) scale(${a}, ${o})`,opacity:0},{}],{duration:225*s,easing:N});V(t)?.forEach((e=>{D(e,[{opacity:0},{opacity:0,offset:.33},{}],{duration:450*s,easing:O})})),l.finished.then((()=>n()))},onAfterEnter(e){e.style.removeProperty("pointer-events")},onBeforeLeave(e){e.style.pointerEvents="none"},async onLeave(t,n){await new Promise((e=>requestAnimationFrame(e)));const{x:r,y:i,sx:a,sy:o,speed:s}=U(e.target,t),l=D(t,[{},{transform:`translate(${r}px, ${i}px) scale(${a}, ${o})`,opacity:0}],{duration:125*s,easing:F});l.finished.then((()=>n())),V(t)?.forEach((e=>{D(e,[{},{opacity:0,offset:.2},{opacity:0}],{duration:250*s,easing:O})}))},onAfterLeave(e){e.style.removeProperty("pointer-events")}};return()=>e.target?(0,r.Wm)(T.uT,(0,r.dG)({name:"dialog-transition"},i,{css:!1}),n):(0,r.Wm)(T.uT,{name:"dialog-transition"},n)}});function V(e){const t=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list")?.children;return t&&[...t]}function U(e,t){const n=e.getBoundingClientRect(),r=P(t),[i,a]=getComputedStyle(t).transformOrigin.split(" ").map((e=>parseFloat(e))),[o,s]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let l=n.left+n.width/2;"left"===o||"left"===s?l-=n.width/2:"right"!==o&&"right"!==s||(l+=n.width/2);let c=n.top+n.height/2;"top"===o||"top"===s?c-=n.height/2:"bottom"!==o&&"bottom"!==s||(c+=n.height/2);const u=n.width/r.width,d=n.height/r.height,h=Math.max(1,u,d),f=u/h||0,p=d/h||0,m=r.width*r.height/(window.innerWidth*window.innerHeight),v=m>.12?Math.min(1.5,10*(m-.12)+1):1;return{x:l-(i+r.left),y:c-(a+r.top),sx:f,sy:p,speed:v}}const z=A("fab-transition","center center","out-in"),H=A("dialog-bottom-transition"),W=A("dialog-top-transition"),j=A("fade-transition"),G=A("scale-transition"),Y=A("scroll-x-transition"),$=A("scroll-x-reverse-transition"),q=A("scroll-y-transition"),X=A("scroll-y-reverse-transition"),Z=A("slide-x-transition"),K=A("slide-x-reverse-transition"),J=A("slide-y-transition"),Q=A("slide-y-reverse-transition"),ee=C("expand-transition",R()),te=C("expand-x-transition",R("",!0)),ne=(0,s.U)({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function re(e){const t=(0,r.Fl)((()=>({height:(0,c.kb)(e.height),maxHeight:(0,c.kb)(e.maxHeight),maxWidth:(0,c.kb)(e.maxWidth),minHeight:(0,c.kb)(e.minHeight),minWidth:(0,c.kb)(e.minWidth),width:(0,c.kb)(e.width)})));return{dimensionStyles:t}}function ie(e){return{aspectStyles:(0,r.Fl)((()=>{const t=Number(e.aspectRatio);return t?{paddingBottom:String(1/t*100)+"%"}:void 0}))}}const ae=(0,x.ev)()({name:"VResponsive",props:{aspectRatio:[String,Number],contentClass:String,...ne()},setup(e,t){let{slots:n}=t;const{aspectStyles:i}=ie(e),{dimensionStyles:a}=re(e);return w((()=>(0,r.Wm)("div",{class:"v-responsive",style:a.value},[(0,r.Wm)("div",{class:"v-responsive__sizer",style:i.value},null),n.additional?.(),n.default&&(0,r.Wm)("div",{class:["v-responsive__content",e.contentClass]},[n.default()])]))),{}}});var oe=n(7052);const se=(0,s.U)({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:e=>!0!==e}},"transition"),le=(e,t)=>{let{slots:n}=t;const{transition:i,...a}=e,{component:o=T.uT,...s}="object"===typeof i?i:{};return(0,r.h)(o,(0,r.dG)("string"===typeof i?{name:i}:s,a),n)},ce=(0,x.ev)()({name:"VImg",directives:{intersect:oe.Z},props:{aspectRatio:[String,Number],alt:String,cover:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},srcset:String,width:[String,Number],...se()},emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,t){let{emit:n,slots:o}=t;const s=(0,i.iH)(""),l=(0,i.iH)(),u=(0,i.iH)(e.eager?"loading":"idle"),d=(0,i.iH)(),h=(0,i.iH)(),f=(0,r.Fl)((()=>e.src&&"object"===typeof e.src?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)})),p=(0,r.Fl)((()=>f.value.aspect||d.value/h.value||0));function m(t){if((!e.eager||!t)&&(!a.cu||t||e.eager)){if(u.value="loading",f.value.lazySrc){const e=new Image;e.src=f.value.lazySrc,b(e,null)}f.value.src&&(0,r.Y3)((()=>{if(n("loadstart",l.value?.currentSrc||f.value.src),l.value?.complete){if(l.value.naturalWidth||g(),"error"===u.value)return;p.value||b(l.value,null),v()}else p.value||b(l.value),_()}))}}function v(){_(),u.value="loaded",n("load",l.value?.currentSrc||f.value.src)}function g(){u.value="error",n("error",l.value?.currentSrc||f.value.src)}function _(){const e=l.value;e&&(s.value=e.currentSrc||e.src)}(0,r.YP)((()=>e.src),(()=>{m("idle"!==u.value)})),(0,r.YP)(p,((e,t)=>{!e&&t&&l.value&&b(l.value)})),(0,r.wF)((()=>m()));let y=-1;function b(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const n=()=>{clearTimeout(y);const{naturalHeight:r,naturalWidth:i}=e;r||i?(d.value=i,h.value=r):e.complete||"loading"!==u.value||null==t?(e.currentSrc.endsWith(".svg")||e.currentSrc.startsWith("data:image/svg+xml"))&&(d.value=1,h.value=1):y=window.setTimeout(n,t)};n()}const x=(0,r.Fl)((()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover}))),S=()=>{if(!f.value.src||"idle"===u.value)return null;const t=(0,r.Wm)("img",{class:["v-img__img",x.value],src:f.value.src,srcset:f.value.srcset,alt:e.alt,sizes:e.sizes,ref:l,onLoad:v,onError:g},null),n=o.sources?.();return(0,r.Wm)(le,{transition:e.transition,appear:!0},{default:()=>[(0,r.wy)(n?(0,r.Wm)("picture",{class:"v-img__picture"},[n,t]):t,[[T.F8,"loaded"===u.value]])]})},M=()=>(0,r.Wm)(le,{transition:e.transition},{default:()=>[f.value.lazySrc&&"loaded"!==u.value&&(0,r.Wm)("img",{class:["v-img__img","v-img__img--preload",x.value],src:f.value.lazySrc,alt:e.alt},null)]}),E=()=>o.placeholder?(0,r.Wm)(le,{transition:e.transition,appear:!0},{default:()=>[("loading"===u.value||"error"===u.value&&!o.error)&&(0,r.Wm)("div",{class:"v-img__placeholder"},[o.placeholder()])]}):null,A=()=>o.error?(0,r.Wm)(le,{transition:e.transition,appear:!0},{default:()=>["error"===u.value&&(0,r.Wm)("div",{class:"v-img__error"},[o.error()])]}):null,C=()=>e.gradient?(0,r.Wm)("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,k=(0,i.iH)(!1);{const e=(0,r.YP)(p,(t=>{t&&(requestAnimationFrame((()=>{requestAnimationFrame((()=>{k.value=!0}))})),e())}))}return w((()=>(0,r.wy)((0,r.Wm)(ae,{class:["v-img",{"v-img--booting":!k.value}],style:{width:(0,c.kb)("auto"===e.width?d.value:e.width)},aspectRatio:p.value,"aria-label":e.alt,role:e.alt?"img":void 0},{additional:()=>(0,r.Wm)(r.HY,null,[(0,r.Wm)(S,null,null),(0,r.Wm)(M,null,null),(0,r.Wm)(C,null,null),(0,r.Wm)(E,null,null),(0,r.Wm)(A,null,null)]),default:o.default}),[[(0,r.Q2)("intersect"),{handler:m,options:e.options},null,{once:!0}]]))),{currentSrc:s,image:l,state:u,naturalWidth:d,naturalHeight:h}}}),ue=(0,s.U)({tag:{type:String,default:"div"}},"tag"),de=(0,s.U)({text:String,...ue()},"v-toolbar-title"),he=(0,x.ev)()({name:"VToolbarTitle",props:de(),setup(e,t){let{slots:n}=t;return w((()=>{const t=!!(n.default||n.text||e.text);return(0,r.Wm)(e.tag,{class:"v-toolbar-title"},{default:()=>[t&&(0,r.Wm)("div",{class:"v-toolbar-title__placeholder"},[n.text?n.text():e.text,n.default?.()])]})})),{}}}),fe=(0,s.U)({border:[Boolean,Number,String]},"border");function pe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,l.BL)();const n=(0,r.Fl)((()=>{const n=(0,i.dq)(e)?e.value:e.border,r=[];if(!0===n||""===n)r.push(`${t}--border`);else if("string"===typeof n||0===n)for(const e of String(n).split(" "))r.push(`border-${e}`);return r}));return{borderClasses:n}}const me=(0,s.U)({elevation:{type:[Number,String],validator(e){const t=parseInt(e);return!isNaN(t)&&t>=0&&t<=24}}},"elevation");function ve(e){const t=(0,r.Fl)((()=>{const t=(0,i.dq)(e)?e.value:e.elevation,n=[];return null==t||n.push(`elevation-${t}`),n}));return{elevationClasses:t}}const ge=(0,s.U)({rounded:{type:[Boolean,Number,String],default:void 0}},"rounded");function _e(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,l.BL)();const n=(0,r.Fl)((()=>{const n=(0,i.dq)(e)?e.value:e.rounded,r=[];if(!0===n||""===n)r.push(`${t}--rounded`);else if("string"===typeof n||0===n)for(const e of String(n).split(" "))r.push(`rounded-${e}`);return r}));return{roundedClasses:n}}var ye=n(661);function be(e){return(0,c.S3)((()=>{const t=[],n={};return e.value.background&&((0,ye.NA)(e.value.background)?n.backgroundColor=e.value.background:t.push(`bg-${e.value.background}`)),e.value.text&&((0,ye.NA)(e.value.text)?(n.color=e.value.text,n.caretColor=e.value.text):t.push(`text-${e.value.text}`)),{colorClasses:t,colorStyles:n}}))}function xe(e,t){const n=(0,r.Fl)((()=>({text:(0,i.dq)(e)?e.value:t?e[t]:null}))),{colorClasses:a,colorStyles:o}=be(n);return{textColorClasses:a,textColorStyles:o}}function we(e,t){const n=(0,r.Fl)((()=>({background:(0,i.dq)(e)?e.value:t?e[t]:null}))),{colorClasses:a,colorStyles:o}=be(n);return{backgroundColorClasses:a,backgroundColorStyles:o}}const Se=[null,"prominent","default","comfortable","compact"],Me=(0,s.U)({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>Se.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...fe(),...me(),...ge(),...ue({tag:"header"}),...(0,y.x$)()},"v-toolbar"),Ee=(0,x.ev)()({name:"VToolbar",props:Me(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:a,backgroundColorStyles:o}=we((0,i.Vh)(e,"color")),{borderClasses:s}=pe(e),{elevationClasses:l}=ve(e),{roundedClasses:u}=_e(e),{themeClasses:d}=(0,y.ER)(e),h=(0,i.iH)(!(!e.extended&&!n.extension?.())),f=(0,r.Fl)((()=>parseInt(Number(e.height)+("prominent"===e.density?Number(e.height):0)-("comfortable"===e.density?8:0)-("compact"===e.density?16:0),10))),p=(0,r.Fl)((()=>h.value?parseInt(Number(e.extensionHeight)+("prominent"===e.density?Number(e.extensionHeight):0)-("comfortable"===e.density?4:0)-("compact"===e.density?8:0),10):0));return(0,M.AF)({VBtn:{variant:"text"}}),w((()=>{const t=!(!e.title&&!n.title),i=!(!n.image&&!e.image),m=n.extension?.();return h.value=!(!e.extended&&!m),(0,r.Wm)(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},a.value,s.value,l.value,u.value,d.value],style:[o.value]},{default:()=>[i&&(0,r.Wm)("div",{key:"image",class:"v-toolbar__image"},[n.image?(0,r.Wm)(E,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},n.image):(0,r.Wm)(ce,{key:"image-img",cover:!0,src:e.image},null)]),(0,r.Wm)(E,{defaults:{VTabs:{height:(0,c.kb)(f.value)}}},{default:()=>[(0,r.Wm)("div",{class:"v-toolbar__content",style:{height:(0,c.kb)(f.value)}},[n.prepend&&(0,r.Wm)("div",{class:"v-toolbar__prepend"},[n.prepend?.()]),t&&(0,r.Wm)(he,{key:"title",text:e.title},{text:n.title}),n.default?.(),n.append&&(0,r.Wm)("div",{class:"v-toolbar__append"},[n.append?.()])])]}),(0,r.Wm)(E,{defaults:{VTabs:{height:(0,c.kb)(p.value)}}},{default:()=>[(0,r.Wm)(ee,null,{default:()=>[h.value&&(0,r.Wm)("div",{class:"v-toolbar__extension",style:{height:(0,c.kb)(p.value)}},[m])]})]})]})})),{contentHeight:f,extensionHeight:p}}});var Te=n(8717);function Ae(){const e=(0,i.iH)(!1);(0,r.bv)((()=>{window.requestAnimationFrame((()=>{e.value=!0}))}));const t=(0,r.Fl)((()=>e.value?void 0:{transition:"none !important"}));return{ssrBootStyles:t,isBooted:(0,i.OT)(e)}}const Ce=(0,x.ev)()({name:"VAppBar",props:{modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...Me(),...p(),height:{type:[Number,String],default:64}},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const a=(0,i.iH)(),o=(0,Te.z)(e,"modelValue"),s=(0,r.Fl)((()=>{const e=a.value?.contentHeight??0,t=a.value?.extensionHeight??0;return e+t})),{ssrBootStyles:l}=Ae(),{layoutItemStyles:c}=v({id:e.name,order:(0,r.Fl)((()=>parseInt(e.order,10))),position:(0,i.Vh)(e,"location"),layoutSize:s,elementSize:s,active:o,absolute:(0,i.Vh)(e,"absolute")});return w((()=>{const[t]=Ee.filterProps(e);return(0,r.Wm)(Ee,(0,r.dG)({ref:a,class:["v-app-bar",{"v-app-bar--bottom":"bottom"===e.location}],style:{...c.value,height:void 0,...l.value}},t),n)})),{}}}),ke=[null,"default","comfortable","compact"],Re=(0,s.U)({density:{type:String,default:"default",validator:e=>ke.includes(e)}},"density");function Le(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,l.BL)();const n=(0,r.Fl)((()=>`${t}--density-${e.density}`));return{densityClasses:n}}const Ie=["elevated","flat","tonal","outlined","text","plain"];function Pe(e,t){return(0,r.Wm)(r.HY,null,[e&&(0,r.Wm)("span",{key:"overlay",class:`${t}__overlay`},null),(0,r.Wm)("span",{key:"underlay",class:`${t}__underlay`},null)])}const De=(0,s.U)({color:String,variant:{type:String,default:"elevated",validator:e=>Ie.includes(e)}},"variant");function Oe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,l.BL)();const n=(0,r.Fl)((()=>{const{variant:n}=(0,i.SU)(e);return`${t}--variant-${n}`})),{colorClasses:a,colorStyles:o}=be((0,r.Fl)((()=>{const{variant:t,color:n}=(0,i.SU)(e);return{[["elevated","flat"].includes(t)?"background":"text"]:n}})));return{colorClasses:a,colorStyles:o,variantClasses:n}}const Ne=(0,s.U)({divided:Boolean,...fe(),...Re(),...me(),...ge(),...ue(),...(0,y.x$)(),...De()},"v-btn-group"),Fe=(0,x.ev)()({name:"VBtnGroup",props:Ne(),setup(e,t){let{slots:n}=t;const{themeClasses:a}=(0,y.ER)(e),{densityClasses:o}=Le(e),{borderClasses:s}=pe(e),{elevationClasses:l}=ve(e),{roundedClasses:c}=_e(e);(0,M.AF)({VBtn:{height:"auto",color:(0,i.Vh)(e,"color"),density:(0,i.Vh)(e,"density"),flat:!0,variant:(0,i.Vh)(e,"variant")}}),w((()=>(0,r.Wm)(e.tag,{class:["v-btn-group",{"v-btn-group--divided":e.divided},a.value,s.value,o.value,l.value,c.value]},n)))}});var Be=n(6033);const Ve=(0,s.U)({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),Ue=(0,s.U)({value:null,disabled:Boolean,selectedClass:String},"group-item");function ze(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const a=(0,l.FN)("useGroupItem");if(!a)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const o=(0,l.sq)();(0,r.JJ)(Symbol.for(`${t.description}:id`),o);const s=(0,r.f3)(t,null);if(!s){if(!n)return s;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${t.description}`)}const c=(0,i.Vh)(e,"value"),u=(0,r.Fl)((()=>s.disabled.value||e.disabled));s.register({id:o,value:c,disabled:u},a),(0,r.Jd)((()=>{s.unregister(o)}));const d=(0,r.Fl)((()=>s.isSelected(o))),h=(0,r.Fl)((()=>d.value&&[s.selectedClass.value,e.selectedClass]));return(0,r.YP)(d,(e=>{a.emit("group:selected",{value:e})})),{id:o,isSelected:d,toggle:()=>s.select(o,!d.value),select:e=>s.select(o,e),selectedClass:h,value:c,disabled:u,group:s}}function He(e,t){let n=!1;const a=(0,i.qj)([]),o=(0,Te.z)(e,"modelValue",[],(e=>null==e?[]:je(a,(0,c.FT)(e))),(t=>{const n=Ge(a,t);return e.multiple?n:n[0]})),s=(0,l.FN)("useGroup");function u(e,n){const r=e,i=Symbol.for(`${t.description}:id`),o=(0,c.bY)(i,s?.vnode),l=o.indexOf(n);l>-1?a.splice(l,0,r):a.push(r)}function d(e){if(n)return;h();const t=a.findIndex((t=>t.id===e));a.splice(t,1)}function h(){const t=a.find((e=>!e.disabled));t&&"force"===e.mandatory&&!o.value.length&&(o.value=[t.id])}function f(t,n){const r=a.find((e=>e.id===t));if(!n||!r?.disabled)if(e.multiple){const r=o.value.slice(),i=r.findIndex((e=>e===t)),a=~i;if(n=n??!a,a&&e.mandatory&&r.length<=1)return;if(!a&&null!=e.max&&r.length+1>e.max)return;i<0&&n?r.push(t):i>=0&&!n&&r.splice(i,1),o.value=r}else{const r=o.value.includes(t);if(e.mandatory&&r)return;o.value=n??!r?[t]:[]}}function p(t){if(e.multiple&&(0,Be.Kd)('This method is not supported when using "multiple" prop'),o.value.length){const e=o.value[0],n=a.findIndex((t=>t.id===e));let r=(n+t)%a.length,i=a[r];while(i.disabled&&r!==n)r=(r+t)%a.length,i=a[r];if(i.disabled)return;o.value=[a[r].id]}else{const e=a.find((e=>!e.disabled));e&&(o.value=[e.id])}}(0,r.bv)((()=>{h()})),(0,r.Jd)((()=>{n=!0}));const m={register:u,unregister:d,selected:o,select:f,disabled:(0,i.Vh)(e,"disabled"),prev:()=>p(a.length-1),next:()=>p(1),isSelected:e=>o.value.includes(e),selectedClass:(0,r.Fl)((()=>e.selectedClass)),items:(0,r.Fl)((()=>a)),getItemIndex:e=>We(a,e)};return(0,r.JJ)(t,m),m}function We(e,t){const n=je(e,[t]);return n.length?e.findIndex((e=>e.id===n[0])):-1}function je(e,t){const n=[];for(let r=0;r<e.length;r++){const i=e[r];null!=i.value?null!=t.find((e=>(0,c.vZ)(e,i.value)))&&n.push(i.id):t.includes(r)&&n.push(i.id)}return n}function Ge(e,t){const n=[];for(let r=0;r<e.length;r++){const i=e[r];t.includes(i.id)&&n.push(null!=i.value?i.value:r)}return n}const Ye=Symbol.for("vuetify:v-btn-toggle"),$e=(0,x.ev)()({name:"VBtnToggle",props:{...Ne(),...Ve()},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isSelected:i,next:a,prev:o,select:s,selected:l}=He(e,Ye);return w((()=>{const[t]=Fe.filterProps(e);return(0,r.Wm)(Fe,(0,r.dG)({class:"v-btn-toggle"},t),{default:()=>[n.default?.({isSelected:i,next:a,prev:o,select:s,selected:l})]})})),{next:a,prev:o,select:s}}});var qe=n(4960);const Xe=["x-small","small","default","large","x-large"],Ze=(0,s.U)({size:{type:[String,Number],default:"default"}},"size");function Ke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,l.BL)();return(0,c.S3)((()=>{let n,r;return(0,c.q9)(Xe,e.size)?n=`${t}--size-${e.size}`:e.size&&(r={width:(0,c.kb)(e.size),height:(0,c.kb)(e.size)}),{sizeClasses:n,sizeStyles:r}}))}const Je=(0,s.U)({color:String,start:Boolean,end:Boolean,icon:qe.lE,...Ze(),...ue({tag:"i"}),...(0,y.x$)()},"v-icon"),Qe=(0,x.ev)()({name:"VIcon",props:Je(),setup(e,t){let n,{attrs:a,slots:o}=t;o.default&&(n=(0,r.Fl)((()=>{const e=o.default?.();if(e)return e.filter((e=>e.type===r.xv&&e.children&&"string"===typeof e.children))[0]?.children})));const{themeClasses:s}=(0,y.ER)(e),{iconData:l}=(0,qe.bi)(n||e),{sizeClasses:u}=Ke(e),{textColorClasses:d,textColorStyles:h}=xe((0,i.Vh)(e,"color"));return w((()=>(0,r.Wm)(l.value.component,{tag:e.tag,icon:l.value.icon,class:["v-icon","notranslate",s.value,u.value,d.value,{"v-icon--clickable":!!a.onClick,"v-icon--start":e.start,"v-icon--end":e.end}],style:[u.value?void 0:{fontSize:(0,c.kb)(e.size),height:(0,c.kb)(e.size),width:(0,c.kb)(e.size)},h.value],role:a.onClick?"button":void 0,"aria-hidden":!a.onClick},{default:()=>[o.default?.()]}))),{}}});function et(e){const t=(0,i.iH)(),n=(0,i.iH)(!1);if(a.cu){const i=new IntersectionObserver((t=>{e?.(t,i),n.value=!!t.find((e=>e.isIntersecting))}));(0,r.Jd)((()=>{i.disconnect()})),(0,r.YP)(t,((e,t)=>{t&&(i.unobserve(t),n.value=!1),e&&i.observe(e)}),{flush:"post"})}return{intersectionRef:t,isIntersecting:n}}const tt=(0,x.ev)()({name:"VProgressCircular",props:{bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...Ze(),...ue({tag:"div"}),...(0,y.x$)()},setup(e,t){let{slots:n}=t;const a=20,s=2*Math.PI*a,l=(0,i.iH)(),{themeClasses:u}=(0,y.ER)(e),{sizeClasses:d,sizeStyles:h}=Ke(e),{textColorClasses:f,textColorStyles:p}=xe((0,i.Vh)(e,"color")),{textColorClasses:m,textColorStyles:v}=xe((0,i.Vh)(e,"bgColor")),{intersectionRef:g,isIntersecting:_}=et(),{resizeRef:b,contentRect:x}=o(),S=(0,r.Fl)((()=>Math.max(0,Math.min(100,parseFloat(e.modelValue))))),M=(0,r.Fl)((()=>Number(e.width))),E=(0,r.Fl)((()=>h.value?Number(e.size):x.value?x.value.width:Math.max(M.value,32))),T=(0,r.Fl)((()=>a/(1-M.value/E.value)*2)),A=(0,r.Fl)((()=>M.value/E.value*T.value)),C=(0,r.Fl)((()=>(0,c.kb)((100-S.value)/100*s)));return(0,r.m0)((()=>{g.value=l.value,b.value=l.value})),w((()=>(0,r.Wm)(e.tag,{ref:l,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":_.value,"v-progress-circular--disable-shrink":"disable-shrink"===e.indeterminate},u.value,d.value,f.value],style:[h.value,p.value],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:S.value},{default:()=>[(0,r.Wm)("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${T.value} ${T.value}`},[(0,r.Wm)("circle",{class:["v-progress-circular__underlay",m.value],style:v.value,fill:"transparent",cx:"50%",cy:"50%",r:a,"stroke-width":A.value,"stroke-dasharray":s,"stroke-dashoffset":0},null),(0,r.Wm)("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:a,"stroke-width":A.value,"stroke-dasharray":s,"stroke-dashoffset":C.value},null)]),n.default&&(0,r.Wm)("div",{class:"v-progress-circular__content"},[n.default({value:S.value})])]}))),{}}});var nt=n(3824);const rt=["top","bottom"],it=["start","end","left","right"];function at(e,t){let[n,r]=e.split(" ");return r||(r=(0,c.q9)(rt,n)?"start":(0,c.q9)(it,n)?"top":"center"),{side:ot(n,t),align:ot(r,t)}}function ot(e,t){return"start"===e?t?"right":"left":"end"===e?t?"left":"right":e}function st(e){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.side],align:e.align}}function lt(e){return{side:e.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.align]}}function ct(e){return{side:e.align,align:e.side}}function ut(e){return(0,c.q9)(rt,e.side)?"y":"x"}const dt={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},ht=(0,s.U)({location:String},"location");function ft(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;const{isRtl:i}=(0,b.Vw)(),a=(0,r.Fl)((()=>{if(!e.location)return{};const{side:r,align:a}=at(e.location.split(" ").length>1?e.location:`${e.location} center`,i.value);function o(e){return n?n(e):0}const s={};return"center"!==r&&(t?s[dt[r]]=`calc(100% - ${o(r)}px)`:s[r]=0),"center"!==a?t?s[dt[a]]=`calc(100% - ${o(a)}px)`:s[a]=0:("center"===r?s.top=s.left="50%":s[{top:"left",bottom:"left",left:"top",right:"top"}[r]]="50%",s.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[r]),s}));return{locationStyles:a}}const pt=(0,x.ev)()({name:"VProgressLinear",props:{absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...ht({location:"top"}),...ge(),...ue(),...(0,y.x$)()},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=(0,Te.z)(e,"modelValue"),{isRtl:a}=(0,b.Vw)(),{themeClasses:o}=(0,y.ER)(e),{locationStyles:s}=ft(e),{textColorClasses:l,textColorStyles:u}=xe(e,"color"),{backgroundColorClasses:d,backgroundColorStyles:h}=we((0,r.Fl)((()=>e.bgColor||e.color))),{backgroundColorClasses:f,backgroundColorStyles:p}=we(e,"color"),{roundedClasses:m}=_e(e),{intersectionRef:v,isIntersecting:g}=et(),_=(0,r.Fl)((()=>parseInt(e.max,10))),x=(0,r.Fl)((()=>parseInt(e.height,10))),S=(0,r.Fl)((()=>parseFloat(e.bufferValue)/_.value*100)),M=(0,r.Fl)((()=>parseFloat(i.value)/_.value*100)),E=(0,r.Fl)((()=>a.value!==e.reverse)),A=(0,r.Fl)((()=>e.indeterminate?"fade-transition":"slide-x-transition")),C=(0,r.Fl)((()=>null==e.bgOpacity?e.bgOpacity:parseFloat(e.bgOpacity)));function k(e){if(!v.value)return;const{left:t,right:n,width:r}=v.value.getBoundingClientRect(),a=E.value?r-e.clientX+(n-r):e.clientX-t;i.value=Math.round(a/r*_.value)}return w((()=>(0,r.Wm)(e.tag,{ref:v,class:["v-progress-linear",{"v-progress-linear--absolute":e.absolute,"v-progress-linear--active":e.active&&g.value,"v-progress-linear--reverse":E.value,"v-progress-linear--rounded":e.rounded,"v-progress-linear--rounded-bar":e.roundedBar,"v-progress-linear--striped":e.striped},m.value,o.value],style:{bottom:"bottom"===e.location?0:void 0,top:"top"===e.location?0:void 0,height:e.active?(0,c.kb)(x.value):0,"--v-progress-linear-height":(0,c.kb)(x.value),...s.value},role:"progressbar","aria-hidden":e.active?"false":"true","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.indeterminate?void 0:M.value,onClick:e.clickable&&k},{default:()=>[e.stream&&(0,r.Wm)("div",{key:"stream",class:["v-progress-linear__stream",l.value],style:{...u.value,[E.value?"left":"right"]:(0,c.kb)(-x.value),borderTop:`${(0,c.kb)(x.value/2)} dotted`,opacity:C.value,top:`calc(50% - ${(0,c.kb)(x.value/4)})`,width:(0,c.kb)(100-S.value,"%"),"--v-progress-linear-stream-to":(0,c.kb)(x.value*(E.value?1:-1))}},null),(0,r.Wm)("div",{class:["v-progress-linear__background",d.value],style:[h.value,{opacity:C.value,width:(0,c.kb)(e.stream?S.value:100,"%")}]},null),(0,r.Wm)(T.uT,{name:A.value},{default:()=>[e.indeterminate?(0,r.Wm)("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map((e=>(0,r.Wm)("div",{key:e,class:["v-progress-linear__indeterminate",e,f.value],style:p.value},null)))]):(0,r.Wm)("div",{class:["v-progress-linear__determinate",f.value],style:[p.value,{width:(0,c.kb)(M.value,"%")}]},null)]}),n.default&&(0,r.Wm)("div",{class:"v-progress-linear__content"},[n.default({value:M.value,buffer:S.value})])]}))),{}}}),mt=(0,s.U)({loading:[Boolean,String]},"loader");function vt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,l.BL)();const n=(0,r.Fl)((()=>({[`${t}--loading`]:e.loading})));return{loaderClasses:n}}function gt(e,t){let{slots:n}=t;return(0,r.Wm)("div",{class:`${e.name}__loader`},[n.default?.({color:e.color,isActive:e.active})||(0,r.Wm)(pt,{active:e.active,color:e.color,height:"2",indeterminate:!0},null)])}const _t=["static","relative","fixed","absolute","sticky"],yt=(0,s.U)({position:{type:String,validator:e=>_t.includes(e)}},"position");function bt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,l.BL)();const n=(0,r.Fl)((()=>e.position?`${t}--${e.position}`:void 0));return{positionClasses:n}}function xt(){return(0,l.FN)("useRouter")?.proxy?.$router}function wt(e,t){const n=(0,r.LL)("RouterLink"),a=(0,r.Fl)((()=>!(!e.href&&!e.to))),o=(0,r.Fl)((()=>a?.value||(0,c.B0)(t,"click")||(0,c.B0)(e,"click")));if("string"===typeof n)return{isLink:a,isClickable:o,href:(0,i.Vh)(e,"href")};const s=e.to?n.useLink(e):void 0;return{isLink:a,isClickable:o,route:s?.route,navigate:s?.navigate,isActive:s&&(0,r.Fl)((()=>e.exact?s.isExactActive?.value:s.isActive?.value)),href:(0,r.Fl)((()=>e.to?s?.route.value.href:e.href))}}const St=(0,s.U)({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let Mt=!1;function Et(e,t){let n,o,s=!1;function l(e){e.state?.replaced||(s=!0,setTimeout((()=>s=!1)))}a.BR&&((0,r.Y3)((()=>{window.addEventListener("popstate",l),n=e?.beforeEach(((e,n,r)=>{Mt?s?t(r):r():setTimeout((()=>s?t(r):r())),Mt=!0})),o=e?.afterEach((()=>{Mt=!1}))})),(0,i.EB)((()=>{window.removeEventListener("popstate",l),n?.(),o?.()})))}function Tt(e,t){(0,r.YP)((()=>e.isActive?.value),(n=>{e.isLink.value&&n&&t&&(0,r.Y3)((()=>{t(!0)}))}),{immediate:!0})}const At=(0,s.U)({active:{type:Boolean,default:void 0},symbol:{type:null,default:Ye},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:qe.lE,appendIcon:qe.lE,block:Boolean,stacked:Boolean,ripple:{type:Boolean,default:!0},...fe(),...ge(),...Re(),...ne(),...me(),...Ue(),...mt(),...ht(),...yt(),...St(),...Ze(),...ue({tag:"button"}),...(0,y.x$)(),...De({variant:"elevated"})},"VBtn"),Ct=(0,x.ev)()({name:"VBtn",directives:{Ripple:nt.H},props:At(),emits:{"group:selected":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const{themeClasses:a}=(0,y.ER)(e),{borderClasses:o}=pe(e),{colorClasses:s,colorStyles:l,variantClasses:c}=Oe(e),{densityClasses:u}=Le(e),{dimensionStyles:d}=re(e),{elevationClasses:h}=ve(e),{loaderClasses:f}=vt(e),{locationStyles:p}=ft(e),{positionClasses:m}=bt(e),{roundedClasses:v}=_e(e),{sizeClasses:g,sizeStyles:_}=Ke(e),b=ze(e,e.symbol,!1),x=wt(e,n),S=(0,r.Fl)((()=>void 0!==e.active?e.active:x.isLink.value?x.isActive?.value:b?.isSelected.value)),M=(0,r.Fl)((()=>b?.disabled.value||e.disabled)),T=(0,r.Fl)((()=>"elevated"===e.variant&&!(e.disabled||e.flat||e.border))),A=(0,r.Fl)((()=>{if(void 0!==e.value)return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value}));return Tt(x,b?.select),w((()=>{const t=x.isLink.value?"a":e.tag,n=!(!e.prependIcon&&!i.prepend),y=!(!e.appendIcon&&!i.append),w=!(!e.icon||!0===e.icon),C=b?.isSelected.value&&(!x.isLink.value||x.isActive?.value)||!b||x.isActive?.value;return(0,r.wy)((0,r.Wm)(t,{type:"a"===t?void 0:"button",class:["v-btn",b?.selectedClass.value,{"v-btn--active":S.value,"v-btn--block":e.block,"v-btn--disabled":M.value,"v-btn--elevated":T.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--stacked":e.stacked},a.value,o.value,C?s.value:void 0,u.value,h.value,f.value,m.value,v.value,g.value,c.value],style:[C?l.value:void 0,d.value,p.value,_.value],disabled:M.value||void 0,href:x.href.value,onClick:e=>{M.value||(x.navigate?.(e),b?.toggle())},value:A.value},{default:()=>[Pe(!0,"v-btn"),!e.icon&&n&&(0,r.Wm)("span",{key:"prepend",class:"v-btn__prepend"},[i.prepend?(0,r.Wm)(E,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},i.prepend):(0,r.Wm)(Qe,{key:"prepend-icon",icon:e.prependIcon},null)]),(0,r.Wm)("span",{class:"v-btn__content","data-no-activator":""},[!i.default&&w?(0,r.Wm)(Qe,{key:"content-icon",icon:e.icon},null):(0,r.Wm)(E,{key:"content-defaults",disabled:!w,defaults:{VIcon:{icon:e.icon}}},i.default)]),!e.icon&&y&&(0,r.Wm)("span",{key:"append",class:"v-btn__append"},[i.append?(0,r.Wm)(E,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},i.append):(0,r.Wm)(Qe,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&(0,r.Wm)("span",{key:"loader",class:"v-btn__loader"},[i.loader?.()??(0,r.Wm)(tt,{color:"boolean"===typeof e.loading?void 0:e.loading,indeterminate:!0,size:"23",width:"2"},null)])]}),[[(0,r.Q2)("ripple"),!M.value&&e.ripple,null]])})),{}}}),kt=(0,x.ev)()({name:"VAppBarNavIcon",props:{icon:{type:qe.lE,default:"$menu"}},setup(e,t){let{slots:n}=t;return w((()=>(0,r.Wm)(Ct,{class:"v-app-bar-nav-icon",icon:e.icon},n))),{}}}),Rt=(0,x.ev)()({name:"VAppBarTitle",props:de(),setup(e,t){let{slots:n}=t;return w((()=>(0,r.Wm)(he,(0,r.dG)(e,{class:"v-app-bar-title"}),n))),{}}});function Lt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return(0,x.ev)()({name:n??(0,k.kC)((0,k._A)(e.replace(/__/g,"-"))),props:{tag:{type:String,default:t}},setup(t,n){let{slots:i}=n;return()=>(0,r.h)(t.tag,{class:e},i.default?.())}})}const It=Lt("v-alert-title"),Pt=["success","info","warning","error"],Dt=(0,x.ev)()({name:"VAlert",props:{border:{type:[Boolean,String],validator:e=>"boolean"===typeof e||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:qe.lE,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>Pt.includes(e)},...Re(),...ne(),...me(),...ht(),...yt(),...ge(),...ue(),...(0,y.x$)(),...De({variant:"flat"})},emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:a}=t;const o=(0,Te.z)(e,"modelValue"),s=(0,r.Fl)((()=>{if(!1!==e.icon)return e.type?e.icon??`$${e.type}`:e.icon})),l=(0,r.Fl)((()=>({color:e.color??e.type,variant:e.variant}))),{themeClasses:c}=(0,y.ER)(e),{colorClasses:u,colorStyles:d,variantClasses:h}=Oe(l),{densityClasses:f}=Le(e),{dimensionStyles:p}=re(e),{elevationClasses:m}=ve(e),{locationStyles:v}=ft(e),{positionClasses:g}=bt(e),{roundedClasses:_}=_e(e),{textColorClasses:x,textColorStyles:w}=xe((0,i.Vh)(e,"borderColor")),{t:S}=(0,b.bU)(),M=(0,r.Fl)((()=>({"aria-label":S(e.closeLabel),onClick(e){o.value=!1,n("click:close",e)}})));return()=>{const t=!(!a.prepend&&!s.value),n=!(!a.title&&!e.title),i=!(!e.text&&!a.text),l=!(!a.close&&!e.closable);return o.value&&(0,r.Wm)(e.tag,{class:["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${!0===e.border?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},c.value,u.value,f.value,m.value,g.value,_.value,h.value],style:[d.value,p.value,v.value],role:"alert"},{default:()=>[Pe(!1,"v-alert"),e.border&&(0,r.Wm)("div",{key:"border",class:["v-alert__border",x.value],style:w.value},null),t&&(0,r.Wm)("div",{key:"prepend",class:"v-alert__prepend"},[a.prepend?(0,r.Wm)(E,{key:"prepend-defaults",disabled:!s.value,defaults:{VIcon:{density:e.density,icon:s.value,size:e.prominent?44:28}}},a.prepend):(0,r.Wm)(Qe,{key:"prepend-icon",density:e.density,icon:s.value,size:e.prominent?44:28},null)]),(0,r.Wm)("div",{class:"v-alert__content"},[n&&(0,r.Wm)(It,{key:"title"},{default:()=>[a.title?.()??e.title]}),i&&(a.text?.()??e.text),a.default?.()]),a.append&&(0,r.Wm)("div",{key:"append",class:"v-alert__append"},[a.append()]),l&&(0,r.Wm)("div",{key:"close",class:"v-alert__close"},[a.close?(0,r.Wm)(E,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>[a.close?.({props:M.value})]}):(0,r.Wm)(Ct,(0,r.dG)({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},M.value),null)])]})}}});n(2262),n(4506);function Ot(e){const{t:t}=(0,b.bU)();function n(n){let{name:i}=n;const a={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[i],o=e[`onClick:${i}`],s=o&&a?t(`$vuetify.input.${a}`,e.label??""):void 0;return(0,r.Wm)(Qe,{icon:e[`${i}Icon`],"aria-label":s,onClick:o},null)}return{InputIcon:n}}const Nt=(0,x.ev)()({name:"VLabel",props:{text:String,clickable:Boolean,...(0,y.x$)()},setup(e,t){let{slots:n}=t;return w((()=>(0,r.Wm)("label",{class:["v-label",{"v-label--clickable":e.clickable}]},[e.text,n.default?.()]))),{}}}),Ft=(0,x.ev)()({name:"VFieldLabel",props:{floating:Boolean},setup(e,t){let{slots:n}=t;return w((()=>(0,r.Wm)(Nt,{class:["v-field-label",{"v-field-label--floating":e.floating}],"aria-hidden":e.floating||void 0},n))),{}}}),Bt=(0,s.U)({focused:Boolean,"onUpdate:focused":(0,c.as)()},"focus");function Vt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,l.BL)();const n=(0,Te.z)(e,"focused"),i=(0,r.Fl)((()=>({[`${t}--focused`]:n.value})));function a(){n.value=!0}function o(){n.value=!1}return{focusClasses:i,isFocused:n,focus:a,blur:o}}const Ut=["underlined","outlined","filled","solo","plain"],zt=(0,s.U)({appendInnerIcon:qe.lE,bgColor:String,clearable:Boolean,clearIcon:{type:qe.lE,default:"$clear"},active:Boolean,color:String,dirty:Boolean,disabled:Boolean,error:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:qe.lE,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>Ut.includes(e)},"onClick:clear":(0,c.as)(),"onClick:appendInner":(0,c.as)(),"onClick:prependInner":(0,c.as)(),...(0,y.x$)(),...mt()},"v-field"),Ht=(0,x.ev)()({name:"VField",inheritAttrs:!1,props:{id:String,...Bt(),...zt()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:a,slots:o}=t;const{themeClasses:s}=(0,y.ER)(e),{loaderClasses:u}=vt(e),{focusClasses:d,isFocused:h,focus:f,blur:p}=Vt(e),{InputIcon:m}=Ot(e),v=(0,r.Fl)((()=>e.dirty||e.active)),g=(0,r.Fl)((()=>!e.singleLine&&!(!e.label&&!o.label))),_=(0,l.sq)(),b=(0,r.Fl)((()=>e.id||`input-${_}`)),x=(0,r.Fl)((()=>`${b.value}-messages`)),S=(0,i.iH)(),M=(0,i.iH)(),E=(0,i.iH)(),{backgroundColorClasses:A,backgroundColorStyles:C}=we((0,i.Vh)(e,"bgColor")),{textColorClasses:k,textColorStyles:R}=xe((0,r.Fl)((()=>v.value&&h.value&&!e.error&&!e.disabled?e.color:void 0)));(0,r.YP)(v,(e=>{if(g.value){const t=S.value.$el,n=M.value.$el;requestAnimationFrame((()=>{const r=P(t),i=n.getBoundingClientRect(),a=i.x-r.x,o=i.y-r.y-(r.height/2-i.height/2),s=i.width/.75,l=Math.abs(s-r.width)>1?{maxWidth:(0,c.kb)(s)}:void 0,u=getComputedStyle(t),d=getComputedStyle(n),h=1e3*parseFloat(u.transitionDuration)||150,f=parseFloat(d.getPropertyValue("--v-field-label-scale")),p=d.getPropertyValue("color");t.style.visibility="visible",n.style.visibility="hidden",D(t,{transform:`translate(${a}px, ${o}px) scale(${f})`,color:p,...l},{duration:h,easing:O,direction:e?"normal":"reverse"}).finished.then((()=>{t.style.removeProperty("visibility"),n.style.removeProperty("visibility")}))}))}}),{flush:"post"});const L=(0,r.Fl)((()=>({isActive:v,isFocused:h,controlRef:E,blur:p,focus:f})));function I(e){e.target!==document.activeElement&&e.preventDefault()}return w((()=>{const t="outlined"===e.variant,i=o["prepend-inner"]||e.prependInnerIcon,a=!(!e.clearable&&!o.clear),l=!!(o["append-inner"]||e.appendInnerIcon||a),c=o.label?o.label({label:e.label,props:{for:b.value}}):e.label;return(0,r.Wm)("div",(0,r.dG)({class:["v-field",{"v-field--active":v.value,"v-field--appended":l,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":i,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!c,[`v-field--variant-${e.variant}`]:!0},s.value,A.value,d.value,u.value],style:[C.value,R.value],onClick:I},n),[(0,r.Wm)("div",{class:"v-field__overlay"},null),(0,r.Wm)(gt,{name:"v-field",active:!!e.loading,color:e.error?"error":e.color},{default:o.loader}),i&&(0,r.Wm)("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&(0,r.Wm)(m,{key:"prepend-icon",name:"prependInner"},null),o["prepend-inner"]?.(L.value)]),(0,r.Wm)("div",{class:"v-field__field","data-no-activator":""},[["solo","filled"].includes(e.variant)&&g.value&&(0,r.Wm)(Ft,{key:"floating-label",ref:M,class:[k.value],floating:!0,for:b.value},{default:()=>[c]}),(0,r.Wm)(Ft,{ref:S,for:b.value},{default:()=>[c]}),o.default?.({...L.value,props:{id:b.value,class:"v-field__input","aria-describedby":x.value},focus:f,blur:p})]),a&&(0,r.Wm)(te,{key:"clear"},{default:()=>[(0,r.wy)((0,r.Wm)("div",{class:"v-field__clearable",onMousedown:e=>{e.preventDefault(),e.stopPropagation()}},[o.clear?o.clear():(0,r.Wm)(m,{name:"clear"},null)]),[[T.F8,e.dirty]])]}),l&&(0,r.Wm)("div",{key:"append",class:"v-field__append-inner"},[o["append-inner"]?.(L.value),e.appendInnerIcon&&(0,r.Wm)(m,{key:"append-icon",name:"appendInner"},null)]),(0,r.Wm)("div",{class:["v-field__outline",k.value]},[t&&(0,r.Wm)(r.HY,null,[(0,r.Wm)("div",{class:"v-field__outline__start"},null),g.value&&(0,r.Wm)("div",{class:"v-field__outline__notch"},[(0,r.Wm)(Ft,{ref:M,floating:!0,for:b.value},{default:()=>[c]})]),(0,r.Wm)("div",{class:"v-field__outline__end"},null)]),["plain","underlined"].includes(e.variant)&&g.value&&(0,r.Wm)(Ft,{ref:M,floating:!0,for:b.value},{default:()=>[c]})])])})),{controlRef:E}}});function Wt(e){const t=Object.keys(Ht.props).filter((e=>!(0,c.F7)(e)));return(0,c.ei)(e,t)}const jt=(0,x.ev)()({name:"VMessages",props:{active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...se({transition:{component:J,leaveAbsolute:!0,group:!0}})},setup(e,t){let{slots:n}=t;const i=(0,r.Fl)((()=>(0,c.FT)(e.messages))),{textColorClasses:a,textColorStyles:o}=xe((0,r.Fl)((()=>e.color)));return w((()=>(0,r.Wm)(le,{transition:e.transition,tag:"div",class:["v-messages",a.value],style:o.value,role:"alert","aria-live":"polite"},{default:()=>[e.active&&i.value.map(((e,t)=>(0,r.Wm)("div",{class:"v-messages__message",key:`${t}-${i.value}`},[n.message?n.message({message:e}):e])))]}))),{}}}),Gt=Symbol.for("vuetify:form"),Yt=(0,s.U)({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function $t(e){const t=(0,Te.z)(e,"modelValue"),n=(0,r.Fl)((()=>e.disabled)),a=(0,r.Fl)((()=>e.readonly)),o=(0,i.iH)(!1),s=(0,i.iH)([]),l=(0,i.iH)([]);async function c(){const t=[];let n=!0;l.value=[],o.value=!0;for(const r of s.value){const i=await r.validate();if(i.length>0&&(n=!1,t.push({id:r.id,errorMessages:i})),!n&&e.fastFail)break}return l.value=t,o.value=!1,{valid:n,errors:l.value}}function u(){s.value.forEach((e=>e.reset())),t.value=null}function d(){s.value.forEach((e=>e.resetValidation())),l.value=[],t.value=null}return(0,r.YP)(s,(()=>{let e=0,n=0;const r=[];for(const t of s.value)!1===t.isValid?(n++,r.push({id:t.id,errorMessages:t.errorMessages})):!0===t.isValid&&e++;l.value=r,t.value=!(n>0)&&(e===s.value.length||null)}),{deep:!0}),(0,r.JJ)(Gt,{register:e=>{let{id:t,validate:n,reset:r,resetValidation:i}=e;s.value.some((e=>e.id===t))&&(0,Be.Kd)(`Duplicate input name "${t}"`),s.value.push({id:t,validate:n,reset:r,resetValidation:i,isValid:null,errorMessages:[]})},unregister:e=>{s.value=s.value.filter((t=>t.id!==e))},update:(e,t,n)=>{const r=s.value.find((t=>t.id===e));r&&(r.isValid=t,r.errorMessages=n)},isDisabled:n,isReadonly:a,isValidating:o,items:s,validateOn:(0,i.Vh)(e,"validateOn")}),{errors:l,isDisabled:n,isReadonly:a,isValidating:o,items:s,validate:c,reset:u,resetValidation:d}}function qt(){return(0,r.f3)(Gt,null)}var Xt=n(4770);const Zt=(0,s.U)({disabled:Boolean,error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:Boolean,rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...Bt()},"validation");function Kt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,l.BL)(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,l.sq)();const a=(0,Te.z)(e,"modelValue"),o=(0,r.Fl)((()=>void 0===e.validationValue?a.value:e.validationValue)),s=qt(),u=(0,i.iH)([]),d=(0,i.iH)(!0),h=(0,r.Fl)((()=>!(!(0,c.FT)(""===a.value?null:a.value).length&&!(0,c.FT)(""===o.value?null:o.value).length))),f=(0,r.Fl)((()=>!(!e.disabled&&!s?.isDisabled.value))),p=(0,r.Fl)((()=>!(!e.readonly&&!s?.isReadonly.value))),m=(0,r.Fl)((()=>e.errorMessages.length?(0,c.FT)(e.errorMessages).slice(0,Math.max(0,+e.maxErrors)):u.value)),v=(0,r.Fl)((()=>!e.error&&!m.value.length&&(!e.rules.length||(!d.value||null)))),g=(0,i.iH)(!1),_=(0,r.Fl)((()=>({[`${t}--error`]:!1===v.value,[`${t}--dirty`]:h.value,[`${t}--disabled`]:f.value,[`${t}--readonly`]:p.value}))),y=(0,r.Fl)((()=>e.name??(0,i.SU)(n)));(0,r.wF)((()=>{s?.register({id:y.value,validate:S,reset:x,resetValidation:w})})),(0,r.Jd)((()=>{s?.unregister(y.value)}));const b=(0,r.Fl)((()=>e.validateOn||s?.validateOn.value||"input"));function x(){w(),a.value=null}function w(){d.value=!0,u.value=[]}async function S(){const t=[];g.value=!0;for(const n of e.rules){if(t.length>=+(e.maxErrors??1))break;const r="function"===typeof n?n:()=>n,i=await r(o.value);!0!==i&&("string"===typeof i?t.push(i):console.warn(`${i} is not a valid value. Rule functions must return boolean true or a string.`))}return u.value=t,g.value=!1,d.value=!1,u.value}return(0,r.bv)((()=>s?.update(y.value,v.value,m.value))),(0,Xt.U)((()=>"input"===b.value),(()=>{(0,r.YP)(o,(()=>{if(null!=o.value)S();else if(e.focused){const t=(0,r.YP)((()=>e.focused),(e=>{e||S(),t()}))}}))})),(0,Xt.U)((()=>"blur"===b.value),(()=>{(0,r.YP)((()=>e.focused),(e=>{e||S()}))})),(0,r.YP)(v,(()=>{s?.update(y.value,v.value,m.value)})),{errorMessages:m,isDirty:h,isDisabled:f,isReadonly:p,isPristine:d,isValid:v,isValidating:g,reset:x,resetValidation:w,validate:S,validationClasses:_}}const Jt=(0,s.U)({id:String,appendIcon:qe.lE,prependIcon:qe.lE,hideDetails:[Boolean,String],hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":(0,c.as)(),"onClick:append":(0,c.as)(),...Re(),...Zt()},"v-input"),Qt=(0,x.ev)()({name:"VInput",props:{...Jt()},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:i,emit:a}=t;const{densityClasses:o}=Le(e),{InputIcon:s}=Ot(e),c=(0,l.sq)(),u=(0,r.Fl)((()=>e.id||`input-${c}`)),d=(0,r.Fl)((()=>`${u.value}-messages`)),{errorMessages:h,isDirty:f,isDisabled:p,isReadonly:m,isPristine:v,isValid:g,isValidating:_,reset:y,resetValidation:b,validate:x,validationClasses:S}=Kt(e,"v-input",u),M=(0,r.Fl)((()=>({id:u,messagesId:d,isDirty:f,isDisabled:p,isReadonly:m,isPristine:v,isValid:g,isValidating:_,reset:y,resetValidation:b,validate:x}))),E=(0,r.Fl)((()=>h.value.length>0?h.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages));return w((()=>{const t=!(!i.prepend&&!e.prependIcon),n=!(!i.append&&!e.appendIcon),a=E.value.length>0,l=!e.hideDetails||"auto"===e.hideDetails&&(a||!!i.details);return(0,r.Wm)("div",{class:["v-input",`v-input--${e.direction}`,o.value,S.value]},[t&&(0,r.Wm)("div",{key:"prepend",class:"v-input__prepend"},[i.prepend?.(M.value),e.prependIcon&&(0,r.Wm)(s,{key:"prepend-icon",name:"prepend"},null)]),i.default&&(0,r.Wm)("div",{class:"v-input__control"},[i.default?.(M.value)]),n&&(0,r.Wm)("div",{key:"append",class:"v-input__append"},[e.appendIcon&&(0,r.Wm)(s,{key:"append-icon",name:"append"},null),i.append?.(M.value)]),l&&(0,r.Wm)("div",{class:"v-input__details"},[(0,r.Wm)(jt,{id:d.value,active:a,messages:E.value},{message:i.message}),i.details?.(M.value)])])})),{reset:y,resetValidation:b,validate:x}}}),en=(0,x.ev)()({name:"VCounter",functional:!0,props:{active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...se({transition:{component:J}})},setup(e,t){let{slots:n}=t;const i=(0,r.Fl)((()=>e.max?`${e.value} / ${e.max}`:String(e.value)));return w((()=>(0,r.Wm)(le,{transition:e.transition},{default:()=>[(0,r.wy)((0,r.Wm)("div",{class:"v-counter"},[n.default?n.default({counter:i.value,max:e.max,value:e.value}):i.value]),[[T.F8,e.active]])]}))),{}}}),tn=Symbol("Forwarded refs");function nn(e,t){let n=e;while(n){const e=Reflect.getOwnPropertyDescriptor(n,t);if(e)return e;n=Object.getPrototypeOf(n)}}function rn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e[tn]=n,new Proxy(e,{get(e,t){if(Reflect.has(e,t))return Reflect.get(e,t);if("symbol"!==typeof t&&!t.startsWith("__"))for(const r of n)if(r.value&&Reflect.has(r.value,t)){const e=Reflect.get(r.value,t);return"function"===typeof e?e.bind(r.value):e}},has(e,t){if(Reflect.has(e,t))return!0;if("symbol"===typeof t||t.startsWith("__"))return!1;for(const r of n)if(r.value&&Reflect.has(r.value,t))return!0;return!1},getOwnPropertyDescriptor(e,t){const r=Reflect.getOwnPropertyDescriptor(e,t);if(r)return r;if("symbol"!==typeof t&&!t.startsWith("__")){for(const e of n){if(!e.value)continue;const n=nn(e.value,t)??("_"in e.value?nn(e.value._?.setupState,t):void 0);if(n)return n}for(const e of n){const n=e.value&&e.value[tn];if(!n)continue;const r=n.slice();while(r.length){const e=r.shift(),n=nn(e.value,t);if(n)return n;const i=e.value&&e.value[tn];i&&r.push(...i)}}}}})}const an=["color","file","time","date","datetime-local","week","month"],on=(0,s.U)({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,type:{type:String,default:"text"},modelModifiers:Object,...Jt(),...zt()},"v-text-field"),sn=(0,x.ev)()({name:"VTextField",directives:{Intersect:oe.Z},inheritAttrs:!1,props:on(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:a,slots:o}=t;const s=(0,Te.z)(e,"modelValue"),{isFocused:l,focus:u,blur:d}=Vt(e),h=(0,r.Fl)((()=>"function"===typeof e.counterValue?e.counterValue(s.value):(s.value??"").toString().length)),f=(0,r.Fl)((()=>n.maxlength?n.maxlength:!e.counter||"number"!==typeof e.counter&&"string"!==typeof e.counter?void 0:e.counter));function p(t,n){e.autofocus&&t&&n[0].target?.focus?.()}const m=(0,i.iH)(),v=(0,i.iH)(),g=(0,i.iH)(),_=(0,r.Fl)((()=>an.includes(e.type)||e.persistentPlaceholder||l.value));function y(){g.value!==document.activeElement&&g.value?.focus(),l.value||u()}function b(e){a("mousedown:control",e),e.target!==g.value&&(y(),e.preventDefault())}function x(e){y(),a("click:control",e)}function S(t){t.stopPropagation(),y(),(0,r.Y3)((()=>{s.value=null,(0,c.dr)(e["onClick:clear"],t)}))}function M(t){const n=t.target;if(s.value=n.value,e.modelModifiers?.trim&&["text","search","password","tel","url"].includes(e.type)){const e=[n.selectionStart,n.selectionEnd];(0,r.Y3)((()=>{n.selectionStart=e[0],n.selectionEnd=e[1]}))}}return w((()=>{const t=!!(o.counter||e.counter||e.counterValue),i=!(!t&&!o.details),[a,u]=(0,c.An)(n),[{modelValue:w,...E}]=Qt.filterProps(e),[T]=Wt(e);return(0,r.Wm)(Qt,(0,r.dG)({ref:m,modelValue:s.value,"onUpdate:modelValue":e=>s.value=e,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-text-field--flush-details":["plain","underlined"].includes(e.variant)}]},a,E,{focused:l.value}),{...o,default:t=>{let{id:n,isDisabled:i,isDirty:a,isReadonly:c,isValid:h}=t;return(0,r.Wm)(Ht,(0,r.dG)({ref:v,onMousedown:b,onClick:x,"onClick:clear":S,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:"textbox"},T,{id:n.value,active:_.value||a.value,dirty:a.value||e.dirty,disabled:i.value,focused:l.value,error:!1===h.value}),{...o,default:t=>{let{props:{class:n,...a}}=t;const l=(0,r.wy)((0,r.Wm)("input",(0,r.dG)({ref:g,value:s.value,onInput:M,autofocus:e.autofocus,readonly:c.value,disabled:i.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:y,onBlur:d},a,u),null),[[(0,r.Q2)("intersect"),{handler:p},null,{once:!0}]]);return(0,r.Wm)(r.HY,null,[e.prefix&&(0,r.Wm)("span",{class:"v-text-field__prefix"},[e.prefix]),o.default?(0,r.Wm)("div",{class:n,"data-no-activator":""},[o.default(),l]):(0,r.Ho)(l,{class:n}),e.suffix&&(0,r.Wm)("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:i?n=>(0,r.Wm)(r.HY,null,[o.details?.(n),t&&(0,r.Wm)(r.HY,null,[(0,r.Wm)("span",null,null),(0,r.Wm)(en,{active:e.persistentCounter||l.value,value:h.value,max:f.value},o.counter)])]):void 0})})),rn({},m,v,g)}}),ln=Symbol.for("vuetify:selection-control-group"),cn=(0,s.U)({color:String,disabled:Boolean,error:Boolean,id:String,inline:Boolean,falseIcon:qe.lE,trueIcon:qe.lE,ripple:{type:Boolean,default:!0},multiple:{type:Boolean,default:null},name:String,readonly:Boolean,modelValue:null,type:String,valueComparator:{type:Function,default:c.vZ},...(0,y.x$)(),...Re()},"v-selection-control-group"),un=(0,x.ev)()({name:"VSelectionControlGroup",props:{defaultsTarget:{type:String,default:"VSelectionControl"},...cn()},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const a=(0,Te.z)(e,"modelValue"),o=(0,l.sq)(),s=(0,r.Fl)((()=>e.id||`v-selection-control-group-${o}`)),c=(0,r.Fl)((()=>e.name||s.value)),u=new Set;return(0,r.JJ)(ln,{modelValue:a,forceUpdate:()=>{u.forEach((e=>e()))},onForceUpdate:e=>{u.add(e),(0,i.EB)((()=>{u.delete(e)}))}}),(0,M.AF)({[e.defaultsTarget]:{color:(0,i.Vh)(e,"color"),disabled:(0,i.Vh)(e,"disabled"),density:(0,i.Vh)(e,"density"),error:(0,i.Vh)(e,"error"),inline:(0,i.Vh)(e,"inline"),modelValue:a,multiple:(0,r.Fl)((()=>!!e.multiple||null==e.multiple&&Array.isArray(a.value))),name:c,falseIcon:(0,i.Vh)(e,"falseIcon"),trueIcon:(0,i.Vh)(e,"trueIcon"),readonly:(0,i.Vh)(e,"readonly"),ripple:(0,i.Vh)(e,"ripple"),type:(0,i.Vh)(e,"type"),valueComparator:(0,i.Vh)(e,"valueComparator")}}),w((()=>(0,r.Wm)("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline}],role:"radio"===e.type?"radiogroup":void 0},[n.default?.()]))),{}}}),dn=(0,s.U)({label:String,trueValue:null,falseValue:null,value:null,...cn()},"v-selection-control");function hn(e){const t=(0,r.f3)(ln,void 0),{densityClasses:n}=Le(e),i=(0,Te.z)(e,"modelValue"),a=(0,r.Fl)((()=>void 0!==e.trueValue?e.trueValue:void 0===e.value||e.value)),o=(0,r.Fl)((()=>void 0!==e.falseValue&&e.falseValue)),s=(0,r.Fl)((()=>!!e.multiple||null==e.multiple&&Array.isArray(i.value))),l=(0,r.Fl)({get(){const n=t?t.modelValue.value:i.value;return s.value?n.some((t=>e.valueComparator(t,a.value))):e.valueComparator(n,a.value)},set(n){if(e.readonly)return;const r=n?a.value:o.value;let l=r;s.value&&(l=n?[...(0,c.FT)(i.value),r]:(0,c.FT)(i.value).filter((t=>!e.valueComparator(t,a.value)))),t?t.modelValue.value=l:i.value=l}}),{textColorClasses:u,textColorStyles:d}=xe((0,r.Fl)((()=>!l.value||e.error||e.disabled?void 0:e.color))),h=(0,r.Fl)((()=>l.value?e.trueIcon:e.falseIcon));return{group:t,densityClasses:n,trueValue:a,falseValue:o,model:l,textColorClasses:u,textColorStyles:d,icon:h}}const fn=(0,x.ev)()({name:"VSelectionControl",directives:{Ripple:nt.H},inheritAttrs:!1,props:dn(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:o}=t;const{group:s,densityClasses:u,icon:d,model:h,textColorClasses:f,textColorStyles:p,trueValue:m}=hn(e),v=(0,l.sq)(),g=(0,r.Fl)((()=>e.id||`input-${v}`)),_=(0,i.iH)(!1),y=(0,i.iH)(!1),b=(0,i.iH)();function x(e){_.value=!0,(!a.Z1||a.Z1&&e.target.matches(":focus-visible"))&&(y.value=!0)}function S(){_.value=!1,y.value=!1}function M(t){e.readonly&&s&&(0,r.Y3)((()=>s.forceUpdate())),h.value=t.target.checked}return s?.onForceUpdate((()=>{b.value&&(b.value.checked=h.value)})),w((()=>{const t=o.label?o.label({label:e.label,props:{for:g.value}}):e.label,[i,a]=(0,c.An)(n);return(0,r.Wm)("div",(0,r.dG)({class:["v-selection-control",{"v-selection-control--dirty":h.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":_.value,"v-selection-control--focus-visible":y.value,"v-selection-control--inline":e.inline},u.value]},i),[(0,r.Wm)("div",{class:["v-selection-control__wrapper",f.value],style:p.value},[o.default?.(),(0,r.wy)((0,r.Wm)("div",{class:["v-selection-control__input"]},[d.value&&(0,r.Wm)(Qe,{key:"icon",icon:d.value},null),(0,r.Wm)("input",(0,r.dG)({ref:b,checked:h.value,disabled:e.disabled,id:g.value,onBlur:S,onFocus:x,onInput:M,"aria-disabled":e.readonly,type:e.type,value:m.value,name:e.name,"aria-checked":"checkbox"===e.type?h.value:void 0},a),null),o.input?.({model:h,textColorClasses:f,textColorStyles:p,props:{onFocus:x,onBlur:S,id:g.value}})]),[[(0,r.Q2)("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),t&&(0,r.Wm)(Nt,{for:g.value,clickable:!0},{default:()=>[t]})])})),{isFocused:_,input:b}}}),pn=(0,s.U)({indeterminate:Boolean,indeterminateIcon:{type:qe.lE,default:"$checkboxIndeterminate"},...dn({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"v-checkbox-btn"),mn=(0,x.ev)()({name:"VCheckboxBtn",props:pn(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{slots:n}=t;const i=(0,Te.z)(e,"indeterminate"),a=(0,Te.z)(e,"modelValue");function o(e){i.value&&(i.value=!1)}const s=(0,r.Fl)((()=>e.indeterminate?e.indeterminateIcon:e.falseIcon)),l=(0,r.Fl)((()=>e.indeterminate?e.indeterminateIcon:e.trueIcon));return w((()=>(0,r.Wm)(fn,(0,r.dG)(e,{modelValue:a.value,"onUpdate:modelValue":[e=>a.value=e,o],class:"v-checkbox-btn",type:"checkbox",inline:!0,falseIcon:s.value,trueIcon:l.value,"aria-checked":e.indeterminate?"mixed":void 0}),n))),{}}}),vn=(0,s.U)({start:Boolean,end:Boolean,icon:qe.lE,image:String,...Re(),...ge(),...Ze(),...ue(),...(0,y.x$)(),...De({variant:"flat"})},"v-avatar"),gn=(0,x.ev)()({name:"VAvatar",props:vn(),setup(e,t){let{slots:n}=t;const{themeClasses:i}=(0,y.ER)(e),{colorClasses:a,colorStyles:o,variantClasses:s}=Oe(e),{densityClasses:l}=Le(e),{roundedClasses:c}=_e(e),{sizeClasses:u,sizeStyles:d}=Ke(e);return w((()=>(0,r.Wm)(e.tag,{class:["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},i.value,a.value,l.value,c.value,u.value,s.value],style:[o.value,d.value]},{default:()=>[e.image?(0,r.Wm)(ce,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?(0,r.Wm)(Qe,{key:"icon",icon:e.icon},null):n.default?.(),Pe(!1,"v-avatar")]}))),{}}}),_n=Symbol.for("vuetify:v-chip-group"),yn=(0,x.ev)()({name:"VChipGroup",props:{column:Boolean,filter:Boolean,valueComparator:{type:Function,default:c.vZ},...Ve({selectedClass:"v-chip--selected"}),...ue(),...(0,y.x$)(),...De({variant:"tonal"})},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:a}=(0,y.ER)(e),{isSelected:o,select:s,next:l,prev:c,selected:u}=He(e,_n);return(0,M.AF)({VChip:{color:(0,i.Vh)(e,"color"),disabled:(0,i.Vh)(e,"disabled"),filter:(0,i.Vh)(e,"filter"),variant:(0,i.Vh)(e,"variant")}}),w((()=>(0,r.Wm)(e.tag,{class:["v-chip-group",{"v-chip-group--column":e.column},a.value]},{default:()=>[n.default?.({isSelected:o,select:s,next:l,prev:c,selected:u.value})]}))),{}}}),bn=(0,x.ev)()({name:"VChip",directives:{Ripple:nt.H},props:{activeClass:String,appendAvatar:String,appendIcon:qe.lE,closable:Boolean,closeIcon:{type:qe.lE,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:qe.lE,ripple:{type:Boolean,default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:(0,c.as)(),onClickOnce:(0,c.as)(),...fe(),...Re(),...me(),...Ue(),...ge(),...St(),...Ze(),...ue({tag:"span"}),...(0,y.x$)(),...De({variant:"tonal"})},emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,t){let{attrs:n,emit:i,slots:a}=t;const{t:o}=(0,b.bU)(),{borderClasses:s}=pe(e),{colorClasses:l,colorStyles:c,variantClasses:u}=Oe(e),{densityClasses:d}=Le(e),{elevationClasses:h}=ve(e),{roundedClasses:f}=_e(e),{sizeClasses:p}=Ke(e),{themeClasses:m}=(0,y.ER)(e),v=(0,Te.z)(e,"modelValue"),g=ze(e,_n,!1),_=wt(e,n),x=(0,r.Fl)((()=>!1!==e.link&&_.isLink.value)),w=(0,r.Fl)((()=>!e.disabled&&!1!==e.link&&(!!g||e.link||_.isClickable.value))),S=(0,r.Fl)((()=>({"aria-label":o(e.closeLabel),onClick(e){v.value=!1,i("click:close",e)}})));function M(e){i("click",e),w.value&&(_.navigate?.(e),g?.toggle())}function A(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),M(e))}return()=>{const t=_.isLink.value?"a":e.tag,n=!(!e.appendIcon&&!e.appendAvatar),i=!(!n&&!a.append),o=!(!a.close&&!e.closable),y=!(!a.filter&&!e.filter)&&g,b=!(!e.prependIcon&&!e.prependAvatar),C=!(!b&&!a.prepend),k=!g||g.isSelected.value;return v.value&&(0,r.wy)((0,r.Wm)(t,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":w.value,"v-chip--filter":y,"v-chip--pill":e.pill},m.value,s.value,k?l.value:void 0,d.value,h.value,f.value,p.value,u.value,g?.selectedClass.value],style:[k?c.value:void 0],disabled:e.disabled||void 0,draggable:e.draggable,href:_.href.value,tabindex:w.value?0:void 0,onClick:M,onKeydown:w.value&&!x.value&&A},{default:()=>[Pe(w.value,"v-chip"),y&&(0,r.Wm)(te,{key:"filter"},{default:()=>[(0,r.wy)((0,r.Wm)("div",{class:"v-chip__filter"},[a.filter?(0,r.wy)((0,r.Wm)(E,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},null),[[(0,r.Q2)("slot"),a.filter,"default"]]):(0,r.Wm)(Qe,{key:"filter-icon",icon:e.filterIcon},null)]),[[T.F8,g.isSelected.value]])]}),C&&(0,r.Wm)("div",{key:"prepend",class:"v-chip__prepend"},[a.prepend?(0,r.Wm)(E,{key:"prepend-defaults",disabled:!b,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},a.prepend):(0,r.Wm)(r.HY,null,[e.prependIcon&&(0,r.Wm)(Qe,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&(0,r.Wm)(gn,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),a.default?.({isSelected:g?.isSelected.value,selectedClass:g?.selectedClass.value,select:g?.select,toggle:g?.toggle,value:g?.value.value,disabled:e.disabled})??e.text,i&&(0,r.Wm)("div",{key:"append",class:"v-chip__append"},[a.append?(0,r.Wm)(E,{key:"append-defaults",disabled:!n,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},a.append):(0,r.Wm)(r.HY,null,[e.appendIcon&&(0,r.Wm)(Qe,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&(0,r.Wm)(gn,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),o&&(0,r.Wm)("div",(0,r.dG)({key:"close",class:"v-chip__close"},S.value),[a.close?(0,r.Wm)(E,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},a.close):(0,r.Wm)(Qe,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}),[[(0,r.Q2)("ripple"),w.value&&e.ripple,null]])}}}),xn=(0,x.ev)()({name:"VDivider",props:{color:String,inset:Boolean,length:[Number,String],thickness:[Number,String],vertical:Boolean,...(0,y.x$)()},setup(e,t){let{attrs:n}=t;const{themeClasses:a}=(0,y.ER)(e),{textColorClasses:o,textColorStyles:s}=xe((0,i.Vh)(e,"color")),l=(0,r.Fl)((()=>{const t={};return e.length&&(t[e.vertical?"maxHeight":"maxWidth"]=(0,c.kb)(e.length)),e.thickness&&(t[e.vertical?"borderRightWidth":"borderTopWidth"]=(0,c.kb)(e.thickness)),t}));return w((()=>(0,r.Wm)("hr",{class:[{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},a.value,o.value],style:[l.value,s.value],"aria-orientation":n.role&&"separator"!==n.role?void 0:e.vertical?"vertical":"horizontal",role:`${n.role||"separator"}`},null))),{}}});Symbol.for("vuetify:depth");const wn=Symbol.for("vuetify:list");function Sn(){const e=(0,r.f3)(wn,{hasPrepend:(0,i.iH)(!1),updateHasPrepend:()=>null}),t={hasPrepend:(0,i.iH)(!1),updateHasPrepend:e=>{e&&(t.hasPrepend.value=e)}};return(0,r.JJ)(wn,t),e}function Mn(){return(0,r.f3)(wn,null)}n(541);const En={open:e=>{let{id:t,value:n,opened:r,parents:i}=e;if(n){const e=new Set;e.add(t);let n=i.get(t);while(null!=n)e.add(n),n=i.get(n);return e}return r.delete(t),r},select:()=>null},Tn={open:e=>{let{id:t,value:n,opened:r,parents:i}=e;if(n){let e=i.get(t);r.add(t);while(null!=e&&e!==t)r.add(e),e=i.get(e);return r}return r.delete(t),r},select:()=>null},An={open:Tn.open,select:e=>{let{id:t,value:n,opened:r,parents:i}=e;if(!n)return r;const a=[];let o=i.get(t);while(null!=o)a.push(o),o=i.get(o);return new Set(a)}},Cn=e=>{const t={select:t=>{let{id:n,value:r,selected:a}=t;if(n=(0,i.IU)(n),e&&!r){const e=Array.from(a.entries()).reduce(((e,t)=>{let[n,r]=t;return"on"===r?[...e,n]:e}),[]);if(1===e.length&&e[0]===n)return a}return a.set(n,r?"on":"off"),a},in:(e,n,r)=>{let i=new Map;for(const a of e||[])i=t.select({id:a,value:!0,selected:new Map(i),children:n,parents:r});return i},out:e=>{const t=[];for(const[n,r]of e.entries())"on"===r&&t.push(n);return t}};return t},kn=e=>{const t=Cn(e),n={select:e=>{let{selected:n,id:r,...a}=e;r=(0,i.IU)(r);const o=n.has(r)?new Map([[r,n.get(r)]]):new Map;return t.select({...a,id:r,selected:o})},in:(e,n,r)=>{let i=new Map;return e?.length&&(i=t.in(e.slice(0,1),n,r)),i},out:(e,n,r)=>t.out(e,n,r)};return n},Rn=e=>{const t=Cn(e),n={select:e=>{let{id:n,selected:r,children:a,...o}=e;return n=(0,i.IU)(n),a.has(n)?r:t.select({id:n,selected:r,children:a,...o})},in:t.in,out:t.out};return n},Ln=e=>{const t=kn(e),n={select:e=>{let{id:n,selected:r,children:a,...o}=e;return n=(0,i.IU)(n),a.has(n)?r:t.select({id:n,selected:r,children:a,...o})},in:t.in,out:t.out};return n},In=e=>{const t={select:t=>{let{id:n,value:r,selected:a,children:o,parents:s}=t;n=(0,i.IU)(n);const l=new Map(a),c=[n];while(c.length){const e=c.shift();a.set(e,r?"on":"off"),o.has(e)&&c.push(...o.get(e))}let u=s.get(n);while(u){const e=o.get(u),t=e.every((e=>"on"===a.get(e))),n=e.every((e=>!a.has(e)||"off"===a.get(e)));a.set(u,t?"on":n?"off":"indeterminate"),u=s.get(u)}if(e&&!r){const e=Array.from(a.entries()).reduce(((e,t)=>{let[n,r]=t;return"on"===r?[...e,n]:e}),[]);if(0===e.length)return l}return a},in:(e,n,r)=>{let i=new Map;for(const a of e||[])i=t.select({id:a,value:!0,selected:new Map(i),children:n,parents:r});return i},out:(e,t)=>{const n=[];for(const[r,i]of e.entries())"on"!==i||t.has(r)||n.push(r);return n}};return t},Pn=Symbol.for("vuetify:nested"),Dn={id:(0,i.iH)(),root:{register:()=>null,unregister:()=>null,parents:(0,i.iH)(new Map),children:(0,i.iH)(new Map),open:()=>null,openOnSelect:()=>null,select:()=>null,opened:(0,i.iH)(new Set),selected:(0,i.iH)(new Map),selectedValues:(0,i.iH)([])}},On=(0,s.U)({selectStrategy:[String,Function],openStrategy:[String,Object],opened:Array,selected:Array,mandatory:Boolean},"nested"),Nn=e=>{let t=!1;const n=(0,i.iH)(new Map),a=(0,i.iH)(new Map),o=(0,Te.z)(e,"opened",e.opened,(e=>new Set(e)),(e=>[...e.values()])),s=(0,r.Fl)((()=>{if("object"===typeof e.selectStrategy)return e.selectStrategy;switch(e.selectStrategy){case"single-leaf":return Ln(e.mandatory);case"leaf":return Rn(e.mandatory);case"independent":return Cn(e.mandatory);case"single-independent":return kn(e.mandatory);case"classic":default:return In(e.mandatory)}})),c=(0,r.Fl)((()=>{if("object"===typeof e.openStrategy)return e.openStrategy;switch(e.openStrategy){case"list":return An;case"single":return En;case"multiple":default:return Tn}})),u=(0,Te.z)(e,"selected",e.selected,(e=>s.value.in(e,n.value,a.value)),(e=>s.value.out(e,n.value,a.value)));function d(e){const t=[];let n=e;while(null!=n)t.unshift(n),n=a.value.get(n);return t}(0,r.Jd)((()=>{t=!0}));const h=(0,l.FN)("nested"),f={id:(0,i.iH)(),root:{opened:o,selected:u,selectedValues:(0,r.Fl)((()=>{const e=[];for(const[t,n]of u.value.entries())"on"===n&&e.push(t);return e})),register:(e,t,r)=>{t&&e!==t&&a.value.set(e,t),r&&n.value.set(e,[]),null!=t&&n.value.set(t,[...n.value.get(t)||[],e])},unregister:e=>{if(t)return;n.value.delete(e);const r=a.value.get(e);if(r){const t=n.value.get(r)??[];n.value.set(r,t.filter((t=>t!==e)))}a.value.delete(e),o.value.delete(e)},open:(e,t,r)=>{h.emit("click:open",{id:e,value:t,path:d(e),event:r});const i=c.value.open({id:e,value:t,opened:new Set(o.value),children:n.value,parents:a.value,event:r});i&&(o.value=i)},openOnSelect:(e,t,r)=>{const i=c.value.select({id:e,value:t,selected:new Map(u.value),opened:new Set(o.value),children:n.value,parents:a.value,event:r});i&&(o.value=i)},select:(e,t,r)=>{h.emit("click:select",{id:e,value:t,path:d(e),event:r});const i=s.value.select({id:e,value:t,selected:new Map(u.value),children:n.value,parents:a.value,event:r});i&&(u.value=i),f.root.openOnSelect(e,t,r)},children:n,parents:a}};return(0,r.JJ)(Pn,f),f.root},Fn=(e,t)=>{const n=(0,r.f3)(Pn,Dn),a=Symbol((0,l.sq)()),o=(0,r.Fl)((()=>e.value??a)),s={...n,id:o,open:(e,t)=>n.root.open(o.value,e,t),openOnSelect:(e,t)=>n.root.openOnSelect(o.value,e,t),isOpen:(0,r.Fl)((()=>n.root.opened.value.has(o.value))),parent:(0,r.Fl)((()=>n.root.parents.value.get(o.value))),select:(e,t)=>n.root.select(o.value,e,t),isSelected:(0,r.Fl)((()=>"on"===n.root.selected.value.get((0,i.IU)(o.value)))),isIndeterminate:(0,r.Fl)((()=>"indeterminate"===n.root.selected.value.get(o.value))),isLeaf:(0,r.Fl)((()=>!n.root.children.value.get(o.value))),isGroupActivator:n.isGroupActivator};return!n.isGroupActivator&&n.root.register(o.value,n.id.value,t),(0,r.Jd)((()=>{!n.isGroupActivator&&n.root.unregister(o.value)})),t&&(0,r.JJ)(Pn,s),s},Bn=()=>{const e=(0,r.f3)(Pn,Dn);(0,r.JJ)(Pn,{...e,isGroupActivator:!0})},Vn=(0,x.aZ)({name:"VListGroupActivator",setup(e,t){let{slots:n}=t;return Bn(),()=>n.default?.()}}),Un=(0,s.U)({activeColor:String,color:String,collapseIcon:{type:qe.lE,default:"$collapse"},expandIcon:{type:qe.lE,default:"$expand"},prependIcon:qe.lE,appendIcon:qe.lE,fluid:Boolean,subgroup:Boolean,value:null,...ue()},"v-list-group"),zn=(0,x.ev)()({name:"VListGroup",props:{title:String,...Un()},setup(e,t){let{slots:n}=t;const{isOpen:a,open:o,id:s}=Fn((0,i.Vh)(e,"value"),!0),l=(0,r.Fl)((()=>`v-list-group--id-${String(s.value)}`)),c=Mn(),{isBooted:u}=Ae();function d(e){o(!a.value,e)}const h=(0,r.Fl)((()=>({onClick:d,class:"v-list-group__header",id:l.value}))),f=(0,r.Fl)((()=>a.value?e.collapseIcon:e.expandIcon)),p=(0,r.Fl)((()=>({VListItem:{active:a.value,activeColor:e.activeColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&f.value,appendIcon:e.appendIcon||!e.subgroup&&f.value,title:e.title,value:e.value}})));return w((()=>(0,r.Wm)(e.tag,{class:["v-list-group",{"v-list-group--prepend":c?.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup,"v-list-group--open":a.value}]},{default:()=>[n.activator&&(0,r.Wm)(E,{defaults:p.value},{default:()=>[(0,r.Wm)(Vn,null,{default:()=>[n.activator({props:h.value,isOpen:a.value})]})]}),(0,r.Wm)(le,{transition:{component:ee},disabled:!u.value},{default:()=>[(0,r.wy)((0,r.Wm)("div",{class:"v-list-group__items",role:"group","aria-labelledby":l.value},[n.default?.()]),[[T.F8,a.value]])]})]}))),{}}}),Hn=Lt("v-list-item-subtitle"),Wn=Lt("v-list-item-title"),jn=(0,x.ev)()({name:"VListItem",directives:{Ripple:nt.H},props:{active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:qe.lE,disabled:Boolean,lines:String,link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:qe.lE,ripple:{type:Boolean,default:!0},subtitle:[String,Number,Boolean],title:[String,Number,Boolean],value:null,onClick:(0,c.as)(),onClickOnce:(0,c.as)(),...fe(),...Re(),...ne(),...me(),...ge(),...St(),...ue(),...(0,y.x$)(),...De({variant:"text"})},emits:{click:e=>!0},setup(e,t){let{attrs:n,slots:i,emit:a}=t;const o=wt(e,n),s=(0,r.Fl)((()=>e.value??o.href.value)),{select:l,isSelected:c,isIndeterminate:u,isGroupActivator:d,root:h,parent:f,openOnSelect:p}=Fn(s,!1),m=Mn(),v=(0,r.Fl)((()=>!1!==e.active&&(e.active||o.isActive?.value||c.value))),g=(0,r.Fl)((()=>!1!==e.link&&o.isLink.value)),_=(0,r.Fl)((()=>!e.disabled&&!1!==e.link&&(e.link||o.isClickable.value||null!=e.value&&!!m))),b=(0,r.Fl)((()=>e.rounded||e.nav)),x=(0,r.Fl)((()=>({color:v.value?e.activeColor??e.color:e.color,variant:e.variant})));(0,r.YP)((()=>o.isActive?.value),(e=>{e&&null!=f.value&&h.open(f.value,!0),e&&p(e)}),{immediate:!0});const{themeClasses:S}=(0,y.ER)(e),{borderClasses:M}=pe(e),{colorClasses:T,colorStyles:A,variantClasses:C}=Oe(x),{densityClasses:k}=Le(e),{dimensionStyles:R}=re(e),{elevationClasses:L}=ve(e),{roundedClasses:I}=_e(b),P=(0,r.Fl)((()=>e.lines?`v-list-item--${e.lines}-line`:void 0)),D=(0,r.Fl)((()=>({isActive:v.value,select:l,isSelected:c.value,isIndeterminate:u.value})));function O(t){a("click",t),!d&&_.value&&(o.navigate?.(t),null!=e.value&&l(!c.value,t))}function N(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),O(e))}return w((()=>{const t=g.value?"a":e.tag,n=!m||c.value||v.value,a=i.title||e.title,s=i.subtitle||e.subtitle,l=!(!e.appendAvatar&&!e.appendIcon),u=!(!l&&!i.append),d=!(!e.prependAvatar&&!e.prependIcon),h=!(!d&&!i.prepend);return m?.updateHasPrepend(h),(0,r.wy)((0,r.Wm)(t,{class:["v-list-item",{"v-list-item--active":v.value,"v-list-item--disabled":e.disabled,"v-list-item--link":_.value,"v-list-item--nav":e.nav,"v-list-item--prepend":!h&&m?.hasPrepend.value,[`${e.activeClass}`]:e.activeClass&&v.value},S.value,M.value,n?T.value:void 0,k.value,L.value,P.value,I.value,C.value],style:[n?A.value:void 0,R.value],href:o.href.value,tabindex:_.value?0:void 0,onClick:O,onKeydown:_.value&&!g.value&&N},{default:()=>[Pe(_.value||v.value,"v-list-item"),h&&(0,r.Wm)("div",{key:"prepend",class:"v-list-item__prepend"},[i.prepend?(0,r.Wm)(E,{key:"prepend-defaults",disabled:!d,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon},VListItemAction:{start:!0}}},{default:()=>[i.prepend?.(D.value)]}):(0,r.Wm)(r.HY,null,[e.prependAvatar&&(0,r.Wm)(gn,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&(0,r.Wm)(Qe,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),(0,r.Wm)("div",{class:"v-list-item__content","data-no-activator":""},[a&&(0,r.Wm)(Wn,{key:"title"},{default:()=>[i.title?.({title:e.title})??e.title]}),s&&(0,r.Wm)(Hn,{key:"subtitle"},{default:()=>[i.subtitle?.({subtitle:e.subtitle})??e.subtitle]}),i.default?.(D.value)]),u&&(0,r.Wm)("div",{key:"append",class:"v-list-item__append"},[i.append?(0,r.Wm)(E,{key:"append-defaults",disabled:!l,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{end:!0}}},{default:()=>[i.append?.(D.value)]}):(0,r.Wm)(r.HY,null,[e.appendIcon&&(0,r.Wm)(Qe,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&(0,r.Wm)(gn,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])]}),[[(0,r.Q2)("ripple"),_.value&&e.ripple]])})),{}}}),Gn=(0,x.ev)()({name:"VListSubheader",props:{color:String,inset:Boolean,sticky:Boolean,title:String,...ue()},setup(e,t){let{slots:n}=t;const{textColorClasses:a,textColorStyles:o}=xe((0,i.Vh)(e,"color"));return w((()=>{const t=!(!n.default&&!e.title);return(0,r.Wm)(e.tag,{class:["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},a.value],style:{textColorStyles:o}},{default:()=>[t&&(0,r.Wm)("div",{class:"v-list-subheader__text"},[n.default?.()??e.title])]})})),{}}}),Yn=(0,x.ev)()({name:"VListChildren",props:{items:Array},setup(e,t){let{slots:n}=t;return Sn(),()=>n.default?.()??e.items?.map((e=>{let{children:t,props:i,type:a,raw:o}=e;if("divider"===a)return n.divider?.({props:i})??(0,r.Wm)(xn,i,null);if("subheader"===a)return n.subheader?.({props:i})??(0,r.Wm)(Gn,i,{default:n.subheader});const s={subtitle:n.subtitle?e=>n.subtitle?.({...e,item:o}):void 0,prepend:n.prepend?e=>n.prepend?.({...e,item:o}):void 0,append:n.append?e=>n.append?.({...e,item:o}):void 0,default:n.default?e=>n.default?.({...e,item:o}):void 0,title:n.title?e=>n.title?.({...e,item:o}):void 0},[l,c]=zn.filterProps(i);return t?(0,r.Wm)(zn,(0,r.dG)({value:i?.value},l),{activator:e=>{let{props:t}=e;return n.header?n.header({props:{...i,...t}}):(0,r.Wm)(jn,(0,r.dG)(i,t),s)},default:()=>(0,r.Wm)(Yn,{items:t},n)}):n.item?n.item(i):(0,r.Wm)(jn,i,s)}))}}),$n=(0,s.U)({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean},"item");function qn(e,t){const n=(0,c.qF)(t,e.itemTitle,t),r=e.returnObject?t:(0,c.qF)(t,e.itemValue,n),i=(0,c.qF)(t,e.itemChildren),a=!0===e.itemProps?"object"!==typeof t||null==t||Array.isArray(t)?void 0:"children"in t?(0,c.ei)(t,["children"])[1]:t:(0,c.qF)(t,e.itemProps),o={title:n,value:r,...a};return{title:String(o.title??""),value:o.value,props:o,children:Array.isArray(i)?Xn(e,i):void 0,raw:t}}function Xn(e,t){const n=[];for(const r of t)n.push(qn(e,r));return n}function Zn(e){const t=(0,r.Fl)((()=>Xn(e,e.items)));function n(n){return n.map((n=>{const r=t.value.find((e=>(0,c.vZ)(n,e.value)));return r??qn(e,n)}))}function i(e){return e.map((e=>{let{props:t}=e;return t.value}))}return{items:t,transformIn:n,transformOut:i}}function Kn(e){return"string"===typeof e||"number"===typeof e||"boolean"===typeof e}function Jn(e,t){const n=(0,c.qF)(t,e.itemType,"item"),r=Kn(t)?t:(0,c.qF)(t,e.itemTitle),i=(0,c.qF)(t,e.itemValue,void 0),a=(0,c.qF)(t,e.itemChildren),o=!0===e.itemProps?(0,c.ei)(t,["children"])[1]:(0,c.qF)(t,e.itemProps),s={title:r,value:i,...o};return{type:n,title:s.title,value:s.value,props:s,children:"item"===n&&a?Qn(e,a):void 0,raw:t}}function Qn(e,t){const n=[];for(const r of t)n.push(Jn(e,r));return n}function er(e){const t=(0,r.Fl)((()=>Qn(e,e.items)));return{items:t}}const tr=(0,x.ev)()({name:"VList",props:{activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,lines:{type:[Boolean,String],default:"one"},nav:Boolean,...On({selectStrategy:"single-leaf",openStrategy:"list"}),...fe(),...Re(),...ne(),...me(),itemType:{type:String,default:"type"},...$n(),...ge(),...ue(),...(0,y.x$)(),...De({variant:"text"})},emits:{"update:selected":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:n}=t;const{items:a}=er(e),{themeClasses:o}=(0,y.ER)(e),{backgroundColorClasses:s,backgroundColorStyles:l}=we((0,i.Vh)(e,"bgColor")),{borderClasses:c}=pe(e),{densityClasses:u}=Le(e),{dimensionStyles:d}=re(e),{elevationClasses:h}=ve(e),{roundedClasses:f}=_e(e),{open:p,select:m}=Nn(e),v=(0,r.Fl)((()=>e.lines?`v-list--${e.lines}-line`:void 0)),g=(0,i.Vh)(e,"activeColor"),_=(0,i.Vh)(e,"color");Sn(),(0,M.AF)({VListGroup:{activeColor:g,color:_},VListItem:{activeClass:(0,i.Vh)(e,"activeClass"),activeColor:g,color:_,density:(0,i.Vh)(e,"density"),disabled:(0,i.Vh)(e,"disabled"),lines:(0,i.Vh)(e,"lines"),nav:(0,i.Vh)(e,"nav"),variant:(0,i.Vh)(e,"variant")}});const b=(0,i.iH)(!1),x=(0,i.iH)();function S(e){b.value=!0}function E(e){b.value=!1}function T(e){b.value||e.relatedTarget&&x.value?.contains(e.relatedTarget)||C()}function A(e){if(x.value){if("ArrowDown"===e.key)C("next");else if("ArrowUp"===e.key)C("prev");else if("Home"===e.key)C("first");else{if("End"!==e.key)return;C("last")}e.preventDefault()}}function C(e){if(!x.value)return;const t=["button","[href]","input","select","textarea","[tabindex]"].map((e=>`${e}:not([tabindex="-1"])`)).join(", "),n=[...x.value.querySelectorAll(t)].filter((e=>!e.hasAttribute("disabled"))),r=n.indexOf(document.activeElement);if(e)if("first"===e)n[0]?.focus();else if("last"===e)n.at(-1)?.focus();else{let t,i=r;const a="next"===e?1:-1;do{i+=a,t=n[i]}while((!t||null==t.offsetParent)&&i<n.length&&i>=0);t?t.focus():C("next"===e?"first":"last")}else x.value.contains(document.activeElement)||n[0]?.focus()}return w((()=>(0,r.Wm)(e.tag,{ref:x,class:["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav},o.value,s.value,c.value,u.value,h.value,v.value,f.value],style:[l.value,d.value],role:"listbox","aria-activedescendant":void 0,onFocusin:S,onFocusout:E,onFocus:T,onKeydown:A},{default:()=>[(0,r.Wm)(Yn,{items:a.value},n)]}))),{open:p,select:m,focus:C}}}),nr=(0,s.U)({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function rr(e,t){const n={},r=r=>()=>{if(!a.BR)return Promise.resolve(!0);const i="openDelay"===r;return n.closeDelay&&window.clearTimeout(n.closeDelay),delete n.closeDelay,n.openDelay&&window.clearTimeout(n.openDelay),delete n.openDelay,new Promise((a=>{const o=parseInt(e[r]??0,10);n[r]=window.setTimeout((()=>{t?.(i),a(i)}),o)}))};return{runCloseDelay:r("closeDelay"),runOpenDelay:r("openDelay")}}const ir=Symbol.for("vuetify:v-menu"),ar=(0,s.U)({activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...nr()},"v-overlay-activator");function or(e,t){let{isActive:n,isTop:o}=t;const s=(0,i.iH)();let u=!1,d=!1,h=!0;const f=(0,r.Fl)((()=>e.openOnFocus||null==e.openOnFocus&&e.openOnHover)),p=(0,r.Fl)((()=>e.openOnClick||null==e.openOnClick&&!e.openOnHover&&!f.value)),{runOpenDelay:m,runCloseDelay:v}=rr(e,(t=>{t!==(e.openOnHover&&u||f.value&&d)||e.openOnHover&&n.value&&!o.value||(n.value!==t&&(h=!0),n.value=t)})),g={click:e=>{e.stopPropagation(),s.value=e.currentTarget||e.target,n.value=!n.value},mouseenter:e=>{e.sourceCapabilities?.firesTouchEvents||(u=!0,s.value=e.currentTarget||e.target,m())},mouseleave:e=>{u=!1,v()},focus:e=>{a.Z1&&!e.target.matches(":focus-visible")||(d=!0,e.stopPropagation(),s.value=e.currentTarget||e.target,m())},blur:e=>{d=!1,e.stopPropagation(),v()}},_=(0,r.Fl)((()=>{const t={};return p.value&&(t.click=g.click),e.openOnHover&&(t.mouseenter=g.mouseenter,t.mouseleave=g.mouseleave),f.value&&(t.focus=g.focus,t.blur=g.blur),t})),y=(0,r.Fl)((()=>{const t={};if(e.openOnHover&&(t.mouseenter=()=>{u=!0,m()},t.mouseleave=()=>{u=!1,v()}),e.closeOnContentClick){const e=(0,r.f3)(ir,null);t.click=()=>{n.value=!1,e?.closeParents()}}return t})),b=(0,r.Fl)((()=>{const t={};return e.openOnHover&&(t.mouseenter=()=>{h&&(u=!0,h=!1,m())},t.mouseleave=()=>{u=!1,v()}),t}));(0,r.YP)(o,(t=>{!t||(!e.openOnHover||u||f.value&&d)&&(!f.value||d||e.openOnHover&&u)||(n.value=!1)}));const x=(0,i.iH)();(0,r.m0)((()=>{x.value&&(0,r.Y3)((()=>{const e=x.value;s.value=(0,c.rU)(e)?e.$el:e}))}));const w=(0,l.FN)("useActivator");let S;return(0,r.YP)((()=>!!e.activator),(t=>{t&&a.BR?(S=(0,i.B)(),S.run((()=>{sr(e,w,{activatorEl:s,activatorEvents:_})}))):S&&S.stop()}),{flush:"post",immediate:!0}),(0,i.EB)((()=>{S?.stop()})),{activatorEl:s,activatorRef:x,activatorEvents:_,contentEvents:y,scrimEvents:b}}function sr(e,t,n){let{activatorEl:a,activatorEvents:o}=n;function s(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c(),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.activatorProps;t&&(Object.entries(o.value).forEach((e=>{let[n,r]=e;t.addEventListener(n,r)})),Object.keys(n).forEach((e=>{null==n[e]?t.removeAttribute(e):t.setAttribute(e,n[e])})))}function l(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c(),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.activatorProps;t&&(Object.entries(o.value).forEach((e=>{let[n,r]=e;t.removeEventListener(n,r)})),Object.keys(n).forEach((e=>{t.removeAttribute(e)})))}function c(){let n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.activator;if(r)if("parent"===r){let e=t?.proxy?.$el?.parentNode;while(e.hasAttribute("data-no-activator"))e=e.parentNode;n=e}else n="string"===typeof r?document.querySelector(r):"$el"in r?r.$el:r;return a.value=n?.nodeType===Node.ELEMENT_NODE?n:null,a.value}(0,r.YP)((()=>e.activator),((e,t)=>{if(t&&e!==t){const e=c(t);e&&l(e)}e&&(0,r.Y3)((()=>s()))}),{immediate:!0}),(0,r.YP)((()=>e.activatorProps),(()=>{s()})),(0,i.EB)((()=>{l()}))}const lr=(0,s.U)({eager:Boolean},"lazy");function cr(e,t){const n=(0,i.iH)(!1),a=(0,r.Fl)((()=>n.value||e.eager||t.value));function o(){e.eager||(n.value=!1)}return(0,r.YP)(t,(()=>n.value=!0)),{isBooted:n,hasContent:a,onAfterLeave:o}}function ur(e){while(e){if("fixed"===window.getComputedStyle(e).position)return!0;e=e.offsetParent}return!1}function dr(e){while(e){if(fr(e))return e;e=e.parentElement}return document.scrollingElement}function hr(e,t){const n=[];if(t&&e&&!t.contains(e))return n;while(e){if(fr(e)&&n.push(e),e===t)break;e=e.parentElement}return n}function fr(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return"scroll"===t.overflowY||"auto"===t.overflowY&&e.scrollHeight>e.clientHeight}function pr(e,t){return{x:e.x+t.x,y:e.y+t.y}}function mr(e,t){return{x:e.x-t.x,y:e.y-t.y}}function vr(e,t){if("top"===e.side||"bottom"===e.side){const{side:n,align:r}=e,i="left"===r?0:"center"===r?t.width/2:"right"===r?t.width:r,a="top"===n?0:"bottom"===n?t.height:n;return pr({x:i,y:a},t)}if("left"===e.side||"right"===e.side){const{side:n,align:r}=e,i="left"===n?0:"right"===n?t.width:n,a="top"===r?0:"center"===r?t.height/2:"bottom"===r?t.height:r;return pr({x:i,y:a},t)}return pr({x:t.width/2,y:t.height/2},t)}const gr={static:br,connected:wr},_r=(0,s.U)({locationStrategy:{type:[String,Function],default:"static",validator:e=>"function"===typeof e||e in gr},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"v-overlay-location-strategies");function yr(e,t){const n=(0,i.iH)({}),o=(0,i.iH)();function s(e){o.value?.(e)}return a.BR&&((0,Xt.U)((()=>!(!t.isActive.value||!e.locationStrategy)),(a=>{(0,r.YP)((()=>e.locationStrategy),a),(0,i.EB)((()=>{o.value=void 0})),"function"===typeof e.locationStrategy?o.value=e.locationStrategy(t,e,n)?.updateLocation:o.value=gr[e.locationStrategy](t,e,n)?.updateLocation})),window.addEventListener("resize",s,{passive:!0}),(0,i.EB)((()=>{window.removeEventListener("resize",s),o.value=void 0}))),{contentStyles:n,updateLocation:o}}function br(){}function xr(e,t){const n=P(e);return t?n.x+=parseFloat(e.style.right||0):n.x-=parseFloat(e.style.left||0),n.y-=parseFloat(e.style.top||0),n}function wr(e,t,n){const a=ur(e.activatorEl.value);a&&Object.assign(n.value,{position:"fixed"});const{preferredAnchor:o,preferredOrigin:s}=(0,c.S3)((()=>{const n=at(t.location,e.isRtl.value),r="overlap"===t.origin?n:"auto"===t.origin?st(n):at(t.origin,e.isRtl.value);return n.side===r.side&&n.align===lt(r).align?{preferredAnchor:ct(n),preferredOrigin:ct(r)}:{preferredAnchor:n,preferredOrigin:r}})),[l,u,d,h]=["minWidth","minHeight","maxWidth","maxHeight"].map((e=>(0,r.Fl)((()=>{const n=parseFloat(t[e]);return isNaN(n)?1/0:n})))),f=(0,r.Fl)((()=>{if(Array.isArray(t.offset))return t.offset;if("string"===typeof t.offset){const e=t.offset.split(" ").map(parseFloat);return e.length<2&&e.push(0),e}return"number"===typeof t.offset?[t.offset,0]:[0,0]}));let p=!1;const m=new ResizeObserver((()=>{p&&v()}));function v(){if(p=!1,requestAnimationFrame((()=>{requestAnimationFrame((()=>p=!0))})),!e.activatorEl.value||!e.contentEl.value)return;const t=e.activatorEl.value.getBoundingClientRect(),r=xr(e.contentEl.value,e.isRtl.value),i=hr(e.contentEl.value),a=12;i.length||(i.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(r.x+=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),r.y+=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const m=i.reduce(((e,t)=>{const n=t.getBoundingClientRect(),r=new L({x:t===document.documentElement?0:n.x,y:t===document.documentElement?0:n.y,width:t.clientWidth,height:t.clientHeight});return e?new L({x:Math.max(e.left,r.left),y:Math.max(e.top,r.top),width:Math.min(e.right,r.right)-Math.max(e.left,r.left),height:Math.min(e.bottom,r.bottom)-Math.max(e.top,r.top)}):r}),void 0);m.x+=a,m.y+=a,m.width-=2*a,m.height-=2*a;let v={anchor:o.value,origin:s.value};function g(e){const n=new L(r),i=vr(e.anchor,t),a=vr(e.origin,n);let{x:o,y:s}=mr(i,a);switch(e.anchor.side){case"top":s-=f.value[0];break;case"bottom":s+=f.value[0];break;case"left":o-=f.value[0];break;case"right":o+=f.value[0];break}switch(e.anchor.align){case"top":s-=f.value[1];break;case"bottom":s+=f.value[1];break;case"left":o-=f.value[1];break;case"right":o+=f.value[1];break}n.x+=o,n.y+=s,n.width=Math.min(n.width,d.value),n.height=Math.min(n.height,h.value);const l=I(n,m);return{overflows:l,x:o,y:s}}let _=0,y=0;const b={x:0,y:0},x={x:!1,y:!1};let w=-1;while(1){if(w++>10){(0,Be.N6)("Infinite loop detected in connectedLocationStrategy");break}const{x:e,y:t,overflows:n}=g(v);_+=e,y+=t,r.x+=e,r.y+=t;{const e=ut(v.anchor),t=n.x.before||n.x.after,r=n.y.before||n.y.after;let i=!1;if(["x","y"].forEach((a=>{if("x"===a&&t&&!x.x||"y"===a&&r&&!x.y){const t={anchor:{...v.anchor},origin:{...v.origin}},r="x"===a?"y"===e?lt:st:"y"===e?st:lt;t.anchor=r(t.anchor),t.origin=r(t.origin);const{overflows:o}=g(t);(o[a].before<=n[a].before&&o[a].after<=n[a].after||o[a].before+o[a].after<(n[a].before+n[a].after)/2)&&(v=t,i=x[a]=!0)}})),i)continue}n.x.before&&(_+=n.x.before,r.x+=n.x.before),n.x.after&&(_-=n.x.after,r.x-=n.x.after),n.y.before&&(y+=n.y.before,r.y+=n.y.before),n.y.after&&(y-=n.y.after,r.y-=n.y.after);{const e=I(r,m);b.x=m.width-e.x.before-e.x.after,b.y=m.height-e.y.before-e.y.after,_+=e.x.before,r.x+=e.x.before,y+=e.y.before,r.y+=e.y.before}break}const S=ut(v.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${v.anchor.side} ${v.anchor.align}`,transformOrigin:`${v.origin.side} ${v.origin.align}`,top:(0,c.kb)(Sr(y)),left:e.isRtl.value?void 0:(0,c.kb)(Sr(_)),right:e.isRtl.value?(0,c.kb)(Sr(-_)):void 0,minWidth:(0,c.kb)("y"===S?Math.min(l.value,t.width):l.value),maxWidth:(0,c.kb)(Mr((0,c.uZ)(b.x,l.value===1/0?0:l.value,d.value))),maxHeight:(0,c.kb)(Mr((0,c.uZ)(b.y,u.value===1/0?0:u.value,h.value)))}),{available:b,contentBox:r}}return(0,r.YP)([e.activatorEl,e.contentEl],((e,t)=>{let[n,r]=e,[i,a]=t;i&&m.unobserve(i),n&&m.observe(n),a&&m.unobserve(a),r&&m.observe(r)}),{immediate:!0}),(0,i.EB)((()=>{m.disconnect()})),(0,r.YP)((()=>[o.value,s.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight]),(()=>v())),(0,r.Y3)((()=>{const e=v();if(!e)return;const{available:t,contentBox:n}=e;n.height>t.y&&requestAnimationFrame((()=>{v(),requestAnimationFrame((()=>{v()}))}))})),{updateLocation:v}}function Sr(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function Mr(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let Er=!0;const Tr=[];function Ar(e){!Er||Tr.length?(Tr.push(e),kr()):(Er=!1,e(),kr())}let Cr=-1;function kr(){cancelAnimationFrame(Cr),Cr=requestAnimationFrame((()=>{const e=Tr.shift();e&&e(),Tr.length?kr():Er=!0}))}const Rr={none:null,close:Pr,block:Dr,reposition:Or},Lr=(0,s.U)({scrollStrategy:{type:[String,Function],default:"block",validator:e=>"function"===typeof e||e in Rr}},"v-overlay-scroll-strategies");function Ir(e,t){if(!a.BR)return;let n;(0,r.m0)((async()=>{n?.stop(),t.isActive.value&&e.scrollStrategy&&(n=(0,i.B)(),await(0,r.Y3)(),n.active&&n.run((()=>{"function"===typeof e.scrollStrategy?e.scrollStrategy(t,e,n):Rr[e.scrollStrategy]?.(t,e,n)})))})),(0,i.EB)((()=>{n?.stop()}))}function Pr(e){function t(t){e.isActive.value=!1}Nr(e.activatorEl.value??e.contentEl.value,t)}function Dr(e,t){const n=e.root.value?.offsetParent,r=[...new Set([...hr(e.activatorEl.value,t.contained?n:void 0),...hr(e.contentEl.value,t.contained?n:void 0)])].filter((e=>!e.classList.contains("v-overlay-scroll-blocked"))),a=window.innerWidth-document.documentElement.offsetWidth,o=(e=>fr(e)&&e)(n||document.documentElement);o&&e.root.value.classList.add("v-overlay--scroll-blocked"),r.forEach(((e,t)=>{e.style.setProperty("--v-body-scroll-x",(0,c.kb)(-e.scrollLeft)),e.style.setProperty("--v-body-scroll-y",(0,c.kb)(-e.scrollTop)),e.style.setProperty("--v-scrollbar-offset",(0,c.kb)(a)),e.classList.add("v-overlay-scroll-blocked")})),(0,i.EB)((()=>{r.forEach(((e,t)=>{const n=parseFloat(e.style.getPropertyValue("--v-body-scroll-x")),r=parseFloat(e.style.getPropertyValue("--v-body-scroll-y"));e.style.removeProperty("--v-body-scroll-x"),e.style.removeProperty("--v-body-scroll-y"),e.style.removeProperty("--v-scrollbar-offset"),e.classList.remove("v-overlay-scroll-blocked"),e.scrollLeft=-n,e.scrollTop=-r})),o&&e.root.value.classList.remove("v-overlay--scroll-blocked")}))}function Or(e,t,n){let r=!1,a=-1,o=-1;function s(t){Ar((()=>{const n=performance.now();e.updateLocation.value?.(t);const i=performance.now()-n;r=i/(1e3/60)>2}))}o=("undefined"===typeof requestIdleCallback?e=>e():requestIdleCallback)((()=>{n.run((()=>{Nr(e.activatorEl.value??e.contentEl.value,(e=>{r?(cancelAnimationFrame(a),a=requestAnimationFrame((()=>{a=requestAnimationFrame((()=>{s(e)}))}))):s(e)}))}))})),(0,i.EB)((()=>{"undefined"!==typeof cancelIdleCallback&&cancelIdleCallback(o),cancelAnimationFrame(a)}))}function Nr(e,t){const n=[document,...hr(e)];n.forEach((e=>{e.addEventListener("scroll",t,{passive:!0})})),(0,i.EB)((()=>{n.forEach((e=>{e.removeEventListener("scroll",t)}))}))}var Fr=n(8157);function Br(){if(!a.BR)return(0,i.iH)(!1);const{ssr:e}=(0,Fr.AW)();if(e){const e=(0,i.iH)(!1);return(0,r.bv)((()=>{e.value=!0})),e}return(0,i.iH)(!0)}function Vr(){const e=(0,l.FN)("useScopeId"),t=e.vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}const Ur=Symbol.for("vuetify:stack"),zr=(0,i.qj)([]);function Hr(e,t,n){const a=(0,l.FN)("useStack"),o=!n,s=(0,r.f3)(Ur,void 0),c=(0,i.qj)({activeChildren:new Set});(0,r.JJ)(Ur,c);const u=(0,i.iH)(+t.value);(0,Xt.U)(e,(()=>{const e=zr.at(-1)?.[1];u.value=e?e+10:+t.value,o&&zr.push([a.uid,u.value]),s?.activeChildren.add(a.uid),(0,i.EB)((()=>{if(o){const e=(0,i.IU)(zr).findIndex((e=>e[0]===a.uid));zr.splice(e,1)}s?.activeChildren.delete(a.uid)}))}));const d=(0,i.iH)(!0);o&&(0,r.m0)((()=>{const e=zr.at(-1)?.[0]===a.uid;setTimeout((()=>d.value=e))}));const h=(0,r.Fl)((()=>!c.activeChildren.size));return{globalTop:(0,i.OT)(d),localTop:h,stackStyles:(0,r.Fl)((()=>({zIndex:u.value})))}}function Wr(e){const t=(0,r.Fl)((()=>{const t=e.value;if(!0===t||!a.BR)return;const n=!1===t?document.body:"string"===typeof t?document.querySelector(t):t;if(null==n)return void(0,r.ZK)(`Unable to locate target ${t}`);let i=n.querySelector(":scope > .v-overlay-container");return i||(i=document.createElement("div"),i.className="v-overlay-container",n.appendChild(i)),i}));return{teleportTarget:t}}var jr=n(8793);function Gr(e){const{modelValue:t,color:n,...i}=e;return(0,r.Wm)(T.uT,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&(0,r.Wm)("div",(0,r.dG)({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},i),null)]})}const Yr=(0,s.U)({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[String,Boolean],default:!0},zIndex:{type:[Number,String],default:2e3},...ar(),...ne(),...lr(),..._r(),...Lr(),...(0,y.x$)(),...se()},"v-overlay"),$r=(0,x.ev)()({name:"VOverlay",directives:{ClickOutside:jr.L},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...Yr()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,afterLeave:()=>!0},setup(e,t){let{slots:n,attrs:o,emit:s}=t;const l=(0,Te.z)(e,"modelValue"),u=(0,r.Fl)({get:()=>l.value,set:t=>{t&&e.disabled||(l.value=t)}}),{teleportTarget:d}=Wr((0,r.Fl)((()=>e.attach||e.contained))),{themeClasses:h}=(0,y.ER)(e),{rtlClasses:f,isRtl:p}=(0,b.Vw)(),{hasContent:m,onAfterLeave:v}=cr(e,u),g=we((0,r.Fl)((()=>"string"===typeof e.scrim?e.scrim:null))),{globalTop:_,localTop:x,stackStyles:S}=Hr(u,(0,i.Vh)(e,"zIndex"),e._disableGlobalStack),{activatorEl:M,activatorRef:E,activatorEvents:A,contentEvents:C,scrimEvents:k}=or(e,{isActive:u,isTop:x}),{dimensionStyles:R}=re(e),L=Br(),{scopeId:I}=Vr();(0,r.YP)((()=>e.disabled),(e=>{e&&(u.value=!1)}));const P=(0,i.iH)(),N=(0,i.iH)(),{contentStyles:F,updateLocation:B}=yr(e,{isRtl:p,contentEl:N,activatorEl:M,isActive:u});function V(t){s("click:outside",t),e.persistent?j():u.value=!1}function U(){return u.value&&_.value}function z(t){"Escape"===t.key&&_.value&&(e.persistent?j():u.value=!1)}Ir(e,{root:P,contentEl:N,activatorEl:M,isActive:u,updateLocation:B}),a.BR&&(0,r.YP)(u,(e=>{e?window.addEventListener("keydown",z):window.removeEventListener("keydown",z)}),{immediate:!0});const H=xt();(0,Xt.U)((()=>e.closeOnBack),(()=>{Et(H,(t=>{_.value&&u.value?(t(!1),e.persistent?j():u.value=!1):t()}))}));const W=(0,i.iH)();function j(){e.noClickAnimation||N.value&&D(N.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:O})}return(0,r.YP)((()=>u.value&&(e.absolute||e.contained)&&null==d.value),(e=>{if(e){const e=dr(P.value);e&&e!==document.scrollingElement&&(W.value=e.scrollTop)}})),w((()=>(0,r.Wm)(r.HY,null,[n.activator?.({isActive:u.value,props:(0,r.dG)({ref:E},(0,r.mx)(A.value),e.activatorProps)}),L.value&&(0,r.Wm)(r.lR,{disabled:!d.value,to:d.value},{default:()=>[m.value&&(0,r.Wm)("div",(0,r.dG)({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":u.value,"v-overlay--contained":e.contained},h.value,f.value],style:[S.value,{top:(0,c.kb)(W.value)}],ref:P},I,o),[(0,r.Wm)(Gr,(0,r.dG)({color:g,modelValue:u.value&&!!e.scrim},(0,r.mx)(k.value)),null),(0,r.Wm)(le,{appear:!0,persisted:!0,transition:e.transition,target:M.value,onAfterLeave:()=>{v(),s("afterLeave")}},{default:()=>[(0,r.wy)((0,r.Wm)("div",(0,r.dG)({ref:N,class:["v-overlay__content",e.contentClass],style:[R.value,F.value]},(0,r.mx)(C.value),e.contentProps),[n.default?.({isActive:u})]),[[T.F8,u.value],[(0,r.Q2)("click-outside"),{handler:V,closeConditional:U,include:()=>[M.value]}]])]})])]})]))),{activatorEl:M,animateClick:j,contentEl:N,globalTop:_,localTop:x,updateLocation:B}}}),qr=(0,x.ev)()({name:"VMenu",props:{id:String,...(0,c.CE)(Yr({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:B}}),["absolute"])},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const a=(0,Te.z)(e,"modelValue"),{scopeId:o}=Vr(),s=(0,l.sq)(),c=(0,r.Fl)((()=>e.id||`v-menu-${s}`)),u=(0,i.iH)(),d=(0,r.f3)(ir,null),h=(0,i.iH)(0);function f(){d?.closeParents()}(0,r.JJ)(ir,{register(){++h.value},unregister(){--h.value},closeParents(){setTimeout((()=>{h.value||(a.value=!1,d?.closeParents())}),40)}}),(0,r.YP)(a,(e=>{e?d?.register():d?.unregister()}));const p=(0,r.Fl)((()=>(0,r.dG)({"aria-haspopup":"menu","aria-expanded":String(a.value),"aria-owns":c.value},e.activatorProps)));return w((()=>{const[t]=$r.filterProps(e);return(0,r.Wm)($r,(0,r.dG)({ref:u,class:["v-menu"]},t,{modelValue:a.value,"onUpdate:modelValue":e=>a.value=e,absolute:!0,activatorProps:p.value,"onClick:outside":f},o),{activator:n.activator,default:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(0,r.Wm)(E,{root:!0},{default:()=>[n.default?.(...t)]})}})})),rn({id:c,"ΨopenChildren":h},u)}}),Xr=(0,s.U)({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,menu:Boolean,menuIcon:{type:qe.lE,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,valueComparator:{type:Function,default:c.vZ},...$n({itemChildren:!1})},"v-select"),Zr=(0,x.ev)()({name:"VSelect",props:{...Xr(),...(0,c.CE)(on({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...se({transition:{component:B}})},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:a}=(0,b.bU)(),o=(0,i.iH)(),s=(0,i.iH)(),l=(0,Te.z)(e,"menu"),u=(0,r.Fl)({get:()=>l.value,set:e=>{l.value&&!e&&s.value?.ΨopenChildren||(l.value=e)}}),{items:d,transformIn:h,transformOut:f}=Zn(e),p=(0,Te.z)(e,"modelValue",[],(e=>h((0,c.FT)(e))),(t=>{const n=f(t);return e.multiple?n:n[0]??null})),m=qt(),v=(0,r.Fl)((()=>p.value.map((t=>d.value.find((n=>e.valueComparator(n.value,t.value)))||t)))),g=(0,r.Fl)((()=>v.value.map((e=>e.props.value)))),_=(0,i.iH)(!1);let y,x="";const S=(0,r.Fl)((()=>e.hideSelected?d.value.filter((e=>!v.value.some((t=>t===e)))):d.value)),M=(0,i.iH)();function T(t){e.openOnClear&&(u.value=!0)}function A(){e.hideNoData&&!d.value.length||e.readonly||m?.isReadonly.value||(u.value=!u.value)}function C(t){if(e.readonly||m?.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(t.key)&&t.preventDefault(),["Enter","ArrowDown"," "].includes(t.key)&&(u.value=!0),["Escape","Tab"].includes(t.key)&&(u.value=!1),"ArrowDown"===t.key?M.value?.focus("next"):"ArrowUp"===t.key?M.value?.focus("prev"):"Home"===t.key?M.value?.focus("first"):"End"===t.key&&M.value?.focus("last");const n=1e3;function r(e){const t=1===e.key.length,n=!e.ctrlKey&&!e.metaKey&&!e.altKey;return t&&n}if(e.multiple||!r(t))return;const i=performance.now();i-y>n&&(x=""),x+=t.key.toLowerCase(),y=i;const a=d.value.find((e=>e.title.toLowerCase().startsWith(x)));void 0!==a&&(p.value=[a])}function k(t){if(e.multiple){const n=g.value.findIndex((n=>e.valueComparator(n,t.value)));if(-1===n)p.value=[...p.value,t];else{const e=[...p.value];e.splice(n,1),p.value=e}}else p.value=[t],u.value=!1}function R(e){M.value?.$el.contains(e.relatedTarget)||(u.value=!1)}function L(e){_.value=!0}function I(e){null==e.relatedTarget&&o.value?.focus()}return w((()=>{const t=!(!e.chips&&!n.chip),i=!!(!e.hideNoData||S.value.length||n.prepend||n.append||n["no-data"]),l=p.value.length>0,[c]=sn.filterProps(e),d=l||!_.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return(0,r.Wm)(sn,(0,r.dG)({ref:o},c,{modelValue:p.value.map((e=>e.props.value)).join(", "),"onUpdate:modelValue":e=>{null==e&&(p.value=[])},focused:_.value,"onUpdate:focused":e=>_.value=e,validationValue:p.externalValue,dirty:l,class:["v-select",{"v-select--active-menu":u.value,"v-select--chips":!!e.chips,["v-select--"+(e.multiple?"multiple":"single")]:!0,"v-select--selected":p.value.length}],appendInnerIcon:e.menuIcon,readonly:!0,placeholder:d,"onClick:clear":T,"onMousedown:control":A,onBlur:R,onKeydown:C}),{...n,default:()=>(0,r.Wm)(r.HY,null,[(0,r.Wm)(qr,(0,r.dG)({ref:s,modelValue:u.value,"onUpdate:modelValue":e=>u.value=e,activator:"parent",contentClass:"v-select__content",eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition},e.menuProps),{default:()=>[i&&(0,r.Wm)(tr,{ref:M,selected:g.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:e=>e.preventDefault(),onFocusin:L,onFocusout:I},{default:()=>[!S.value.length&&!e.hideNoData&&(n["no-data"]?.()??(0,r.Wm)(jn,{title:a(e.noDataText)},null)),n["prepend-item"]?.(),S.value.map(((t,i)=>n.item?n.item?.({item:t,index:i,props:(0,r.dG)(t.props,{onClick:()=>k(t)})}):(0,r.Wm)(jn,(0,r.dG)({key:i},t.props,{onClick:()=>k(t)}),{prepend:t=>{let{isSelected:n}=t;return e.multiple&&!e.hideSelected?(0,r.Wm)(mn,{modelValue:n,ripple:!1,tabindex:"-1"},null):void 0}}))),n["append-item"]?.()]})]}),v.value.map(((i,a)=>{function o(e){e.stopPropagation(),e.preventDefault(),k(i)}const s={"onClick:close":o,modelValue:!0,"onUpdate:modelValue":void 0};return(0,r.Wm)("div",{key:i.value,class:"v-select__selection"},[t?n.chip?(0,r.Wm)(E,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:i.title}}},{default:()=>[n.chip?.({item:i,index:a,props:s})]}):(0,r.Wm)(bn,(0,r.dG)({key:"chip",closable:e.closableChips,size:"small",text:i.title},s),null):n.selection?.({item:i,index:a})??(0,r.Wm)("span",{class:"v-select__selection-text"},[i.title,e.multiple&&a<v.value.length-1&&(0,r.Wm)("span",{class:"v-select__selection-comma"},[(0,r.Uk)(",")])])])}))])})})),rn({isFocused:_,menu:u,select:k},o)}}),Kr=(e,t,n)=>null==e||null==t?-1:e.toString().toLocaleLowerCase().indexOf(t.toString().toLocaleLowerCase()),Jr=(0,s.U)({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function Qr(e,t,n){const r=[],i=n?.default??Kr,a=!!n?.filterKeys&&(0,c.FT)(n.filterKeys),o=Object.keys(n?.customKeyFilter??{}).length;if(!e?.length)return r;e:for(let s=0;s<e.length;s++){const l=e[s],u={},d={};let h=-1;if(t&&!n?.noFilter){if("object"===typeof l){const e=a||Object.keys(l);for(const r of e){const e=(0,c.qF)(l,r,l),a=n?.customKeyFilter?.[r];if(h=a?a(e,t,l):i(e,t,l),-1!==h&&!1!==h)a?u[r]=h:d[r]=h;else if("every"===n?.filterMode)continue e}}else h=i(l,t,l),-1!==h&&!1!==h&&(d.title=h);const e=Object.keys(d).length,r=Object.keys(u).length;if(!e&&!r)continue;if("union"===n?.filterMode&&r!==o&&!e)continue;if("intersection"===n?.filterMode&&(r!==o||!e))continue}r.push({index:s,matches:{...d,...u}})}return r}function ei(e,t,n,a){const o=(0,r.Fl)((()=>"string"!==typeof n?.value&&"number"!==typeof n?.value?"":String(n.value))),s=(0,i.iH)([]),l=(0,i.iH)(new Map);function c(e){return l.value.get(e.value)}return(0,r.m0)((()=>{s.value=[],l.value=new Map;const n=(0,i.SU)(t),r=Qr(n,o.value,{customKeyFilter:e.customKeyFilter,default:e.customFilter,filterKeys:(0,i.SU)(a?.filterKeys)??e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter});r.forEach((e=>{let{index:t,matches:r}=e;const i=n[t];s.value.push(i),l.value.set(i.value,r)}))})),{filteredItems:s,filteredMatches:l,getMatches:c}}function ti(e,t,n){if(null==t)return e;if(Array.isArray(t))throw new Error("Multiple matches is not implemented");return"number"===typeof t&&~t?(0,r.Wm)(r.HY,null,[(0,r.Wm)("span",{class:"v-autocomplete__unmask"},[e.substr(0,t)]),(0,r.Wm)("span",{class:"v-autocomplete__mask"},[e.substr(t,n)]),(0,r.Wm)("span",{class:"v-autocomplete__unmask"},[e.substr(t+n)])]):e}const ni=(0,x.ev)()({name:"VAutocomplete",props:{search:String,...Jr({filterKeys:["title"]}),...Xr(),...(0,c.CE)(on({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...se({transition:!1})},emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:a}=(0,b.bU)(),o=(0,i.iH)(),s=(0,i.iH)(!1),l=(0,i.iH)(!0),u=(0,i.iH)(),d=(0,Te.z)(e,"menu"),h=(0,r.Fl)({get:()=>d.value,set:e=>{d.value&&!e&&u.value?.ΨopenChildren||(d.value=e)}}),f=(0,i.iH)(-1),p=(0,r.Fl)((()=>o.value?.color)),{items:m,transformIn:v,transformOut:g}=Zn(e),{textColorClasses:_,textColorStyles:y}=xe(p),x=(0,Te.z)(e,"search",""),S=(0,Te.z)(e,"modelValue",[],(e=>v((0,c.FT)(e))),(t=>{const n=g(t);return e.multiple?n:n[0]??null})),M=qt(),{filteredItems:T,getMatches:A}=ei(e,m,(0,r.Fl)((()=>l.value?void 0:x.value))),C=(0,r.Fl)((()=>S.value.map((t=>m.value.find((n=>e.valueComparator(n.value,t.value)))||t)))),k=(0,r.Fl)((()=>e.hideSelected?T.value.filter((e=>!C.value.some((t=>t.value===e.value)))):T.value)),R=(0,r.Fl)((()=>C.value.map((e=>e.props.value)))),L=(0,r.Fl)((()=>C.value[f.value])),I=(0,i.iH)();function P(t){e.openOnClear&&(h.value=!0),x.value=""}function D(){e.hideNoData&&!m.value.length||e.readonly||M?.isReadonly.value||(h.value=!0)}function O(t){if(e.readonly||M?.isReadonly.value)return;const n=o.value.selectionStart,r=R.value.length;if((f.value>-1||["Enter","ArrowDown","ArrowUp"].includes(t.key))&&t.preventDefault(),["Enter","ArrowDown"].includes(t.key)&&(h.value=!0),["Escape"].includes(t.key)&&(h.value=!1),["Enter","Escape","Tab"].includes(t.key)&&(l.value=!0),"ArrowDown"===t.key?I.value?.focus("next"):"ArrowUp"===t.key&&I.value?.focus("prev"),e.multiple){if(["Backspace","Delete"].includes(t.key)){if(f.value<0)return void("Backspace"!==t.key||x.value||(f.value=r-1));const e=f.value;L.value&&z(L.value),f.value=e>=r-1?r-2:e}if("ArrowLeft"===t.key){if(f.value<0&&n>0)return;const e=f.value>-1?f.value-1:r-1;C.value[e]?f.value=e:(f.value=-1,o.value.setSelectionRange(x.value?.length,x.value?.length))}if("ArrowRight"===t.key){if(f.value<0)return;const e=f.value+1;C.value[e]?f.value=e:(f.value=-1,o.value.setSelectionRange(0,0))}}}function N(e){x.value=e.target.value}function F(){s.value&&(l.value=!0)}function B(e){s.value=!0}function V(e){null==e.relatedTarget&&o.value?.focus()}const U=(0,i.iH)(!1);function z(t){if(e.multiple){const n=R.value.findIndex((n=>e.valueComparator(n,t.value)));if(-1===n)S.value=[...S.value,t];else{const e=[...S.value];e.splice(n,1),S.value=e}}else S.value=[t],U.value=!0,n.selection||(x.value=t.title),h.value=!1,l.value=!0,(0,r.Y3)((()=>U.value=!1))}return(0,r.YP)(s,(t=>{t?(U.value=!0,x.value=e.multiple||n.selection?"":String(C.value.at(-1)?.props.title??""),l.value=!0,(0,r.Y3)((()=>U.value=!1))):(h.value=!1,x.value="")})),(0,r.YP)(x,(e=>{s.value&&!U.value&&(e&&(h.value=!0),l.value=!e)})),w((()=>{const t=!(!e.chips&&!n.chip),i=!!(!e.hideNoData||k.value.length||n.prepend||n.append||n["no-data"]),c=S.value.length>0,[d]=sn.filterProps(e);return(0,r.Wm)(sn,(0,r.dG)({ref:o},d,{modelValue:x.value,"onUpdate:modelValue":e=>{null==e&&(S.value=[])},focused:s.value,"onUpdate:focused":e=>s.value=e,validationValue:S.externalValue,dirty:c,onInput:N,class:["v-autocomplete",{"v-autocomplete--active-menu":h.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selecting-index":f.value>-1,["v-autocomplete--"+(e.multiple?"multiple":"single")]:!0,"v-autocomplete--selection-slot":!!n.selection}],appendInnerIcon:e.menuIcon,readonly:e.readonly,placeholder:c?void 0:e.placeholder,"onClick:clear":P,"onMousedown:control":D,onKeydown:O}),{...n,default:()=>(0,r.Wm)(r.HY,null,[(0,r.Wm)(qr,(0,r.dG)({ref:u,modelValue:h.value,"onUpdate:modelValue":e=>h.value=e,activator:"parent",contentClass:"v-autocomplete__content",eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:F},e.menuProps),{default:()=>[i&&(0,r.Wm)(tr,{ref:I,selected:R.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:e=>e.preventDefault(),onFocusin:B,onFocusout:V},{default:()=>[!k.value.length&&!e.hideNoData&&(n["no-data"]?.()??(0,r.Wm)(jn,{title:a(e.noDataText)},null)),n["prepend-item"]?.(),k.value.map((t=>n.item?.({item:t,props:(0,r.dG)(t.props,{onClick:()=>z(t)})})??(0,r.Wm)(jn,(0,r.dG)({key:t.value},t.props,{onClick:()=>z(t)}),{prepend:t=>{let{isSelected:n}=t;return e.multiple&&!e.hideSelected?(0,r.Wm)(mn,{modelValue:n,ripple:!1,tabindex:"-1"},null):void 0},title:()=>l.value?t.title:ti(t.title,A(t)?.title,x.value?.length??0)}))),n["append-item"]?.()]})]}),C.value.map(((i,a)=>{function o(e){e.stopPropagation(),e.preventDefault(),z(i)}const s={"onClick:close":o,modelValue:!0,"onUpdate:modelValue":void 0};return(0,r.Wm)("div",{key:i.value,class:["v-autocomplete__selection",a===f.value&&["v-autocomplete__selection--selected",_.value]],style:a===f.value?y.value:{}},[t?n.chip?(0,r.Wm)(E,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:i.title}}},{default:()=>[n.chip?.({item:i,index:a,props:s})]}):(0,r.Wm)(bn,(0,r.dG)({key:"chip",closable:e.closableChips,size:"small",text:i.title},s),null):n.selection?.({item:i,index:a})??(0,r.Wm)("span",{class:"v-autocomplete__selection-text"},[i.title,e.multiple&&a<C.value.length-1&&(0,r.Wm)("span",{class:"v-autocomplete__selection-comma"},[(0,r.Uk)(",")])])])}))])})})),rn({isFocused:s,isPristine:l,menu:h,search:x,filteredItems:T,select:z},o)}}),ri=(0,x.ev)()({name:"VBadge",inheritAttrs:!1,props:{bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:qe.lE,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...ht({location:"top end"}),...ge(),...ue(),...(0,y.x$)(),...se({transition:"scale-rotate-transition"})},setup(e,t){const{backgroundColorClasses:n,backgroundColorStyles:a}=we((0,i.Vh)(e,"color")),{roundedClasses:o}=_e(e),{t:s}=(0,b.bU)(),{textColorClasses:l,textColorStyles:u}=xe((0,i.Vh)(e,"textColor")),{themeClasses:d}=(0,y.Fg)(),{locationStyles:h}=ft(e,!0,(t=>{const n=e.floating?e.dot?2:4:e.dot?8:12;return n+(["top","bottom"].includes(t)?+(e.offsetY??0):["left","right"].includes(t)?+(e.offsetX??0):0)}));return w((()=>{const i=Number(e.content),f=!e.max||isNaN(i)?e.content:i<=+e.max?i:`${e.max}+`,[p,m]=(0,c.ei)(t.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return(0,r.Wm)(e.tag,(0,r.dG)({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline}]},m),{default:()=>[(0,r.Wm)("div",{class:"v-badge__wrapper"},[t.slots.default?.(),(0,r.Wm)(le,{transition:e.transition},{default:()=>[(0,r.wy)((0,r.Wm)("span",(0,r.dG)({class:["v-badge__badge",d.value,n.value,o.value,l.value],style:[a.value,u.value,e.inline?{}:h.value],"aria-atomic":"true","aria-label":s(e.label,i),"aria-live":"polite",role:"status"},p),[e.dot?void 0:t.slots.badge?t.slots.badge?.():e.icon?(0,r.Wm)(Qe,{icon:e.icon},null):f]),[[T.F8,e.modelValue]])]})])]})})),{}}}),ii=(0,x.ev)()({name:"VBannerActions",props:{color:String,density:String},setup(e,t){let{slots:n}=t;return(0,M.AF)({VBtn:{color:e.color,density:e.density,variant:"text"}}),w((()=>(0,r.Wm)("div",{class:"v-banner-actions"},[n.default?.()]))),{}}}),ai=Lt("v-banner-text"),oi=(0,x.ev)()({name:"VBanner",props:{avatar:String,color:String,icon:qe.lE,lines:String,stacked:Boolean,sticky:Boolean,text:String,...fe(),...Re(),...ne(),...me(),...ht(),...yt(),...ge(),...ue(),...(0,y.x$)()},setup(e,t){let{slots:n}=t;const{borderClasses:a}=pe(e),{densityClasses:o}=Le(e),{mobile:s}=(0,Fr.AW)(),{dimensionStyles:l}=re(e),{elevationClasses:c}=ve(e),{locationStyles:u}=ft(e),{positionClasses:d}=bt(e),{roundedClasses:h}=_e(e),{themeClasses:f}=(0,y.ER)(e),p=(0,i.Vh)(e,"color"),m=(0,i.Vh)(e,"density");(0,M.AF)({VBannerActions:{color:p,density:m}}),w((()=>{const t=!(!e.text&&!n.text),i=!(!e.avatar&&!e.icon),v=!(!i&&!n.prepend);return(0,r.Wm)(e.tag,{class:["v-banner",{"v-banner--stacked":e.stacked||s.value,"v-banner--sticky":e.sticky,[`v-banner--${e.lines}-line`]:!!e.lines},a.value,o.value,c.value,d.value,h.value,f.value],style:[l.value,u.value],role:"banner"},{default:()=>[v&&(0,r.Wm)("div",{key:"prepend",class:"v-banner__prepend"},[n.prepend?(0,r.Wm)(E,{key:"prepend-defaults",disabled:!i,defaults:{VAvatar:{color:p.value,density:m.value,icon:e.icon,image:e.avatar}}},n.prepend):(0,r.Wm)(gn,{key:"prepend-avatar",color:p.value,density:m.value,icon:e.icon,image:e.avatar},null)]),(0,r.Wm)("div",{class:"v-banner__content"},[t&&(0,r.Wm)(ai,{key:"text"},{default:()=>[n.text?.()??e.text]}),n.default?.()]),n.actions&&(0,r.Wm)(ii,{key:"actions"},n.actions)]})}))}}),si=(0,x.ev)()({name:"VBottomNavigation",props:{bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:e=>!e||["horizontal","shift"].includes(e)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...fe(),...Re(),...me(),...ge(),...p({name:"bottom-navigation"}),...ue({tag:"header"}),...Ve({modelValue:!0,selectedClass:"v-btn--selected"}),...(0,y.x$)()},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:a}=(0,y.Fg)(),{borderClasses:o}=pe(e),{backgroundColorClasses:s,backgroundColorStyles:l}=we((0,i.Vh)(e,"bgColor")),{densityClasses:u}=Le(e),{elevationClasses:d}=ve(e),{roundedClasses:h}=_e(e),{ssrBootStyles:f}=Ae(),p=(0,r.Fl)((()=>Number(e.height)-("comfortable"===e.density?8:0)-("compact"===e.density?16:0))),m=(0,i.Vh)(e,"active"),{layoutItemStyles:g}=v({id:e.name,order:(0,r.Fl)((()=>parseInt(e.order,10))),position:(0,r.Fl)((()=>"bottom")),layoutSize:(0,r.Fl)((()=>m.value?p.value:0)),elementSize:p,active:m,absolute:(0,i.Vh)(e,"absolute")});return He(e,Ye),(0,M.AF)({VBtn:{color:(0,i.Vh)(e,"color"),density:(0,i.Vh)(e,"density"),stacked:(0,r.Fl)((()=>"horizontal"!==e.mode)),variant:"text"}},{scoped:!0}),w((()=>(0,r.Wm)(e.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":m.value,"v-bottom-navigation--grow":e.grow,"v-bottom-navigation--shift":"shift"===e.mode},a.value,s.value,o.value,u.value,d.value,h.value],style:[l.value,g.value,{height:(0,c.kb)(p.value),transform:`translateY(${(0,c.kb)(m.value?0:100,"%")})`},f.value]},{default:()=>[n.default&&(0,r.Wm)("div",{class:"v-bottom-navigation__content"},[n.default()])]}))),{}}}),li=(0,x.ev)()({name:"VBreadcrumbsDivider",props:{divider:[Number,String]},setup(e,t){let{slots:n}=t;return w((()=>(0,r.Wm)("li",{class:"v-breadcrumbs-divider"},[n?.default?.()??e.divider]))),{}}}),ci=(0,x.ev)()({name:"VBreadcrumbsItem",props:{active:Boolean,activeClass:String,activeColor:String,color:String,disabled:Boolean,title:String,...St(),...ue({tag:"li"})},setup(e,t){let{slots:n,attrs:i}=t;const a=wt(e,i),o=(0,r.Fl)((()=>e.active||a.isActive?.value)),s=(0,r.Fl)((()=>o.value?e.activeColor:e.color)),{textColorClasses:l,textColorStyles:c}=xe(s);return w((()=>{const t=a.isLink.value?"a":e.tag;return(0,r.Wm)(t,{class:["v-breadcrumbs-item",{"v-breadcrumbs-item--active":o.value,"v-breadcrumbs-item--disabled":e.disabled,"v-breadcrumbs-item--link":a.isLink.value,[`${e.activeClass}`]:o.value&&e.activeClass},l.value],style:[c.value],href:a.href.value,"aria-current":o.value?"page":void 0,onClick:a.navigate},{default:()=>[n.default?.()??e.title]})})),{}}}),ui=(0,x.ev)()({name:"VBreadcrumbs",props:{activeClass:String,activeColor:String,bgColor:String,color:String,disabled:Boolean,divider:{type:String,default:"/"},icon:qe.lE,items:{type:Array,default:()=>[]},...Re(),...ge(),...ue({tag:"ul"})},setup(e,t){let{slots:n}=t;const{backgroundColorClasses:a,backgroundColorStyles:o}=we((0,i.Vh)(e,"bgColor")),{densityClasses:s}=Le(e),{roundedClasses:l}=_e(e);return(0,M.AF)({VBreadcrumbsDivider:{divider:(0,i.Vh)(e,"divider")},VBreadcrumbsItem:{activeClass:(0,i.Vh)(e,"activeClass"),activeColor:(0,i.Vh)(e,"activeColor"),color:(0,i.Vh)(e,"color"),disabled:(0,i.Vh)(e,"disabled")}}),w((()=>{const t=!(!n.prepend&&!e.icon);return(0,r.Wm)(e.tag,{class:["v-breadcrumbs",a.value,s.value,l.value],style:o.value},{default:()=>[t&&(0,r.Wm)("div",{key:"prepend",class:"v-breadcrumbs__prepend"},[n.prepend?(0,r.Wm)(E,{key:"prepend-defaults",disabled:!e.icon,defaults:{VIcon:{icon:e.icon,start:!0}}},n.prepend):(0,r.Wm)(Qe,{key:"prepend-icon",start:!0,icon:e.icon},null)]),e.items.map(((e,t,i)=>(0,r.Wm)(r.HY,null,[(0,r.Wm)(ci,(0,r.dG)({key:t,disabled:t>=i.length-1},"string"===typeof e?{title:e}:e),{default:n.title?()=>n.title?.({item:e,index:t}):void 0}),t<i.length-1&&(0,r.Wm)(li,null,{default:n.divider?()=>n.divider?.({item:e,index:t}):void 0})]))),n.default?.()]})})),{}}}),di=(0,x.aZ)({name:"VCardActions",setup(e,t){let{slots:n}=t;return(0,M.AF)({VBtn:{variant:"text"}}),w((()=>(0,r.Wm)("div",{class:"v-card-actions"},[n.default?.()]))),{}}}),hi=Lt("v-card-subtitle"),fi=Lt("v-card-title"),pi=(0,x.ev)()({name:"VCardItem",props:{appendAvatar:String,appendIcon:qe.lE,prependAvatar:String,prependIcon:qe.lE,subtitle:String,title:String,...Re()},setup(e,t){let{slots:n}=t;return w((()=>{const t=!(!e.prependAvatar&&!e.prependIcon),i=!(!t&&!n.prepend),a=!(!e.appendAvatar&&!e.appendIcon),o=!(!a&&!n.append),s=!(!e.title&&!n.title),l=!(!e.subtitle&&!n.subtitle);return(0,r.Wm)("div",{class:"v-card-item"},[i&&(0,r.Wm)("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?(0,r.Wm)(E,{key:"prepend-defaults",disabled:!t,defaults:{VAvatar:{density:e.density,icon:e.prependIcon,image:e.prependAvatar}}},n.prepend):t&&(0,r.Wm)(gn,{key:"prepend-avatar",density:e.density,icon:e.prependIcon,image:e.prependAvatar},null)]),(0,r.Wm)("div",{class:"v-card-item__content"},[s&&(0,r.Wm)(fi,{key:"title"},{default:()=>[n.title?.()??e.title]}),l&&(0,r.Wm)(hi,{key:"subtitle"},{default:()=>[n.subtitle?.()??e.subtitle]}),n.default?.()]),o&&(0,r.Wm)("div",{key:"append",class:"v-card-item__append"},[n.append?(0,r.Wm)(E,{key:"append-defaults",disabled:!a,defaults:{VAvatar:{density:e.density,icon:e.appendIcon,image:e.appendAvatar}}},n.append):a&&(0,r.Wm)(gn,{key:"append-avatar",density:e.density,icon:e.appendIcon,image:e.appendAvatar},null)])])})),{}}}),mi=Lt("v-card-text"),vi=(0,x.ev)()({name:"VCard",directives:{Ripple:nt.H},props:{appendAvatar:String,appendIcon:qe.lE,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:qe.lE,ripple:{type:Boolean,default:!0},subtitle:String,text:String,title:String,...(0,y.x$)(),...fe(),...Re(),...ne(),...me(),...mt(),...ht(),...yt(),...ge(),...St(),...ue(),...De({variant:"elevated"})},setup(e,t){let{attrs:n,slots:i}=t;const{themeClasses:a}=(0,y.ER)(e),{borderClasses:o}=pe(e),{colorClasses:s,colorStyles:l,variantClasses:c}=Oe(e),{densityClasses:u}=Le(e),{dimensionStyles:d}=re(e),{elevationClasses:h}=ve(e),{loaderClasses:f}=vt(e),{locationStyles:p}=ft(e),{positionClasses:m}=bt(e),{roundedClasses:v}=_e(e),g=wt(e,n),_=(0,r.Fl)((()=>!1!==e.link&&g.isLink.value)),b=(0,r.Fl)((()=>!e.disabled&&!1!==e.link&&(e.link||g.isClickable.value)));return w((()=>{const t=_.value?"a":e.tag,n=!(!i.title&&!e.title),y=!(!i.subtitle&&!e.subtitle),x=n||y,w=!!(i.append||e.appendAvatar||e.appendIcon),S=!!(i.prepend||e.prependAvatar||e.prependIcon),M=!(!i.image&&!e.image),T=x||S||w,A=!(!i.text&&!e.text);return(0,r.wy)((0,r.Wm)(t,{class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":b.value},a.value,o.value,s.value,u.value,h.value,f.value,m.value,v.value,c.value],style:[l.value,d.value,p.value],href:g.href.value,onClick:b.value&&g.navigate,tabindex:e.disabled?-1:void 0},{default:()=>[M&&(0,r.Wm)("div",{key:"image",class:"v-card__image"},[i.image?(0,r.Wm)(E,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},i.image):(0,r.Wm)(ce,{key:"image-img",cover:!0,src:e.image},null)]),(0,r.Wm)(gt,{name:"v-card",active:!!e.loading,color:"boolean"===typeof e.loading?void 0:e.loading},{default:i.loader}),T&&(0,r.Wm)(pi,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:i.item,prepend:i.prepend,title:i.title,subtitle:i.subtitle,append:i.append}),A&&(0,r.Wm)(mi,{key:"text"},{default:()=>[i.text?.()??e.text]}),i.default?.(),i.actions&&(0,r.Wm)(di,null,{default:i.actions}),Pe(b.value,"v-card")]}),[[(0,r.Q2)("ripple"),b.value&&e.ripple]])})),{}}});var gi=n(2320);const _i=Symbol.for("vuetify:v-window"),yi=Symbol.for("vuetify:v-window-group"),bi=(0,s.U)({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>"boolean"===typeof e||"hover"===e},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{default:"force"},...ue(),...(0,y.x$)()},"v-window"),xi=(0,x.ev)()({name:"VWindow",directives:{Touch:gi.X},props:bi(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:a}=(0,y.ER)(e),{isRtl:o}=(0,b.Vw)(),{t:s}=(0,b.bU)(),l=He(e,yi),c=(0,i.iH)(),u=(0,r.Fl)((()=>o.value?!e.reverse:e.reverse)),d=(0,i.iH)(!1),h=(0,r.Fl)((()=>{const t="vertical"===e.direction?"y":"x",n=u.value?!d.value:d.value,r=n?"-reverse":"";return`v-window-${t}${r}-transition`})),f=(0,i.iH)(0),p=(0,i.iH)(void 0),m=(0,r.Fl)((()=>l.items.value.findIndex((e=>l.selected.value.includes(e.id)))));(0,r.YP)(m,((e,t)=>{const n=l.items.value.length,r=n-1;d.value=n<=2?e<t:e===r&&0===t||(0!==e||t!==r)&&e<t})),(0,r.JJ)(_i,{transition:h,isReversed:d,transitionCount:f,transitionHeight:p,rootRef:c});const v=(0,r.Fl)((()=>e.continuous||0!==m.value)),g=(0,r.Fl)((()=>e.continuous||m.value!==l.items.value.length-1));function _(){v.value&&l.prev()}function x(){g.value&&l.next()}const S=(0,r.Fl)((()=>{const t=[],i={icon:o.value?e.nextIcon:e.prevIcon,class:"v-window__"+(u.value?"right":"left"),onClick:l.prev,ariaLabel:s("$vuetify.carousel.prev")};t.push(v.value?n.prev?n.prev({props:i}):(0,r.Wm)(Ct,i,null):(0,r.Wm)("div",null,null));const a={icon:o.value?e.prevIcon:e.nextIcon,class:"v-window__"+(u.value?"left":"right"),onClick:l.next,ariaLabel:s("$vuetify.carousel.next")};return t.push(g.value?n.next?n.next({props:a}):(0,r.Wm)(Ct,a,null):(0,r.Wm)("div",null,null)),t})),M=(0,r.Fl)((()=>{if(!1===e.touch)return e.touch;const t={left:()=>{u.value?_():x()},right:()=>{u.value?x():_()},start:e=>{let{originalEvent:t}=e;t.stopPropagation()}};return{...t,...!0===e.touch?{}:e.touch}}));return w((()=>(0,r.wy)((0,r.Wm)(e.tag,{ref:c,class:["v-window",{"v-window--show-arrows-on-hover":"hover"===e.showArrows},a.value]},{default:()=>[(0,r.Wm)("div",{class:"v-window__container",style:{height:p.value}},[n.default?.({group:l}),!1!==e.showArrows&&(0,r.Wm)("div",{class:"v-window__controls"},[S.value])]),n.additional?.({group:l})]}),[[(0,r.Q2)("touch"),M.value]]))),{group:l}}}),wi=(0,x.ev)()({name:"VCarousel",props:{color:String,cycle:Boolean,delimiterIcon:{type:qe.lE,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:e=>Number(e)>0},progress:[Boolean,String],verticalDelimiters:[Boolean,String],...bi({continuous:!0,mandatory:"force",showArrows:!0})},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const a=(0,Te.z)(e,"modelValue"),{t:o}=(0,b.bU)(),s=(0,i.iH)();let l=-1;function u(){e.cycle&&s.value&&(l=window.setTimeout(s.value.group.next,+e.interval>0?+e.interval:6e3))}function d(){window.clearTimeout(l),window.requestAnimationFrame(u)}return(0,r.YP)(a,d),(0,r.YP)((()=>e.interval),d),(0,r.YP)((()=>e.cycle),(e=>{e?d():window.clearTimeout(l)})),(0,r.bv)(u),w((()=>(0,r.Wm)(xi,{ref:s,modelValue:a.value,"onUpdate:modelValue":e=>a.value=e,class:["v-carousel",{"v-carousel--hide-delimiter-background":e.hideDelimiterBackground,"v-carousel--vertical-delimiters":e.verticalDelimiters}],style:{height:(0,c.kb)(e.height)},continuous:!0,mandatory:"force",showArrows:e.showArrows},{default:n.default,additional:t=>{let{group:i}=t;return(0,r.Wm)(r.HY,null,[!e.hideDelimiters&&(0,r.Wm)("div",{class:"v-carousel__controls",style:{left:"left"===e.verticalDelimiters&&e.verticalDelimiters?0:"auto",right:"right"===e.verticalDelimiters?0:"auto"}},[i.items.value.length>0&&(0,r.Wm)(E,{defaults:{VBtn:{color:e.color,icon:e.delimiterIcon,size:"x-small",variant:"text"}},scoped:!0},{default:()=>[i.items.value.map(((e,t)=>{const a={id:`carousel-item-${e.id}`,"aria-label":o("$vuetify.carousel.ariaLabel.delimiter",t+1,i.items.value.length),class:[i.isSelected(e.id)&&"v-btn--active"],onClick:()=>i.select(e.id,!0)};return n.item?n.item({props:a,item:e}):(0,r.Wm)(Ct,(0,r.dG)(e,a),null)}))]})]),e.progress&&(0,r.Wm)(pt,{class:"v-carousel__progress",color:"string"===typeof e.progress?e.progress:void 0,modelValue:(i.getItemIndex(a.value)+1)/i.items.value.length*100},null)])},prev:n.prev,next:n.next}))),{}}}),Si=(0,x.ev)()({name:"VWindowItem",directives:{Touch:gi.Z},props:{reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...Ue(),...lr()},emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const a=(0,r.f3)(_i),o=ze(e,yi),{isBooted:s}=Ae();if(!a||!o)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const l=(0,i.iH)(!1),u=(0,r.Fl)((()=>a.isReversed.value?!1!==e.reverseTransition:!1!==e.transition));function d(){l.value&&a&&(l.value=!1,a.transitionCount.value>0&&(a.transitionCount.value-=1,0===a.transitionCount.value&&(a.transitionHeight.value=void 0)))}function h(){!l.value&&a&&(l.value=!0,0===a.transitionCount.value&&(a.transitionHeight.value=(0,c.kb)(a.rootRef.value?.clientHeight)),a.transitionCount.value+=1)}function f(){d()}function p(e){l.value&&(0,r.Y3)((()=>{u.value&&l.value&&a&&(a.transitionHeight.value=(0,c.kb)(e.clientHeight))}))}const m=(0,r.Fl)((()=>{const t=a.isReversed.value?e.reverseTransition:e.transition;return!!u.value&&{name:"string"!==typeof t?a.transition.value:t,onBeforeEnter:h,onAfterEnter:d,onEnterCancelled:f,onBeforeLeave:h,onAfterLeave:d,onLeaveCancelled:f,onEnter:p}})),{hasContent:v}=cr(e,o.isSelected);return w((()=>(0,r.Wm)(le,{transition:m.value,disabled:!s.value},{default:()=>[(0,r.wy)((0,r.Wm)("div",{class:["v-window-item",o.selectedClass.value]},[v.value&&n.default?.()]),[[T.F8,o.isSelected.value]])]}))),{}}}),Mi=(0,x.ev)()({name:"VCarouselItem",inheritAttrs:!1,props:{value:null},setup(e,t){let{slots:n,attrs:i}=t;w((()=>(0,r.Wm)(Si,{class:"v-carousel-item",value:e.value},{default:()=>[(0,r.Wm)(ce,i,n)]})))}}),Ei=(0,x.ev)()({name:"VCheckbox",inheritAttrs:!1,props:{...Jt(),...(0,c.CE)(pn(),["inline"])},emits:{"update:focused":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const{isFocused:a,focus:o,blur:s}=Vt(e),u=(0,l.sq)(),d=(0,r.Fl)((()=>e.id||`checkbox-${u}`));return w((()=>{const[t,l]=(0,c.An)(n),[u,h]=Qt.filterProps(e),[f,p]=mn.filterProps(e);return(0,r.Wm)(Qt,(0,r.dG)({class:"v-checkbox"},t,u,{id:d.value,focused:a.value}),{...i,default:e=>{let{id:t,messagesId:n,isDisabled:a,isReadonly:c}=e;return(0,r.Wm)(mn,(0,r.dG)(f,{id:t.value,"aria-describedby":n.value,disabled:a.value,readonly:c.value},l,{onFocus:o,onBlur:s}),i)}})})),{}}}),Ti=Lt("v-code"),Ai=(0,s.U)({color:String,...fe(),...ne(),...me(),...ht(),...yt(),...ge(),...ue(),...(0,y.x$)()},"v-sheet"),Ci=(0,x.ev)()({name:"VSheet",props:{...Ai()},setup(e,t){let{slots:n}=t;const{themeClasses:a}=(0,y.ER)(e),{backgroundColorClasses:o,backgroundColorStyles:s}=we((0,i.Vh)(e,"color")),{borderClasses:l}=pe(e),{dimensionStyles:c}=re(e),{elevationClasses:u}=ve(e),{locationStyles:d}=ft(e),{positionClasses:h}=bt(e),{roundedClasses:f}=_e(e);return w((()=>(0,r.Wm)(e.tag,{class:["v-sheet",a.value,o.value,l.value,u.value,h.value,f.value],style:[s.value,c.value,d.value]},n))),{}}}),ki=(0,x.aZ)({name:"VColorPickerCanvas",props:{color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300}},emits:{"update:color":e=>!0,"update:position":e=>!0},setup(e,t){let{emit:n}=t;const a=(0,i.iH)(!1),s=(0,i.iH)(!1),l=(0,i.iH)({x:0,y:0}),u=(0,r.Fl)((()=>{const{x:t,y:n}=l.value,r=parseInt(e.dotSize,10)/2;return{width:(0,c.kb)(e.dotSize),height:(0,c.kb)(e.dotSize),transform:`translate(${(0,c.kb)(t-r)}, ${(0,c.kb)(n-r)})`}})),d=(0,i.iH)(),h=(0,i.iH)(parseFloat(e.width)),f=(0,i.iH)(parseFloat(e.height)),{resizeRef:p}=o((e=>{if(!p.value?.offsetParent)return;const{width:t,height:n}=e[0].contentRect;h.value=t,f.value=n}));function m(e,t,n){const{left:r,top:i,width:a,height:o}=n;l.value={x:(0,c.uZ)(e-r,0,a),y:(0,c.uZ)(t-i,0,o)}}function v(t){!e.disabled&&d.value&&m(t.clientX,t.clientY,d.value.getBoundingClientRect())}function g(t){t.preventDefault(),e.disabled||(a.value=!0,window.addEventListener("mousemove",_),window.addEventListener("mouseup",y),window.addEventListener("touchmove",_),window.addEventListener("touchend",y))}function _(t){if(e.disabled||!d.value)return;a.value=!0;const n=(0,c.DC)(t);m(n.clientX,n.clientY,d.value.getBoundingClientRect())}function y(){window.removeEventListener("mousemove",_),window.removeEventListener("mouseup",y),window.removeEventListener("touchmove",_),window.removeEventListener("touchend",y)}function b(){if(!d.value)return;const t=d.value,n=t.getContext("2d");if(!n)return;const r=n.createLinearGradient(0,0,t.width,0);r.addColorStop(0,"hsla(0, 0%, 100%, 1)"),r.addColorStop(1,`hsla(${e.color?.h??0}, 100%, 50%, 1)`),n.fillStyle=r,n.fillRect(0,0,t.width,t.height);const i=n.createLinearGradient(0,0,0,t.height);i.addColorStop(0,"hsla(0, 0%, 100%, 0)"),i.addColorStop(1,"hsla(0, 0%, 0%, 1)"),n.fillStyle=i,n.fillRect(0,0,t.width,t.height)}return(0,r.YP)(l,(()=>{if(s.value)return void(s.value=!1);if(!d.value)return;const{x:t,y:r}=l.value;n("update:color",{h:e.color?.h??0,s:(0,c.uZ)(t,0,h.value)/h.value,v:1-(0,c.uZ)(r,0,f.value)/f.value,a:e.color?.a??1})})),(0,r.YP)((()=>e.color?.h),b,{immediate:!0}),(0,r.YP)((()=>[h.value,f.value]),((e,t)=>{b(),l.value={x:l.value.x*e[0]/t[0],y:l.value.y*e[1]/t[1]}}),{flush:"post"}),(0,r.YP)((()=>e.color),(()=>{a.value?a.value=!1:(s.value=!0,l.value=e.color?{x:e.color.s*h.value,y:(1-e.color.v)*f.value}:{x:0,y:0})}),{deep:!0,immediate:!0}),(0,r.bv)((()=>b())),w((()=>(0,r.Wm)("div",{ref:p,class:"v-color-picker-canvas",onClick:v,onMousedown:g,onTouchstart:g},[(0,r.Wm)("canvas",{ref:d,width:h.value,height:f.value},null),e.color&&(0,r.Wm)("div",{class:["v-color-picker-canvas__dot",{"v-color-picker-canvas__dot--disabled":e.disabled}],style:u.value},null)]))),{}}});function Ri(e,t){return t.every((t=>e.hasOwnProperty(t)))}function Li(e){if(!e)return null;let t=null;if("string"===typeof e){const n=(0,ye.KQ)(e);t=(0,ye.Ty)(n)}return"object"===typeof e&&(Ri(e,["r","g","b"])?t=(0,ye.Ls)(e):Ri(e,["h","s","l"])?t=(0,ye.tT)(e):Ri(e,["h","s","v"])&&(t=e)),t}function Ii(e,t){if(t){const{a:t,...n}=e;return n}return e}function Pi(e,t){if(null==t||"string"===typeof t){const t=(0,ye.PJ)(e);return 1===e.a?t.slice(0,7):t}if("object"===typeof t){let n;return Ri(t,["r","g","b"])?n=(0,ye.Bi)(e):Ri(t,["h","s","l"])?n=(0,ye.Gl)(e):Ri(t,["h","s","v"])&&(n=e),Ii(n,!Ri(t,["a"])&&1===e.a)}return e}const Di={h:0,s:0,v:1,a:1},Oi={inputProps:{type:"number",min:0},inputs:[{label:"R",max:255,step:1,getValue:e=>Math.round(e.r),getColor:(e,t)=>({...e,r:Number(t)})},{label:"G",max:255,step:1,getValue:e=>Math.round(e.g),getColor:(e,t)=>({...e,g:Number(t)})},{label:"B",max:255,step:1,getValue:e=>Math.round(e.b),getColor:(e,t)=>({...e,b:Number(t)})},{label:"A",max:1,step:.01,getValue:e=>{let{a:t}=e;return t?Math.round(100*t)/100:1},getColor:(e,t)=>({...e,a:Number(t)})}],to:ye.Bi,from:ye.Ls},Ni={...Oi,inputs:Oi.inputs?.slice(0,3)},Fi={inputProps:{type:"number",min:0},inputs:[{label:"H",max:360,step:1,getValue:e=>Math.round(e.h),getColor:(e,t)=>({...e,h:Number(t)})},{label:"S",max:1,step:.01,getValue:e=>Math.round(100*e.s)/100,getColor:(e,t)=>({...e,s:Number(t)})},{label:"L",max:1,step:.01,getValue:e=>Math.round(100*e.l)/100,getColor:(e,t)=>({...e,l:Number(t)})},{label:"A",max:1,step:.01,getValue:e=>{let{a:t}=e;return t?Math.round(100*t)/100:1},getColor:(e,t)=>({...e,a:Number(t)})}],to:ye.Gl,from:ye.tT},Bi={...Fi,inputs:Fi.inputs.slice(0,3)},Vi={inputProps:{type:"text"},inputs:[{label:"HEXA",getValue:e=>e,getColor:(e,t)=>t}],to:ye.PJ,from:ye.Ty},Ui={...Vi,inputs:[{label:"HEX",getValue:e=>e.slice(0,7),getColor:(e,t)=>t}]},zi={rgb:Ni,rgba:Oi,hsl:Bi,hsla:Fi,hex:Ui,hexa:Vi},Hi=e=>{let{label:t,...n}=e;return(0,r.Wm)("div",{class:"v-color-picker-edit__input"},[(0,r.Wm)("input",n,null),(0,r.Wm)("span",null,[t])])},Wi=(0,x.aZ)({name:"VColorPickerEdit",props:{color:Object,disabled:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(zi).includes(e)},modes:{type:Array,default:()=>Object.keys(zi),validator:e=>Array.isArray(e)&&e.every((e=>Object.keys(zi).includes(e)))}},emits:{"update:color":e=>!0,"update:mode":e=>!0},setup(e,t){let{emit:n}=t;const i=(0,r.Fl)((()=>e.modes.map((e=>({...zi[e],name:e}))))),a=(0,r.Fl)((()=>{const t=i.value.find((t=>t.name===e.mode));if(!t)return[];const r=e.color?t.to(e.color):null;return t.inputs?.map((i=>{let{getValue:a,getColor:o,...s}=i;return{...t.inputProps,...s,disabled:e.disabled,value:r&&a(r),onChange:e=>{const i=e.target;i&&n("update:color",t.from(o(r??Di,i.value)))}}}))}));return w((()=>(0,r.Wm)("div",{class:"v-color-picker-edit"},[a.value?.map((e=>(0,r.Wm)(Hi,e,null))),i.value.length>1&&(0,r.Wm)(Ct,{icon:"$unfold",size:"x-small",variant:"plain",onClick:()=>{const t=i.value.findIndex((t=>t.name===e.mode));n("update:mode",i.value[(t+1)%i.value.length].name)}},null)]))),{}}}),ji=Symbol.for("vuetify:v-slider");function Gi(e,t,n){const r="vertical"===n,i=t.getBoundingClientRect(),a="touches"in e?e.touches[0]:e;return r?a.clientY-(i.top+i.height/2):a.clientX-(i.left+i.width/2)}function Yi(e,t){return"touches"in e&&e.touches.length?e.touches[0][t]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][t]:e[t]}const $i=(0,s.U)({disabled:Boolean,error:Boolean,readonly:Boolean,max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>"boolean"===typeof e||"always"===e},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>"boolean"===typeof e||"always"===e},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...ge(),...me({elevation:2})},"slider"),qi=e=>{let{props:t,handleSliderMouseUp:n,handleMouseMove:a,getActiveThumb:o}=e;const{isRtl:s}=(0,b.Vw)(),l=(0,i.Vh)(t,"reverse"),u=(0,r.Fl)((()=>{let e=s.value?"rtl":"ltr";return t.reverse&&(e="rtl"===e?"ltr":"rtl"),e})),d=(0,r.Fl)((()=>parseFloat(t.min))),h=(0,r.Fl)((()=>parseFloat(t.max))),f=(0,r.Fl)((()=>+t.step>0?parseFloat(t.step):0)),p=(0,r.Fl)((()=>Math.max((0,c.pC)(f.value),(0,c.pC)(d.value)))),m=(0,r.Fl)((()=>parseInt(t.thumbSize,10))),v=(0,r.Fl)((()=>parseInt(t.tickSize,10))),g=(0,r.Fl)((()=>parseInt(t.trackSize,10))),_=(0,r.Fl)((()=>(h.value-d.value)/f.value)),y=(0,i.Vh)(t,"disabled"),x=(0,r.Fl)((()=>"vertical"===t.direction)),w=(0,r.Fl)((()=>t.error||t.disabled?void 0:t.thumbColor??t.color)),S=(0,r.Fl)((()=>t.error||t.disabled?void 0:t.trackColor??t.color)),M=(0,r.Fl)((()=>t.error||t.disabled?void 0:t.trackFillColor??t.color)),E=(0,i.iH)(!1),T=(0,i.iH)(0),A=(0,i.iH)(),C=(0,i.iH)();function k(e){if(f.value<=0)return e;const t=(0,c.uZ)(e,d.value,h.value),n=d.value%f.value,r=Math.round((t-n)/f.value)*f.value+n;return parseFloat(Math.min(r,h.value).toFixed(p.value))}function R(e){const n="vertical"===t.direction,r=n?"top":"left",i=n?"height":"width",a=n?"clientY":"clientX",{[r]:o,[i]:s}=A.value?.$el.getBoundingClientRect(),l=Yi(e,a);let c=Math.min(Math.max((l-o-T.value)/s,0),1)||0;return(n||"rtl"===u.value)&&(c=1-c),k(d.value+c*(h.value-d.value))}let L=!1;const I=e=>{L||(T.value=0,n(R(e))),E.value=!1,L=!1,T.value=0},P=e=>{C.value=o(e),C.value&&(C.value.focus(),E.value=!0,C.value.contains(e.target)?(L=!0,T.value=Gi(e,C.value,t.direction)):(T.value=0,a(R(e))))},D={passive:!0,capture:!0};function O(e){L=!0,a(R(e))}function N(e){e.stopPropagation(),e.preventDefault(),I(e),window.removeEventListener("mousemove",O,D),window.removeEventListener("mouseup",N)}function F(e){I(e),window.removeEventListener("touchmove",O,D),e.target?.removeEventListener("touchend",F)}function B(e){P(e),window.addEventListener("touchmove",O,D),e.target?.addEventListener("touchend",F,{passive:!1})}function V(e){e.preventDefault(),P(e),window.addEventListener("mousemove",O,D),window.addEventListener("mouseup",N,{passive:!1})}const U=e=>{const t=(e-d.value)/(h.value-d.value)*100;return(0,c.uZ)(isNaN(t)?0:t,0,100)},z=(0,i.Vh)(t,"showTicks"),H=(0,r.Fl)((()=>z.value?t.ticks?Array.isArray(t.ticks)?t.ticks.map((e=>({value:e,position:U(e),label:e.toString()}))):Object.keys(t.ticks).map((e=>({value:parseFloat(e),position:U(parseFloat(e)),label:t.ticks[e]}))):_.value!==1/0?(0,c.MT)(_.value+1).map((e=>{const t=d.value+e*f.value;return{value:t,position:U(t)}})):[]:[])),W=(0,r.Fl)((()=>H.value.some((e=>{let{label:t}=e;return!!t})))),j={activeThumbRef:C,color:(0,i.Vh)(t,"color"),decimals:p,disabled:y,direction:(0,i.Vh)(t,"direction"),elevation:(0,i.Vh)(t,"elevation"),hasLabels:W,horizontalDirection:u,isReversed:l,min:d,max:h,mousePressed:E,numTicks:_,onSliderMousedown:V,onSliderTouchstart:B,parsedTicks:H,parseMouseMove:R,position:U,readonly:(0,i.Vh)(t,"readonly"),rounded:(0,i.Vh)(t,"rounded"),roundValue:k,showTicks:z,startOffset:T,step:f,thumbSize:m,thumbColor:w,thumbLabel:(0,i.Vh)(t,"thumbLabel"),ticks:(0,i.Vh)(t,"ticks"),tickSize:v,trackColor:S,trackContainerRef:A,trackFillColor:M,trackSize:g,vertical:x};return(0,r.JJ)(ji,j),j},Xi=(0,x.ev)()({name:"VSliderThumb",directives:{Ripple:nt.Z},props:{focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:Boolean,default:!0}},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n,emit:i}=t;const a=(0,r.f3)(ji);if(!a)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:o,step:s,vertical:l,disabled:u,thumbSize:d,thumbLabel:h,direction:f,readonly:p,elevation:m,isReversed:v,horizontalDirection:g,mousePressed:_,decimals:y}=a,{textColorClasses:b,textColorStyles:x}=xe(o),{pageup:S,pagedown:M,end:E,home:A,left:C,right:k,down:R,up:L}=c.ff,I=[S,M,E,A,C,k,R,L],P=(0,r.Fl)((()=>s.value?[1,2,3]:[1,5,10]));function D(t,n){if(!I.includes(t.key))return;t.preventDefault();const r=s.value||.1,i=(e.max-e.min)/r;if([C,k,R,L].includes(t.key)){const e="rtl"===g.value?[C,L]:[k,L],i=e.includes(t.key)?1:-1,a=t.shiftKey?2:t.ctrlKey?1:0;n+=i*r*P.value[a]}else if(t.key===A)n=e.min;else if(t.key===E)n=e.max;else{const e=t.key===M?1:-1;n-=e*r*(i>100?i/10:10)}return Math.max(e.min,Math.min(e.max,n))}function O(t){const n=D(t,e.modelValue);null!=n&&i("update:modelValue",n)}return w((()=>{const t=(0,c.kb)(l.value||v.value?100-e.position:e.position,"%"),{elevationClasses:i}=ve((0,r.Fl)((()=>u.value?void 0:m.value)));return(0,r.Wm)("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&_.value}],style:{"--v-slider-thumb-position":t,"--v-slider-thumb-size":(0,c.kb)(d.value)},role:"slider",tabindex:u.value?-1:0,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.modelValue,"aria-readonly":p.value,"aria-orientation":f.value,onKeydown:p.value?void 0:O},[(0,r.Wm)("div",{class:["v-slider-thumb__surface",b.value,i.value],style:{...x.value}},null),(0,r.wy)((0,r.Wm)("div",{class:["v-slider-thumb__ripple",b.value],style:x.value},null),[[(0,r.Q2)("ripple"),e.ripple,null,{circle:!0,center:!0}]]),(0,r.Wm)(G,{origin:"bottom center"},{default:()=>[(0,r.wy)((0,r.Wm)("div",{class:"v-slider-thumb__label-container"},[(0,r.Wm)("div",{class:["v-slider-thumb__label"]},[(0,r.Wm)("div",null,[n["thumb-label"]?.({modelValue:e.modelValue})??e.modelValue.toFixed(s.value?y.value:1)])])]),[[T.F8,h.value&&e.focused||"always"===h.value]])]})])})),{}}}),Zi=(0,x.ev)()({name:"VSliderTrack",props:{start:{type:Number,required:!0},stop:{type:Number,required:!0}},emits:{},setup(e,t){let{slots:n}=t;const i=(0,r.f3)(ji);if(!i)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:a,horizontalDirection:o,parsedTicks:s,rounded:l,showTicks:u,tickSize:d,trackColor:h,trackFillColor:f,trackSize:p,vertical:m,min:v,max:g}=i,{roundedClasses:_}=_e(l),{backgroundColorClasses:y,backgroundColorStyles:b}=we(f),{backgroundColorClasses:x,backgroundColorStyles:S}=we(h),M=(0,r.Fl)((()=>"inset-"+(m.value?"block-end":"inline-start"))),E=(0,r.Fl)((()=>m.value?"height":"width")),T=(0,r.Fl)((()=>({[M.value]:"0%",[E.value]:"100%"}))),A=(0,r.Fl)((()=>e.stop-e.start)),C=(0,r.Fl)((()=>({[M.value]:(0,c.kb)(e.start,"%"),[E.value]:(0,c.kb)(A.value,"%")}))),k=(0,r.Fl)((()=>{if(!u.value)return[];const t=m.value?s.value.slice().reverse():s.value;return t.map(((t,i)=>{const a=m.value?"bottom":"margin-inline-start",o=t.value!==v.value&&t.value!==g.value?(0,c.kb)(t.position,"%"):void 0;return(0,r.Wm)("div",{key:t.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":t.position>=e.start&&t.position<=e.stop,"v-slider-track__tick--first":t.value===v.value,"v-slider-track__tick--last":t.value===g.value}],style:{[a]:o}},[(t.label||n["tick-label"])&&(0,r.Wm)("div",{class:"v-slider-track__tick-label"},[n["tick-label"]?.({tick:t,index:i})??t.label])])}))}));return w((()=>(0,r.Wm)("div",{class:["v-slider-track",_.value],style:{"--v-slider-track-size":(0,c.kb)(p.value),"--v-slider-tick-size":(0,c.kb)(d.value),direction:m.value?void 0:o.value}},[(0,r.Wm)("div",{class:["v-slider-track__background",x.value,{"v-slider-track__background--opacity":!!a.value||!f.value}],style:{...T.value,...S.value}},null),(0,r.Wm)("div",{class:["v-slider-track__fill",y.value],style:{...C.value,...b.value}},null),u.value&&(0,r.Wm)("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":"always"===u.value}]},[k.value])]))),{}}}),Ki=(0,x.ev)()({name:"VSlider",props:{...Bt(),...$i(),...Jt(),modelValue:{type:[Number,String],default:0}},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const a=(0,i.iH)(),{min:o,max:s,mousePressed:l,roundValue:c,onSliderMousedown:u,onSliderTouchstart:d,trackContainerRef:h,position:f,hasLabels:p,readonly:m}=qi({props:e,handleSliderMouseUp:e=>v.value=c(e),handleMouseMove:e=>v.value=c(e),getActiveThumb:()=>a.value?.$el}),v=(0,Te.z)(e,"modelValue",void 0,(e=>{const t="string"===typeof e?parseFloat(e):null==e?o.value:e;return c(t)})),{isFocused:g,focus:_,blur:y}=Vt(e),b=(0,r.Fl)((()=>f(v.value)));return w((()=>{const[t,i]=Qt.filterProps(e),c=!!(e.label||n.label||n.prepend);return(0,r.Wm)(Qt,(0,r.dG)({class:["v-slider",{"v-slider--has-labels":!!n["tick-label"]||p.value,"v-slider--focused":g.value,"v-slider--pressed":l.value,"v-slider--disabled":e.disabled}]},t,{focused:g.value}),{...n,prepend:c?t=>(0,r.Wm)(r.HY,null,[n.label?.(t)??e.label?(0,r.Wm)(Nt,{id:t.id.value,class:"v-slider__label",text:e.label},null):void 0,n.prepend?.(t)]):void 0,default:t=>{let{id:i,messagesId:l}=t;return(0,r.Wm)("div",{class:"v-slider__container",onMousedown:m.value?void 0:u,onTouchstartPassive:m.value?void 0:d},[(0,r.Wm)("input",{id:i.value,name:e.name||i.value,disabled:e.disabled,readonly:e.readonly,tabindex:"-1",value:v.value},null),(0,r.Wm)(Zi,{ref:h,start:0,stop:b.value},{"tick-label":n["tick-label"]}),(0,r.Wm)(Xi,{ref:a,"aria-describedby":l.value,focused:g.value,min:o.value,max:s.value,modelValue:v.value,"onUpdate:modelValue":e=>v.value=e,position:b.value,elevation:e.elevation,onFocus:_,onBlur:y},{"thumb-label":n["thumb-label"]})])}})})),{}}}),Ji=(0,x.aZ)({name:"VColorPickerPreview",props:{color:{type:Object},disabled:Boolean,hideAlpha:Boolean},emits:{"update:color":e=>!0},setup(e,t){let{emit:n}=t;return w((()=>(0,r.Wm)("div",{class:["v-color-picker-preview",{"v-color-picker-preview--hide-alpha":e.hideAlpha}]},[(0,r.Wm)("div",{class:"v-color-picker-preview__dot"},[(0,r.Wm)("div",{style:{background:(0,ye.wQ)(e.color??Di)}},null)]),(0,r.Wm)("div",{class:"v-color-picker-preview__sliders"},[(0,r.Wm)(Ki,{class:"v-color-picker-preview__track v-color-picker-preview__hue",modelValue:e.color?.h,"onUpdate:modelValue":t=>n("update:color",{...e.color??Di,h:t}),step:0,min:0,max:360,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null),!e.hideAlpha&&(0,r.Wm)(Ki,{class:"v-color-picker-preview__track v-color-picker-preview__alpha",modelValue:e.color?.a??1,"onUpdate:modelValue":t=>n("update:color",{...e.color??Di,a:t}),step:1/256,min:0,max:1,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null)])]))),{}}}),Qi=Object.freeze({base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"}),ea=Object.freeze({base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"}),ta=Object.freeze({base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"}),na=Object.freeze({base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"}),ra=Object.freeze({base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"}),ia=Object.freeze({base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"}),aa=Object.freeze({base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"}),oa=Object.freeze({base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"}),sa=Object.freeze({base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"}),la=Object.freeze({base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"}),ca=Object.freeze({base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"}),ua=Object.freeze({base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"}),da=Object.freeze({base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"}),ha=Object.freeze({base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"}),fa=Object.freeze({base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"}),pa=Object.freeze({base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"}),ma=Object.freeze({base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"}),va=Object.freeze({base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"}),ga=Object.freeze({base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"}),_a=Object.freeze({black:"#000000",white:"#ffffff",transparent:"#ffffff00"});var ya=Object.freeze({red:Qi,pink:ea,purple:ta,deepPurple:na,indigo:ra,blue:ia,lightBlue:aa,cyan:oa,teal:sa,green:la,lightGreen:ca,lime:ua,yellow:da,amber:ha,orange:fa,deepOrange:pa,brown:ma,blueGrey:va,grey:ga,shades:_a});function ba(e){return Object.keys(e).map((t=>{const n=e[t];return n.base?[n.base,n.darken4,n.darken3,n.darken2,n.darken1,n.lighten1,n.lighten2,n.lighten3,n.lighten4,n.lighten5]:[n.black,n.white,n.transparent]}))}const xa=(0,x.aZ)({name:"VColorPickerSwatches",props:{swatches:{type:Array,default:()=>ba(ya)},disabled:Boolean,color:Object,maxHeight:[Number,String]},emits:{"update:color":e=>!0},setup(e,t){let{emit:n}=t;return w((()=>(0,r.Wm)("div",{class:"v-color-picker-swatches",style:{maxHeight:(0,c.kb)(e.maxHeight)}},[(0,r.Wm)("div",null,[e.swatches.map((t=>(0,r.Wm)("div",{class:"v-color-picker-swatches__swatch"},[t.map((t=>{const i=Li(t);return(0,r.Wm)("div",{class:"v-color-picker-swatches__color",onClick:()=>i&&n("update:color",i)},[(0,r.Wm)("div",{style:{background:t}},[e.color&&(0,c.vZ)(e.color,i)?(0,r.Wm)(Qe,{size:"x-small",icon:"$success",color:(0,ye.mj)(t,"#FFFFFF")>2?"white":"black"},null):void 0])])}))])))])]))),{}}}),wa=(0,x.aZ)({name:"VColorPicker",props:{canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(zi).includes(e)},modes:{type:Array,default:()=>Object.keys(zi),validator:e=>Array.isArray(e)&&e.every((e=>Object.keys(zi).includes(e)))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},...(0,c.CE)(Ai({width:300}),["height","location","minHeight","maxHeight","minWidth","maxWidth"])},emits:{"update:modelValue":e=>!0,"update:mode":e=>!0},setup(e){const t=(0,Te.z)(e,"mode"),n=(0,i.iH)(null),a=(0,Te.z)(e,"modelValue",void 0,(e=>{let t=Li(e);return t?(n.value&&(t={...t,h:n.value.h},n.value=null),t):null}),(t=>t?Pi(t,e.modelValue):null)),o=e=>{a.value=e,n.value=e};return(0,r.bv)((()=>{e.modes.includes(t.value)||(t.value=e.modes[0])})),(0,M.AF)({VSlider:{color:void 0,trackColor:void 0,trackFillColor:void 0}}),w((()=>{const[n]=Ci.filterProps(e);return(0,r.Wm)(Ci,(0,r.dG)({rounded:e.rounded,elevation:e.elevation,theme:e.theme,class:["v-color-picker"],style:{"--v-color-picker-color-hsv":(0,ye.wQ)({...a.value??Di,a:1})}},n,{maxWidth:e.width}),{default:()=>[!e.hideCanvas&&(0,r.Wm)(ki,{key:"canvas",color:a.value,"onUpdate:color":o,disabled:e.disabled,dotSize:e.dotSize,width:e.width,height:e.canvasHeight},null),(!e.hideSliders||!e.hideInputs)&&(0,r.Wm)("div",{key:"controls",class:"v-color-picker__controls"},[!e.hideSliders&&(0,r.Wm)(Ji,{key:"preview",color:a.value,"onUpdate:color":o,hideAlpha:!t.value.endsWith("a"),disabled:e.disabled},null),!e.hideInputs&&(0,r.Wm)(Wi,{key:"edit",modes:e.modes,mode:t.value,"onUpdate:mode":e=>t.value=e,color:a.value,"onUpdate:color":o,disabled:e.disabled},null)]),e.showSwatches&&(0,r.Wm)(xa,{key:"swatches",color:a.value,"onUpdate:color":o,maxHeight:e.swatchesMaxHeight,swatches:e.swatches,disabled:e.disabled},null)]})})),{}}});function Sa(e,t,n){if(null==t)return e;if(Array.isArray(t))throw new Error("Multiple matches is not implemented");return"number"===typeof t&&~t?(0,r.Wm)(r.HY,null,[(0,r.Wm)("span",{class:"v-combobox__unmask"},[e.substr(0,t)]),(0,r.Wm)("span",{class:"v-combobox__mask"},[e.substr(t,n)]),(0,r.Wm)("span",{class:"v-combobox__unmask"},[e.substr(t+n)])]):e}const Ma=(0,x.ev)()({name:"VCombobox",props:{delimiters:Array,...Jr({filterKeys:["title"]}),...Xr({hideNoData:!0,returnObject:!0}),...(0,c.CE)(on({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...se({transition:!1})},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:search":e=>!0,"update:menu":e=>!0},setup(e,t){let{emit:n,slots:a}=t;const{t:o}=(0,b.bU)(),s=(0,i.iH)(),l=(0,i.iH)(!1),u=(0,i.iH)(!0),d=(0,i.iH)(),h=(0,Te.z)(e,"menu"),f=(0,r.Fl)({get:()=>h.value,set:e=>{h.value&&!e&&d.value?.ΨopenChildren||(h.value=e)}}),p=(0,i.iH)(-1);let m=!1;const v=(0,r.Fl)((()=>s.value?.color)),{items:g,transformIn:_,transformOut:y}=Zn(e),{textColorClasses:x,textColorStyles:S}=xe(v),M=(0,Te.z)(e,"modelValue",[],(e=>_((0,c.FT)(e))),(t=>{const n=y(t);return e.multiple?n:n[0]??null})),T=qt(),A=(0,i.iH)(e.multiple?"":M.value[0]?.title??""),C=(0,r.Fl)({get:()=>A.value,set:t=>{if(A.value=t,e.multiple||(M.value=[qn(e,t)]),t&&e.multiple&&e.delimiters?.length){const n=t.split(new RegExp(`(?:${e.delimiters.join("|")})+`));n.length>1&&(n.forEach((t=>{t=t.trim(),t&&U(qn(e,t))})),A.value="")}t||(p.value=-1),u.value=!t}});(0,r.YP)(A,(e=>{m?(0,r.Y3)((()=>m=!1)):l.value&&!f.value&&(f.value=!0),n("update:search",e)})),(0,r.YP)(M,(t=>{e.multiple||(A.value=t[0]?.title??"")}));const{filteredItems:k,getMatches:R}=ei(e,g,(0,r.Fl)((()=>u.value?void 0:C.value))),L=(0,r.Fl)((()=>M.value.map((t=>g.value.find((n=>e.valueComparator(n.value,t.value)))||t)))),I=(0,r.Fl)((()=>e.hideSelected?k.value.filter((e=>!L.value.some((t=>t.value===e.value)))):k.value)),P=(0,r.Fl)((()=>L.value.map((e=>e.props.value)))),D=(0,r.Fl)((()=>L.value[p.value])),O=(0,i.iH)();function N(t){m=!0,e.openOnClear&&(f.value=!0)}function F(){e.hideNoData&&!g.value.length||e.readonly||T?.isReadonly.value||(f.value=!0)}function B(t){if(e.readonly||T?.isReadonly.value)return;const n=s.value.selectionStart,r=P.value.length;if((p.value>-1||["Enter","ArrowDown","ArrowUp"].includes(t.key))&&t.preventDefault(),["Enter","ArrowDown"].includes(t.key)&&(f.value=!0),["Escape"].includes(t.key)&&(f.value=!1),["Enter","Escape","Tab"].includes(t.key)&&(u.value=!0),"ArrowDown"===t.key?O.value?.focus("next"):"ArrowUp"===t.key&&O.value?.focus("prev"),e.multiple){if(["Backspace","Delete"].includes(t.key)){if(p.value<0)return void("Backspace"!==t.key||C.value||(p.value=r-1));const e=p.value;D.value&&U(D.value),p.value=e>=r-1?r-2:e}if("ArrowLeft"===t.key){if(p.value<0&&n>0)return;const e=p.value>-1?p.value-1:r-1;L.value[e]?p.value=e:(p.value=-1,s.value.setSelectionRange(C.value.length,C.value.length))}if("ArrowRight"===t.key){if(p.value<0)return;const e=p.value+1;L.value[e]?p.value=e:(p.value=-1,s.value.setSelectionRange(0,0))}"Enter"===t.key&&C.value&&(U(qn(e,C.value)),C.value="")}}function V(){l.value&&(u.value=!0)}function U(t){if(e.multiple){const n=P.value.findIndex((n=>e.valueComparator(n,t.value)));if(-1===n)M.value=[...M.value,t];else{const e=[...M.value];e.splice(n,1),M.value=e}C.value=""}else M.value=[t],A.value=t.title,(0,r.Y3)((()=>{f.value=!1,u.value=!0}))}function z(e){l.value=!0}function H(e){null==e.relatedTarget&&s.value?.focus()}return(0,r.YP)(k,(t=>{!t.length&&e.hideNoData&&(f.value=!1)})),(0,r.YP)(l,(t=>{if(t)p.value=-1;else{if(f.value=!1,!e.multiple||!C.value)return;M.value=[...M.value,qn(e,C.value)],C.value=""}})),w((()=>{const t=!(!e.chips&&!a.chip),n=!!(!e.hideNoData||I.value.length||a.prepend||a.append||a["no-data"]),i=M.value.length>0,[c]=sn.filterProps(e);return(0,r.Wm)(sn,(0,r.dG)({ref:s},c,{modelValue:C.value,"onUpdate:modelValue":[e=>C.value=e,e=>{null==e&&(M.value=[])}],focused:l.value,"onUpdate:focused":e=>l.value=e,validationValue:M.externalValue,dirty:i,class:["v-combobox",{"v-combobox--active-menu":f.value,"v-combobox--chips":!!e.chips,"v-combobox--selecting-index":p.value>-1,["v-combobox--"+(e.multiple?"multiple":"single")]:!0}],appendInnerIcon:e.items.length?e.menuIcon:void 0,readonly:e.readonly,placeholder:i?void 0:e.placeholder,"onClick:clear":N,"onMousedown:control":F,onKeydown:B}),{...a,default:()=>(0,r.Wm)(r.HY,null,[(0,r.Wm)(qr,(0,r.dG)({ref:d,modelValue:f.value,"onUpdate:modelValue":e=>f.value=e,activator:"parent",contentClass:"v-combobox__content",eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:V},e.menuProps),{default:()=>[n&&(0,r.Wm)(tr,{ref:O,selected:P.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:e=>e.preventDefault(),onFocusin:z,onFocusout:H},{default:()=>[!I.value.length&&!e.hideNoData&&(a["no-data"]?.()??(0,r.Wm)(jn,{title:o(e.noDataText)},null)),a["prepend-item"]?.(),I.value.map((t=>a.item?.({item:t,props:(0,r.dG)(t.props,{onClick:()=>U(t)})})??(0,r.Wm)(jn,(0,r.dG)({key:t.value},t.props,{onClick:()=>U(t)}),{prepend:t=>{let{isSelected:n}=t;return e.multiple&&!e.hideSelected?(0,r.Wm)(mn,{modelValue:n,ripple:!1,tabindex:"-1"},null):void 0},title:()=>u.value?t.title:Sa(t.title,R(t)?.title,C.value?.length??0)}))),a["append-item"]?.()]})]}),L.value.map(((n,i)=>{function o(e){e.stopPropagation(),e.preventDefault(),U(n)}const s={"onClick:close":o,modelValue:!0,"onUpdate:modelValue":void 0};return(0,r.Wm)("div",{key:n.value,class:["v-combobox__selection",i===p.value&&["v-combobox__selection--selected",x.value]],style:i===p.value?S.value:{}},[t?a.chip?(0,r.Wm)(E,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:n.title}}},{default:()=>[a.chip?.({item:n,index:i,props:s})]}):(0,r.Wm)(bn,(0,r.dG)({key:"chip",closable:e.closableChips,size:"small",text:n.title},s),null):a.selection?.({item:n,index:i})??(0,r.Wm)("span",{class:"v-combobox__selection-text"},[n.title,e.multiple&&i<L.value.length-1&&(0,r.Wm)("span",{class:"v-combobox__selection-comma"},[(0,r.Uk)(",")])])])}))])})})),rn({isFocused:l,isPristine:u,menu:f,search:C,selectionIndex:p,filteredItems:k,select:U},s)}}),Ea=(0,x.ev)()({name:"VDialog",props:{fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Yr({origin:"center center",scrollStrategy:"block",transition:{component:B},zIndex:2400})},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const o=(0,Te.z)(e,"modelValue"),{scopeId:s}=Vr(),l=(0,i.iH)();function c(e){const t=e.relatedTarget,n=e.target;if(t!==n&&l.value?.contentEl&&l.value?.globalTop&&![document,l.value.contentEl].includes(n)&&!l.value.contentEl.contains(n)){const e=[...l.value.contentEl.querySelectorAll('button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])')].filter((e=>!e.hasAttribute("disabled")&&!e.matches('[tabindex="-1"]')));if(!e.length)return;const n=e[0],r=e[e.length-1];t===n?r.focus():n.focus()}}a.BR&&(0,r.YP)((()=>o.value&&e.retainFocus),(e=>{e?document.addEventListener("focusin",c):document.removeEventListener("focusin",c)}),{immediate:!0}),(0,r.YP)(o,(async e=>{await(0,r.Y3)(),e?l.value.contentEl?.focus({preventScroll:!0}):l.value.activatorEl?.focus({preventScroll:!0})}));const u=(0,r.Fl)((()=>(0,r.dG)({"aria-haspopup":"dialog","aria-expanded":String(o.value)},e.activatorProps)));return w((()=>{const[t]=$r.filterProps(e);return(0,r.Wm)($r,(0,r.dG)({ref:l,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable}]},t,{modelValue:o.value,"onUpdate:modelValue":e=>o.value=e,"aria-modal":"true",activatorProps:u.value,role:"dialog"},s),{activator:n.activator,default:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(0,r.Wm)(E,{root:!0},{default:()=>[n.default?.(...t)]})}})})),rn({},l)}}),Ta=Symbol.for("vuetify:v-expansion-panel"),Aa=["default","accordion","inset","popout"],Ca=(0,x.ev)()({name:"VExpansionPanels",props:{color:String,variant:{type:String,default:"default",validator:e=>Aa.includes(e)},readonly:Boolean,...Ve(),...ue(),...(0,y.x$)()},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;He(e,Ta);const{themeClasses:a}=(0,y.ER)(e),o=(0,r.Fl)((()=>e.variant&&`v-expansion-panels--variant-${e.variant}`));return(0,M.AF)({VExpansionPanel:{color:(0,i.Vh)(e,"color")},VExpansionPanelTitle:{readonly:(0,i.Vh)(e,"readonly")}}),w((()=>(0,r.Wm)(e.tag,{class:["v-expansion-panels",a.value,o.value]},n))),{}}}),ka=(0,s.U)({color:String,expandIcon:{type:qe.lE,default:"$expand"},collapseIcon:{type:qe.lE,default:"$collapse"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean},"v-expansion-panel-title"),Ra=(0,x.ev)()({name:"VExpansionPanelTitle",directives:{Ripple:nt.H},props:{...ka()},setup(e,t){let{slots:n}=t;const i=(0,r.f3)(Ta);if(!i)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:a,backgroundColorStyles:o}=we(e,"color"),s=(0,r.Fl)((()=>({collapseIcon:e.collapseIcon,disabled:i.disabled.value,expanded:i.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly})));return w((()=>(0,r.wy)((0,r.Wm)("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":i.isSelected.value},a.value],style:o.value,type:"button",tabindex:i.disabled.value?-1:void 0,disabled:i.disabled.value,"aria-expanded":i.isSelected.value,onClick:e.readonly?void 0:i.toggle},[(0,r.Wm)("span",{class:"v-expansion-panel-title__overlay"},null),n.default?.(s.value),!e.hideActions&&(0,r.Wm)("span",{class:"v-expansion-panel-title__icon"},[n.actions?n.actions(s.value):(0,r.Wm)(Qe,{icon:i.isSelected.value?e.collapseIcon:e.expandIcon},null)])]),[[(0,r.Q2)("ripple"),e.ripple]]))),{}}}),La=(0,x.ev)()({name:"VExpansionPanelText",props:{...lr()},setup(e,t){let{slots:n}=t;const i=(0,r.f3)(Ta);if(!i)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:a,onAfterLeave:o}=cr(e,i.isSelected);return w((()=>(0,r.Wm)(ee,{onAfterLeave:o},{default:()=>[(0,r.wy)((0,r.Wm)("div",{class:"v-expansion-panel-text"},[n.default&&a.value&&(0,r.Wm)("div",{class:"v-expansion-panel-text__wrapper"},[n.default?.()])]),[[T.F8,i.isSelected.value]])]}))),{}}}),Ia=(0,x.ev)()({name:"VExpansionPanel",props:{title:String,text:String,bgColor:String,...me(),...Ue(),...lr(),...ge(),...ue(),...ka()},emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const i=ze(e,Ta),{backgroundColorClasses:a,backgroundColorStyles:o}=we(e,"bgColor"),{elevationClasses:s}=ve(e),{roundedClasses:l}=_e(e),c=(0,r.Fl)((()=>i?.disabled.value||e.disabled)),u=(0,r.Fl)((()=>i.group.items.value.reduce(((e,t,n)=>(i.group.selected.value.includes(t.id)&&e.push(n),e)),[]))),d=(0,r.Fl)((()=>{const e=i.group.items.value.findIndex((e=>e.id===i.id));return!i.isSelected.value&&u.value.some((t=>t-e===1))})),h=(0,r.Fl)((()=>{const e=i.group.items.value.findIndex((e=>e.id===i.id));return!i.isSelected.value&&u.value.some((t=>t-e===-1))}));return(0,r.JJ)(Ta,i),w((()=>{const t=!(!n.text&&!e.text),u=!(!n.title&&!e.title);return(0,r.Wm)(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":i.isSelected.value,"v-expansion-panel--before-active":d.value,"v-expansion-panel--after-active":h.value,"v-expansion-panel--disabled":c.value},l.value,a.value],style:o.value,"aria-expanded":i.isSelected.value},{default:()=>[(0,r.Wm)("div",{class:["v-expansion-panel__shadow",...s.value]},null),u&&(0,r.Wm)(Ra,{key:"title",collapseIcon:e.collapseIcon,color:e.color,expandIcon:e.expandIcon,hideActions:e.hideActions,ripple:e.ripple},{default:()=>[n.title?n.title():e.title]}),t&&(0,r.Wm)(La,{key:"text",eager:e.eager},{default:()=>[n.text?n.text():e.text]}),n.default?.()]})})),{}}}),Pa=(0,x.ev)()({name:"VFileInput",inheritAttrs:!1,props:{chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},multiple:Boolean,showSize:{type:[Boolean,Number],default:!1,validator:e=>"boolean"===typeof e||[1e3,1024].includes(e)},...Jt({prependIcon:"$file"}),modelValue:{type:Array,default:()=>[],validator:e=>(0,c.FT)(e).every((e=>null!=e&&"object"===typeof e))},...zt({clearable:!0})},emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:a,slots:o}=t;const{t:s}=(0,b.bU)(),l=(0,Te.z)(e,"modelValue"),{isFocused:u,focus:d,blur:h}=Vt(e),f=(0,r.Fl)((()=>"boolean"!==typeof e.showSize?e.showSize:void 0)),p=(0,r.Fl)((()=>(l.value??[]).reduce(((e,t)=>{let{size:n=0}=t;return e+n}),0))),m=(0,r.Fl)((()=>(0,c.XE)(p.value,f.value))),v=(0,r.Fl)((()=>(l.value??[]).map((t=>{const{name:n="",size:r=0}=t;return e.showSize?`${n} (${(0,c.XE)(r,f.value)})`:n})))),g=(0,r.Fl)((()=>{const t=l.value?.length??0;return e.showSize?s(e.counterSizeString,t,m.value):s(e.counterString,t)})),_=(0,i.iH)(),y=(0,i.iH)(),x=(0,i.iH)();function S(){x.value!==document.activeElement&&x.value?.focus(),u.value||d()}function M(e){T(e)}function E(e){a("mousedown:control",e)}function T(e){x.value?.click(),a("click:control",e)}function A(t){t.stopPropagation(),S(),(0,r.Y3)((()=>{l.value=[],(0,c.dr)(e["onClick:clear"],t)}))}return(0,r.YP)(l,(e=>{const t=!Array.isArray(e)||!e.length;t&&x.value&&(x.value.value="")})),w((()=>{const t=!(!o.counter&&!e.counter),i=!(!t&&!o.details),[a,s]=(0,c.An)(n),[{modelValue:d,...f}]=Qt.filterProps(e),[b]=Wt(e);return(0,r.Wm)(Qt,(0,r.dG)({ref:_,modelValue:l.value,"onUpdate:modelValue":e=>l.value=e,class:"v-file-input","onClick:prepend":M},a,f,{focused:u.value}),{...o,default:t=>{let{id:n,isDisabled:i,isDirty:a,isReadonly:c,isValid:d}=t;return(0,r.Wm)(Ht,(0,r.dG)({ref:y,"prepend-icon":e.prependIcon,onMousedown:E,onClick:T,"onClick:clear":A,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},b,{id:n.value,active:a.value||u.value,dirty:a.value,disabled:i.value,focused:u.value,error:!1===d.value}),{...o,default:t=>{let{props:{class:n,...a}}=t;return(0,r.Wm)(r.HY,null,[(0,r.Wm)("input",(0,r.dG)({ref:x,type:"file",readonly:c.value,disabled:i.value,multiple:e.multiple,name:e.name,onClick:e=>{e.stopPropagation(),S()},onChange:e=>{if(!e.target)return;const t=e.target;l.value=[...t.files??[]]},onFocus:S,onBlur:h},a,s),null),(0,r.Wm)("div",{class:n},[!!l.value?.length&&(o.selection?o.selection({fileNames:v.value,totalBytes:p.value,totalBytesReadable:m.value}):e.chips?v.value.map((t=>(0,r.Wm)(bn,{key:t,size:"small",color:e.color},{default:()=>[t]}))):v.value.join(", "))])])}})},details:i?e=>(0,r.Wm)(r.HY,null,[o.details?.(e),t&&(0,r.Wm)(r.HY,null,[(0,r.Wm)("span",null,null),(0,r.Wm)(en,{active:!!l.value?.length,value:g.value},o.counter)])]):void 0})})),rn({},_,y,x)}}),Da=(0,x.ev)()({name:"VFooter",props:{app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...fe(),...me(),...p(),...ge(),...ue({tag:"footer"}),...(0,y.x$)()},setup(e,t){let{slots:n}=t;const{themeClasses:a}=(0,y.ER)(e),{backgroundColorClasses:s,backgroundColorStyles:l}=we((0,i.Vh)(e,"color")),{borderClasses:c}=pe(e),{elevationClasses:u}=ve(e),{roundedClasses:d}=_e(e),h=(0,i.iH)(32),{resizeRef:f}=o((e=>{e.length&&(h.value=e[0].target.clientHeight)})),p=(0,r.Fl)((()=>"auto"===e.height?h.value:parseInt(e.height,10))),{layoutItemStyles:m}=v({id:e.name,order:(0,r.Fl)((()=>parseInt(e.order,10))),position:(0,r.Fl)((()=>"bottom")),layoutSize:p,elementSize:(0,r.Fl)((()=>"auto"===e.height?void 0:p.value)),active:(0,r.Fl)((()=>e.app)),absolute:(0,i.Vh)(e,"absolute")});return w((()=>(0,r.Wm)(e.tag,{ref:f,class:["v-footer",a.value,s.value,c.value,u.value,d.value],style:[l.value,e.app?m.value:void 0]},n))),{}}}),Oa=(0,x.ev)()({name:"VForm",props:{...Yt()},emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:n,emit:a}=t;const o=$t(e),s=(0,i.iH)();function l(e){e.preventDefault(),o.reset()}function c(e){const t=e,n=o.validate();t.then=n.then.bind(n),t.catch=n.catch.bind(n),t.finally=n.finally.bind(n),a("submit",t),t.defaultPrevented||n.then((e=>{let{valid:t}=e;t&&s.value?.submit()})),t.preventDefault()}return w((()=>(0,r.Wm)("form",{ref:s,class:"v-form",novalidate:!0,onReset:l,onSubmit:c},[n.default?.(o)]))),rn(o,s)}}),Na=(0,x.ev)()({name:"VContainer",props:{fluid:{type:Boolean,default:!1},...ue()},setup(e,t){let{slots:n}=t;return w((()=>(0,r.Wm)(e.tag,{class:["v-container",{"v-container--fluid":e.fluid}]},n))),{}}}),Fa=(()=>Fr.AV.reduce(((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e)),{}))(),Ba=(()=>Fr.AV.reduce(((e,t)=>{const n="offset"+(0,k.kC)(t);return e[n]={type:[String,Number],default:null},e}),{}))(),Va=(()=>Fr.AV.reduce(((e,t)=>{const n="order"+(0,k.kC)(t);return e[n]={type:[String,Number],default:null},e}),{}))(),Ua={col:Object.keys(Fa),offset:Object.keys(Ba),order:Object.keys(Va)};function za(e,t,n){let r=e;if(null!=n&&!1!==n){if(t){const n=t.replace(e,"");r+=`-${n}`}return"col"===e&&(r="v-"+r),"col"!==e||""!==n&&!0!==n?(r+=`-${n}`,r.toLowerCase()):r.toLowerCase()}}const Ha=["auto","start","end","center","baseline","stretch"],Wa=(0,x.ev)()({name:"VCol",props:{cols:{type:[Boolean,String,Number],default:!1},...Fa,offset:{type:[String,Number],default:null},...Ba,order:{type:[String,Number],default:null},...Va,alignSelf:{type:String,default:null,validator:e=>Ha.includes(e)},...ue()},setup(e,t){let{slots:n}=t;const i=(0,r.Fl)((()=>{const t=[];let n;for(n in Ua)Ua[n].forEach((r=>{const i=e[r],a=za(n,r,i);a&&t.push(a)}));const r=t.some((e=>e.startsWith("v-col-")));return t.push({"v-col":!r||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),t}));return()=>(0,r.h)(e.tag,{class:i.value},n.default?.())}}),ja=["start","end","center"],Ga=["space-between","space-around","space-evenly"];function Ya(e,t){return Fr.AV.reduce(((n,r)=>{const i=e+(0,k.kC)(r);return n[i]=t(),n}),{})}const $a=[...ja,"baseline","stretch"],qa=e=>$a.includes(e),Xa=Ya("align",(()=>({type:String,default:null,validator:qa}))),Za=[...ja,...Ga],Ka=e=>Za.includes(e),Ja=Ya("justify",(()=>({type:String,default:null,validator:Ka}))),Qa=[...ja,...Ga,"stretch"],eo=e=>Qa.includes(e),to=Ya("alignContent",(()=>({type:String,default:null,validator:eo}))),no={align:Object.keys(Xa),justify:Object.keys(Ja),alignContent:Object.keys(to)},ro={align:"align",justify:"justify",alignContent:"align-content"};function io(e,t,n){let r=ro[e];if(null!=n){if(t){const n=t.replace(e,"");r+=`-${n}`}return r+=`-${n}`,r.toLowerCase()}}const ao=(0,x.ev)()({name:"VRow",props:{dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:qa},...Xa,justify:{type:String,default:null,validator:Ka},...Ja,alignContent:{type:String,default:null,validator:eo},...to,...ue()},setup(e,t){let{slots:n}=t;const i=(0,r.Fl)((()=>{const t=[];let n;for(n in no)no[n].forEach((r=>{const i=e[r],a=io(n,r,i);a&&t.push(a)}));return t.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),t}));return()=>(0,r.h)(e.tag,{class:["v-row",i.value]},n.default?.())}}),oo=Lt("flex-grow-1","div","VSpacer"),so=(0,x.ev)()({name:"VHover",props:{disabled:Boolean,modelValue:{type:Boolean,default:void 0},...nr()},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=(0,Te.z)(e,"modelValue"),{runOpenDelay:i,runCloseDelay:a}=rr(e,(t=>!e.disabled&&(r.value=t)));return()=>n.default?.({isHovering:r.value,props:{onMouseenter:i,onMouseleave:a}})}}),lo=Symbol.for("vuetify:v-item-group"),co=(0,x.ev)()({name:"VItemGroup",props:{...Ve({selectedClass:"v-item--selected"}),...ue(),...(0,y.x$)()},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:i}=(0,y.ER)(e),{isSelected:a,select:o,next:s,prev:l,selected:c}=He(e,lo);return()=>(0,r.Wm)(e.tag,{class:["v-item-group",i.value]},{default:()=>[n.default?.({isSelected:a,select:o,next:s,prev:l,selected:c.value})]})}}),uo=(0,x.ev)()({name:"VItem",props:Ue(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const{isSelected:r,select:i,toggle:a,selectedClass:o,value:s,disabled:l}=ze(e,lo);return()=>n.default?.({isSelected:r.value,selectedClass:o.value,select:i,toggle:a,value:s.value,disabled:l.value})}}),ho=Lt("v-kbd"),fo=(0,x.ev)()({name:"VLayout",props:f(),setup(e,t){let{slots:n}=t;const{layoutClasses:i,layoutStyles:a,getLayoutItem:o,items:s,layoutRef:l}=_(e);return w((()=>(0,r.Wm)("div",{ref:l,class:i.value,style:a.value},[n.default?.()]))),{getLayoutItem:o,items:s}}}),po=(0,x.ev)()({name:"VLayoutItem",props:{position:{type:String,required:!0},size:{type:[Number,String],default:300},modelValue:Boolean,...p()},setup(e,t){let{slots:n}=t;const{layoutItemStyles:a}=v({id:e.name,order:(0,r.Fl)((()=>parseInt(e.order,10))),position:(0,i.Vh)(e,"position"),elementSize:(0,i.Vh)(e,"size"),layoutSize:(0,i.Vh)(e,"size"),active:(0,i.Vh)(e,"modelValue"),absolute:(0,i.Vh)(e,"absolute")});return()=>(0,r.Wm)("div",{class:["v-layout-item"],style:a.value},[n.default?.()])}}),mo=(0,x.ev)()({name:"VLazy",directives:{intersect:oe.Z},props:{modelValue:Boolean,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},...ne(),...ue(),...se({transition:"fade-transition"})},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{dimensionStyles:i}=re(e),a=(0,Te.z)(e,"modelValue");function o(e){a.value||(a.value=e)}return w((()=>(0,r.wy)((0,r.Wm)(e.tag,{class:"v-lazy",style:i.value},{default:()=>[a.value&&(0,r.Wm)(le,{transition:e.transition,appear:!0},{default:()=>[n.default?.()]})]}),[[(0,r.Q2)("intersect"),{handler:o,options:e.options},null]]))),{}}}),vo=Lt("v-list-img"),go=(0,x.ev)()({name:"VListItemAction",props:{start:Boolean,end:Boolean,...ue()},setup(e,t){let{slots:n}=t;return w((()=>(0,r.Wm)(e.tag,{class:["v-list-item-action",{"v-list-item-action--start":e.start,"v-list-item-action--end":e.end}]},n))),{}}}),_o=(0,x.ev)()({name:"VListItemMedia",props:{start:Boolean,end:Boolean,...ue()},setup(e,t){let{slots:n}=t;return w((()=>(0,r.Wm)(e.tag,{class:["v-list-item-media",{"v-list-item-media--start":e.start,"v-list-item-media--end":e.end}]},n))),{}}}),yo=(0,x.ev)()({name:"VLocaleProvider",props:{locale:String,fallbackLocale:String,messages:Object,rtl:{type:Boolean,default:void 0}},setup(e,t){let{slots:n}=t;const{rtlClasses:i}=(0,b.O4)(e);return w((()=>(0,r.Wm)("div",{class:["v-locale-provider",i.value]},[n.default?.()]))),{}}}),bo=(0,x.ev)()({name:"VMain",props:{scrollable:Boolean,...ue({tag:"main"})},setup(e,t){let{slots:n}=t;const{mainStyles:i}=m(),{ssrBootStyles:a}=Ae();return w((()=>(0,r.Wm)(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable}],style:[i.value,a.value]},{default:()=>[e.scrollable?(0,r.Wm)("div",{class:"v-main__scroller"},[n.default?.()]):n.default?.()]}))),{}}});function xo(e){let{rootEl:t,isSticky:n,layoutItemStyles:a}=e;const o=(0,i.iH)(!1),s=(0,i.iH)(0),l=(0,r.Fl)((()=>{const e="boolean"===typeof o.value?"top":o.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,o.value?{[e]:(0,c.kb)(s.value)}:{top:a.value.top}]}));(0,r.bv)((()=>{(0,r.YP)(n,(e=>{e?window.addEventListener("scroll",d,{passive:!0}):window.removeEventListener("scroll",d)}),{immediate:!0})})),(0,r.Jd)((()=>{document.removeEventListener("scroll",d)}));let u=0;function d(){const e=u>window.scrollY?"up":"down",n=t.value.getBoundingClientRect(),r=parseFloat(a.value.top??0),i=window.scrollY-Math.max(0,s.value-r),l=n.height+Math.max(s.value,r)-window.scrollY-window.innerHeight;n.height<window.innerHeight-r?(o.value="top",s.value=r):"up"===e&&"bottom"===o.value||"down"===e&&"top"===o.value?(s.value=window.scrollY+n.top,o.value=!0):"down"===e&&l<=0?(s.value=0,o.value="bottom"):"up"===e&&i<=0&&(s.value=n.top+i,o.value="top"),u=window.scrollY}return{isStuck:o,stickyStyles:l}}const wo=100,So=20;function Mo(e){const t=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*t}function Eo(e){if(e.length<2)return 0;if(2===e.length)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let t=0;for(let n=e.length-1;n>0;n--){if(e[n].t===e[n-1].t)continue;const r=Mo(t),i=(e[n].d-e[n-1].d)/(e[n].t-e[n-1].t);t+=(i-r)*Math.abs(i),n===e.length-1&&(t*=.5)}return 1e3*Mo(t)}function To(){const e={};function t(t){Array.from(t.changedTouches).forEach((n=>{const r=e[n.identifier]??(e[n.identifier]=new c.PU(So));r.push([t.timeStamp,n])}))}function n(t){Array.from(t.changedTouches).forEach((t=>{delete e[t.identifier]}))}function r(t){const n=e[t]?.values().reverse();if(!n)throw new Error(`No samples for touch id ${t}`);const r=n[0],i=[],a=[];for(const e of n){if(r[0]-e[0]>wo)break;i.push({t:e[0],d:e[1].clientX}),a.push({t:e[0],d:e[1].clientY})}return{x:Eo(i),y:Eo(a),get direction(){const{x:e,y:t}=this,[n,r]=[Math.abs(e),Math.abs(t)];return n>r&&e>=0?"right":n>r&&e<=0?"left":r>n&&t>=0?"down":r>n&&t<=0?"up":Ao()}}}return{addMovement:t,endTouch:n,getVelocity:r}}function Ao(){throw new Error}function Co(e){let{isActive:t,isTemporary:n,width:a,touchless:o,position:s}=e;(0,r.bv)((()=>{window.addEventListener("touchstart",y,{passive:!0}),window.addEventListener("touchmove",b,{passive:!1}),window.addEventListener("touchend",x,{passive:!0})})),(0,r.Jd)((()=>{window.removeEventListener("touchstart",y),window.removeEventListener("touchmove",b),window.removeEventListener("touchend",x)}));const l=(0,r.Fl)((()=>["left","right"].includes(s.value))),{addMovement:c,endTouch:u,getVelocity:d}=To();let h=!1;const f=(0,i.iH)(!1),p=(0,i.iH)(0),m=(0,i.iH)(0);let v;function g(e,t){return("left"===s.value?e:"right"===s.value?document.documentElement.clientWidth-e:"top"===s.value?e:"bottom"===s.value?document.documentElement.clientHeight-e:ko())-(t?a.value:0)}function _(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n="left"===s.value?(e-m.value)/a.value:"right"===s.value?(document.documentElement.clientWidth-e-m.value)/a.value:"top"===s.value?(e-m.value)/a.value:"bottom"===s.value?(document.documentElement.clientHeight-e-m.value)/a.value:ko();return t?Math.max(0,Math.min(1,n)):n}function y(e){if(o.value)return;const r=e.changedTouches[0].clientX,i=e.changedTouches[0].clientY,d=25,f="left"===s.value?r<d:"right"===s.value?r>document.documentElement.clientWidth-d:"top"===s.value?i<d:"bottom"===s.value?i>document.documentElement.clientHeight-d:ko(),y=t.value&&("left"===s.value?r<a.value:"right"===s.value?r>document.documentElement.clientWidth-a.value:"top"===s.value?i<a.value:"bottom"===s.value?i>document.documentElement.clientHeight-a.value:ko());(f||y||t.value&&n.value)&&(h=!0,v=[r,i],m.value=g(l.value?r:i,t.value),p.value=_(l.value?r:i),u(e),c(e))}function b(e){const t=e.changedTouches[0].clientX,n=e.changedTouches[0].clientY;if(h){if(!e.cancelable)return void(h=!1);const r=Math.abs(t-v[0]),i=Math.abs(n-v[1]),a=l.value?r>i&&r>3:i>r&&i>3;a?(f.value=!0,h=!1):(l.value?i:r)>3&&(h=!1)}if(!f.value)return;e.preventDefault(),c(e);const r=_(l.value?t:n,!1);p.value=Math.max(0,Math.min(1,r)),r>1?m.value=g(l.value?t:n,!0):r<0&&(m.value=g(l.value?t:n,!1))}function x(e){if(h=!1,!f.value)return;c(e),f.value=!1;const n=d(e.changedTouches[0].identifier),r=Math.abs(n.x),i=Math.abs(n.y),a=l.value?r>i&&r>400:i>r&&i>3;t.value=a?n.direction===({left:"right",right:"left",top:"down",bottom:"up"}[s.value]||ko()):p.value>.5}const w=(0,r.Fl)((()=>f.value?{transform:"left"===s.value?`translateX(calc(-100% + ${p.value*a.value}px))`:"right"===s.value?`translateX(calc(100% - ${p.value*a.value}px))`:"top"===s.value?`translateY(calc(-100% + ${p.value*a.value}px))`:"bottom"===s.value?`translateY(calc(100% - ${p.value*a.value}px))`:ko(),transition:"none"}:void 0));return{isDragging:f,dragProgress:p,dragStyles:w}}function ko(){throw new Error}const Ro=["start","end","left","right","top","bottom"],Lo=(0,x.ev)()({name:"VNavigationDrawer",props:{color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[String,Boolean],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>Ro.includes(e)},sticky:Boolean,...fe(),...me(),...p(),...ge(),...ue({tag:"nav"}),...(0,y.x$)()},emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,t){let{attrs:n,emit:a,slots:o}=t;const{isRtl:s}=(0,b.Vw)(),{themeClasses:l}=(0,y.ER)(e),{borderClasses:u}=pe(e),{backgroundColorClasses:d,backgroundColorStyles:h}=we((0,i.Vh)(e,"color")),{elevationClasses:f}=ve(e),{mobile:p}=(0,Fr.AW)(),{roundedClasses:m}=_e(e),g=xt(),_=(0,Te.z)(e,"modelValue",null,(e=>!!e)),{ssrBootStyles:x}=Ae(),S=(0,i.iH)(),E=(0,i.iH)(!1),A=(0,r.Fl)((()=>e.rail&&e.expandOnHover&&E.value?Number(e.width):Number(e.rail?e.railWidth:e.width))),C=(0,r.Fl)((()=>ot(e.location,s.value))),k=(0,r.Fl)((()=>!e.permanent&&(p.value||e.temporary))),R=(0,r.Fl)((()=>e.sticky&&!k.value&&"bottom"!==C.value));e.expandOnHover&&null!=e.rail&&(0,r.YP)(E,(e=>a("update:rail",!e))),e.disableResizeWatcher||(0,r.YP)(k,(t=>!e.permanent&&(0,r.Y3)((()=>_.value=!t)))),!e.disableRouteWatcher&&g&&(0,r.YP)(g.currentRoute,(()=>k.value&&(_.value=!1))),(0,r.YP)((()=>e.permanent),(e=>{e&&(_.value=!0)})),(0,r.wF)((()=>{null!=e.modelValue||k.value||(_.value=e.permanent||!p.value)}));const{isDragging:L,dragProgress:I,dragStyles:P}=Co({isActive:_,isTemporary:k,width:A,touchless:(0,i.Vh)(e,"touchless"),position:C}),D=(0,r.Fl)((()=>{const t=k.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):A.value;return L.value?t*I.value:t})),{layoutItemStyles:O,layoutRect:N,layoutItemScrimStyles:F}=v({id:e.name,order:(0,r.Fl)((()=>parseInt(e.order,10))),position:C,layoutSize:D,elementSize:A,active:(0,r.Fl)((()=>_.value||L.value)),disableTransitions:(0,r.Fl)((()=>L.value)),absolute:(0,r.Fl)((()=>e.absolute||R.value&&"string"!==typeof B.value))}),{isStuck:B,stickyStyles:V}=xo({rootEl:S,isSticky:R,layoutItemStyles:O}),U=we((0,r.Fl)((()=>"string"===typeof e.scrim?e.scrim:null))),z=(0,r.Fl)((()=>({...L.value?{opacity:.2*I.value,transition:"none"}:void 0,...N.value?{left:(0,c.kb)(N.value.left),right:(0,c.kb)(N.value.right),top:(0,c.kb)(N.value.top),bottom:(0,c.kb)(N.value.bottom)}:void 0,...F.value})));function H(){E.value=!0}function W(){E.value=!1}return(0,M.AF)({VList:{bgColor:"transparent"}}),w((()=>{const t=o.image||e.image;return(0,r.Wm)(r.HY,null,[(0,r.Wm)(e.tag,(0,r.dG)({ref:S,onMouseenter:H,onMouseleave:W,class:["v-navigation-drawer",`v-navigation-drawer--${C.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":E.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":k.value,"v-navigation-drawer--active":_.value,"v-navigation-drawer--sticky":R.value},l.value,d.value,u.value,f.value,m.value],style:[h.value,O.value,P.value,x.value,V.value]},n),{default:()=>[t&&(0,r.Wm)("div",{key:"image",class:"v-navigation-drawer__img"},[o.image?o.image?.({image:e.image}):(0,r.Wm)("img",{src:e.image,alt:""},null)]),o.prepend&&(0,r.Wm)("div",{class:"v-navigation-drawer__prepend"},[o.prepend?.()]),(0,r.Wm)("div",{class:"v-navigation-drawer__content"},[o.default?.()]),o.append&&(0,r.Wm)("div",{class:"v-navigation-drawer__append"},[o.append?.()])]}),(0,r.Wm)(T.uT,{name:"fade-transition"},{default:()=>[k.value&&(L.value||_.value)&&!!e.scrim&&(0,r.Wm)("div",{class:["v-navigation-drawer__scrim",U.backgroundColorClasses.value],style:[z.value,U.backgroundColorStyles.value],onClick:()=>_.value=!1},null)]})])})),{isStuck:B}}}),Io=(0,x.aZ)({name:"VNoSsr",setup(e,t){let{slots:n}=t;const r=Br();return()=>r.value&&n.default?.()}});function Po(){const e=(0,i.iH)([]);function t(t,n){e.value[n]=t}return(0,r.Xn)((()=>e.value=[])),{refs:e,updateRef:t}}const Do=(0,x.ev)()({name:"VPagination",props:{activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:qe.lE,default:"$first"},prevIcon:{type:qe.lE,default:"$prev"},nextIcon:{type:qe.lE,default:"$next"},lastIcon:{type:qe.lE,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...fe(),...Re(),...me(),...ge(),...Ze(),...ue({tag:"nav"}),...(0,y.x$)(),...De({variant:"text"})},emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,t){let{slots:n,emit:a}=t;const s=(0,Te.z)(e,"modelValue"),{t:l,n:u}=(0,b.bU)(),{isRtl:d}=(0,b.Vw)(),{themeClasses:h}=(0,y.ER)(e),{width:f}=(0,Fr.AW)(),p=(0,i.iH)(-1);(0,M.AF)(void 0,{scoped:!0});const{resizeRef:m}=o((e=>{if(!e.length)return;const{target:t,contentRect:n}=e[0],r=t.querySelector(".v-pagination__list > *");if(!r)return;const i=n.width,a=r.offsetWidth+2*parseFloat(getComputedStyle(r).marginRight);p.value=x(i,a)})),v=(0,r.Fl)((()=>parseInt(e.length,10))),g=(0,r.Fl)((()=>parseInt(e.start,10))),_=(0,r.Fl)((()=>e.totalVisible?parseInt(e.totalVisible,10):p.value>=0?p.value:x(f.value,58)));function x(t,n){const r=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((t-n*r)/n).toFixed(2)))}const S=(0,r.Fl)((()=>{if(v.value<=0||isNaN(v.value)||v.value>Number.MAX_SAFE_INTEGER)return[];if(_.value<=1)return[s.value];if(v.value<=_.value)return(0,c.MT)(v.value,g.value);const t=_.value%2===0,n=t?_.value/2:Math.floor(_.value/2),r=t?n:n+1,i=v.value-n;if(r-s.value>=0)return[...(0,c.MT)(Math.max(1,_.value-1),g.value),e.ellipsis,v.value];if(s.value-i>=(t?1:0)){const t=_.value-1,n=v.value-t+g.value;return[g.value,e.ellipsis,...(0,c.MT)(t,n)]}{const t=Math.max(1,_.value-3),n=1===t?s.value:s.value-Math.ceil(t/2)+g.value;return[g.value,e.ellipsis,...(0,c.MT)(t,n),e.ellipsis,v.value]}}));function E(e,t,n){e.preventDefault(),s.value=t,n&&a(n,t)}const{refs:T,updateRef:A}=Po();(0,M.AF)({VPaginationBtn:{color:(0,i.Vh)(e,"color"),border:(0,i.Vh)(e,"border"),density:(0,i.Vh)(e,"density"),size:(0,i.Vh)(e,"size"),variant:(0,i.Vh)(e,"variant"),rounded:(0,i.Vh)(e,"rounded"),elevation:(0,i.Vh)(e,"elevation")}});const C=(0,r.Fl)((()=>S.value.map(((t,n)=>{const r=e=>A(e,n);if("string"===typeof t)return{isActive:!1,key:`ellipsis-${n}`,page:t,props:{ref:r,ellipsis:!0,icon:!0,disabled:!0}};{const n=t===s.value;return{isActive:n,key:t,page:u(t),props:{ref:r,ellipsis:!1,icon:!0,disabled:!!e.disabled||+e.length<2,color:n?e.activeColor:e.color,ariaCurrent:n,ariaLabel:l(n?e.currentPageAriaLabel:e.pageAriaLabel,t),onClick:e=>E(e,t)}}}})))),k=(0,r.Fl)((()=>{const t=!!e.disabled||s.value<=g.value,n=!!e.disabled||s.value>=g.value+v.value-1;return{first:e.showFirstLastPage?{icon:d.value?e.lastIcon:e.firstIcon,onClick:e=>E(e,g.value,"first"),disabled:t,ariaLabel:l(e.firstAriaLabel),ariaDisabled:t}:void 0,prev:{icon:d.value?e.nextIcon:e.prevIcon,onClick:e=>E(e,s.value-1,"prev"),disabled:t,ariaLabel:l(e.previousAriaLabel),ariaDisabled:t},next:{icon:d.value?e.prevIcon:e.nextIcon,onClick:e=>E(e,s.value+1,"next"),disabled:n,ariaLabel:l(e.nextAriaLabel),ariaDisabled:n},last:e.showFirstLastPage?{icon:d.value?e.firstIcon:e.lastIcon,onClick:e=>E(e,g.value+v.value-1,"last"),disabled:n,ariaLabel:l(e.lastAriaLabel),ariaDisabled:n}:void 0}}));function R(){const e=s.value-g.value;T.value[e]?.$el.focus()}function L(t){t.key===c.ff.left&&!e.disabled&&s.value>+e.start?(s.value=s.value-1,(0,r.Y3)(R)):t.key===c.ff.right&&!e.disabled&&s.value<g.value+v.value-1&&(s.value=s.value+1,(0,r.Y3)(R))}return w((()=>(0,r.Wm)(e.tag,{ref:m,class:["v-pagination",h.value],role:"navigation","aria-label":l(e.ariaLabel),onKeydown:L,"data-test":"v-pagination-root"},{default:()=>[(0,r.Wm)("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&(0,r.Wm)("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[n.first?n.first(k.value.first):(0,r.Wm)(Ct,(0,r.dG)({_as:"VPaginationBtn"},k.value.first),null)]),(0,r.Wm)("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[n.prev?n.prev(k.value.prev):(0,r.Wm)(Ct,(0,r.dG)({_as:"VPaginationBtn"},k.value.prev),null)]),C.value.map(((e,t)=>(0,r.Wm)("li",{key:e.key,class:["v-pagination__item",{"v-pagination__item--is-active":e.isActive}],"data-test":"v-pagination-item"},[n.item?n.item(e):(0,r.Wm)(Ct,(0,r.dG)({_as:"VPaginationBtn"},e.props),{default:()=>[e.page]})]))),(0,r.Wm)("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[n.next?n.next(k.value.next):(0,r.Wm)(Ct,(0,r.dG)({_as:"VPaginationBtn"},k.value.next),null)]),e.showFirstLastPage&&(0,r.Wm)("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[n.last?n.last(k.value.last):(0,r.Wm)(Ct,(0,r.dG)({_as:"VPaginationBtn"},k.value.last),null)])])]}))),{}}});function Oo(e){return Math.floor(Math.abs(e))*Math.sign(e)}const No=(0,x.ev)()({name:"VParallax",props:{scale:{type:[Number,String],default:.5}},setup(e,t){let{slots:n}=t;const{intersectionRef:a,isIntersecting:s}=et(),{resizeRef:l,contentRect:u}=o(),{height:d}=(0,Fr.AW)(),h=(0,i.iH)();let f;(0,r.m0)((()=>{a.value=l.value=h.value?.$el})),(0,r.YP)(s,(e=>{e?(f=dr(a.value),f=f===document.scrollingElement?document:f,f.addEventListener("scroll",v,{passive:!0}),v()):f.removeEventListener("scroll",v)})),(0,r.Jd)((()=>{f?.removeEventListener("scroll",v)})),(0,r.YP)(d,v),(0,r.YP)((()=>u.value?.height),v);const p=(0,r.Fl)((()=>1-(0,c.uZ)(+e.scale)));let m=-1;function v(){s.value&&(cancelAnimationFrame(m),m=requestAnimationFrame((()=>{const e=h.value?.$el.querySelector(".v-img__img");if(!e)return;const t=f instanceof Document?document.documentElement.clientHeight:f.clientHeight,n=f instanceof Document?window.scrollY:f.scrollTop,r=a.value.getBoundingClientRect().top+n,i=u.value.height,o=r+(i-t)/2,s=Oo((n-o)*p.value),l=Math.max(1,(p.value*(t-i)+i)/i);e.style.setProperty("transform",`translateY(${s}px) scale(${l})`)})))}return w((()=>(0,r.Wm)(ce,{class:["v-parallax",{"v-parallax--active":s.value}],ref:h,cover:!0,onLoadstart:v,onLoad:v},n))),{}}}),Fo=(0,x.ev)()({name:"VRadio",props:{...dn({falseIcon:"$radioOff",trueIcon:"$radioOn"})},setup(e,t){let{slots:n}=t;return w((()=>(0,r.Wm)(fn,(0,r.dG)(e,{class:"v-radio",type:"radio"}),n))),{}}}),Bo=(0,x.ev)()({name:"VRadioGroup",inheritAttrs:!1,props:{height:{type:[Number,String],default:"auto"},...Jt(),...(0,c.CE)(cn(),["multiple"]),trueIcon:{type:qe.lE,default:"$radioOn"},falseIcon:{type:qe.lE,default:"$radioOff"},type:{type:String,default:"radio"}},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const a=(0,l.sq)(),o=(0,r.Fl)((()=>e.id||`radio-group-${a}`)),s=(0,Te.z)(e,"modelValue");return w((()=>{const[t,a]=(0,c.An)(n),[l,u]=Qt.filterProps(e),[d,h]=fn.filterProps(e),f=i.label?i.label({label:e.label,props:{for:o.value}}):e.label;return(0,r.Wm)(Qt,(0,r.dG)({class:"v-radio-group"},t,l,{modelValue:s.value,"onUpdate:modelValue":e=>s.value=e,id:o.value}),{...i,default:t=>{let{id:n,messagesId:o,isDisabled:l,isReadonly:c}=t;return(0,r.Wm)(r.HY,null,[f&&(0,r.Wm)(Nt,{id:n.value},{default:()=>[f]}),(0,r.Wm)(un,(0,r.dG)(d,{id:n.value,"aria-describedby":o.value,defaultsTarget:"VRadio",trueIcon:e.trueIcon,falseIcon:e.falseIcon,type:e.type,disabled:l.value,readonly:c.value,"aria-labelledby":f?n.value:void 0,multiple:!1},a,{modelValue:s.value,"onUpdate:modelValue":e=>s.value=e}),i)])}})})),{}}}),Vo=(0,x.ev)()({name:"VRangeSlider",props:{...Bt(),...Jt(),...$i(),strict:Boolean,modelValue:{type:Array,default:()=>[0,0]}},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const a=(0,i.iH)(),o=(0,i.iH)(),s=(0,i.iH)();function l(t){if(!a.value||!o.value)return;const n=Gi(t,a.value.$el,e.direction),r=Gi(t,o.value.$el,e.direction),i=Math.abs(n),s=Math.abs(r);return i<s||i===s&&n<0?a.value.$el:o.value.$el}const{activeThumbRef:c,hasLabels:u,max:d,min:h,mousePressed:f,onSliderMousedown:p,onSliderTouchstart:m,position:v,roundValue:g,trackContainerRef:_}=qi({props:e,handleSliderMouseUp:e=>{y.value=c.value===a.value?.$el?[e,y.value[1]]:[y.value[0],e]},handleMouseMove:t=>{const[n,r]=y.value;e.strict||n!==r||n===h.value||(c.value=t>n?o.value?.$el:a.value?.$el,c.value?.focus()),c.value===a.value?.$el?y.value=[Math.min(t,r),r]:y.value=[n,Math.max(n,t)]},getActiveThumb:l}),y=(0,Te.z)(e,"modelValue",void 0,(e=>e&&e.length?e.map((e=>g(e))):[0,0])),{isFocused:b,focus:x,blur:S}=Vt(e),M=(0,r.Fl)((()=>v(y.value[0]))),E=(0,r.Fl)((()=>v(y.value[1])));return w((()=>{const[t,i]=Qt.filterProps(e),l=!!(e.label||n.label||n.prepend);return(0,r.Wm)(Qt,(0,r.dG)({class:["v-slider","v-range-slider",{"v-slider--has-labels":!!n["tick-label"]||u.value,"v-slider--focused":b.value,"v-slider--pressed":f.value,"v-slider--disabled":e.disabled}],ref:s},t,{focused:b.value}),{...n,prepend:l?t=>(0,r.Wm)(r.HY,null,[n.label?.(t)??e.label?(0,r.Wm)(Nt,{class:"v-slider__label",text:e.label},null):void 0,n.prepend?.(t)]):void 0,default:t=>{let{id:i,messagesId:s}=t;return(0,r.Wm)("div",{class:"v-slider__container",onMousedown:p,onTouchstartPassive:m},[(0,r.Wm)("input",{id:`${i.value}_start`,name:e.name||i.value,disabled:e.disabled,readonly:e.readonly,tabindex:"-1",value:y.value[0]},null),(0,r.Wm)("input",{id:`${i.value}_stop`,name:e.name||i.value,disabled:e.disabled,readonly:e.readonly,tabindex:"-1",value:y.value[1]},null),(0,r.Wm)(Zi,{ref:_,start:M.value,stop:E.value},{"tick-label":n["tick-label"]}),(0,r.Wm)(Xi,{ref:a,"aria-describedby":s.value,focused:b&&c.value===a.value?.$el,modelValue:y.value[0],"onUpdate:modelValue":e=>y.value=[e,y.value[1]],onFocus:e=>{x(),c.value=a.value?.$el,y.value[0]===y.value[1]&&y.value[1]===h.value&&e.relatedTarget!==o.value?.$el&&(a.value?.$el.blur(),o.value?.$el.focus())},onBlur:()=>{S(),c.value=void 0},min:h.value,max:y.value[1],position:M.value},{"thumb-label":n["thumb-label"]}),(0,r.Wm)(Xi,{ref:o,"aria-describedby":s.value,focused:b&&c.value===o.value?.$el,modelValue:y.value[1],"onUpdate:modelValue":e=>y.value=[y.value[0],e],onFocus:e=>{x(),c.value=o.value?.$el,y.value[0]===y.value[1]&&y.value[0]===d.value&&e.relatedTarget!==a.value?.$el&&(o.value?.$el.blur(),a.value?.$el.focus())},onBlur:()=>{S(),c.value=void 0},min:y.value[0],max:d.value,position:E.value},{"thumb-label":n["thumb-label"]})])}})})),{}}}),Uo=(0,x.ev)()({name:"VRating",props:{name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:qe.lE,default:"$ratingEmpty"},fullIcon:{type:qe.lE,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},ripple:Boolean,...Re(),...Ze(),...ue(),...(0,y.x$)()},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{t:a}=(0,b.bU)(),{themeClasses:o}=(0,y.ER)(e),s=(0,Te.z)(e,"modelValue"),u=(0,r.Fl)((()=>(0,c.uZ)(parseFloat(s.value),0,+e.length))),d=(0,r.Fl)((()=>(0,c.MT)(Number(e.length),1))),h=(0,r.Fl)((()=>d.value.flatMap((t=>e.halfIncrements?[t-.5,t]:[t])))),f=(0,i.iH)(-1),p=(0,i.iH)(-1),m=(0,i.iH)();let v=!1;const g=(0,r.Fl)((()=>h.value.map((t=>{const n=e.hover&&f.value>-1,r=u.value>=t,i=f.value>=t,a=n?i:r,o=a?e.fullIcon:e.emptyIcon,s=e.activeColor??e.color,l=r||i?s:e.color;return{isFilled:r,isHovered:i,icon:o,color:l}})))),_=(0,r.Fl)((()=>[0,...h.value].map((t=>{function n(){f.value=t}function r(){f.value=-1}function i(){0===t&&0===u.value?m.value?.focus():p.value=t}function a(){v||(p.value=-1)}function o(){e.disabled||e.readonly||(s.value=u.value===t&&e.clearable?0:t)}return{onMouseenter:e.hover?n:void 0,onMouseleave:e.hover?r:void 0,onFocus:i,onBlur:a,onClick:o}}))));function x(){v=!0}function S(){v=!1}const M=(0,r.Fl)((()=>e.name??`v-rating-${(0,l.sq)()}`));function E(t){let{value:i,index:o,showStar:s=!0}=t;const{onMouseenter:l,onMouseleave:c,onFocus:d,onBlur:h,onClick:f}=_.value[o+1],p=`${M.value}-${String(i).replace(".","-")}`,v={color:g.value[o]?.color,density:e.density,disabled:e.disabled,icon:g.value[o]?.icon,ripple:e.ripple,size:e.size,tag:"span",variant:"plain"};return(0,r.Wm)(r.HY,null,[(0,r.Wm)("label",{for:p,class:{"v-rating__item--half":e.halfIncrements&&i%1>0,"v-rating__item--full":e.halfIncrements&&i%1===0},onMousedown:x,onMouseup:S,onMouseenter:l,onMouseleave:c},[(0,r.Wm)("span",{class:"v-rating__hidden"},[a(e.itemAriaLabel,i,e.length)]),s?n.item?n.item({...g.value[o],props:v,value:i,index:o}):(0,r.Wm)(Ct,v,null):void 0]),(0,r.Wm)("input",{class:"v-rating__hidden",name:M.value,id:p,type:"radio",value:i,checked:u.value===i,onClick:f,onFocus:d,onBlur:h,ref:0===o?m:void 0,readonly:e.readonly,disabled:e.disabled},null)])}function T(e){return n["item-label"]?n["item-label"](e):e.label?(0,r.Wm)("span",null,[e.label]):(0,r.Wm)("span",null,[(0,r.Uk)(" ")])}return w((()=>{const t=!!e.itemLabels?.length||n["item-label"];return(0,r.Wm)(e.tag,{class:["v-rating",{"v-rating--hover":e.hover,"v-rating--readonly":e.readonly},o.value]},{default:()=>[(0,r.Wm)(E,{value:0,index:-1,showStar:!1},null),d.value.map(((n,i)=>(0,r.Wm)("div",{class:"v-rating__wrapper"},[t&&"top"===e.itemLabelPosition?T({value:n,index:i,label:e.itemLabels?.[i]}):void 0,(0,r.Wm)("div",{class:["v-rating__item",{"v-rating__item--focused":Math.ceil(p.value)===n}]},[e.halfIncrements?(0,r.Wm)(r.HY,null,[(0,r.Wm)(E,{value:n-.5,index:2*i},null),(0,r.Wm)(E,{value:n,index:2*i+1},null)]):(0,r.Wm)(E,{value:n,index:i},null)]),t&&"bottom"===e.itemLabelPosition?T({value:n,index:i,label:e.itemLabels?.[i]}):void 0])))]})})),{}}});function zo(e){const t=.501,n=Math.abs(e);return Math.sign(e)*(n/((1/t-2)*(1-n)+1))}function Ho(e){let{selectedElement:t,containerSize:n,contentSize:r,isRtl:i,currentScrollOffset:a,isHorizontal:o}=e;const s=o?t.clientWidth:t.clientHeight,l=o?t.offsetLeft:t.offsetTop,c=i&&o?r-l-s:l,u=n+a,d=s+c,h=.4*s;return c<=a?a=Math.max(c-h,0):u<=d&&(a=Math.min(a-(u-d-h),r-n)),a}function Wo(e){let{selectedElement:t,containerSize:n,contentSize:r,isRtl:i,isHorizontal:a}=e;const o=a?t.clientWidth:t.clientHeight,s=a?t.offsetLeft:t.offsetTop,l=i&&a?r-s-o/2-n/2:s+o/2-n/2;return Math.min(r-n,Math.max(0,l))}const jo=Symbol.for("vuetify:v-slide-group"),Go=(0,s.U)({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:jo},nextIcon:{type:qe.lE,default:"$next"},prevIcon:{type:qe.lE,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>"boolean"===typeof e||["always","desktop","mobile"].includes(e)},...ue(),...Ve({selectedClass:"v-slide-group-item--active"})},"v-slide-group"),Yo=(0,x.ev)()({name:"VSlideGroup",props:Go(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isRtl:s}=(0,b.Vw)(),{mobile:l}=(0,Fr.AW)(),u=He(e,e.symbol),d=(0,i.iH)(!1),h=(0,i.iH)(0),f=(0,i.iH)(0),p=(0,i.iH)(0),m=(0,r.Fl)((()=>"horizontal"===e.direction)),{resizeRef:v,contentRect:g}=o(),{resizeRef:_,contentRect:y}=o(),x=(0,r.Fl)((()=>u.selected.value.length?u.items.value.findIndex((e=>e.id===u.selected.value[0])):-1)),S=(0,r.Fl)((()=>u.selected.value.length?u.items.value.findIndex((e=>e.id===u.selected.value[u.selected.value.length-1])):-1));if(a.BR){let t=-1;(0,r.YP)((()=>[u.selected.value,g.value,y.value,m.value]),(()=>{cancelAnimationFrame(t),t=requestAnimationFrame((()=>{if(g.value&&y.value){const e=m.value?"width":"height";f.value=g.value[e],p.value=y.value[e],d.value=f.value+1<p.value}if(x.value>=0&&_.value){const t=_.value.children[S.value];0!==x.value&&d.value?e.centerActive?h.value=Wo({selectedElement:t,containerSize:f.value,contentSize:p.value,isRtl:s.value,isHorizontal:m.value}):d.value&&(h.value=Ho({selectedElement:t,containerSize:f.value,contentSize:p.value,isRtl:s.value,currentScrollOffset:h.value,isHorizontal:m.value})):h.value=0}}))}))}const M=(0,i.iH)(!1);let E=0,T=0;function A(e){const t=m.value?"clientX":"clientY",n=s.value&&m.value?-1:1;T=n*h.value,E=e.touches[0][t],M.value=!0}function C(e){if(!d.value)return;const t=m.value?"clientX":"clientY",n=s.value&&m.value?-1:1;h.value=n*(T+E-e.touches[0][t])}function k(e){const t=p.value-f.value;h.value<0||!d.value?h.value=0:h.value>=t&&(h.value=t),M.value=!1}function R(){v.value&&(v.value[m.value?"scrollLeft":"scrollTop"]=0)}const L=(0,i.iH)(!1);function I(e){if(L.value=!0,d.value&&_.value)for(const t of e.composedPath())for(const e of _.value.children)if(e===t)return void(h.value=Ho({selectedElement:e,containerSize:f.value,contentSize:p.value,isRtl:s.value,currentScrollOffset:h.value,isHorizontal:m.value}))}function P(e){L.value=!1}function D(e){L.value||e.relatedTarget&&_.value?.contains(e.relatedTarget)||N()}function O(e){_.value&&(m.value?"ArrowRight"===e.key?N(s.value?"prev":"next"):"ArrowLeft"===e.key&&N(s.value?"next":"prev"):"ArrowDown"===e.key?N("next"):"ArrowUp"===e.key&&N("prev"),"Home"===e.key?N("first"):"End"===e.key&&N("last"))}function N(e){if(_.value)if(e)if("next"===e){const e=_.value.querySelector(":focus")?.nextElementSibling;e?e.focus():N("first")}else if("prev"===e){const e=_.value.querySelector(":focus")?.previousElementSibling;e?e.focus():N("last")}else"first"===e?_.value.firstElementChild?.focus():"last"===e&&_.value.lastElementChild?.focus();else{const e=[..._.value.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')].filter((e=>!e.hasAttribute("disabled")));e[0]?.focus()}}function F(e){const t=h.value+("prev"===e?-1:1)*f.value;h.value=(0,c.uZ)(t,0,p.value-f.value)}const B=(0,r.Fl)((()=>{let e=h.value>p.value-f.value?-(p.value-f.value)+zo(p.value-f.value-h.value):-h.value;h.value<=0&&(e=zo(-h.value));const t=s.value&&m.value?-1:1;return{transform:`translate${m.value?"X":"Y"}(${t*e}px)`,transition:M.value?"none":"",willChange:M.value?"transform":""}})),V=(0,r.Fl)((()=>({next:u.next,prev:u.prev,select:u.select,isSelected:u.isSelected}))),U=(0,r.Fl)((()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!l.value;case!0:return d.value||Math.abs(h.value)>0;case"mobile":return l.value||d.value||Math.abs(h.value)>0;default:return!l.value&&(d.value||Math.abs(h.value)>0)}})),z=(0,r.Fl)((()=>Math.abs(h.value)>0)),H=(0,r.Fl)((()=>p.value>Math.abs(h.value)+f.value));return w((()=>(0,r.Wm)(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!m.value,"v-slide-group--has-affixes":U.value,"v-slide-group--is-overflowing":d.value}],tabindex:L.value||u.selected.value.length?-1:0,onFocus:D},{default:()=>[U.value&&(0,r.Wm)("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!z.value}],onClick:()=>F("prev")},[n.prev?.(V.value)??(0,r.Wm)(j,null,{default:()=>[(0,r.Wm)(Qe,{icon:s.value?e.nextIcon:e.prevIcon},null)]})]),(0,r.Wm)("div",{key:"container",ref:v,class:"v-slide-group__container",onScroll:R},[(0,r.Wm)("div",{ref:_,class:"v-slide-group__content",style:B.value,onTouchstartPassive:A,onTouchmovePassive:C,onTouchendPassive:k,onFocusin:I,onFocusout:P,onKeydown:O},[n.default?.(V.value)])]),U.value&&(0,r.Wm)("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!H.value}],onClick:()=>F("next")},[n.next?.(V.value)??(0,r.Wm)(j,null,{default:()=>[(0,r.Wm)(Qe,{icon:s.value?e.prevIcon:e.nextIcon},null)]})])]}))),{selected:u.selected,scrollTo:F,scrollOffset:h,focus:N}}}),$o=(0,x.ev)()({name:"VSlideGroupItem",props:{...Ue()},emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const r=ze(e,jo);return()=>n.default?.({isSelected:r.isSelected.value,select:r.select,toggle:r.toggle,selectedClass:r.selectedClass.value})}}),qo=(0,x.ev)()({name:"VSnackbar",props:{multiLine:Boolean,timeout:{type:[Number,String],default:5e3},vertical:Boolean,...ht({location:"bottom"}),...yt(),...ge(),...De(),...(0,y.x$)(),...(0,c.CE)(Yr({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const a=(0,Te.z)(e,"modelValue"),{locationStyles:o}=ft(e),{positionClasses:s}=bt(e),{scopeId:l}=Vr(),{themeClasses:c}=(0,y.ER)(e),{colorClasses:u,colorStyles:d,variantClasses:h}=Oe(e),{roundedClasses:f}=_e(e),p=(0,i.iH)();(0,r.YP)(a,v),(0,r.YP)((()=>e.timeout),v),(0,r.bv)((()=>{a.value&&v()}));let m=-1;function v(){window.clearTimeout(m);const t=Number(e.timeout);a.value&&-1!==t&&(m=window.setTimeout((()=>{a.value=!1}),t))}function g(){window.clearTimeout(m)}return w((()=>{const[t]=$r.filterProps(e);return(0,r.Wm)($r,(0,r.dG)({ref:p,class:["v-snackbar",{"v-snackbar--active":a.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--vertical":e.vertical},s.value]},t,{modelValue:a.value,"onUpdate:modelValue":e=>a.value=e,contentProps:(0,r.dG)({class:["v-snackbar__wrapper",c.value,u.value,f.value,h.value],style:[o.value,d.value],onPointerenter:g,onPointerleave:v},t.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0},l),{default:()=>[Pe(!1,"v-snackbar"),n.default&&(0,r.Wm)("div",{class:"v-snackbar__content",role:"status","aria-live":"polite"},[n.default()]),n.actions&&(0,r.Wm)(E,{defaults:{VBtn:{variant:"text",ripple:!1}}},{default:()=>[(0,r.Wm)("div",{class:"v-snackbar__actions"},[n.actions()])]})],activator:n.activator})})),rn({},p)}}),Xo=(0,x.ev)()({name:"VSwitch",inheritAttrs:!1,props:{indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...Jt(),...dn()},emits:{"update:focused":e=>!0,"update:modelValue":()=>!0,"update:indeterminate":e=>!0},setup(e,t){let{attrs:n,slots:a}=t;const o=(0,Te.z)(e,"indeterminate"),s=(0,Te.z)(e,"modelValue"),{loaderClasses:u}=vt(e),{isFocused:d,focus:h,blur:f}=Vt(e),p=(0,r.Fl)((()=>"string"===typeof e.loading&&""!==e.loading?e.loading:e.color)),m=(0,l.sq)(),v=(0,r.Fl)((()=>e.id||`switch-${m}`));function g(){o.value&&(o.value=!1)}return w((()=>{const[t,l]=(0,c.An)(n),[m,_]=Qt.filterProps(e),[y,b]=fn.filterProps(e),x=(0,i.iH)();function w(e){e.stopPropagation(),e.preventDefault(),x.value?.input?.click()}return(0,r.Wm)(Qt,(0,r.dG)({class:["v-switch",{"v-switch--inset":e.inset},{"v-switch--indeterminate":o.value},u.value]},t,m,{id:v.value,focused:d.value}),{...a,default:t=>{let{id:n,messagesId:i,isDisabled:c,isReadonly:u,isValid:d}=t;return(0,r.Wm)(fn,(0,r.dG)({ref:x},y,{modelValue:s.value,"onUpdate:modelValue":[e=>s.value=e,g],id:n.value,"aria-describedby":i.value,type:"checkbox","aria-checked":o.value?"mixed":void 0,disabled:c.value,readonly:u.value,onFocus:h,onBlur:f},l),{...a,default:()=>(0,r.Wm)("div",{class:"v-switch__track",onClick:w},null),input:t=>{let{textColorClasses:n,textColorStyles:i}=t;return(0,r.Wm)("div",{class:["v-switch__thumb",n.value],style:i.value},[e.loading&&(0,r.Wm)(gt,{name:"v-switch",active:!0,color:!1===d.value?void 0:p.value},{default:e=>a.loader?a.loader(e):(0,r.Wm)(tt,{active:e.isActive,color:e.color,indeterminate:!0,size:"16",width:"2"},null)})])}})}})})),{}}}),Zo=(0,x.ev)()({name:"VSystemBar",props:{color:String,height:[Number,String],window:Boolean,...me(),...p(),...ge(),...ue(),...(0,y.x$)()},setup(e,t){let{slots:n}=t;const{themeClasses:a}=(0,y.ER)(e),{backgroundColorClasses:o,backgroundColorStyles:s}=we((0,i.Vh)(e,"color")),{elevationClasses:l}=ve(e),{roundedClasses:c}=_e(e),{ssrBootStyles:u}=Ae(),d=(0,r.Fl)((()=>e.height??(e.window?32:24))),{layoutItemStyles:h}=v({id:e.name,order:(0,r.Fl)((()=>parseInt(e.order,10))),position:(0,i.iH)("top"),layoutSize:d,elementSize:d,active:(0,r.Fl)((()=>!0)),absolute:(0,i.Vh)(e,"absolute")});return w((()=>(0,r.Wm)(e.tag,{class:["v-system-bar",{"v-system-bar--window":e.window},a.value,o.value,l.value,c.value],style:[s.value,h.value,u.value]},n))),{}}}),Ko=Symbol.for("vuetify:v-tabs"),Jo=(0,x.ev)()({name:"VTab",props:{fixed:Boolean,title:String,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...(0,c.CE)(At({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},setup(e,t){let{slots:n,attrs:a}=t;const{textColorClasses:o,textColorStyles:s}=xe(e,"sliderColor"),l=(0,r.Fl)((()=>"horizontal"===e.direction)),c=(0,i.iH)(!1),u=(0,i.iH)(),d=(0,i.iH)();function h(e){let{value:t}=e;if(c.value=t,t){const e=u.value?.$el.parentElement?.querySelector(".v-tab--selected .v-tab__slider"),t=d.value;if(!e||!t)return;const n=getComputedStyle(e).color,r=e.getBoundingClientRect(),i=t.getBoundingClientRect(),a=l.value?"x":"y",o=l.value?"X":"Y",s=l.value?"right":"bottom",c=l.value?"width":"height",h=r[a],f=i[a],p=h>f?r[s]-i[s]:r[a]-i[a],m=Math.sign(p)>0?l.value?"right":"bottom":Math.sign(p)<0?l.value?"left":"top":"center",v=Math.abs(p)+(Math.sign(p)<0?r[c]:i[c]),g=v/Math.max(r[c],i[c]),_=r[c]/i[c],y=1.5;D(t,{backgroundColor:[n,""],transform:[`translate${o}(${p}px) scale${o}(${_})`,`translate${o}(${p/y}px) scale${o}(${(g-1)/y+1})`,""],transformOrigin:Array(3).fill(m)},{duration:225,easing:O})}}return w((()=>{const[t]=Ct.filterProps(e);return(0,r.Wm)(Ct,(0,r.dG)({_as:"VTab",symbol:Ko,ref:u,class:["v-tab"],tabindex:c.value?0:-1,role:"tab","aria-selected":String(c.value),active:!1,block:e.fixed,maxWidth:e.fixed?300:void 0,rounded:0},t,a,{"onGroup:selected":h}),{default:()=>[n.default?n.default():e.title,!e.hideSlider&&(0,r.Wm)("div",{ref:d,class:["v-tab__slider",o.value],style:s.value},null)]})})),{}}});function Qo(e){return e?e.map((e=>"string"===typeof e?{title:e,value:e}:e)):[]}const es=(0,x.ev)()({name:"VTabs",props:{alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...Go({mandatory:"force"}),...Re(),...ue()},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const a=(0,Te.z)(e,"modelValue"),o=(0,r.Fl)((()=>Qo(e.items))),{densityClasses:s}=Le(e),{backgroundColorClasses:l,backgroundColorStyles:u}=we((0,i.Vh)(e,"bgColor"));return(0,M.AF)({VTab:{color:(0,i.Vh)(e,"color"),direction:(0,i.Vh)(e,"direction"),stacked:(0,i.Vh)(e,"stacked"),fixed:(0,i.Vh)(e,"fixedTabs"),sliderColor:(0,i.Vh)(e,"sliderColor"),hideSlider:(0,i.Vh)(e,"hideSlider")}}),w((()=>{const[t]=Yo.filterProps(e);return(0,r.Wm)(Yo,(0,r.dG)(t,{modelValue:a.value,"onUpdate:modelValue":e=>a.value=e,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},s.value,l.value],style:[{"--v-tabs-height":(0,c.kb)(e.height)},u.value],role:"tablist",symbol:Ko}),{default:()=>[n.default?n.default():o.value.map((e=>(0,r.Wm)(Jo,(0,r.dG)(e,{key:e.title}),null)))]})})),{}}}),ts=(0,x.ev)()({name:"VTable",props:{fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...Re(),...ue(),...(0,y.x$)()},setup(e,t){let{slots:n}=t;const{themeClasses:i}=(0,y.ER)(e),{densityClasses:a}=Le(e);return w((()=>(0,r.Wm)(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!n.top,"v-table--has-bottom":!!n.bottom,"v-table--hover":e.hover},i.value,a.value]},{default:()=>[n.top?.(),n.default?(0,r.Wm)("div",{class:"v-table__wrapper",style:{height:(0,c.kb)(e.height)}},[(0,r.Wm)("table",null,[n.default()])]):n.wrapper?.(),n.bottom?.()]}))),{}}}),ns=(0,x.ev)()({name:"VTextarea",directives:{Intersect:oe.Z},inheritAttrs:!1,props:{autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...Jt(),...zt()},emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:a,slots:o}=t;const s=(0,Te.z)(e,"modelValue"),{isFocused:l,focus:u,blur:d}=Vt(e),h=(0,r.Fl)((()=>"function"===typeof e.counterValue?e.counterValue(s.value):(s.value||"").toString().length)),f=(0,r.Fl)((()=>n.maxlength?n.maxlength:!e.counter||"number"!==typeof e.counter&&"string"!==typeof e.counter?void 0:e.counter));function p(t,n){e.autofocus&&t&&n[0].target?.focus?.()}const m=(0,i.iH)(),v=(0,i.iH)(),g=(0,i.iH)(""),_=(0,i.iH)(),y=(0,r.Fl)((()=>l.value||e.persistentPlaceholder));function b(){_.value!==document.activeElement&&_.value?.focus(),l.value||u()}function x(e){b(),a("click:control",e)}function S(e){a("mousedown:control",e)}function M(t){t.stopPropagation(),b(),(0,r.Y3)((()=>{s.value="",(0,c.dr)(e["onClick:clear"],t)}))}function E(t){const n=t.target;if(s.value=n.value,e.modelModifiers?.trim){const e=[n.selectionStart,n.selectionEnd];(0,r.Y3)((()=>{n.selectionStart=e[0],n.selectionEnd=e[1]}))}}const A=(0,i.iH)();function C(){e.autoGrow&&(0,r.Y3)((()=>{if(!A.value||!v.value)return;const t=getComputedStyle(A.value),n=getComputedStyle(v.value.$el),r=parseFloat(t.getPropertyValue("--v-field-padding-top"))+parseFloat(t.getPropertyValue("--v-input-padding-top"))+parseFloat(t.getPropertyValue("--v-field-padding-bottom")),i=A.value.scrollHeight,a=parseFloat(t.lineHeight),o=Math.max(parseFloat(e.rows)*a+r,parseFloat(n.getPropertyValue("--v-input-control-height"))),s=parseFloat(e.maxRows)*a+r||1/0;g.value=(0,c.kb)((0,c.uZ)(i??0,o,s))}))}let k;return(0,r.bv)(C),(0,r.YP)(s,C),(0,r.YP)((()=>e.rows),C),(0,r.YP)((()=>e.maxRows),C),(0,r.YP)((()=>e.density),C),(0,r.YP)(A,(e=>{e?(k=new ResizeObserver(C),k.observe(A.value)):k?.disconnect()})),(0,r.Jd)((()=>{k?.disconnect()})),w((()=>{const t=!!(o.counter||e.counter||e.counterValue),i=!(!t&&!o.details),[a,u]=(0,c.An)(n),[{modelValue:w,...C}]=Qt.filterProps(e),[k]=Wt(e);return(0,r.Wm)(Qt,(0,r.dG)({ref:m,modelValue:s.value,"onUpdate:modelValue":e=>s.value=e,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-text-field--flush-details":["plain","underlined"].includes(e.variant)}]},a,C,{focused:l.value}),{...o,default:t=>{let{isDisabled:n,isDirty:i,isReadonly:a,isValid:c}=t;return(0,r.Wm)(Ht,(0,r.dG)({ref:v,style:{"--v-textarea-control-height":g.value},onClick:x,onMousedown:S,"onClick:clear":M,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:"textbox"},k,{active:y.value||i.value,dirty:i.value||e.dirty,disabled:n.value,focused:l.value,error:!1===c.value}),{...o,default:t=>{let{props:{class:i,...o}}=t;return(0,r.Wm)(r.HY,null,[e.prefix&&(0,r.Wm)("span",{class:"v-text-field__prefix"},[e.prefix]),(0,r.wy)((0,r.Wm)("textarea",(0,r.dG)({ref:_,class:i,value:s.value,onInput:E,autofocus:e.autofocus,readonly:a.value,disabled:n.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:b,onBlur:d},o,u),null),[[(0,r.Q2)("intersect"),{handler:p},null,{once:!0}]]),e.autoGrow&&(0,r.wy)((0,r.Wm)("textarea",{class:[i,"v-textarea__sizer"],"onUpdate:modelValue":e=>s.value=e,ref:A,readonly:!0,"aria-hidden":"true"},null),[[T.nr,s.value]]),e.suffix&&(0,r.Wm)("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:i?n=>(0,r.Wm)(r.HY,null,[o.details?.(n),t&&(0,r.Wm)(r.HY,null,[(0,r.Wm)("span",null,null),(0,r.Wm)(en,{active:e.persistentCounter||l.value,value:h.value,max:f.value},o.counter)])]):void 0})})),rn({},m,v,_)}}),rs=(0,x.ev)()({name:"VThemeProvider",props:{withBackground:Boolean,...(0,y.x$)(),...ue()},setup(e,t){let{slots:n}=t;const{themeClasses:i}=(0,y.ER)(e);return()=>e.withBackground?(0,r.Wm)(e.tag,{class:["v-theme-provider",i.value]},{default:()=>[n.default?.()]}):n.default?.()}}),is=(0,x.ev)()({name:"VTimeline",props:{align:{type:String,default:"center",validator:e=>["center","start"].includes(e)},direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},justify:{type:String,default:"auto",validator:e=>["auto","center"].includes(e)},side:{type:String,validator:e=>null==e||["start","end"].includes(e)},lineInset:{type:[String,Number],default:0},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:e=>["start","end","both"].includes(e)},...Re(),...ue(),...(0,y.x$)()},setup(e,t){let{slots:n}=t;const{themeClasses:a}=(0,y.ER)(e),{densityClasses:o}=Le(e);(0,M.AF)({VTimelineDivider:{lineColor:(0,i.Vh)(e,"lineColor")},VTimelineItem:{density:(0,i.Vh)(e,"density"),lineInset:(0,i.Vh)(e,"lineInset")}});const s=(0,r.Fl)((()=>{const t=e.side?e.side:"default"!==e.density?"end":null;return t&&`v-timeline--side-${t}`})),l=(0,r.Fl)((()=>{const t=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(e.truncateLine){case"both":return t;case"start":return t[0];case"end":return t[1];default:return null}}));return w((()=>(0,r.Wm)(e.tag,{class:["v-timeline",`v-timeline--${e.direction}`,`v-timeline--align-${e.align}`,`v-timeline--justify-${e.justify}`,l.value,{"v-timeline--inset-line":!!e.lineInset},a.value,o.value,s.value],style:{"--v-timeline-line-thickness":(0,c.kb)(e.lineThickness)}},n))),{}}}),as=(0,x.ev)()({name:"VTimelineDivider",props:{dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:qe.lE,iconColor:String,lineColor:String,...ge(),...Ze(),...me()},setup(e,t){let{slots:n}=t;const{sizeClasses:a,sizeStyles:o}=Ke(e,"v-timeline-divider__dot"),{backgroundColorStyles:s,backgroundColorClasses:l}=we((0,i.Vh)(e,"dotColor")),{roundedClasses:c}=_e(e,"v-timeline-divider__dot"),{elevationClasses:u}=ve(e),{backgroundColorClasses:d,backgroundColorStyles:h}=we((0,i.Vh)(e,"lineColor"));return w((()=>(0,r.Wm)("div",{class:["v-timeline-divider",{"v-timeline-divider--fill-dot":e.fillDot}]},[(0,r.Wm)("div",{class:["v-timeline-divider__before",d.value],style:h.value},null),!e.hideDot&&(0,r.Wm)("div",{key:"dot",class:["v-timeline-divider__dot",u.value,c.value,a.value],style:o.value},[(0,r.Wm)("div",{class:["v-timeline-divider__inner-dot",l.value,c.value],style:s.value},[n.default?(0,r.Wm)(E,{key:"icon-defaults",disabled:!e.icon,defaults:{VIcon:{color:e.iconColor,icon:e.icon,size:e.size}}},n.default):(0,r.Wm)(Qe,{key:"icon",color:e.iconColor,icon:e.icon,size:e.size},null)])]),(0,r.Wm)("div",{class:["v-timeline-divider__after",d.value],style:h.value},null)]))),{}}}),os=(0,x.ev)()({name:"VTimelineItem",props:{density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:qe.lE,iconColor:String,lineInset:[Number,String],...ge(),...me(),...Ze(),...ue(),...ne()},setup(e,t){let{slots:n}=t;const{dimensionStyles:a}=re(e),o=(0,i.iH)(0),s=(0,i.iH)();return(0,r.YP)(s,(e=>{e&&(o.value=e.$el.querySelector(".v-timeline-divider__dot")?.getBoundingClientRect().width??0)}),{flush:"post"}),w((()=>(0,r.Wm)("div",{class:["v-timeline-item",{"v-timeline-item--fill-dot":e.fillDot}],style:{"--v-timeline-dot-size":(0,c.kb)(o.value),"--v-timeline-line-inset":e.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${(0,c.kb)(e.lineInset)})`:(0,c.kb)(0)}},[(0,r.Wm)("div",{class:"v-timeline-item__body",style:a.value},[n.default?.()]),(0,r.Wm)(as,{ref:s,hideDot:e.hideDot,icon:e.icon,iconColor:e.iconColor,size:e.size,elevation:e.elevation,dotColor:e.dotColor,fillDot:e.fillDot,rounded:e.rounded},{default:n.icon}),"compact"!==e.density&&(0,r.Wm)("div",{class:"v-timeline-item__opposite"},[!e.hideOpposite&&n.opposite?.()])]))),{}}}),ss=(0,x.ev)()({name:"VToolbarItems",props:De({variant:"text"}),setup(e,t){let{slots:n}=t;return(0,M.AF)({VBtn:{color:(0,i.Vh)(e,"color"),height:"inherit",variant:(0,i.Vh)(e,"variant")}}),w((()=>(0,r.Wm)("div",{class:"v-toolbar-items"},[n.default?.()]))),{}}}),ls=(0,x.ev)()({name:"VTooltip",props:{id:String,text:String,...(0,c.CE)(Yr({closeOnBack:!1,location:"end",locationStrategy:"connected",minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent","eager"])},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const a=(0,Te.z)(e,"modelValue"),{scopeId:o}=Vr(),s=(0,l.sq)(),c=(0,r.Fl)((()=>e.id||`v-tooltip-${s}`)),u=(0,i.iH)(),d=(0,r.Fl)((()=>e.location.split(" ").length>1?e.location:e.location+" center")),h=(0,r.Fl)((()=>"auto"===e.origin||"overlap"===e.origin||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center")),f=(0,r.Fl)((()=>e.transition?e.transition:a.value?"scale-transition":"fade-transition")),p=(0,r.Fl)((()=>(0,r.dG)({"aria-describedby":c.value},e.activatorProps)));return w((()=>{const[t]=$r.filterProps(e);return(0,r.Wm)($r,(0,r.dG)({ref:u,class:["v-tooltip"],id:c.value},t,{modelValue:a.value,"onUpdate:modelValue":e=>a.value=e,transition:f.value,absolute:!0,location:d.value,origin:h.value,persistent:!0,role:"tooltip",eager:!0,activatorProps:p.value,_disableGlobalStack:!0},o),{activator:n.activator,default:function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n.default?.(...r)??e.text}})})),rn({},u)}}),cs=(0,x.ev)()({name:"VValidation",props:{...Zt()},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=Kt(e,"validation");return()=>n.default?.(r)}})},8434:function(e,t,n){"use strict";n.d(t,{AF:function(){return c},qy:function(){return l},tI:function(){return o},yB:function(){return s}});n(1703);var r=n(4870),i=n(3396),a=n(131);const o=Symbol.for("vuetify:defaults");function s(e){return(0,r.iH)(e)}function l(){const e=(0,i.f3)(o);if(!e)throw new Error("[Vuetify] Could not find defaults instance");return e}function c(e,t){const n=l(),s=(0,r.iH)(e),c=(0,i.Fl)((()=>{const e=(0,r.SU)(t?.disabled);if(e)return n.value;const i=(0,r.SU)(t?.scoped),o=(0,r.SU)(t?.reset),l=(0,r.SU)(t?.root);let c=(0,a.Ee)(s.value,{prev:n.value});if(i)return c;if(o||l){const e=Number(o||1/0);for(let t=0;t<=e;t++){if(!c||!("prev"in c))break;c=c.prev}return c}return c.prev?(0,a.Ee)(c.prev,c):c}));return(0,i.JJ)(o,c),c}},8157:function(e,t,n){"use strict";n.d(t,{AV:function(){return s},AW:function(){return m},fT:function(){return p},x6:function(){return l}});n(1703);var r=n(4870),i=n(3396),a=n(131),o=n(7930);const s=["sm","md","lg","xl","xxl"],l=Symbol.for("vuetify:display"),c={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;return(0,a.Ee)(c,e)};function d(e){return o.BR&&!e?window.innerWidth:0}function h(e){return o.BR&&!e?window.innerHeight:0}function f(e){const t=o.BR&&!e?window.navigator.userAgent:"ssr";function n(e){return Boolean(t.match(e))}const r=n(/android/i),i=n(/iphone|ipad|ipod/i),a=n(/cordova/i),s=n(/electron/i),l=n(/chrome/i),c=n(/edge/i),u=n(/firefox/i),d=n(/opera/i),h=n(/win/i),f=n(/mac/i),p=n(/linux/i);return{android:r,ios:i,cordova:a,electron:s,chrome:l,edge:c,firefox:u,opera:d,win:h,mac:f,linux:p,touch:o.sR,ssr:"ssr"===t}}function p(e,t){const{thresholds:n,mobileBreakpoint:a}=u(e),s=(0,r.iH)(h(t)),l=(0,r.XI)(f(t)),c=(0,r.qj)({}),p=(0,r.iH)(d(t));function m(){s.value=h(),p.value=d()}function v(){m(),l.value=f()}return(0,i.m0)((()=>{const e=p.value<n.sm,t=p.value<n.md&&!e,r=p.value<n.lg&&!(t||e),i=p.value<n.xl&&!(r||t||e),o=p.value<n.xxl&&!(i||r||t||e),u=p.value>=n.xxl,d=e?"xs":t?"sm":r?"md":i?"lg":o?"xl":"xxl",h="number"===typeof a?a:n[a],f=p.value<h;c.xs=e,c.sm=t,c.md=r,c.lg=i,c.xl=o,c.xxl=u,c.smAndUp=!e,c.mdAndUp=!(e||t),c.lgAndUp=!(e||t||r),c.xlAndUp=!(e||t||r||i),c.smAndDown=!(r||i||o||u),c.mdAndDown=!(i||o||u),c.lgAndDown=!(o||u),c.xlAndDown=!u,c.name=d,c.height=s.value,c.width=p.value,c.mobile=f,c.mobileBreakpoint=a,c.platform=l.value,c.thresholds=n})),o.BR&&window.addEventListener("resize",m,{passive:!0}),{...(0,r.BK)(c),update:v,ssr:!!t}}function m(){const e=(0,i.f3)(l);if(!e)throw new Error("Could not find Vuetify display injection");return e}},4960:function(e,t,n){"use strict";n.d(t,{YK:function(){return d},lE:function(){return u},$0:function(){return v},$e:function(){return f},w8:function(){return m},oX:function(){return p},_i:function(){return _},bi:function(){return y}});n(1703);var r=n(3396);const i={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus"},a={component:e=>(0,r.h)(v,{...e,class:"mdi"})};var o=n(4870),s=n(3766),l=n(320),c=n(131);const u=[String,Function,Object],d=Symbol.for("vuetify:icons"),h=(0,s.U)({icon:{type:u},tag:{type:String,required:!0}},"icon"),f=(0,l.ev)()({name:"VComponentIcon",props:h(),setup(e,t){let{slots:n}=t;return()=>(0,r.Wm)(e.tag,null,{default:()=>[e.icon?(0,r.Wm)(e.icon,null,null):n.default?.()]})}}),p=(0,l.aZ)({name:"VSvgIcon",inheritAttrs:!1,props:h(),setup(e,t){let{attrs:n}=t;return()=>(0,r.Wm)(e.tag,(0,r.dG)(n,{style:null}),{default:()=>[(0,r.Wm)("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[(0,r.Wm)("path",{d:e.icon},null)])]})}}),m=(0,l.aZ)({name:"VLigatureIcon",props:h(),setup(e){return()=>(0,r.Wm)(e.tag,null,{default:()=>[e.icon]})}}),v=(0,l.aZ)({name:"VClassIcon",props:h(),setup(e){return()=>(0,r.Wm)(e.tag,{class:e.icon},null)}}),g={svg:{component:p},class:{component:v}};function _(e){return(0,c.Ee)({defaultSet:"mdi",sets:{...g,mdi:a},aliases:i},e)}const y=e=>{const t=(0,r.f3)(d);if(!t)throw new Error("Missing Vuetify Icons provide!");const n=(0,r.Fl)((()=>{const n=(0,o.dq)(e)?e.value:e.icon;if(!n)return{component:f};let r=n;if("string"===typeof r&&(r=r.trim(),r.startsWith("$")&&(r=t.aliases?.[r.slice(1)])),!r)throw new Error(`Could not find aliased icon "${n}"`);if("string"!==typeof r)return{component:f,icon:r};const i=Object.keys(t.sets).find((e=>"string"===typeof r&&r.startsWith(`${e}:`))),a=i?r.slice(i.length+1):r,s=t.sets[i??t.defaultSet];return{component:s.component,icon:a}}));return{iconData:n}}},1629:function(e,t,n){"use strict";n.d(t,{O:function(){return g},$2:function(){return y},O4:function(){return x},bU:function(){return b},Vw:function(){return M}});n(1703);var r=n(3396),i=n(4870),a=n(131),o=n(6033),s=n(8717),l={badge:"Badge",close:"Close",dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},datePicker:{itemsSelected:"{0} selected",nextMonthAriaLabel:"Next month",nextYearAriaLabel:"Next year",prevMonthAriaLabel:"Previous month",prevYearAriaLabel:"Previous year"},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading..."};const c="$vuetify.",u=(e,t)=>e.replace(/\{(\d+)\}/g,((e,n)=>String(t[+n]))),d=(e,t,n)=>function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),l=1;l<i;l++)s[l-1]=arguments[l];if(!r.startsWith(c))return u(r,s);const d=r.replace(c,""),h=e.value&&n.value[e.value],f=t.value&&n.value[t.value];let p=(0,a.vO)(h,d,null);return p||((0,o.Kd)(`Translation key "${r}" not found in "${e.value}", trying fallback locale`),p=(0,a.vO)(f,d,null)),p||((0,o.N6)(`Translation key "${r}" not found in fallback`),p=r),"string"!==typeof p&&((0,o.N6)(`Translation key "${r}" has a non-string value`),p=r),u(p,s)};function h(e,t){return(n,r)=>{const i=new Intl.NumberFormat([e.value,t.value],r);return i.format(n)}}function f(e,t,n){const i=(0,s.z)(e,t,e[t]??n.value);return i.value=e[t]??n.value,(0,r.YP)(n,(r=>{null==e[t]&&(i.value=n.value)})),i}function p(e){return t=>{const n=f(t,"locale",e.current),r=f(t,"fallback",e.fallback),i=f(t,"messages",e.messages);return{name:"vuetify",current:n,fallback:r,messages:i,t:d(n,r,i),n:h(n,r),provide:p({current:n,fallback:r,messages:i})}}}function m(e){const t=(0,i.iH)(e?.locale??"en"),n=(0,i.iH)(e?.fallback??"en"),r=(0,i.iH)({en:l,...e?.messages});return{name:"vuetify",current:t,fallback:n,messages:r,t:d(t,n,r),n:h(t,n),provide:p({current:t,fallback:n,messages:r})}}const v={af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1},g=Symbol.for("vuetify:locale");function _(e){return null!=e.name}function y(e){const t=e?.adapter&&_(e?.adapter)?e?.adapter:m(e),n=w(t,e);return{...t,...n}}function b(){const e=(0,r.f3)(g);if(!e)throw new Error("[Vuetify] Could not find injected locale instance");return e}function x(e){const t=(0,r.f3)(g);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");const n=t.provide(e),i=S(n,t.rtl,e),a={...n,...i};return(0,r.JJ)(g,a),a}Symbol.for("vuetify:rtl");function w(e,t){const n=(0,i.iH)(t?.rtl??v),a=(0,r.Fl)((()=>n.value[e.current.value]??!1));return{isRtl:a,rtl:n,rtlClasses:(0,r.Fl)((()=>"v-locale--is-"+(a.value?"rtl":"ltr")))}}function S(e,t,n){const i=(0,r.Fl)((()=>n.rtl??t.value[e.current.value]??!1));return{isRtl:i,rtl:t,rtlClasses:(0,r.Fl)((()=>"v-locale--is-"+(i.value?"rtl":"ltr")))}}function M(){const e=(0,r.f3)(g);if(!e)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:e.isRtl,rtlClasses:e.rtlClasses}}},8717:function(e,t,n){"use strict";n.d(t,{z:function(){return l}});var r=n(4870),i=n(3396),a=n(7514),o=n(131),s=n(4770);function l(e,t,n){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e=>e,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e=>e;const u=(0,a.FN)("useProxiedModel"),d=(0,r.iH)(void 0!==e[t]?e[t]:n),h=(0,o.mA)(t),f=h!==t,p=f?(0,i.Fl)((()=>(e[t],!(!u.vnode.props?.hasOwnProperty(t)&&!u.vnode.props?.hasOwnProperty(h)||!u.vnode.props?.hasOwnProperty(`onUpdate:${t}`)&&!u.vnode.props?.hasOwnProperty(`onUpdate:${h}`))))):(0,i.Fl)((()=>(e[t],!(!u.vnode.props?.hasOwnProperty(t)||!u.vnode.props?.hasOwnProperty(`onUpdate:${t}`)))));(0,s.U)((()=>!p.value),(()=>{(0,i.YP)((()=>e[t]),(e=>{d.value=e}))}));const m=(0,i.Fl)({get(){const n=e[t];return l(p.value?n:d.value)},set(n){const i=c(n),a=(0,r.IU)(p.value?e[t]:d.value);a!==i&&l(a)!==n&&(d.value=i,u?.emit(`update:${t}`,i))}});return Object.defineProperty(m,"externalValue",{get:()=>p.value?e[t]:d.value}),m}},7041:function(e,t,n){"use strict";n.d(t,{bo:function(){return C},jG:function(){return I},x$:function(){return k},ER:function(){return P},Fg:function(){return D}});n(7658),n(1703);var r=n(4870),i=n(3396),a=n(3766),o=n(131),s=n(661),l=n(7930),c=n(7514);
/**
 * WCAG 3.0 APCA perceptual contrast algorithm from https://github.com/Myndex/SAPC-APCA
 * @licence https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document
 * @see https://www.w3.org/WAI/GL/task-forces/silver/wiki/Visual_Contrast_of_Text_Subgroup
 */
const u=2.4,d=.2126729,h=.7151522,f=.072175,p=.55,m=.58,v=.57,g=.62,_=.03,y=1.45,b=5e-4,x=1.25,w=1.25,S=.078,M=12.82051282051282,E=.06,T=.001;function A(e,t){const n=(e.r/255)**u,r=(e.g/255)**u,i=(e.b/255)**u,a=(t.r/255)**u,o=(t.g/255)**u,s=(t.b/255)**u;let l,c=n*d+r*h+i*f,A=a*d+o*h+s*f;if(c<=_&&(c+=(_-c)**y),A<=_&&(A+=(_-A)**y),Math.abs(A-c)<b)return 0;if(A>c){const e=(A**p-c**m)*x;l=e<T?0:e<S?e-e*M*E:e-E}else{const e=(A**g-c**v)*w;l=e>-T?0:e>-S?e-e*M*E:e+E}return 100*l}const C=Symbol.for("vuetify:theme"),k=(0,a.U)({theme:String},"theme"),R={defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#6200EE","primary-darken-1":"#3700B3",secondary:"#03DAC6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-variant":"#BDBDBD","on-surface-variant":"#424242",primary:"#BB86FC","primary-darken-1":"#3700B3",secondary:"#03DAC5","secondary-darken-1":"#03DAC5",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}};function L(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;if(!e)return{...R,isDisabled:!0};const t={};for(const[n,r]of Object.entries(e.themes??{})){const e=r.dark||"dark"===n?R.themes?.dark:R.themes?.light;t[n]=(0,o.Ee)(e,r)}return(0,o.Ee)(R,{...e,themes:t})}function I(e){const t=(0,r.qj)(L(e)),n=(0,r.iH)(t.defaultTheme),a=(0,r.iH)(t.themes),c=(0,i.Fl)((()=>{const e={};for(const[n,r]of Object.entries(a.value)){const i=e[n]={...r,colors:{...r.colors}};if(t.variations)for(const e of t.variations.colors){const n=i.colors[e];if(n)for(const r of["lighten","darken"]){const a="lighten"===r?s.$n:s._j;for(const l of(0,o.MT)(t.variations[r],1))i.colors[`${e}-${r}-${l}`]=(0,s.qX)(a((0,s.lu)(n),l))}}for(const e of Object.keys(i.colors)){if(/^on-[a-z]/.test(e)||i.colors[`on-${e}`])continue;const t=`on-${e}`,n=(0,s.lu)(i.colors[e]),r=Math.abs(A((0,s.lu)(0),n)),a=Math.abs(A((0,s.lu)(16777215),n));i.colors[t]=a>Math.min(r,50)?"#fff":"#000"}}return e})),u=(0,i.Fl)((()=>c.value[n.value])),d=(0,i.Fl)((()=>{const e=[];u.value.dark&&O(e,":root",["color-scheme: dark"]),O(e,":root",N(u.value));for(const[i,a]of Object.entries(c.value))O(e,`.v-theme--${i}`,["color-scheme: "+(a.dark?"dark":"normal"),...N(a)]);const t=[],n=[],r=new Set(Object.values(c.value).flatMap((e=>Object.keys(e.colors))));for(const i of r)/^on-[a-z]/.test(i)?O(n,`.${i}`,[`color: rgb(var(--v-theme-${i})) !important`]):(O(t,`.bg-${i}`,[`--v-theme-overlay-multiplier: var(--v-theme-${i}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${i})) !important`,`color: rgb(var(--v-theme-on-${i})) !important`]),O(n,`.text-${i}`,[`color: rgb(var(--v-theme-${i})) !important`]),O(n,`.border-${i}`,[`--v-border-color: var(--v-theme-${i})`]));return e.push(...t,...n),e.map(((e,t)=>0===t?e:`    ${e}`)).join("")}));function h(){return{style:[{children:d.value,id:"vuetify-theme-stylesheet",nonce:t.cspNonce||!1}]}}function f(e){const n=e._context.provides.usehead;if(n)if(n.push){const r=n.push(h);(0,i.YP)(d,(()=>{r.patch(h)}))}else l.BR?(n.addHeadObjs((0,i.Fl)(h)),(0,i.m0)((()=>n.updateDOM()))):n.addHeadObjs(h());else{let a=l.BR?document.getElementById("vuetify-theme-stylesheet"):null;function o(){if(!t.isDisabled){if("undefined"!==typeof document&&!a){const e=document.createElement("style");e.type="text/css",e.id="vuetify-theme-stylesheet",t.cspNonce&&e.setAttribute("nonce",t.cspNonce),a=e,document.head.appendChild(a)}a&&(a.innerHTML=d.value)}}(0,i.YP)(d,o,{immediate:!0})}}const p=(0,i.Fl)((()=>t.isDisabled?void 0:`v-theme--${n.value}`));return{install:f,isDisabled:t.isDisabled,name:n,themes:a,current:u,computedThemes:c,themeClasses:p,styles:d,global:{name:n,current:u}}}function P(e){(0,c.FN)("provideTheme");const t=(0,i.f3)(C,null);if(!t)throw new Error("Could not find Vuetify theme injection");const n=(0,i.Fl)((()=>e.theme??t?.name.value)),r=(0,i.Fl)((()=>t.isDisabled?void 0:`v-theme--${n.value}`)),a={...t,name:n,themeClasses:r};return(0,i.JJ)(C,a),a}function D(){(0,c.FN)("useTheme");const e=(0,i.f3)(C,null);if(!e)throw new Error("Could not find Vuetify theme injection");return e}function O(e,t,n){e.push(`${t} {\n`,...n.map((e=>`  ${e};\n`)),"}\n")}function N(e){const t=e.dark?2:1,n=e.dark?1:2,r=[];for(const[i,a]of Object.entries(e.colors)){const e=(0,s.lu)(a);r.push(`--v-theme-${i}: ${e.r},${e.g},${e.b}`),i.startsWith("on-")||r.push(`--v-theme-${i}-overlay-multiplier: ${(0,s.zT)(a)>.18?t:n}`)}for(const[i,a]of Object.entries(e.variables)){const e="string"===typeof a&&a.startsWith("#")?(0,s.lu)(a):void 0,t=e?`${e.r}, ${e.g}, ${e.b}`:void 0;r.push(`--v-${i}: ${t??a}`)}return r}},4770:function(e,t,n){"use strict";n.d(t,{U:function(){return a}});var r=n(4870),i=n(3396);function a(e,t){let n;function a(){n=(0,r.B)(),n.run((()=>t.length?t((()=>{n?.stop(),a()})):t()))}(0,i.YP)(e,(e=>{e&&!n?a():e||(n?.stop(),n=void 0)}),{immediate:!0}),(0,r.EB)((()=>{n?.stop()}))}},8793:function(e,t,n){"use strict";n.d(t,{L:function(){return c}});n(7658);function r(e){if("function"!==typeof e.getRootNode){while(e.parentNode)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}function i(){return!0}function a(e,t,n){if(!e||!1===o(e,n))return!1;const i=r(t);if("undefined"!==typeof ShadowRoot&&i instanceof ShadowRoot&&i.host===e.target)return!1;const a=("object"===typeof n.value&&n.value.include||(()=>[]))();return a.push(t),!a.some((t=>t?.contains(e.target)))}function o(e,t){const n="object"===typeof t.value&&t.value.closeConditional||i;return n(e)}function s(e,t,n){const r="function"===typeof n.value?n.value:n.value.handler;t._clickOutside.lastMousedownWasOutside&&a(e,t,n)&&setTimeout((()=>{o(e,n)&&r&&r(e)}),0)}function l(e,t){const n=r(e);t(document),"undefined"!==typeof ShadowRoot&&n instanceof ShadowRoot&&t(n)}const c={mounted(e,t){const n=n=>s(n,e,t),r=n=>{e._clickOutside.lastMousedownWasOutside=a(n,e,t)};l(e,(e=>{e.addEventListener("click",n,!0),e.addEventListener("mousedown",r,!0)})),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!0}),e._clickOutside[t.instance.$.uid]={onClick:n,onMousedown:r}},unmounted(e,t){e._clickOutside&&(l(e,(n=>{if(!n||!e._clickOutside?.[t.instance.$.uid])return;const{onClick:r,onMousedown:i}=e._clickOutside[t.instance.$.uid];n.removeEventListener("click",r,!0),n.removeEventListener("mousedown",i,!0)})),delete e._clickOutside[t.instance.$.uid])}}},8600:function(e,t,n){"use strict";n.r(t),n.d(t,{ClickOutside:function(){return r.L},Intersect:function(){return i.N},Mutate:function(){return s},Resize:function(){return u},Ripple:function(){return d.H},Scroll:function(){return m},Touch:function(){return v.X}});var r=n(8793),i=n(7052);function a(e,t){const n=t.modifiers||{},r=t.value,{once:i,immediate:a,...s}=n,l=!Object.keys(s).length,{handler:c,options:u}="object"===typeof r?r:{handler:r,options:{attributes:s?.attr??l,characterData:s?.char??l,childList:s?.child??l,subtree:s?.sub??l}},d=new MutationObserver((function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;c?.(n,r),i&&o(e,t)}));a&&c?.([],d),e._mutate=Object(e._mutate),e._mutate[t.instance.$.uid]={observer:d},d.observe(e,u)}function o(e,t){e._mutate?.[t.instance.$.uid]&&(e._mutate[t.instance.$.uid].observer.disconnect(),delete e._mutate[t.instance.$.uid])}const s={mounted:a,unmounted:o};function l(e,t){const n=t.value,r={passive:!t.modifiers?.active};window.addEventListener("resize",n,r),e._onResize=Object(e._onResize),e._onResize[t.instance.$.uid]={handler:n,options:r},t.modifiers?.quiet||n()}function c(e,t){if(!e._onResize?.[t.instance.$.uid])return;const{handler:n,options:r}=e._onResize[t.instance.$.uid];window.removeEventListener("resize",n,r),delete e._onResize[t.instance.$.uid]}const u={mounted:l,unmounted:c};var d=n(3824);function h(e,t){const{self:n=!1}=t.modifiers??{},r=t.value,i="object"===typeof r&&r.options||{passive:!0},a="function"===typeof r||"handleEvent"in r?r:r.handler,o=n?e:t.arg?document.querySelector(t.arg):window;o&&(o.addEventListener("scroll",a,i),e._onScroll=Object(e._onScroll),e._onScroll[t.instance.$.uid]={handler:a,options:i,target:n?void 0:o})}function f(e,t){if(!e._onScroll?.[t.instance.$.uid])return;const{handler:n,options:r,target:i=e}=e._onScroll[t.instance.$.uid];i.removeEventListener("scroll",n,r),delete e._onScroll[t.instance.$.uid]}function p(e,t){t.value!==t.oldValue&&(f(e,t),h(e,t))}const m={mounted:h,unmounted:f,updated:p};var v=n(2320)},7052:function(e,t,n){"use strict";n.d(t,{N:function(){return o}});var r=n(7930);function i(e,t){if(!r.cu)return;const n=t.modifiers||{},i=t.value,{handler:o,options:s}="object"===typeof i?i:{handler:i,options:{}},l=new IntersectionObserver((function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1?arguments[1]:void 0;const s=e._observe?.[t.instance.$.uid];if(!s)return;const l=r.some((e=>e.isIntersecting));!o||n.quiet&&!s.init||n.once&&!l&&!s.init||o(l,r,i),l&&n.once?a(e,t):s.init=!0}),s);e._observe=Object(e._observe),e._observe[t.instance.$.uid]={init:!1,observer:l},l.observe(e)}function a(e,t){const n=e._observe?.[t.instance.$.uid];n&&(n.observer.unobserve(e),delete e._observe[t.instance.$.uid])}const o={mounted:i,unmounted:a};t["Z"]=o},3824:function(e,t,n){"use strict";n.d(t,{H:function(){return E},Z:function(){return T}});var r=n(131);const i=Symbol("rippleStop"),a=80;function o(e,t){e.style.transform=t,e.style.webkitTransform=t}function s(e){return"TouchEvent"===e.constructor.name}function l(e){return"KeyboardEvent"===e.constructor.name}const c=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=0,i=0;if(!l(e)){const n=t.getBoundingClientRect(),a=s(e)?e.touches[e.touches.length-1]:e;r=a.clientX-n.left,i=a.clientY-n.top}let a=0,o=.3;t._ripple?.circle?(o=.15,a=t.clientWidth/2,a=n.center?a:a+Math.sqrt((r-a)**2+(i-a)**2)/4):a=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const c=(t.clientWidth-2*a)/2+"px",u=(t.clientHeight-2*a)/2+"px",d=n.center?c:r-a+"px",h=n.center?u:i-a+"px";return{radius:a,scale:o,x:d,y:h,centerX:c,centerY:u}},u={show(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t?._ripple?.enabled)return;const r=document.createElement("span"),i=document.createElement("span");r.appendChild(i),r.className="v-ripple__container",n.class&&(r.className+=` ${n.class}`);const{radius:a,scale:s,x:l,y:u,centerX:d,centerY:h}=c(e,t,n),f=2*a+"px";i.className="v-ripple__animation",i.style.width=f,i.style.height=f,t.appendChild(r);const p=window.getComputedStyle(t);p&&"static"===p.position&&(t.style.position="relative",t.dataset.previousPosition="static"),i.classList.add("v-ripple__animation--enter"),i.classList.add("v-ripple__animation--visible"),o(i,`translate(${l}, ${u}) scale3d(${s},${s},${s})`),i.dataset.activated=String(performance.now()),setTimeout((()=>{i.classList.remove("v-ripple__animation--enter"),i.classList.add("v-ripple__animation--in"),o(i,`translate(${d}, ${h}) scale3d(1,1,1)`)}),0)},hide(e){if(!e?._ripple?.enabled)return;const t=e.getElementsByClassName("v-ripple__animation");if(0===t.length)return;const n=t[t.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const r=performance.now()-Number(n.dataset.activated),i=Math.max(250-r,0);setTimeout((()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout((()=>{const t=e.getElementsByClassName("v-ripple__animation");1===t.length&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),n.parentNode?.parentNode===e&&e.removeChild(n.parentNode)}),300)}),i)}};function d(e){return"undefined"===typeof e||!!e}function h(e){const t={},n=e.currentTarget;if(n?._ripple&&!n._ripple.touched&&!e[i]){if(e[i]=!0,s(e))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(t.center=n._ripple.centered||l(e),n._ripple.class&&(t.class=n._ripple.class),s(e)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{u.show(e,n,t)},n._ripple.showTimer=window.setTimeout((()=>{n?._ripple?.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)}),a)}else u.show(e,n,t)}}function f(e){e[i]=!0}function p(e){const t=e.currentTarget;if(t?._ripple){if(window.clearTimeout(t._ripple.showTimer),"touchend"===e.type&&t._ripple.showTimerCommit)return t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,void(t._ripple.showTimer=window.setTimeout((()=>{p(e)})));window.setTimeout((()=>{t._ripple&&(t._ripple.touched=!1)})),u.hide(t)}}function m(e){const t=e.currentTarget;t?._ripple&&(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}let v=!1;function g(e){v||e.keyCode!==r.Do.enter&&e.keyCode!==r.Do.space||(v=!0,h(e))}function _(e){v=!1,p(e)}function y(e){v&&(v=!1,p(e))}function b(e,t,n){const{value:i,modifiers:a}=t,o=d(i);if(o||u.hide(e),e._ripple=e._ripple??{},e._ripple.enabled=o,e._ripple.centered=a.center,e._ripple.circle=a.circle,(0,r.Kn)(i)&&i.class&&(e._ripple.class=i.class),o&&!n){if(a.stop)return e.addEventListener("touchstart",f,{passive:!0}),void e.addEventListener("mousedown",f);e.addEventListener("touchstart",h,{passive:!0}),e.addEventListener("touchend",p,{passive:!0}),e.addEventListener("touchmove",m,{passive:!0}),e.addEventListener("touchcancel",p),e.addEventListener("mousedown",h),e.addEventListener("mouseup",p),e.addEventListener("mouseleave",p),e.addEventListener("keydown",g),e.addEventListener("keyup",_),e.addEventListener("blur",y),e.addEventListener("dragstart",p,{passive:!0})}else!o&&n&&x(e)}function x(e){e.removeEventListener("mousedown",h),e.removeEventListener("touchstart",h),e.removeEventListener("touchend",p),e.removeEventListener("touchmove",m),e.removeEventListener("touchcancel",p),e.removeEventListener("mouseup",p),e.removeEventListener("mouseleave",p),e.removeEventListener("keydown",g),e.removeEventListener("keyup",_),e.removeEventListener("dragstart",p),e.removeEventListener("blur",y)}function w(e,t){b(e,t,!1)}function S(e){delete e._ripple,x(e)}function M(e,t){if(t.value===t.oldValue)return;const n=d(t.oldValue);b(e,t,n)}const E={mounted:w,unmounted:S,updated:M};var T=E},2320:function(e,t,n){"use strict";n.d(t,{X:function(){return d}});var r=n(131);const i=e=>{const{touchstartX:t,touchendX:n,touchstartY:r,touchendY:i}=e,a=.5,o=16;e.offsetX=n-t,e.offsetY=i-r,Math.abs(e.offsetY)<a*Math.abs(e.offsetX)&&(e.left&&n<t-o&&e.left(e),e.right&&n>t+o&&e.right(e)),Math.abs(e.offsetX)<a*Math.abs(e.offsetY)&&(e.up&&i<r-o&&e.up(e),e.down&&i>r+o&&e.down(e))};function a(e,t){const n=e.changedTouches[0];t.touchstartX=n.clientX,t.touchstartY=n.clientY,t.start?.({originalEvent:e,...t})}function o(e,t){const n=e.changedTouches[0];t.touchendX=n.clientX,t.touchendY=n.clientY,t.end?.({originalEvent:e,...t}),i(t)}function s(e,t){const n=e.changedTouches[0];t.touchmoveX=n.clientX,t.touchmoveY=n.clientY,t.move?.({originalEvent:e,...t})}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:e=>a(e,t),touchend:e=>o(e,t),touchmove:e=>s(e,t)}}function c(e,t){const n=t.value,i=n?.parent?e.parentElement:e,a=n?.options??{passive:!0},o=t.instance?.$.uid;if(!i||!o)return;const s=l(t.value);i._touchHandlers=i._touchHandlers??Object.create(null),i._touchHandlers[o]=s,(0,r.XP)(s).forEach((e=>{i.addEventListener(e,s[e],a)}))}function u(e,t){const n=t.value?.parent?e.parentElement:e,i=t.instance?.$.uid;if(!n?._touchHandlers||!i)return;const a=n._touchHandlers[i];(0,r.XP)(a).forEach((e=>{n.removeEventListener(e,a[e])})),delete n._touchHandlers[i]}const d={mounted:c,unmounted:u};t["Z"]=d},8957:function(e,t,n){"use strict";n.d(t,{Rd:function(){return p}});var r=n(8434),i=n(8157),a=n(4960),o=n(1629),s=n(7041),l=n(131),c=n(320),u=n(7930),d=n(7514),h=n(3396),f=n(4870);function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{blueprint:t,...n}=e,p=(0,l.Ee)(t,n),{aliases:m={},components:g={},directives:_={}}=p,y=(0,r.yB)(p.defaults),b=(0,i.fT)(p.display,p.ssr),x=(0,s.jG)(p.theme),w=(0,a._i)(p.icons),S=(0,o.$2)(p.locale),M=e=>{for(const t in _)e.directive(t,_[t]);for(const t in g)e.component(t,g[t]);for(const t in m)e.component(t,(0,c.aZ)({...m[t],name:t,aliasName:m[t].name}));if(x.install(e),e.provide(r.tI,y),e.provide(i.x6,b),e.provide(s.bo,x),e.provide(a.YK,w),e.provide(o.O,S),u.BR&&p.ssr)if(e.$nuxt)e.$nuxt.hook("app:suspense:resolve",(()=>{b.update()}));else{const{mount:t}=e;e.mount=function(){const n=t(...arguments);return(0,h.Y3)((()=>b.update())),e.mount=t,n}}d.sq.reset(),e.mixin({computed:{$vuetify(){return(0,f.qj)({defaults:v.call(this,r.tI),display:v.call(this,i.x6),theme:v.call(this,s.bo),icons:v.call(this,a.YK),locale:v.call(this,o.O)})}}})};return{install:M,defaults:y,display:b,theme:x,icons:w,locale:S}}const m="3.1.15";function v(e){const t=this.$,n=t.parent?.provides??t.vnode.appContext?.provides;if(n&&e in n)return n[e]}p.version=m},661:function(e,t,n){"use strict";n.d(t,{tT:function(){return x},wQ:function(){return S},Gl:function(){return b},PJ:function(){return C},Bi:function(){return _},Ty:function(){return A},Ls:function(){return y},qX:function(){return E},_j:function(){return L},mj:function(){return P},zT:function(){return I},NA:function(){return v},$n:function(){return R},lu:function(){return g},KQ:function(){return k}});n(1703);var r=n(6033),i=n(131);const a=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],o=e=>e<=.0031308?12.92*e:1.055*e**(1/2.4)-.055,s=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],l=e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4;function c(e){const t=Array(3),n=o,r=a;for(let a=0;a<3;++a)t[a]=Math.round(255*(0,i.uZ)(n(r[a][0]*e[0]+r[a][1]*e[1]+r[a][2]*e[2])));return{r:t[0],g:t[1],b:t[2]}}function u(e){let{r:t,g:n,b:r}=e;const i=[0,0,0],a=l,o=s;t=a(t/255),n=a(n/255),r=a(r/255);for(let s=0;s<3;++s)i[s]=o[s][0]*t+o[s][1]*n+o[s][2]*r;return i}const d=.20689655172413793,h=e=>e>d**3?Math.cbrt(e):e/(3*d**2)+4/29,f=e=>e>d?e**3:3*d**2*(e-4/29);function p(e){const t=h,n=t(e[1]);return[116*n-16,500*(t(e[0]/.95047)-n),200*(n-t(e[2]/1.08883))]}function m(e){const t=f,n=(e[0]+16)/116;return[.95047*t(n+e[1]/500),t(n),1.08883*t(n-e[2]/200)]}function v(e){return!!e&&/^(#|var\(--|(rgb|hsl)a?\()/.test(e)}function g(e){if("number"===typeof e)return(isNaN(e)||e<0||e>16777215)&&(0,r.Kd)(`'${e}' is not a valid hex color`),{r:(16711680&e)>>16,g:(65280&e)>>8,b:255&e};if("string"===typeof e){let t=e.startsWith("#")?e.slice(1):e;[3,4].includes(t.length)?t=t.split("").map((e=>e+e)).join(""):[6,8].includes(t.length)||(0,r.Kd)(`'${e}' is not a valid hex(a) color`);const n=parseInt(t,16);return(isNaN(n)||n<0||n>4294967295)&&(0,r.Kd)(`'${e}' is not a valid hex(a) color`),T(t)}throw new TypeError(`Colors can only be numbers or strings, recieved ${null==e?e:e.constructor.name} instead`)}function _(e){const{h:t,s:n,v:r,a:i}=e,a=e=>{const i=(e+t/60)%6;return r-r*n*Math.max(Math.min(i,4-i,1),0)},o=[a(5),a(3),a(1)].map((e=>Math.round(255*e)));return{r:o[0],g:o[1],b:o[2],a:i}}function y(e){if(!e)return{h:0,s:1,v:1,a:1};const t=e.r/255,n=e.g/255,r=e.b/255,i=Math.max(t,n,r),a=Math.min(t,n,r);let o=0;i!==a&&(i===t?o=60*(0+(n-r)/(i-a)):i===n?o=60*(2+(r-t)/(i-a)):i===r&&(o=60*(4+(t-n)/(i-a)))),o<0&&(o+=360);const s=0===i?0:(i-a)/i,l=[o,s,i];return{h:l[0],s:l[1],v:l[2],a:e.a}}function b(e){const{h:t,s:n,v:r,a:i}=e,a=r-r*n/2,o=1===a||0===a?0:(r-a)/Math.min(a,1-a);return{h:t,s:o,l:a,a:i}}function x(e){const{h:t,s:n,l:r,a:i}=e,a=r+n*Math.min(r,1-r),o=0===a?0:2-2*r/a;return{h:t,s:o,v:a,a:i}}function w(e){let{r:t,g:n,b:r,a:i}=e;return void 0===i?`rgb(${t}, ${n}, ${r})`:`rgba(${t}, ${n}, ${r}, ${i})`}function S(e){return w(_(e))}function M(e){const t=Math.round(e).toString(16);return("00".substr(0,2-t.length)+t).toUpperCase()}function E(e){let{r:t,g:n,b:r,a:i}=e;return`#${[M(t),M(n),M(r),void 0!==i?M(Math.round(255*i)):""].join("")}`}function T(e){e=k(e);let[t,n,r,a]=(0,i.yo)(e,2).map((e=>parseInt(e,16)));return a=void 0===a?a:a/255,{r:t,g:n,b:r,a:a}}function A(e){const t=T(e);return y(t)}function C(e){return E(_(e))}function k(e){return e.startsWith("#")&&(e=e.slice(1)),e=e.replace(/([^0-9a-f])/gi,"F"),3!==e.length&&4!==e.length||(e=e.split("").map((e=>e+e)).join("")),6!==e.length&&(e=(0,i.qy)((0,i.qy)(e,6),8,"F")),e}function R(e,t){const n=p(u(e));return n[0]=n[0]+10*t,c(m(n))}function L(e,t){const n=p(u(e));return n[0]=n[0]-10*t,c(m(n))}function I(e){const t=g(e);return u(t)[1]}function P(e,t){const n=I(e),r=I(t),i=Math.max(n,r),a=Math.min(n,r);return(i+.05)/(a+.05)}},6033:function(e,t,n){"use strict";n.d(t,{Kd:function(){return i},N6:function(){return a}});n(7658);function r(e,t,n){if(n&&(t={__isVue:!0,$parent:n,$options:t}),t){if(t.$_alreadyWarned=t.$_alreadyWarned||[],t.$_alreadyWarned.includes(e))return;t.$_alreadyWarned.push(e)}return`[Vuetify] ${e}`+(t?c(t):"")}function i(e,t,n){const i=r(e,t,n);null!=i&&console.warn(i)}function a(e,t,n){const i=r(e,t,n);null!=i&&console.error(i)}const o=/(?:^|[-_])(\w)/g,s=e=>e.replace(o,(e=>e.toUpperCase())).replace(/[-_]/g,"");function l(e,t){if(e.$root===e)return"<Root>";const n="function"===typeof e&&null!=e.cid?e.options:e.__isVue?e.$options||e.constructor.options:e||{};let r=n.name||n._componentTag;const i=n.__file;if(!r&&i){const e=i.match(/([^/\\]+)\.vue$/);r=e?.[1]}return(r?`<${s(r)}>`:"<Anonymous>")+(i&&!1!==t?` at ${i}`:"")}function c(e){if(e.__isVue&&e.$parent){const t=[];let n=0;while(e){if(t.length>0){const r=t[t.length-1];if(r.constructor===e.constructor){n++,e=e.$parent;continue}n>0&&(t[t.length-1]=[r,n],n=0)}t.push(e),e=e.$parent}return"\n\nfound in\n\n"+t.map(((e,t)=>`${0===t?"---\x3e ":" ".repeat(5+2*t)}${Array.isArray(e)?`${l(e[0])}... (${e[1]} recursive calls)`:l(e)}`)).join("\n")}return`\n\n(found in ${l(e)})`}},320:function(e,t,n){"use strict";n.d(t,{aZ:function(){return f},ev:function(){return p}});var r=n(3396),i=n(4870),a=n(6033),o=n(131),s=n(7514);function l(e){const{provides:t}=(0,s.FN)("injectSelf");if(t&&e in t)return t[e]}var c=n(3766),u=n(8434),d=n(4770);function h(e,t){return"undefined"!==typeof e.props?.[t]||"undefined"!==typeof e.props?.[(0,o.mA)(t)]}function f(e){if(e._setup=e._setup??e.setup,!e.name)return(0,a.Kd)("The component is missing an explicit name, unable to generate default prop value"),e;if(e._setup){e.props=(0,c.U)(e.props??{},(0,o.mA)(e.name))();const t=Object.keys(e.props);e.filterProps=function(e){return(0,o.ei)(e,t)},e.props._as=String,e.setup=function(t,n){const a=(0,u.qy)();if(!a.value)return e._setup(t,n);const s=(0,r.FN)(),c=(0,r.Fl)((()=>a.value[t._as??e.name])),f=new Proxy(t,{get(e,t){const n=Reflect.get(e,t);return"string"!==typeof t||h(s.vnode,t)?n:c.value?.[t]??a.value.global?.[t]??n}}),p=(0,i.XI)();(0,r.m0)((()=>{if(c.value){const e=Object.entries(c.value).filter((e=>{let[t]=e;return t.startsWith(t[0].toUpperCase())}));e.length&&(p.value=Object.fromEntries(e))}}));const m=e._setup(f,n);return(0,d.U)(p,(()=>{(0,u.AF)((0,o.Ee)(l(u.tI)?.value??{},p.value))})),m}}return e}function p(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t=>(e?f:r.aZ)(t)}},7514:function(e,t,n){"use strict";n.d(t,{BL:function(){return o},FN:function(){return a},sq:function(){return c}});n(1703);var r=n(3396),i=n(131);function a(e,t){const n=(0,r.FN)();if(!n)throw new Error(`[Vuetify] ${e} ${t||"must be called from inside a setup function"}`);return n}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"composables";const t=a(e).type;return(0,i.mA)(t?.aliasName||t?.name)}let s=0,l=new WeakMap;function c(){const e=a("getUid");if(l.has(e))return l.get(e);{const t=s++;return l.set(e,t),t}}c.reset=()=>{s=0,l=new WeakMap}},7930:function(e,t,n){"use strict";n.d(t,{BR:function(){return r},Z1:function(){return o},cu:function(){return i},sR:function(){return a}});const r="undefined"!==typeof window,i=r&&"IntersectionObserver"in window,a=r&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),o=r&&"undefined"!==typeof CSS&&"undefined"!==typeof CSS.supports&&CSS.supports("selector(:focus-visible)")},131:function(e,t,n){"use strict";n.d(t,{An:function(){return T},B0:function(){return G},CE:function(){return E},DC:function(){return V},Do:function(){return x},Ee:function(){return P},F7:function(){return W},FT:function(){return A},Kn:function(){return y},MT:function(){return g},PU:function(){return B},S3:function(){return U},XE:function(){return I},XP:function(){return S},as:function(){return j},bY:function(){return O},dr:function(){return Y},ei:function(){return M},ff:function(){return w},kb:function(){return _},mA:function(){return D},pC:function(){return k},q9:function(){return z},qF:function(){return v},qy:function(){return R},rU:function(){return b},uZ:function(){return C},vO:function(){return m},vZ:function(){return p},yo:function(){return L}});n(1703),n(7658);var r=n(4870),i=n(3396),a=n(7139);function o(e,t,n){s(e,t),t.set(e,n)}function s(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function l(e,t,n){var r=d(e,t,"set");return c(e,r,n),n}function c(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function u(e,t){var n=d(e,t,"get");return h(e,n)}function d(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function h(e,t){return t.get?t.get.call(e):t.value}function f(e,t,n){const r=t.length-1;if(r<0)return void 0===e?n:e;for(let i=0;i<r;i++){if(null==e)return n;e=e[t[i]]}return null==e||void 0===e[t[r]]?n:e[t[r]]}function p(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date&&e.getTime()!==t.getTime())return!1;if(e!==Object(e)||t!==Object(t))return!1;const n=Object.keys(e);return n.length===Object.keys(t).length&&n.every((n=>p(e[n],t[n])))}function m(e,t,n){return null!=e&&t&&"string"===typeof t?void 0!==e[t]?e[t]:(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),f(e,t.split("."),n)):n}function v(e,t,n){if(null==t)return void 0===e?n:e;if(e!==Object(e)){if("function"!==typeof t)return n;const r=t(e,n);return"undefined"===typeof r?n:r}if("string"===typeof t)return m(e,t,n);if(Array.isArray(t))return f(e,t,n);if("function"!==typeof t)return n;const r=t(e,n);return"undefined"===typeof r?n:r}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Array.from({length:e},((e,n)=>t+n))}function _(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"px";return null==e||""===e?void 0:isNaN(+e)?String(e):isFinite(+e)?`${Number(e)}${t}`:void 0}function y(e){return null!==e&&"object"===typeof e&&!Array.isArray(e)}function b(e){return e?.$el}const x=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),w=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function S(e){return Object.keys(e)}function M(e,t){const n=Object.create(null),r=Object.create(null);for(const i in e)t.some((e=>e instanceof RegExp?e.test(i):e===i))?n[i]=e[i]:r[i]=e[i];return[n,r]}function E(e,t){const n={...e};return t.forEach((e=>delete n[e])),n}function T(e){return M(e,["class","style","id",/^data-/])}function A(e){return null==e?[]:Array.isArray(e)?e:[e]}function C(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.max(t,Math.min(n,e))}function k(e){const t=e.toString().trim();return t.includes(".")?t.length-t.indexOf(".")-1:0}function R(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";return e+n.repeat(Math.max(0,t-e.length))}function L(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=[];let r=0;while(r<e.length)n.push(e.substr(r,t)),r+=t;return n}function I(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(e<t)return`${e} B`;const n=1024===t?["Ki","Mi","Gi"]:["k","M","G"];let r=-1;while(Math.abs(e)>=t&&r<n.length-1)e/=t,++r;return`${e.toFixed(1)} ${n[r]}B`}function P(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const r={};for(const i in e)r[i]=e[i];for(const i in t){const a=e[i],o=t[i];y(a)&&y(o)?r[i]=P(a,o,n):Array.isArray(a)&&Array.isArray(o)&&n?r[i]=n(a,o):r[i]=o}return r}function D(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(D.cache.has(e))return D.cache.get(e);const t=e.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return D.cache.set(e,t),t}function O(e,t){if(!t||"object"!==typeof t)return[];if(Array.isArray(t))return t.map((t=>O(e,t))).flat(1);if(Array.isArray(t.children))return t.children.map((t=>O(e,t))).flat(1);if(t.component){if(Object.getOwnPropertySymbols(t.component.provides).includes(e))return[t.component];if(t.component.subTree)return O(e,t.component.subTree).flat(1)}return[]}D.cache=new Map;var N=new WeakMap,F=new WeakMap;class B{constructor(e){o(this,N,{writable:!0,value:[]}),o(this,F,{writable:!0,value:0}),this.size=e}push(e){u(this,N)[u(this,F)]=e,l(this,F,(u(this,F)+1)%this.size)}values(){return u(this,N).slice(u(this,F)).concat(u(this,N).slice(0,u(this,F)))}}function V(e){return"touches"in e?{clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}:{clientX:e.clientX,clientY:e.clientY}}function U(e){const t=(0,r.qj)({}),n=(0,i.Fl)(e);return(0,i.m0)((()=>{for(const e in n.value)t[e]=n.value[e]}),{flush:"sync"}),(0,r.BK)(t)}function z(e,t){return e.includes(t)}const H=/^on[^a-z]/,W=e=>H.test(e),j=()=>[Function,Array];function G(e,t){return t="on"+(0,a.kC)(t),!!(e[t]||e[`${t}Once`]||e[`${t}Capture`]||e[`${t}OnceCapture`]||e[`${t}CaptureOnce`])}function Y(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(Array.isArray(e))for(const i of e)i(...n);else"function"===typeof e&&e(...n)}},3766:function(e,t,n){"use strict";function r(e,t){return n=>Object.keys(e).reduce(((r,i)=>{const a="object"===typeof e[i]&&null!=e[i]&&!Array.isArray(e[i]),o=a?e[i]:{type:e[i]};return r[i]=n&&i in n?{...o,default:n[i]}:o,t&&!r[i].source&&(r[i].source=t),r}),{})}n.d(t,{U:function(){return r}})}}]);
//# sourceMappingURL=chunk-vendors.4c961dc4.js.map